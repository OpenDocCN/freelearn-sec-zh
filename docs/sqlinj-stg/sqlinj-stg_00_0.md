# 序言

互联网无处不在，它对我们的社会和经济生活至关重要，事实如此。

我们的通信能力、我们每天饮用的水、为我们夜晚提供光亮并驱动改善我们生活的物品（如洗衣机）的能源、交通运输和金融世界，都完全依赖于互联互通的系统。这些系统在大多数情况下使用软件来管理存储在数据库中的数据，而这些软件通常不仅能通过内部网络访问，还能通过外部网络访问。这就带来了最为严重的安全问题。

网络上每 39 秒就会发生一次攻击，每天有 30,000 个新网站被黑客入侵，黑客每秒盗取 75 条数据库记录。网络攻击者有多种途径可以侵入 Web 应用程序，但 SQL 注入仍然是他们最常用的选择。Akamai 的《互联网状况报告》显示，**SQL 注入**现在占所有 Web 应用攻击的近三分之二（65.1%）。

我们希望通过本书，开发人员能够构建更安全的系统，安全测试人员能够在开发早期发现可能导致 SQL 注入的漏洞。

# 本书适合人群

本书为两类读者设计。它主要面向有基本编程经验的任何人（无论是移动端、Web 端还是后端领域），他们希望通过安全能力为自己的工作增值，以构建更具弹性的软件。安全从业者是本书的第二类目标读者。通过本书的内容，他们将能够更好地理解一些被黑客用来攻击全球系统的最关键漏洞。

本书采用循序渐进的方法；任何人都可以学习到有效的技术，以构建高安全性的软件或更好的应用安全测试，即使是在处理新的主题时，比如移动设备和物联网（IoT）。

# 本书内容

*第一章*，*SQL 注入的结构化查询语言*，作为该主题的理论介绍，简要描述了 SQL 是什么、它的用途以及它的可能弱点，这些弱点导致了 SQL 注入。这个理论概述对于理解 SQL 注入背后的概念至关重要，比如数据库管理系统、数据库模型和 SQL。

*第二章*，*操控 SQL——利用 SQL 注入*，继续以理论的方式探讨该主题，更多地接触到 SQL 注入攻击的实际操作。此章节包括许多不同目的的输入字符串示例，这些字符串可能触发 SQL 注入攻击。

*第三章*，*环境设置*，涵盖了本书核心实践部分将使用的测试环境的设置，并同时定义了其背后的主要方法。

*第四章*，*攻击 Web、移动和物联网应用*，主要涉及针对传统 Web 应用的 SQL 注入攻击，这是最常见的情境，使用手动和自动化技术，依赖我们在前一章中讨论的工具集。此外，我们还将看到，移动应用和物联网设备同样可能容易受到 SQL 注入攻击，并展示实际案例。

*第五章*，*通过防御性解决方案防止 SQL 注入*，重点介绍了防御方面：既然我们知道了这种令人印象深刻且具有破坏性的漏洞类型——以及它在原则上是如何简单地被利用的——我们该如何阻止它？

*第六章*，*将一切整合起来*，通过总结和分析我们所学到的内容，对本书的学习内容进行回顾，从批判的角度审视一切，并考虑不仅是 SQL 注入的广泛影响，还包括在一个依赖信息技术和数据的世界中，安全漏洞的更大影响。

# 为了从本书中获得最大收益

为了正确跟随书中的内容，你只需要一台 PC；操作系统的安装并不重要。进一步的要求将在书中逐步详细解释。然而，任何关于 Java、Android 开发和 SQL 语法的知识都将非常有用。

必要软件的安装将在书中根据需要讨论，涉及以下内容：

+   一个 Android 开发环境（Android Studio IDE，Android SDK—API Level 30 和 Android 虚拟设备）

+   Apache Tomcat 9.0

+   MySQL 8.0（开发套件）

+   Java 开发工具包（14.0.1）

+   Eclipse（企业 Java 开发者 IDE）

如果你使用的是本书的数字版本，我们建议你自己输入代码，或者通过 GitHub 仓库访问代码（链接将在下一部分提供）。这样做可以帮助你避免与代码复制/粘贴相关的潜在错误。

# 下载示例代码文件

你可以从 [www.packt.com](http://packt.com) 上的账户下载本书的示例代码文件。如果你是从其他地方购买的此书，你可以访问 [www.packtpub.com/support](https://www.packtpub.com/support) 注册，直接通过电子邮件获取文件。

你可以按照以下步骤下载代码文件：

1.  登录或注册 [www.packt.com](http://packt.com)。

1.  选择**支持**标签。

1.  点击**代码下载**。

1.  在**搜索**框中输入书名，并按照屏幕上的指示操作。

下载文件后，请确保使用以下最新版软件解压或提取文件夹：

+   WinRAR/7-Zip for Windows

+   Zipeg/iZip/UnRarX for Mac

+   7-Zip/PeaZip for Linux

本书的代码包也托管在 GitHub 上，地址为 [`github.com/PacktPublishing/SQL-Injection-Strategies`](https://github.com/PacktPublishing/SQL-Injection-Strategies)。如果代码有更新，GitHub 仓库中的代码将会随之更新。

我们的丰富书籍和视频目录中还有其他代码包可供下载，网址是 https://github.com/PacktPublishing/。欢迎查看！

# 代码实践

本书的《代码实践》视频可以在 [`bit.ly/3fioIHt`](https://bit.ly/3fioIHt) 观看。

# 下载彩色图像

我们还提供了一个 PDF 文件，里面包含了本书中使用的带有彩色图像的截图/图表。您可以在此下载：[`www.packtpub.com/sites/default/files/downloads/9781839215643_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/9781839215643_ColorImages.pdf)。

# 本书使用的约定

本书中使用了若干文本约定。

**文本中的代码**：表示文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入以及 Twitter 账号。例如：“让我们在**用户名**字段中尝试著名的 `' or 1=1 -- -` 字符串……”

代码块的格式如下：

<soapenv:Header/>

<soapenv:Body>

<urn:getUser soapenv:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">

<username xsi:type="xsd:string">username_here</username>

</urn:getUser>

</soapenv:Body>

</soapenv:Envelope>

**粗体**：表示新术语、重要单词或屏幕上显示的文字。例如，菜单或对话框中的文字以这种方式显示。举个例子：“点击 **创建新虚拟机** 按钮，并在向导中完成设置。”

提示或重要注意事项

以这种方式显示。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果您对本书的任何部分有疑问，请在邮件主题中注明书名，并通过电子邮件发送至 customercare@packtpub.com。

**勘误表**：虽然我们已尽力确保内容的准确性，但难免会有错误。如果您在本书中发现错误，欢迎向我们报告。请访问 [www.packtpub.com/support/errata](https://www.packtpub.com/support/errata)，选择您的书籍，点击“勘误表提交表单”链接，并填写详细信息。

**盗版**：如果您在互联网上遇到任何我们作品的非法复制，欢迎提供相关位置或网站名称。请通过电子邮件将链接发送至 copyright@packt.com，我们会非常感激您的帮助。

**如果您有兴趣成为作者**：如果您在某个领域具有专长，并且有兴趣撰写或参与编写书籍，请访问 [authors.packtpub.com](http://authors.packtpub.com/)。

# 评价

请留下评论。阅读并使用本书后，为什么不在您购买书籍的网站上留下评价呢？潜在读者可以看到并参考您的公正意见做出购买决策，我们在 Packt 能够了解您对我们产品的看法，而我们的作者也能看到您对他们书籍的反馈。谢谢！

欲了解更多关于 Packt 的信息，请访问 [packt.com](http://packt.com)。
