# 前言

内存取证是一种强大的分析技术，可以应用于从事件响应到恶意软件分析的多个领域。对于经验丰富的调查员来说，内存是获取宝贵数据的重要来源。内存取证不仅能提供关于用户上下文的关键信息，帮助你寻找恶意软件的独特痕迹，而且在某些情况下，还能帮助拼凑出复杂目标攻击的全貌。

本书将带你了解内存取证的概念，并逐步深入到更高级的概念，讲解如何使用免费工具和内存分析框架来捕猎和调查高级恶意软件。本书采用实践导向，通过来自实际事件的内存映像帮助你更好地理解该主题，从而掌握调查和应对恶意软件事件及复杂目标攻击所需的技能。本书涉及 Windows、Linux 和 macOS 的内部结构，并涵盖了使用内存取证检测、调查和捕猎威胁的概念、技术和工具。

本书结束时，你将精通内存取证，并获得使用相关工具的实际操作经验。你将能够独立创建和分析内存转储，检查用户活动，检测无文件恶意软件的痕迹，并重建威胁行为者的行动过程。

# 本书适用对象

本书面向事件响应人员、数字取证专家、网络安全分析师、系统管理员、恶意软件分析师、学生以及对内存取证感兴趣的好奇的网络安全专业人士。假设读者已具备对恶意软件及其工作原理的基本理解。掌握操作系统内部结构的知识将有所帮助，但并非强制要求。对于该领域的新手，本书将提供足够的信息帮助理解。

# 本书内容

*第一章*，*为什么选择内存取证？*，通过现实世界的例子解释了内存取证为何成为如今许多数字取证检查中的重要部分，描述了 DFIR 专家使用的主要目标和调查技巧，并讨论了他们面临的日常挑战。

*第二章*，*获取过程*，介绍了内存获取的基本技巧和工具，以及与此过程相关的可能问题。此外，你将有机会比较实时内存分析与内存转储分析，了解各自的优缺点。

*第三章*，*Windows 内存获取*，讨论了 Windows 内存获取工具及其对内存工作的处理方式。书中还将讨论如何选择合适工具的一些建议，并提供全面的示例。

*第四章*，*通过 Windows 内存取证重构用户活动*，探讨了重构用户活动的重要性，因为它可以更好地帮助理解发生了什么。本章将提供一些基于运行进程、网络连接、Windows 注册表和内存中的文件系统分析的用户行为恢复技术的见解。

*第五章*，*通过 Windows 内存取证进行恶意软件检测与分析*，探讨了现代恶意软件往往尽可能减少在磁盘上的痕迹，这也是内存分析成为法证调查关键要素的原因。本章将解释如何在进程内存中以及在 Windows 注册表、事件日志和内存中的文件系统遗留物中搜索恶意软件痕迹。

*第六章*，*易失性内存的替代数据源*，讨论了有时无法创建内存转储进行分析的情况，然而，总有机会在磁盘上找到一些易失性内存。本章介绍了 Windows 中易失性数据的替代来源，以及它们的分析工具和技术。

*第七章*，*Linux 内存获取*，展示了 Windows 和 Linux 内存获取之间的核心差异。将介绍用于 Linux 内存获取的工具，并讲解其配置和使用案例。

*第八章*，*用户活动重构*，探讨了在 Linux 系统中重构用户活动与 Windows 中有所不同的方式。本章将介绍如何通过 Linux 内存转储追踪用户活动的几种技巧。

*第九章*，*恶意活动检测*，重点介绍了在 Linux 系统中搜索恶意活动并进行分析所需的技术。

*第十章*，*MacOS 内存获取*，与获取过程相关，重点介绍 macOS 内存获取工具及其使用，帮助你能够从所有流行的操作系统中创建内存转储。

*第十一章*，*使用 macOS 内存取证进行恶意软件检测与分析*，探讨了可以帮助我们获取必要数据来追踪用户行为并检测和分析 macOS 内存中恶意活动的技术。

# 如何最大限度地利用本书

在本书中，我们试图以非常详细的方式描述所有内容，并一步步带领你完成整个过程。因此，你所需要的只是一台安装了 Windows 和 Linux 的计算机或虚拟机。

由于本书以实践为导向，我们建议您尝试书中描述的所有方法和工具，以最大程度地利用本书的内容。

# 下载彩色图片。

我们还提供了包含本书中使用的截图/图表的彩色图片 PDF 文件。您可以在此下载：`static.packt-cdn.com/downloads/9781801070331_ColorImages.pdf`。

# 使用的约定

本书中使用了多种文本约定。

`文本中的代码`：表示文本中的代码词汇、数据库表名、文件夹名称、文件名、文件扩展名、路径名、虚拟网址、用户输入和 Twitter 用户名。举个例子：“要找到这样的进程，您可以使用 `psscan` 插件。”

任何命令行输入或输出都如下所示：

```
C:\WINDOWS\system32> wmic process list full
```

**粗体**：表示新术语、重要词汇或您在屏幕上看到的词汇。例如，菜单或对话框中的词汇在文本中呈现如下：这是一个例子：“**依赖本地资源**是一种非常流行的方法，攻击者利用内置工具和已安装的合法软件为自己谋取利益。”

提示或重要注意事项

如下所示。

# 联系我们

我们始终欢迎读者的反馈。

`customercare@packtpub.com`。

**勘误**：尽管我们已尽最大努力确保内容的准确性，但错误还是会发生。如果您发现本书中的错误，我们将非常感激您能向我们报告。请访问 [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)，选择您的书籍，点击“勘误提交表单”链接，并输入相关详情。

`copyright@packt.com` 并附带该材料的链接。

**如果您有兴趣成为作者**：如果您对某个主题有专业知识，并且有兴趣编写或参与编写一本书，请访问 [authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法

阅读完《实用内存取证》后，我们很想听听您的想法！请点击 [`packt.link/r/1-801-07033-4`](https://packt.link/r/1-801-07033-4) 直接前往亚马逊的评论页面，并分享您的反馈。

您的评论对我们和技术社区至关重要，将帮助我们确保提供高质量的内容。
