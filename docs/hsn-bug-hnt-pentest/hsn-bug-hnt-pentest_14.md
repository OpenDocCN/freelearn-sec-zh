# 第十四章：评估

# 第一章

1.  越来越多的公司通过众包方式进行安全审计——既能降低内部成本，又能从更多样化的研究人员、策略和技术中受益。

1.  参与漏洞奖励计划为你提供了与真实生产目标对抗的宝贵实践安全经验，也能为你带来金钱回报。

1.  你需要一些基本的网页技术技能，但同样也需要一种好奇心和调查欲望，去打破现有的规则。

1.  一些工具，例如 Burp Suite，是集成多种功能（代理、扫描、映射）的“工作马”，以实现最大效果，而一些工具则针对更具体的目标（例如`sqpmap`用于 SQL 注入发现，`wfuzz`用于暴力破解文件发现等），以及我们为添加额外功能或整合工作流而编写的单一用途、一次性脚本。

1.  添加`document.location.origin`可以确保我们针对的是一个范围内的域名。这个信息也为我们提供了有价值的见解，帮助开发人员修复漏洞。

1.  考虑漏洞的影响对于编写引人注目的攻击场景至关重要。编写代码以实际危害应用程序、用户或第三方服务是绝对不允许的，即使是为了证明漏洞的存在。

1.  《电脑欺诈与滥用法案》作为早期计算机欺诈法案的延伸，规范了国内的网络安全法律。这项法案的通过，部分得益于 1983 年由马修·布罗德里克主演的电影《战争游戏》的警示效果，众议院委员会关于这部法律的报告将其描述为“对个人计算机的自动拨号和访问功能的现实表现。”

# 第二章

1.  像 Bugcrowd 和 HackerOne 这样的公司将为其项目的参与者提供标准化的提交模板、披露指南和支付系统，而单个公司的程序则必须逐个评估并遵守。

1.  是的！除了提供宝贵的经验外，它还可以为你打开通向私人计划的大门，提供更好的测试机会。

1.  我们使用这个术语来指代像 Bugcrowd 这样的平台上的私人漏洞奖励计划，这些计划仅向符合特定标准的预选筛选研究人员发出邀请。

1.  你可以在*其他工具*和*进一步深入*部分找到更多资源。

1.  一个老旧的网站，提供更多用户输入的机会，使用的软件没有定期更新，且由一个小型组织维护，往往比一个拥有更小攻击面和内部安全团队的大公司更难确保其攻击面安全。

1.  协调漏洞披露是通过第三方向公司披露漏洞的一个过程和一套标准。

1.  紧密遵循互动规则是至关重要的！使用工具来确保你的自动化部分保持在范围内。

# 第三章

1.  `wfuzz`配合全面的字典列表，是一个强大的暴力破解映射工具——它非常有效，但应该仅在暴力破解合适的情况下使用。

1.  网站地图是一个简单、免费的基本侦查快捷方式。如果没有网站地图，可以使用 Burp Spider 来映射目标应用。

1.  如果你正在寻找一个低影响的替代方法来映射攻击面，你可以通过连接到 Burp Proxy 的浏览器导航目标应用，Burp 会自动构建一个网站地图。

1.  Scrapy 是一个很棒的、可扩展的站点抓取解决方案。

1.  编写简短、单一功能的脚本可以让你混合和匹配不同的功能，而文本的共同基础确保了互操作性。

1.  SecLists 是一个出色的精心整理的恶意输入资源。

1.  Striker 是一个 Python 扫描器，特别有用的是它具备 DNS 收集能力。

# 第四章

1.  存储型/持久型 XSS、反射型 XSS 和 DOM 型 XSS 是三种常见的 XSS 类型。

1.  持久型 XSS 特别危险，因为存储在服务器中的恶意代码可以被推送给大量用户。

1.  在 XSS 发现中存在很多误报，XSS 验证器帮助在噪音中提升信号。

1.  XSS 验证器`phantomjs`服务器监听可能的漏洞并对其进行验证检查。

1.  在 Burp Intruder 的 Payloads 选项卡中使用**有效负载位置**功能。

1.  所有通常的上下文数据都很重要（如 URL 位置、输入等），但有效负载是最为关键的。

1.  XSS 漏洞可能允许攻击者窃取管理员账户凭证，并对特定服务和组织执行超级用户权限的操作。

1.  包括攻击场景可以说服接收报告的团队，认为他们应投入必要的资源来修复漏洞（并触发你的奖励）。

# 第五章

1.  Blind SQLi 是 SQL 注入的一种，其中结果不可见；基于错误的 SQLi 通过精心设计的 SQL 错误暴露敏感信息，而基于时间的 SQLi 则通过响应延迟来揭示信息。

1.  激进的 SQLi 注入可能会破坏数据库或应用程序。

1.  Google Dorks 是旨在揭示潜在易受攻击站点的搜索查询。这个词来源于那个不小心让敏感文档被公共搜索引擎索引的倒霉员工。

1.  `--timeout`、`checks`、`--scope-include-subdomains`、`--http-request-concurrency MAX_CONCURRENCY` 和 `--plugin 'PLUGIN:OPTION=VALUE,OPTION2=VALUE2'` 都是`arachni`命令行接口（CLI）的有用配置标志。

1.  你可以使用`arachni_reporter` CLI 从`.afr`文件生成报告：

```
 arachni_reporter some_report.afr --reporter=html:outfile=my_report.html.zip
```

1.  MongoDB 中的`$where`子句特别容易受到注入攻击。

1.  如果你能在 Web 应用程序中诱发某种明显的行为（例如长时间延迟），你可以将其与比较逻辑结合起来，枚举敏感信息。

# 第六章

1.  CSRF 代表跨站请求伪造，是指攻击者利用已登录用户的认证状态来执行恶意应用请求，并以有害方式更改用户的应用。

1.  拥有 CSRF 漏洞的攻击者可以诱使用户在不情愿的情况下更改应用状态，或者以他们未打算的方式更改（例如，将资金转到另一个银行账户）。

1.  CSRF 漏洞证明（PoC）仅包含重现表单 HTTP 请求所需的基本标记。

1.  如果你能在浏览器中打开一个 CSRF PoC 并成功提交，那就验证了这个漏洞。

1.  使用 BeautifulSoup 生成 HTML 可以让你避免繁琐的字符串操作（例如，拆分和插入嵌套标签）。

1.  我们在 E2E 示例中使用了基于 CSRF POST 的攻击。

1.  一个恶意攻击者会使用更多隐藏字段，并允许其受害者控制更少的数据发送到服务器。

# 第七章

1.  一个容易受到 XXE 攻击的 PHP XML 解析器配置错误的示例是没有将 `libxml_disable_entity_loader` 变量设置为 `true` 以防止实体扩展。

1.  使用 Burp Proxy 的拦截功能是提交 XML 注入代码片段的关键。

1.  XXE 漏洞可能允许攻击者暴露服务器上的敏感文件、使应用程序发生拒绝服务（DoS）攻击，或者有时获得远程代码执行（RCE）。

1.  `/dev/random` 是一个特殊的系统位置，用作伪随机数生成器。

1.  使用简单的实体替换测试 XXE 是验证 XXE 漏洞的轻量级方式。

1.  “亿次笑声”攻击不仅仅是 XML 特有的，它是利用嵌套实体消耗指数级内存并使解析服务发生拒绝服务（DoS）攻击的手段。

1.  即使某些服务明确使用 JSON 来传递数据，它们的底层服务器通常也能够使用不同的数据格式。有时，仅仅通过使用不同的 `Content-Type` 头部，就可以解锁这些格式。

# 第八章

1.  通过模糊化实现的安全性是一种有效的方式来阻止机会性攻击，但它不能成为健全安全策略的基础。

1.  API 密钥、访问令牌、密码以及账户和应用数据通常是用于漏洞奖励的内容。

1.  Burp Proxy 包含设置，用于被动地发现隐藏字段——一个简单的黑客技巧。

1.  API 密钥授予对 API 或服务的完全访问权限。访问令牌通常与更个性化或基于角色的身份验证系统相关联，尽管这并不是一个绝对的区分标准。

1.  通用错误代码和描述、浏览器的“自动填充”功能以及通常不提供相关攻击场景的信息，通常不值得奖励。

1.  绝对不能信任用户输入。

1.  Web 应用程序是漏洞百出的，但错误消息、隐藏字段和客户端源代码是敏感信息潜藏的地方。

# 第九章

1.  CVE 代表公共漏洞和暴露。它是一个系统，允许不同的工具和组织共享已知漏洞的数据。

1.  WordPress 被互联网上大量网站使用，因此成为黑客攻击的丰富目标。此外，作为动态类型语言的 PHP 也有其自身的弱点。

1.  `wpscan` CLI 允许更好地与现有的自动化套件集成，但 Burp 扩展更好地支持被动扫描功能。

1.  在探测漏洞时，始终牢记 Rails 的意见结构和会话认证的历史性弱点。

1.  Docker 提供了一个简单的容器化结构，用于封装工具可能需要的任何依赖集，使其更加便携和可扩展。

1.  OVAL 代表开放漏洞评估语言，是一系列用于标准化、机器可读的已知漏洞测试定义。

1.  将 Django 的 `DEBUG` 模式保持开启是一个常见问题，可能为攻击情景提供潜在路径。此外，还应注意与 Django 默认管理页面相关的任何暴露的管理员功能。

# 第十章

1.  RCE 代表远程代码执行。

1.  链接到 OWASP 或其他受尊敬的安全组织关于特定漏洞种类的页面，可以帮助所有参与漏洞验证的人达成共识。

1.  每个漏洞报告提交必须至少包含漏洞类型、描述、时间戳、攻击场景和重现步骤。

1.  VRT 是 Bugcrowd 创建的一套标准，旨在促进研究人员、开发人员和其他安全利益相关者对漏洞严重性有一个共同的理解。CVSS 是一个类似且兼容的系统。

1.  如果内部团队无法重现你的问题，他们无法确定其严重性和影响。

1.  写得好的攻击场景是具体的、技术知情的、有文档支持的并且是现实的。它们传达了情况的严重性，而不会过度扩展。

1.  HackerOne 的 Hacktivity 部分和 Vulnerability Lab 的主页等是记录生产漏洞的优秀资源。

1.  截图、纯文本文件和其他支持文档在漏洞报告中都非常重要。

# 第十一章

1.  在考虑采用任何工具时，问自己一系列问题非常重要，分析它如何融入现有的工作流，它能带来什么价值，它如何独特地为这种价值做出贡献，等等。

1.  Burp Notes、Burp Python Scripter 和 JSON Beautifier（多个美化器中的一个）只是我们覆盖的几个优秀扩展。

1.  `nmap` 和 Aircrack-ng 都是网络渗透测试的最佳实践工具。

1.  Burp Pro 提供了 Burp 扫描器、自动化 PoC 生成以及其他一些有用的高级手动工具。

1.  Kali Linux 配备了许多研究人员依赖的工具。它还可以从磁盘启动的事实使其成为任何渗透测试实验室的轻量级解决方案。

1.  OSINT 代表开放源代码情报，是指从公开可获得的来源（如社交媒体个人资料和公共记录数据）收集关于目标的信息的过程。

1.  Metasploit 自称为一个漏洞利用框架，旨在检测和生成利用漏洞的代码。作为一个在利用阶段表现出色的工具，我们在本书中对它的涉及较少。

# 第十二章

1.  DoS/DDoS 攻击需要广泛的预防措施，而且由于恶意流量常常伪装成合法业务流量，因此很难进行缓解。这使得它超出了范围——除非某个特定的漏洞使得服务更容易受到 DoS/DDoS 攻击。

1.  Self-XSS 的影响范围过于有限，并且需要太多步骤，不能算作一个严重漏洞。用户最终是在执行 XSS 时让自己处于风险之中，而并不会对其他人造成实际影响。

1.  OPTIONS 请求可能会暴露调试信息，这些信息可能帮助攻击者，但单独来看，这并不是一个漏洞。

1.  像 BEAST 这样的 SSL 漏洞需要其他多个受影响点才能构成攻击场景。

1.  `Clickjacking` 是指攻击者将恶意链接隐藏在透明或遮挡的链接*下方*，并放置在一个合法且安全的按钮之下，使得用户被欺骗点击到黑帽 URL。

1.  物理测试涉及闯入公司的实际办公室或建筑，通过现场设备获取网络访问权限。对于公共漏洞奖励计划，这是完全不在范围之内的。

1.  如果 CSRF 漏洞与匿名表单或其他未授权输入相关，那么攻击场景不足以支持支付奖励。

1.  黑暗模式是旨在欺骗或诈骗用户的用户体验设计。

1.  大多数服务可以通过暴力破解进行攻击，前提是有足够的时间和资源。指出这一点并不构成有用的、可执行的安全建议。

# 第十三章

1.  SANS Institute、Bugcrowd 博客、Darknet、HighOn.Coffee 等，都是获取最新技术教程和安全新闻的良好来源。

1.  公共漏洞奖励计划不授予研究人员对源代码的特权访问权限，严格来说，它们是黑盒类型的。

1.  RCE（远程代码执行）允许进行一系列令人震惊的攻击。借助图灵完备的脚本语言的全部功能，攻击的破坏力是没有限制的。

1.  这里的“安全港”用来描述一种政策，即公司不会起诉那些遵循特定条款的研究人员。

1.  跨源资源共享（Cross-Origin Resource Sharing，CORS）是一个系统，用于管理来自不同源（主机名、端口等）的资源请求的安全过程。

1.  一个组织的安全态势指的就是它阻止、检测和应对数字威胁的能力。

1.  对应用进行指纹识别可以提供服务器软件和版本信息、应用语言、数据库信息及其他有用的数据点，以帮助制定渗透测试策略。

1.  OSCP 代表进攻性安全认证专业人员，这是由进攻性安全公司提供的专业认证。
