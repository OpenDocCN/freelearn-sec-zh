- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: An Introduction to Cybersecurity
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络安全简介
- en: If you’re reading this book, there’s a great chance you’re already familiar
    with cybersecurity. You might even already have some experience with Linux or
    even the Kali variant of the Linux **operating system** (**OS**). It’s a popular
    tool used by offensive security people who are typically referred to as **red
    teamers**. **Offensive security** is when users simulate attacks to discover potential
    vulnerabilities within an organization’s technology. However, where there’s offense,
    there most assuredly is defense. In the world of computers and technology, people
    working on defensive security teams are typically referred to as **blue teamers**.
    If you’re familiar with the color wheel, then you know that when red is combined
    with blue, you get purple. Take the utilities of both offense and defense, bundle
    them as a software application suite added to a popular Linux OS, and there you
    have it. Welcome to Kali Purple!
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在阅读这本书，那么你很有可能已经熟悉网络安全。你甚至可能已经有一定的Linux经验，或者熟悉Linux的Kali变种操作系统（**OS**）。这是一款广泛使用的工具，通常由被称为**红队**的人士使用。**进攻性安全**是指用户模拟攻击，以发现组织技术中的潜在漏洞。然而，在进攻的背后，防守也同样重要。在计算机和技术的世界中，负责防守安全的团队通常被称为**蓝队**。如果你对色轮有所了解，你就会知道，当红色与蓝色结合时，会得到紫色。将进攻与防守的工具合并，打包成一个软件应用套件，添加到流行的Linux操作系统中，这就是Kali
    Purple的核心理念！
- en: 'In this chapter, we’re going to cover the following main topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要话题：
- en: How we got here
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们是如何走到这一步的
- en: Offensive security
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进攻性安全
- en: Defensive security
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 防守性安全
- en: You will get a very brief history of cybersecurity as it relates to the need
    for such services and how those services relate to Kali Purple. Having this understanding
    will lay the groundwork for the tool structures and purposes of the utilities
    commonly found in the Purple distribution. Along the way, you will begin to recognize
    the revolutionary power of this suite of tools.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 你将简要了解网络安全的历史，特别是它与这类服务的需求以及这些服务如何与Kali Purple相关。了解这些将为你理解常见于Purple发行版中的工具结构和用途奠定基础。在这个过程中，你将开始认识到这套工具的革命性力量。
- en: Those already familiar with the Kali Linux OS will have an idea of some offensive
    cybersecurity utilities that it contains. For those who don’t, that’s okay! While
    those with prior Linux experience will more easily recognize some of the concepts
    that will be talked about, those of us working professionally in the field can
    attest to several folks who’ve succeeded in the field of cybersecurity with only
    Windows experience. If that’s you, take comfort in knowing that we will provide
    a high-level overview in the *Offensive security* section, which should provide
    enough of a foundation for you to easily navigate the rest of this book. How to
    integrate some of these offensive tools will be discussed much later in this book.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 已经熟悉Kali Linux操作系统的人们，应该对其中包含的一些进攻性网络安全工具有所了解。对于那些不熟悉的人，没关系！虽然有Linux经验的人会更容易理解我们将要讨论的一些概念，但我们这些在该领域工作的专业人士可以证明，许多只有Windows经验的人也在网络安全领域取得了成功。如果你就是其中之一，放心吧，我们将在*进攻性安全*部分提供一个高层次的概述，这将为你提供足够的基础，使你能够轻松地导航本书的其余部分。如何集成这些进攻性工具将在本书稍后的部分进行讨论。
- en: Throughout the bulk of the introduction to Kali Purple, the emphasis will be
    on the blue team tools that have been added to this specific distribution of Linux.
    As we will with the red team utilities, we will provide a high-level overview
    up front in this first chapter. You will then see the uniqueness of Kali Purple
    and be able to visualize how this tool can be used to set up a fully functioning
    defensive **security operations** **center** (**SOC**).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在Kali Purple的介绍部分，我们将重点介绍为这一特定Linux发行版添加的蓝队工具。与红队工具一样，我们将在本章一开始就提供一个高层次的概述。你将看到Kali
    Purple的独特性，并能够想象如何利用这一工具建立一个完整的防御性**安全运营中心**（**SOC**）。
- en: By the end of this chapter, you’ll have a well-rounded perspective of how Kali
    Purple can be used to train analysts within your organization. You will also start
    to see how this tool can be used for small and at-home businesses or even personal
    setups to provide a layer of security that otherwise would only be available as
    a subscription from a professional **managed security services** **provider**
    (**MSSP**).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将对如何使用Kali Purple来培训你组织中的分析师有一个全面的认识。你还将开始看到，这个工具如何用于小型企业、家庭办公甚至个人设置，提供一种安全层，这种安全层通常只有通过专业的**托管安全服务**
    **提供商**（**MSSP**）的订阅才能获得。
- en: How we got here
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我们是如何走到今天的
- en: The need for a technologically advanced set of computer security tools in the
    world today is not something that just popped up overnight. There weren’t a couple
    of college students who decided to hone their coding skills out of boredom between
    classes. No – the idea of security for computing technology is a concept that
    evolved in parallel with the technologies themselves.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 当今世界对一套技术先进的计算机安全工具的需求并不是一夜之间出现的。并不是有两个大学生因为上课无聊而决定磨练他们的编码技巧。不是的——计算机技术的安全概念是随着技术本身的发展而逐渐演变的。
- en: If you wanted to, you could probably find some historical parchment with ancient
    hieroglyphics or other language painted on it telling stories of the abacus. It
    might detail how someone, somewhere, managed to trick the ancient Mesopotamians
    by some art of visual misdirection toward the accountants and then move a bead
    or two on the abacus. We’ll let the historians determine and tell those stories.
    We are going to focus on the security of modern computing.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你愿意的话，你可能会找到一些历史文献，上面绘有古代象形文字或其他语言，讲述算盘的故事。它可能会详细描述某人在某地通过某种视觉误导艺术欺骗古代美索不达米亚人，引导他们到会计人员那里，然后移动一颗或两颗算盘珠子。我们将让历史学家去确定并讲述这些故事。我们要专注于现代计算机的安全。
- en: During the 1960s and 1970s, computer security was mostly security in the traditional
    sense of physical protection – that is, security mostly revolved around restricting
    physical access to mainframe computers. It included access controls such as keypads
    and locked rooms. Oftentimes, these systems were standalone. They weren’t networked
    with other systems. When the networking of computer systems began to unfold, it
    was usually part of a larger project to create the widespread interconnectivity
    we see in the world today by an American government agency known as the **Defense
    Advanced Research Projects Agency** (**DARPA**) Sometimes, the D is dropped, and
    you’ll see it informally referred to as **ARPA**. This organization is part of
    the **Department of Defense** (**DOD**) and has earned a reputation for working
    on super-secret and interesting projects often dramatized in pop culture. The
    organization has led research projects leading to cutting-edge advancements in
    technology. Linking computer systems together is included in those achievements,
    with what became known as the **ARPANET**. The primary purpose of this style of
    security was to prevent unauthorized individuals from accessing and stealing sensitive
    information.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在20世纪60年代和70年代，计算机安全主要是传统意义上的物理保护——即安全主要围绕着限制对大型计算机的物理访问展开。它包括诸如键盘和锁住的房间等访问控制。许多时候，这些系统是独立的，它们没有与其他系统联网。当计算机系统的网络化开始展开时，通常是美国政府一个名为**国防高级研究计划局**（**DARPA**）的大型项目的一部分，目的是创建今天我们看到的广泛互联互通。有时，字母D被省略，你可能会看到它非正式地被称为**ARPA**。该组织隶属于**国防部**（**DOD**），以从事超级机密且常常在流行文化中戏剧化的有趣项目而闻名。该组织曾领导过一些研究项目，推动了技术的前沿进展。将计算机系统连接起来就是其中的一项成就，最终形成了被称为**ARPANET**的网络。这种安全方式的主要目的是防止未经授权的个人访问并窃取敏感信息。
- en: This began to evolve in the 1980s with the advent and marketing of personal
    computers. Though born in the 1970s, Steve Jobs, Steve Wozniak, and Ronald Wayne’s
    Apple Computer rapidly rose to fame in the early 1980s with the commercial release
    of their legendary MacIntosh personal computer. It was the first to feature a
    couple of pieces of technology that we now know as a **graphical user interface**
    (**GUI**) and a mouse. Also gaining popularity at the time was computer networking
    and the ability for machines to communicate with each other. During this era,
    the focus of computer security shifted from physical access restriction toward
    securing data transmission, establishing secure communication protocols, and data
    encryption. The first iteration of the **Data Encryption Standard** (**DES**)
    was introduced within this period to protect data from interception.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这一发展始于1980年代，伴随着个人计算机的出现和市场推广。尽管Apple Computer的创始人史蒂夫·乔布斯、史蒂夫·沃兹尼亚克和罗纳德·韦恩是在1970年代诞生的，但他们的苹果公司在1980年代初期凭借其传奇的MacIntosh个人计算机的商业发布迅速成名。它是第一款采用我们现在所称的**图形用户界面**（**GUI**）和鼠标技术的个人计算机。当时，计算机网络和机器之间的通信能力也开始流行起来。在这一时期，计算机安全的重点从物理访问限制转向了数据传输的安全，确立了安全通信协议和数据加密。这一时期还推出了**数据加密标准**（**DES**）的第一个版本，用于保护数据免受拦截。
- en: Apple Computer – now Apple Inc. – was one of the first companies to succeed
    at the widespread distribution of a personal computer product. However, it was
    Microsoft Windows’ rise to stardom in the 1990s that dominated the market and
    made personal computing a household activity. Windows was born in the 1980s, but
    it was the aptly named Windows 95, released in 1995, that brought forth many of
    the creature comforts of personal computing we still enjoy today. The exponentially
    increasing popularity of personal computing during this era gave birth to exponential
    new challenges and brought forth the roots of cybercrime as we know it today.
    The term **hacker**, once a positive term used to describe the process of making
    innovative changes to a product, became a negative term associated with miscreants
    wishing to use technology for their mischief. While there were isolated incidents
    of mischief and malware in the 1960s and 1970s, not to mention the infamous **Morris
    Worm** of 1988, it was during the 1990s that hackers began to seek out and exploit
    vulnerabilities within software applications and network architecture on a grander
    and more mainstream scale. Hackers with coding skills began to use their abilities
    to create software that caused harm, acted as a nuisance, or did some other dirty
    deed. While the first antivirus software was created in 1986 by John McAfee, this
    resulted in the advancement of those earliest versions of antivirus software to
    become widespread commercially available products. Firewalls were developed to
    prevent unauthorized access to endpoints and the earliest versions of the **Secure
    Sockets Layer** (**SSL**) and **Transport Layer Security** (**TLS**) were released.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果计算机——现为苹果公司——是首批成功推广个人计算机产品的公司之一。然而，是微软Windows在1990年代的崛起主宰了市场，并使个人计算成为家庭日常活动。Windows诞生于1980年代，但正是1995年发布的Windows
    95带来了今天我们仍然享受的许多个人计算机的便利功能。在这一时期，个人计算的急剧普及带来了前所未有的挑战，并催生了我们今天所知道的网络犯罪的根源。**黑客**一词，曾是用来描述对产品进行创新性改进的过程的正面词语，逐渐变成了与恶行相关联的负面词语，指的是那些希望利用技术为恶作剧的恶棍。尽管1960年代和1970年代也发生过孤立的恶作剧和恶意软件事件，更不用说1988年臭名昭著的**莫里斯蠕虫**，但正是在1990年代，黑客开始大规模寻找并利用软件应用程序和网络架构中的漏洞。具备编码技能的黑客开始利用其能力创建对他人造成危害、作为麻烦或进行其他不法行为的软件。尽管第一款杀毒软件由约翰·麦卡菲于1986年创建，但这也推动了最初版本的杀毒软件的发展，最终成为广泛商业化的产品。防火墙被开发出来，以防止未授权访问端点，并且**安全套接层**（**SSL**）和**传输层安全**（**TLS**）的早期版本也发布了。
- en: As the world moved into the 21st century, rapidly advancing computer and network
    technology gave way to e-commerce. This beginning of online shopping and other
    business transactions created a need for secure payment systems. Afterall, if
    the bad actors could cause mischief in other areas, anything that might give them
    access to business or individual’s finances would be ripe for taking! As a result,
    the major credit card companies at the time worked to create what is known as
    the **Payment Card Industry-Data Security Standard** (**PCI-DSS**). This standard
    was meant to create a framework that assisted credit and debit card stakeholders
    in protecting against fraud. The SSL and TLS from the 1990s became more robust
    with greater acceptance and more widespread use in the community. Those security
    principles were designed to encrypt data during communication while covering the
    confidentiality and integrity aspects of the Information Security Triad, sometimes
    called the **confidentiality, integrity, and availability** (**CIA**) triad. If
    you’re not familiar with this foundational framework of cybersecurity, we will
    talk about it later in this chapter in the *Defensive* *security* section.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 随着世界进入21世纪，计算机和网络技术的快速发展为电子商务铺平了道路。在线购物和其他商业交易的兴起带来了对安全支付系统的需求。毕竟，如果不法分子能在其他领域制造麻烦，那么任何可能让他们接触到商业或个人财务的东西，都将成为他们的目标！因此，当时的主要信用卡公司开始致力于制定**支付卡行业数据安全标准**（**PCI-DSS**）。这一标准旨在为信用卡和借记卡的相关方提供框架，以防止欺诈行为。1990年代的SSL和TLS技术变得更加健壮，并得到了更广泛的接受和使用。这些安全原则旨在加密通信中的数据，并覆盖信息安全三原则中的保密性和完整性方面，这三原则有时被称为**保密性、完整性和可用性**（**CIA**）三原则。如果你不熟悉这个网络安全的基础框架，我们将在本章的*防御性*
    *安全*部分中进行讨论。
- en: By the mid-2000s, cyberattacks and data breaches became much more frequent.
    They were also much more sophisticated. This is where the fun begins. It is the
    actions of cybercriminals during this era that directly led to the advancement
    of some of the technologies you will experience in Kali Purple and learn about
    in this book. There became a greater need to respond to security incidents in
    real time. Though there were already technologies in place to address this, they
    were rudimentary at best. Gaining prominence in the information security community
    were concepts such as the **intrusion detection system** (**IDS**), **intrusion
    prevention system** (**IPS**), and **security information and event management**
    (**SIEM**) system, among other things. Each of these concepts is a part of Kali
    Purple and we will go over them in detail throughout this book.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 到了2000年代中期，网络攻击和数据泄露变得更加频繁，且也更加复杂。这时，真正的挑战开始了。正是这一时期网络犯罪分子的行为，直接推动了《Kali Purple》中的一些技术的发展，这些技术将在本书中进行讲解。实时响应安全事件的需求变得更为迫切。虽然当时已有一些技术用于应对这些问题，但它们充其量也只是初步的。信息安全领域中逐渐崭露头角的概念包括**入侵检测系统**（**IDS**）、**入侵防御系统**（**IPS**）和**安全信息与事件管理**（**SIEM**）系统等。这些概念是Kali
    Purple的一部分，本书将会详细讲解它们。
- en: 'The 2010s improved mobile device and cloud computing technologies by degrees
    of magnitude. Guess what else grew by degrees of magnitude? You guessed it: new
    security challenges. Hopefully, you’re beginning to see the trend by now if you
    haven’t already. There is a parallel between new and emerging technologies and
    new and emerging threats in the cyber landscape. The security of mobile devices
    was straightforward, centering around protecting user data, preventing unauthorized
    access, and securing mobile applications; pretty much the same as it is today.
    The security of cloud computing was more focused on access controls, data storage,
    and protecting **virtual machines** (**VMs**). As you navigate the world of Kali
    Purple, you will see how the tools you’ll learn about are valuable assets for
    those areas as well.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 2010年代，移动设备和云计算技术取得了巨大的进展。你猜还有什么也在大幅增长？没错，新的安全挑战。希望如果你到现在还没看到趋势的话，开始能看出来了。新兴技术和新兴威胁在网络安全领域之间有着密切的关联。移动设备的安全问题相对简单，主要集中在保护用户数据、防止未经授权的访问以及确保移动应用的安全；这和今天的情况差不多。云计算的安全性则更多地集中在访问控制、数据存储以及保护**虚拟机**（**VM**）上。当你在Kali
    Purple的世界中探索时，你会看到你将学习的工具也在这些领域中发挥着重要作用。
- en: 'Let’s look at the transition from physical protection of mainframes to handheld
    devices:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看一下从主机物理保护到手持设备的过渡：
- en: '![Figure 1.1 – The evolution of modern cybersecurity](image/B21223_01_1.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.1 – 现代网络安全的演变](image/B21223_01_1.jpg)'
- en: Figure 1.1 – The evolution of modern cybersecurity
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – 现代网络安全的演变
- en: Up until this point, most of the security in the world of technology was an
    area of emphasis that generally fell under the greater **information technology**
    (**IT**) umbrella. Standalone security specialists existed but were much more
    of a rarity than we see today. It was a series of highly publicized cyberattacks
    post-2010 that caused the field of cybersecurity to be born as a mainstream career
    unto itself. Since the entirety of Kali Purple is a suite of tools based upon
    protecting against cyberattacks, we will briefly look at some of the more prominent
    attacks so that – as we learn these tools throughout this book – we can refer
    to this section and mentally paste together the value, need, and –above all –
    purpose of the utilities we are about to experience.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 直到这一点，大部分技术世界的安全都是信息技术（**IT**）的一个重点领域。独立的安全专家存在，但比今天要少得多。从 2010 年后的一系列广为人知的网络攻击导致网络安全行业成为一个主流的职业领域。由于
    Kali Purple 的整体工具套件是基于保护免受网络攻击的，我们将简要介绍一些更突出的攻击，以便在本书学习这些工具时，可以参考本节，并在头脑中整合出这些工具的价值、需求和
    - 最重要的 - 目的。
- en: Stuxnet
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Stuxnet
- en: 'Before delving into the post-2010 blitz of cyberattacks, we will briefly discuss
    one of the most famous attacks of all time and one that is considered in some
    circles to be the catalyst for cybersecurity to evolve into a self-contained career
    field. This is an attack that involves an exterior device: a USB drive. While
    it might seem like this attack could not have been prevented by the tools we’ll
    be talking about in this book, remain vigilant and open-minded. Not only does
    Kali Purple have the tools to identify and help stop these types of attacks, but
    the Kali side of the family also has the tools to create them! The attack we’re
    talking about here is the famous Stuxnet worm that was discovered in 2010.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入讨论 2010 年后的网络攻击猛烈行动之前，我们将简要讨论有史以来最著名的攻击之一，也被一些圈子认为是网络安全进化为一个自成一派职业领域的催化剂。这是一种涉及外部设备的攻击：USB
    驱动器。虽然这种攻击似乎不能通过本书中我们将讨论的工具阻止，但仍需保持警惕和开放思维。不仅 Kali Purple 有识别和帮助阻止这类攻击的工具，Kali
    家族的工具也可以创建它们！我们在这里讨论的攻击是著名的 Stuxnet 蠕虫，在 2010 年被发现。
- en: '**Stuxnet** is also one of the first examples of governments utilizing cyber
    technology for offensive purposes. Some consider it *The Original Sin of Cyberwarfare*.
    While there is no definitive answer as to who was responsible for the attack,
    the consensus throughout the cybersecurity community is that it was a likely joint
    effort between the United States and Israel against Iran’s nuclear program.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '**Stuxnet** 也是政府利用网络技术进行攻击性目的的首批案例之一。一些人认为它是*网络战的原罪*。虽然对于谁是这次攻击的真正责任方没有明确的答案，但网络安全社区普遍一致认为，这很可能是美国和以色列联合对伊朗核计划的一次行动。'
- en: 'The complex attack occurred in six stages:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 复杂的攻击发生在六个阶段：
- en: Reconnaissance and intelligence gathering to discover the code and systems to
    be compromised.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 侦察和情报收集，以发现要被攻击的代码和系统。
- en: Zero-day and custom exploits were used/created to compromise and manipulate
    the systems.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Zero-day 和自定义漏洞利用被用来破坏和操纵系统。
- en: Code was created to cover all tracks and avoid detection.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写的代码覆盖所有踪迹，避免检测。
- en: USB drives were weaponized with a malicious payload and covert delivery/covering
    of tracks.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: USB 驱动器被武装化，携带恶意载荷并秘密传送/掩盖踪迹。
- en: The payload was delivered via clandestine operators who dropped the weaponized
    USBs in a parking lot.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 载荷通过秘密操作人员交付，他们在停车场投放武装化的 USB。
- en: An unsuspecting employee finds one of the USBs and installs it on the target
    systems.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一名毫无戒心的员工发现了其中一个 USB，并将其安装在目标系统上。
- en: Siemens, a multinational conglomerate company of innovation and technology,
    produces what is known as a **programmable logic controller** (**PLC**) that is
    used to manage **industrial control systems** (**ICSs**). These are systems that
    are usually considered to be critical infrastructure. They can include energy,
    sewer, and water systems for cities, towns, and major metropolis populations.
    In this case, the target was Iran’s nuclear program, and the catalyst was to intentionally
    corrupt the Siemens PLC that was used to manage components of the program.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 西门子是一家跨国创新技术集团公司，生产被称为**可编程逻辑控制器**（**PLC**）的设备，用于管理**工业控制系统**（**ICSs**）。这些系统通常被认为是关键基础设施。它们可以包括城市、城镇和大都市地区的能源、下水道和水系统。在这种情况下，目标是伊朗的核计划，而催化剂是故意破坏用于管理该计划组件的西门子
    PLC。
- en: It’s important to note that this attack was highly sophisticated and likely
    involved a large degree of intelligence gathering by clandestine agents. It involved
    developing zero-day exploits for both Windows as well as the software used in
    Siemens PLCs. Then, these zero-day malicious exploits were placed onto several
    auto-run USB drives. The drives were *accidentally* dropped into the parking lot
    of Iran’s nuclear enrichment facilities – and by *accidentally*, we mean *intentionally*
    – with the hope that an unsuspecting employee might pick one up and insert it
    into their work computer to see what was on it – a classic case of *curiosity
    killed the cat*. It worked. The Stuxnet action involved exploits that were covertly
    modifying the highly specialized code within the Siemens PLCs that managed the
    centrifuges within Iran’s nuclear facilities. This code caused the centrifuges
    to run at improper levels, resulting in physical sabotage of the centrifuges and
    significant damage to Iran’s nuclear enrichment capabilities while also causing
    significant delays in Iran’s development of nuclear technology.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 需要指出的是，这次攻击非常复杂，可能涉及到大量的情报收集工作，且由秘密特工执行。它涉及开发针对 Windows 和西门子 PLC 软件的零日漏洞。然后，这些零日恶意漏洞被放置到多个自动运行的
    USB 驱动器上。这些驱动器被*意外*丢弃在伊朗核浓缩设施的停车场——我们说*意外*，意思是*故意*——希望某个毫不知情的员工会捡起一个，插入到他们的工作计算机中查看里面的内容——这简直是典型的*好奇心害死猫*。结果成功了。Stuxnet
    攻击涉及的漏洞悄悄地修改了西门子 PLC 中高度专业化的代码，这些代码负责管理伊朗核设施中的离心机。这些代码导致离心机以不当的速度运行，从而造成了离心机的物理破坏，严重损害了伊朗的核浓缩能力，同时也大大延迟了伊朗核技术的发展进程。
- en: Part of Stuxnet’s success is the extreme lengths its architects went to so that
    the attack could remain stealthy and evade detection. So, as Iran’s nuclear capabilities
    were being sabotaged, so was the fact that sabotage was occurring at all initially
    and then eventually how the sabotage occurred once it was discovered. Since Stuxnet
    was presented in the form of a worm on a USB drive, it meant the malicious code
    contained therein could self-replicate and independently spread itself across
    network devices. Some might consider this a bit of a backfire if the United States
    and/or Israel were responsible for the initial release of Stuxnet. The reason
    is that strongly allied nations such as India and Indonesia ended up with this
    worm in their environments.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Stuxnet 成功的部分原因在于其设计者付出了极大的努力，以确保攻击能够保持隐蔽并避开检测。因此，在伊朗的核能力被破坏的同时，最初攻击发生的事实也被掩盖，直到最终攻击方式被发现。由于
    Stuxnet 以一个 USB 驱动器中的蠕虫形式呈现，这意味着其中的恶意代码可以自我复制并独立地在网络设备间传播。如果美国和/或以色列对 Stuxnet
    的初始释放负责，某些人可能会认为这有些适得其反。原因是，像印度和印尼这样的强大盟国最终也在其环境中感染了这个蠕虫。
- en: Thus began the modern era of government weaponization of computing technology.
    Stuxnet caused a lot of reflection by security staff worldwide. However, it wasn’t
    quite personal enough yet for the everyday average Joe to take notice. To get
    there, we needed individual citizens to be affected. That happened just 3 years
    later.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 由此开始了现代政府将计算机技术武器化的时代。Stuxnet 引发了全球安全人员的深刻反思。然而，对于普通人来说，这还不够个人化，无法引起他们的注意。为了达到这个效果，我们需要让个人公民受到影响。仅仅三年后，这种情况就发生了。
- en: The Target cyberattack of 2013
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2013 年的 Target 网络攻击
- en: 'Perhaps one of the most individually impactful cyberattacks of the 21st century
    is what is known as the **Target Cyberattack of 2013**. Target is a large and
    well-known retail chain based in Minneapolis, Minnesota, that operates primarily
    in the United States, though it does have some international endeavors. The store
    is famous for its mascot, Bullseye, an all-white bull terrier with a literal bullseye
    painted around one of its eyes. It is also famous for something else: top-notch
    security. The retail store, wanting to put an end to shoplifting, spent years
    and years developing state-of-the-art security systems so potent that they would
    sometimes lend their forensic experts and teams to local law enforcement to assist
    in solving complicated criminal cases as a measure of social responsibility. To
    crack Target’s security would be like a boxer defeating Muhammad Ali. So, when
    it happened, it was a huge deal.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 也许21世纪最具个体影响力的网络攻击之一就是所谓的**2013年Target网络攻击**。Target是一家总部位于明尼苏达州明尼阿波利斯的大型知名零售连锁公司，主要在美国运营，尽管也有一些国际业务。这家商店因其吉祥物Bullseye而闻名，它是一只全白色的美国斗牛梗，眼睛上画着一个字面意义上的靶心。它还因另一件事而闻名：一流的安全性。为了遏制盗窃，Target花费了多年时间开发出先进的安全系统，这些系统强大到有时会将他们的法医专家和团队借给地方执法部门，协助解决复杂的刑事案件，作为一种社会责任的表现。破解Target的安全系统就像是拳击手击败穆罕默德·阿里。因此，当事件发生时，震动了整个行业。
- en: In 2013, Target’s cyber defenses were successfully compromised in what had become
    one of the largest data breeches in history. Cybercriminals were able to access
    tens of millions of customer records, including credit and debit card numbers!
    It is now well-known that the success of this breech was ultimately attributed
    to lax security with third-party vendors. However, the full picture is often overlooked.
    There were a great number of errors in this scenario and had any one of them been
    different, this attack probably wouldn’t have succeeded. Some of the elements
    of this cyberattack are directly addressed by the tools and training offered by
    Kali Purple.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 2013年，Target的网络防御成功被攻破，成为历史上最大的一个数据泄露事件之一。网络犯罪分子成功访问了数千万条客户记录，包括信用卡和借记卡号码！现在大家都知道，这次数据泄露最终归因于第三方供应商的安全疏忽。然而，完整的背景往往被忽视。这个事件中有很多错误，如果其中任何一个环节不同，这次攻击可能就不会成功了。此网络攻击的一些要素，正是Kali
    Purple工具和培训所针对的内容。
- en: We’re not going to address every issue associated with this cyberattack or every
    fix that might have prevented it, such as a lack of proper access controls and
    network segmentation allowing attackers to easily make lateral movements. While
    those items may be addressable using a Linux distribution that is used for network
    and/or user administration and analyzing them would be fun, they are outside the
    scope of Kali Purple. There are, however, several issues related to the Target
    attack that directly correlate with Purple’s toolset.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会讨论与这次网络攻击相关的所有问题，或者可能预防这次攻击的每一种解决方法，例如缺乏适当的访问控制和网络分段，导致攻击者能够轻松进行横向移动。虽然这些问题可能通过用于网络和/或用户管理的Linux发行版来处理，分析它们也会很有趣，但它们不在Kali
    Purple的范围之内。然而，有一些与Target攻击直接相关的问题，恰好与Purple的工具集相关。
- en: One of the most important is basic threat monitoring – what an intrusion detection
    or prevention system does. It is rumored that the attackers were able to successfully
    install trojans within the retail giant’s **point of sale** (**POS**) systems.
    These are the systems that will collect and process debit or credit card information
    after the customer’s items for purchase have been scanned, taxed, and totaled
    in price. That would periodically grab the sensitive financial data scanned, even
    on systems with no internet access, and transfer it to other devices within the
    company’s network. This type of activity would surely be identified by today’s
    IDS and SIEM technologies. Of course, that’s only valuable if the analyst believes
    what they see and acts on it. This brings us to our next scenario.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 最重要的之一是基本的威胁监控——这是入侵检测或防御系统所做的工作。据传攻击者成功地在零售巨头的**销售点**（**POS**）系统中安装了木马。这些系统在顾客购买商品的物品被扫描、征税并计算出总价后，会收集和处理借记卡或信用卡信息。即使在没有互联网连接的系统上，它们也会定期抓取扫描到的敏感金融数据，并将其传输到公司网络内的其他设备。这种类型的活动肯定会被今天的IDS和SIEM技术识别。当然，这只有在分析师相信他们所看到的并采取相应行动时才有价值。这将引出我们下一个场景。
- en: Note
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 注
- en: Before unpacking this story further, let’s get one very important fact straight.
    Target’s security was – and still very much is – industry leading. It’s the best
    any organization could have. The company is very much worthy of respect in the
    cybersecurity community. One of the unintended consequences of being among the
    best there is in any area of life means you have a literal target – no pun intended
    – painted across your back. It’s why Microsoft’s Windows is statistically more
    likely to fall victim to a virus or other malware and the Mac or Linux systems
    are sometimes erroneously referred to as being *immune* to such things. Anybody
    who is properly informed knows that Apple and Linux are indeed not immune to malicious
    activity, including viruses. Those systems simply don’t have the same public hype
    and market share that Windows does. While that is slowly changing over time, as
    you learn about the fantastic cybersecurity defenses offered by Kali Purple, it’s
    critical to understand that nothing is ever truly immune. Anything in life that
    can be engineered, tangible or virtual, can also be reverse-engineered… anything!
    Do keep that critical fact in mind throughout your security career.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在进一步解读这个故事之前，让我们先澄清一个非常重要的事实。Target的安全性——直到今天依然如此——是行业领先的。这是任何组织都可以拥有的最佳安全防护。该公司在网络安全界是值得尊敬的。成为行业中最优秀之一的一个意外后果就是你会成为一个真正的目标——这并不是在开玩笑——一个靶子会被画在你的背上。这就像微软的Windows操作系统更容易成为病毒或其他恶意软件的受害者，而Mac或Linux系统有时会被错误地认为是*免疫*这种攻击的。任何了解情况的人都知道，Apple和Linux实际上并不是免疫于恶意活动的，包括病毒。那些系统只是没有像Windows那样的公众炒作和市场份额。虽然这种情况随着时间的推移在慢慢改变，但当你了解Kali
    Purple提供的优秀网络安全防护时，理解“没有任何东西是真正免疫的”这一点至关重要。任何可以被设计出来的东西，无论是实物还是虚拟的，也都可以被逆向工程……任何东西！请在你的网络安全职业生涯中始终牢记这一关键事实。
- en: That said, let’s continue to break down the theories of the Target attack –
    concerning the company’s superior security – and learn how Kali Purple can act
    as a useful suite of tools to protect against such attacks in the future. One
    unconfirmed rumor is that Target was in the process of installing a new IDS/IPS
    system alongside their existing one and until the new system was fully operational,
    the old system was allowed to remain active. If true, that’s fantastic! Another
    version of this story is that the highly reputable security firm FireEye had developed
    a malware detection tool, and it was that tool that was in place instead of a
    new IDS/IPS system. It’s unknown what happened. However, even when proposed answers
    are placed into a hypothetical situation, there are lessons to be learned here
    regarding Kali Purple.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，让我们继续解析Target攻击的理论——关于公司卓越的安全性——并学习Kali Purple如何作为一套有效的工具，来保护未来免受此类攻击。一种未经证实的传闻是，Target当时正在安装一套新的IDS/IPS系统，同时运行原有的系统，直到新系统完全投入使用之前，旧系统仍然保持活跃。如果这是真的，那真是太棒了！另一种版本的故事是，备受推崇的安全公司FireEye开发了一款恶意软件检测工具，而正是这款工具被部署，而不是新的IDS/IPS系统。具体发生了什么尚不清楚。然而，即使将这些假设性答案置于一个假设的情境中，关于Kali
    Purple的经验教训仍然值得我们学习。
- en: In the first proposed scenario of a new IDS/IPS, it’s been said that the new
    system did indeed detect malicious activity (or FireEye’s product) and did indeed
    report on it – supposedly to an annoying level! However, the old system was still
    operational, and the old system wasn’t reporting on it. That caused the technicians
    to incorrectly assume the new system was malfunctioning, so they manually closed
    the alerting process, choosing instead to believe the old technology. Now, even
    if this isn’t true, anybody who’s ever worked in a SOC before knows that **alert
    fatigue** is a real thing and it’s very easy for a technician or analyst, especially
    at the end of their shift, to fall victim to taking unnecessary shortcuts. Anytime
    you or an organization you are working for is conducting an upgrade or improvement
    to the security defenses, keep in mind that there’s a reason you’re upgrading
    your technology. If the new technology sounds an alarm, believe it folks! As we
    work through Kali Purple’s defensive tools, take note of whether something obnoxious
    alerts you. If it does, believe it! Even if it ends up being incorrect the first
    hundred times, it only takes the one time, right?
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在新 IDS/IPS 的首次提议场景中，有人说新系统确实检测到了恶意活动（或 FireEye 的产品），并且确实对此进行了报告——据说这种报告让人感到烦躁！然而，旧系统仍然在运行，且旧系统并未报告此事件。这导致技术人员错误地认为新系统出现了故障，因此他们手动关闭了警报过程，而选择相信旧技术。现在，即使这不是真的，任何曾在
    SOC 工作过的人都知道，**警报疲劳**是真实存在的，尤其是在班次即将结束时，技术人员或分析师很容易因此采取不必要的快捷方式。每当你或你所在的组织进行安全防御的升级或改进时，请记住，你之所以升级技术是有原因的。如果新技术发出警报，那就相信它！在使用
    Kali Purple 的防御工具时，注意是否有某些烦人的警报出现。如果有，信它！即使前一百次都不正确，也只需要一次准确，不是吗？
- en: Another takeaway from the Target hack is the level of security training offered
    to the people working with the systems. It would be a fair assumption to think
    that proper training might have encouraged those dismissing the alarms to realize
    they could’ve been legitimate, and the older technology was simply not catching
    what the new stuff was. One of Kali Purple’s most spectacular benefits is its
    ability to create live scenarios for testing and proof-of-concept purposes that
    can then be used to train technicians and analysts firsthand! Training in any
    technology-based field is critical. When you can add the element of practical
    application and live examples, that helps the learners visualize and better understand
    the concepts that need to be conveyed.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个从 Target 黑客攻击中得到的启示是提供给系统操作人员的安全培训水平。可以合理假设，适当的培训可能会让那些忽视警报的人意识到，这些警报可能是合法的，而旧技术根本无法捕捉到新技术能够识别的威胁。Kali
    Purple 的一个重要优势就是其创建实时场景用于测试和概念验证的能力，这些场景可以用来对技术人员和分析师进行直接培训！在任何技术领域，培训都是至关重要的。当你能够加入实际应用和实时示例的元素时，这有助于学习者更好地理解需要传达的概念。
- en: A couple of additional features of the Target attack to keep in mind are insufficient
    data encryption and slow incident response. In the case of encryption, we will
    talk more about that later when we deal with some of the tools that are available
    alongside Kali Purple, such as **CyberChef** – a very robust encryption/decryption
    tool that is often considered to be a *requirement* to survive in the world of
    cybersecurity. In the case of incident response, there are a few tools we can
    consider, such as **Synapse** and **TheHive**. We will devote [*Chapter 8*](B21223_08.xhtml#_idTextAnchor134)
    to security incident response while looking at the utilities offered by Kali Purple.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，Target 攻击的另外几个特点是数据加密不足和响应速度缓慢。在加密方面，我们稍后将讨论与 Kali Purple 一起提供的某些工具，如 **CyberChef**——这是一款功能强大的加密/解密工具，通常被认为是生存在网络安全世界中的*必备工具*。在事件响应方面，我们可以考虑一些工具，如
    **Synapse** 和 **TheHive**。我们将在[*第八章*](B21223_08.xhtml#_idTextAnchor134)中专门讲解安全事件响应，并探讨
    Kali Purple 提供的工具。
- en: 'The 21st century continued to bring an influx of widespread high-profile cyberattacks:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 21 世纪继续带来大量广泛的高调网络攻击：
- en: '![Figure 1.2 – Snapshot of major cyberattacks since 2010](image/B21223_01_2.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.2 – 自 2010 年以来主要网络攻击的快照](image/B21223_01_2.jpg)'
- en: Figure 1.2 – Snapshot of major cyberattacks since 2010
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – 自 2010 年以来主要网络攻击的快照
- en: Now that we’ve covered a very brief history and the evolution of events that
    created the state of cybersecurity as we know it today, let’s examine some of
    the tools that have been developed and honed because of that evolution. In the
    next section, you’re going to get a glimpse of some of the most powerful offensive
    security (red team) tools in use today. They are part of the Kali Linux OS, which
    means they’re part of Kali Purple.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经简要回顾了网络安全领域的历史和事件演变，这些因素造就了如今的网络安全格局。接下来，我们将看看由于这些演变而开发和打磨的部分工具。在下一节中，您将一窥当前使用的一些最强大的进攻性安全（红队）工具。这些工具是
    Kali Linux 操作系统的一部分，也就是说，它们是 Kali Purple 的一部分。
- en: Offensive security
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进攻性安全
- en: The offensive security aspect hails from the red team side of the Purple family.
    Because it is the defensive toolset that sets Kali Purple apart from the rest,
    we will only highlight the offensive portion as it relates to use cases and testing
    the defensive setup of Purple. You will want to learn or at least have a basic
    understanding of offensive security to get the most robust rewards from Kali Purple.
    You will gain an understanding of enough offensive security and red team tools
    and techniques that you’ll be able to effectively test your defensive setup. That
    will also allow you to develop live presentations and proof-of-concept activities
    that you can use to train others or even play with yourself. This, by far, is
    not an exhaustive instruction or reference point for anyone who is exclusively
    or primarily interested in offensive security. It has only been included to make
    your Kali Purple journey proper and complete.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 进攻性安全方面源自 Purple 家族中的红队部分。由于防御性工具集是 Kali Purple 区别于其他工具的关键，我们将仅突出与使用案例和测试 Purple
    防御设置相关的进攻性部分。您需要学习或至少对进攻性安全有基本的了解，才能从 Kali Purple 中获得最强大的回报。您将理解足够的进攻性安全和红队工具及技术，从而能够有效地测试您的防御设置。这也将使您能够开发实时展示和概念验证活动，用于培训他人或自己尝试。这并不是一个详尽的说明或参考，特别是对于那些专门或主要关注进攻性安全的人。它仅仅是为了让您的
    Kali Purple 之旅更加完整和顺利。
- en: It’s expected that most who are reading this book already have a certain level
    of understanding or at least a foundation for the Kali Linux OS. However, not
    everyone interested in or working in cybersecurity has taken the time to work
    with and appreciate the full value of Linux. The Kali Purple hype has created
    a renewed interest in working with Linux for some who otherwise have limited exposure
    or experience with the OS. For that reason, we’re going to provide you with enough
    information throughout this book so that you can successfully understand and use
    Kali Purple, even if you have no Linux experience. However, let’s be honest –
    we techies do tend to be rather addicted to our craft, don’t we? You may be tempted
    to stray from Kali Purple if you have limited Linux experience. While that’s truly
    not necessary to appreciate Purple, Vijay Kumar Velu has produced a masterpiece
    that will satisfy your curiosities. You’ll find that golden nugget at the end
    of this chapter in the *Further reading* section; it will help pacify your thirst
    for those Kali Linux OS skills.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 预计阅读本书的大多数人已经对 Kali Linux 操作系统有一定的了解或至少有一定的基础。然而，并非每个对网络安全感兴趣或从事相关工作的人都花时间去使用并理解
    Linux 的全部价值。Kali Purple 的热潮激发了一些本来接触或经验有限的用户对 Linux 的兴趣。正因如此，我们将在本书中为您提供足够的信息，使您即便没有
    Linux 经验，也能成功理解和使用 Kali Purple。然而，让我们坦白说——我们这些技术人员确实往往对自己的技术有些上瘾，不是吗？如果您对 Linux
    的经验有限，您可能会被诱惑偏离 Kali Purple。虽然这并不影响您对 Purple 的理解，但 Vijay Kumar Velu 已经创作了一部杰作，将满足您的好奇心。您可以在本章的*进一步阅读*部分找到这个宝贵的信息，它将帮助您解渴，提升
    Kali Linux 操作系统的技能。
- en: Note
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: As we look at some of the red team tools and methods found within the Kali Linux
    distribution, it is mission-critical that we understand that these tools and methods
    are very dangerous. They can do real and significant damage – criminal levels
    of damage. Therefore, you should never use any of these tools and/or methods without
    first making absolutely, indisputably, certain that you have permission to do
    so. Of course, if you’re attacking your own system and later argue that you didn’t
    give yourself permission, you likely have larger issues to deal with. Joking aside,
    there are a plethora of publicly available testing sites and applications that
    were specifically engineered for hands-on practice. However, those resources are
    not applicable here because we are using these tools to test our very own defenses.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们查看Kali Linux发行版中的一些红队工具和方法时，必须明确理解这些工具和方法是非常危险的。它们可以造成真实且重大的损害——甚至是犯罪级别的损害。因此，在使用这些工具和/或方法之前，务必确保你拥有执行此类操作的明确授权。当然，如果你在攻击自己的系统后再辩称没有授权自己，那你可能面临更大的问题。开个玩笑，实际上有很多公开的测试网站和应用程序是专门为实践操作而设计的。然而，这些资源在这里不适用，因为我们正在使用这些工具来测试我们自己的防御系统。
- en: 'Some tools that are available in the Kali Linux distribution that are used
    by offensive operators, both hackers and security teams alike, include the following:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux发行版中有一些工具，既被黑客也被安全团队的进攻型操作员使用，包括以下工具：
- en: Nmap
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nmap
- en: Metasploit Framework
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Metasploit Framework
- en: Burp Suite
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Burp Suite
- en: Wireshark
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wireshark
- en: Aircrack -ng
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aircrack-ng
- en: John the Ripper
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John the Ripper
- en: Hydra
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hydra
- en: SQLmap
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQLmap
- en: Maltego
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maltego
- en: '**Social Engineering** **Toolkit** (**SET**)'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**社会工程学** **工具包** (**SET**)'
- en: Let’s look at these in detail.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们详细了解这些工具。
- en: Nmap
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Nmap
- en: 'Short for **Network Mapper**, **Nmap** is popularly used by operators to discover
    the setup and layout of any network, allowing users to draw a physical map if
    they so choose. By mapping a network, the operator can then get a visual with
    which to analyze the network so that they can examine potential vulnerabilities
    or points of exploitation. Nmap accomplishes this goal by sending information
    packets to targets and making assumptions based on whether there is a response
    and if so, what that response looks like. Here’s an example Nmap scan:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**Nmap**是**网络映射器**的缩写，它是运营商广泛使用的工具，用于发现任何网络的设置和布局，允许用户在需要时绘制物理网络图。通过映射网络，操作员可以获取一个可视化的图形，用以分析网络，从而检查潜在的漏洞或可利用点。Nmap通过向目标发送信息包，并根据是否收到响应以及响应的内容做出假设来实现这一目标。以下是一个Nmap扫描示例：'
- en: '![Figure 1.3 – Example Nmap scan](image/B21223_01_3.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图1.3 – 示例Nmap扫描](image/B21223_01_3.jpg)'
- en: Figure 1.3 – Example Nmap scan
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3 – 示例Nmap扫描
- en: Nmap can be used to scan an entire network or a range of IP addresses. When
    used in this manner, it is usually to identify any actively operating hosts within
    the network. After sending probing packets, the Nmap operator will be able to
    deduce that a host is online if there is a response of any kind. That will enable
    any attacker to create a topology of the network and list potential targets available
    for further probing and/or exploitation.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap可用于扫描整个网络或一系列IP地址。在这种使用方式下，通常是为了识别网络中任何正在运行的主机。在发送探测包后，Nmap操作员如果收到任何形式的响应，就可以推断出某个主机在线。这将使任何攻击者能够创建网络拓扑，并列出可供进一步探测和/或利用的潜在目标。
- en: As individual hosts are selected for further penetration, Nmap can then be used
    to run a port scan, which is used to determine if any ports are open for connections
    and communication. Not only does this technique help in identifying potential
    points of entry for an attacker, but it can also give insight into the functions
    of the device as specific port numbers might reveal specific types of activities.
    Ports **80** and **443** being open, for example, could tell the user that website
    and secure website activity is occurring with such a device.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 当选择个别主机进行进一步渗透时，Nmap可以用于执行端口扫描，端口扫描用于确定是否有端口对连接和通信开放。这种技术不仅有助于识别攻击者潜在的入口点，还可以提供设备功能的见解，因为特定的端口号可能揭示出特定类型的活动。例如，端口**80**和**443**开放，可能会告诉用户该设备正在进行网站和安全网站的活动。
- en: By analyzing responses to probes, Nmap can also assist the offensive operator
    in determining which OS is active on a host. That would significantly reduce the
    ambiguity of attack vectors and help them narrow the attack tools and methods
    most likely to be successful against that device. This process is known as **OS
    fingerprinting**.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 通过分析探针的响应，Nmap 还可以帮助攻击者确定主机上活动的操作系统。这将显著减少攻击向量的模糊性，并帮助他们缩小最有可能成功的攻击工具和方法。这一过程被称为**操作系统指纹识别**。
- en: As it relates to Kali Purple, Nmap activity can be detected and analyzed by
    the **Elasticsearch, Logstash, and Kibana** (**ELK**) stack, which we will begin
    to discuss in [*Chapter 2*](B21223_02.xhtml#_idTextAnchor039). It can also be
    detected by traffic and log analysis tools such as **Arkime** and **Malcolm**
    as well as intrusion detection utilities such as **Suricata** and **Zeek**, provided
    those tools are configured to do so. All of those tools are part of the Kali Purple
    distribution.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 与 Kali Purple 相关，Nmap 活动可以通过**Elasticsearch、Logstash 和 Kibana**（**ELK**）堆栈进行检测和分析，我们将在[*第
    2 章*](B21223_02.xhtml#_idTextAnchor039)中开始讨论它。它还可以通过流量和日志分析工具如**Arkime**和**Malcolm**，以及入侵检测工具如**Suricata**和**Zeek**进行检测，只要这些工具已配置为执行此操作。所有这些工具都是
    Kali Purple 发行版的一部分。
- en: Metasploit Framework
  id: totrans-78
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Metasploit Framework
- en: 'The **Metasploit Framework** is one of the most comprehensive open source exploit
    development platforms available. It is likely to be available by default with
    any Linux OS that focuses on penetration testing and that includes Kali Linux.
    Here’s the Metasploit console:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '**Metasploit Framework**是目前最全面的开源漏洞开发平台之一。它很可能默认与任何专注于渗透测试的 Linux 操作系统一起提供，包括
    Kali Linux。以下是 Metasploit 控制台：'
- en: '![Figure 1.4 – Metasploit’s default console](image/B21223_01_4.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.4 – Metasploit 默认控制台](image/B21223_01_4.jpg)'
- en: Figure 1.4 – Metasploit’s default console
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – Metasploit 默认控制台
- en: Originally created by a fellow named **Harley David** (**HD**) **Moore**, Metasploit
    is now owned and maintained by a company called **Rapid7**. The framework includes
    an exhaustive supply of tools, exploits, and payloads. In addition to the community
    framework, which is freely available, there is a paid pro edition, so you can
    rest at ease knowing you have professional support with advanced automation and
    reporting abilities.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 最初由名为**哈雷·大卫**（**HD**）**摩尔**的专家创建，Metasploit 现在由名为**Rapid7**的公司拥有并维护。该框架包括大量的工具、漏洞和有效载荷。除了可以免费使用的社区版框架外，还有付费的专业版，因此你可以放心，知道你可以获得专业支持，享有先进的自动化和报告功能。
- en: At a high level, exploits are simply pieces of code that are designed and written
    to take advantage of vulnerabilities in targeted information system endpoints.
    Metasploit includes exploits that are designed to gain unauthorized access, escalate
    privileges, and establish backdoors, as well as deliver and remotely execute malicious
    payloads.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 从高层次来看，漏洞利用只是为了利用目标信息系统端点中的漏洞而设计和编写的代码。Metasploit 包括旨在获得未经授权访问、提升特权、建立后门以及投递和远程执行恶意有效载荷的漏洞利用代码。
- en: Even better, the Metasploit Framework allows customized payloads to be created
    and provides access to a library of pre-built payloads. A **payload** is any application
    or piece of code that is delivered to a compromised system. The framework also
    includes what are known as **post-exploitation modules**, which are more like
    level two exploits or exploits that can only be used after the successful execution
    of a previous exploit. This can help operators continue to remorselessly explore
    deeper into a system and network to gain access to sensitive data for exfiltration
    or other malicious purposes.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 更好的是，Metasploit Framework 允许创建自定义有效载荷，并提供访问预先构建的有效载荷库的功能。**有效载荷**是指任何被投递到受损系统的应用程序或代码。该框架还包括所谓的**后渗透模块**，这些模块更像是二级漏洞利用或只能在成功执行先前漏洞利用后使用的漏洞利用。这可以帮助操作员继续深入探索系统和网络，获取敏感数据进行外泄或其他恶意目的。
- en: Metasploit can also be used to launch social-engineering-based attacks and generate
    reports of actions taken. Just like Nmap, Metasploit activity can be detected
    by the tools included with the Kali Purple distribution, especially Suricata and
    Zeek. The ELK stack would require some customizations, but you’ll understand why
    that’s a good thing before all is said and done.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit 还可以用来发起基于社会工程学的攻击，并生成所采取行动的报告。就像 Nmap 一样，Metasploit 的活动可以通过 Kali
    Purple 发行版中包含的工具进行检测，尤其是 Suricata 和 Zeek。ELK 堆栈需要一些自定义配置，但在一切完成后，你会明白为什么这是一件好事。
- en: Burp Suite
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Burp Suite
- en: 'Developed by a company called PortSwigger, **Burp Suite** is the leading cybersecurity
    utility used for web application security (and attacks). It is highly unlikely
    you’ll find a professional penetration tester doing web application tests who
    isn’t using Burp Suite. There are several unique components – Burp Suite calls
    them **modules** – to a Burp Suite installation, each designed to work with the
    other components if the user wishes. Most of these modules can be found for free
    within the Community edition of this product. However, some features of Burp Suite
    are only available in the paid Pro version. Don’t discount this product, however!
    The free Community edition provides a substantial toolset that’s very useful!
    Here’s the Burp Suite lobby:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**Burp Suite**由一家名为PortSwigger的公司开发，是领先的网络安全工具，广泛应用于web应用安全（及攻击）。几乎不可能找到一个专业的渗透测试人员在进行web应用测试时不使用Burp
    Suite。Burp Suite的安装包含多个独特的组件 – Burp Suite称之为**模块** – 每个模块设计上可以与其他模块配合使用，前提是用户需要这样做。大多数这些模块可以在该产品的社区版中免费使用。然而，Burp
    Suite的一些功能只有在付费的Pro版中才能使用。但不要因此就小看这个产品！免费的社区版提供了一个非常有用的强大工具集！下面是Burp Suite的大厅：'
- en: '![Figure 1.5 – Burp Suite’s default lobby](image/B21223_01_5.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![图1.5 – Burp Suite的默认大厅](image/B21223_01_5.jpg)'
- en: Figure 1.5 – Burp Suite’s default lobby
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.5 – Burp Suite的默认大厅
- en: Burp Suite has a proxy module that serves as a sort of intermediary between
    a web browser and the target of operations. This proxy allows for **man-in-the-middle**
    style of attacks by providing an avenue for the operators to intercept HTTP/S
    traffic and modify its requests and responses.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite有一个代理模块，充当web浏览器和目标操作之间的中介。这个代理允许进行**中间人攻击**，为操作员提供拦截HTTP/S流量并修改其请求和响应的途径。
- en: There is a scanner module in the paid Pro version that provides automation for
    identifying security vulnerabilities in the targeted web application. Like Nmap
    for web applications, this scanner operates by sending information to the target.
    The difference is whereas Nmap sends communication packets, Burp Suite sends attack
    payloads to target web applications and then analyzes the responses to those payloads
    to help identify potential vulnerabilities. Some of the vulnerabilities the scanner
    is looking for include opportunities for SQL injection, **cross-site scripting**
    (**XSS**), and **server-side request forgery** (**SSRF**). It then highlights
    these prospective points of attack for further analysis.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在付费的Pro版中，有一个扫描模块，可以自动化识别目标web应用中的安全漏洞。类似于Nmap用于web应用的功能，这个扫描器通过向目标发送信息来工作。不同之处在于，Nmap发送的是通信数据包，而Burp
    Suite发送的是攻击载荷到目标web应用，并分析这些载荷的响应，以帮助识别潜在的漏洞。扫描器寻找的漏洞包括SQL注入、**跨站脚本攻击**（**XSS**）和**服务器端请求伪造**（**SSRF**）。然后，它会突出显示这些潜在的攻击点，以便进一步分析。
- en: Ever wanted to run a web crawler or spider? Now you can! One of Burp Suite’s
    modules is exactly that, a spider. As you might have guessed, the spider module
    will crawl the target application, where it will then attempt to map the functionality
    of the application for further investigation. The purpose of the spider is to
    help identify vulnerable areas that might not be so easily discovered from browsing.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 曾经想运行一个web爬虫或者蜘蛛程序吗？现在你可以了！Burp Suite的一个模块正是这个功能——蜘蛛。正如你所猜测的，蜘蛛模块将会爬取目标应用，然后尝试映射应用的功能以供进一步调查。蜘蛛的目的是帮助识别那些通过浏览不太容易发现的脆弱区域。
- en: Burp Suite allows for attacks called **brute-force attacks**, which is where
    the user tries all possible username and password combinations. As you might imagine,
    doing this manually could take forever (literally!). Burp Suite automates this
    process and works at unthinkable speeds to attempt these attacks on your behalf.
    This action is done in the Intruder module. Within this module, the user can determine
    the parameters they’d like the brute-force attack to use.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite支持进行被称为**暴力破解攻击**的攻击，即用户尝试所有可能的用户名和密码组合。正如你所想象的，手动进行这一过程可能会耗费大量时间（真的是永远都做不完！）。Burp
    Suite自动化了这个过程，并以令人难以想象的速度代表你进行这些攻击。这一操作是在Intruder模块中进行的。在这个模块中，用户可以设置暴力破解攻击所使用的参数。
- en: You can also import something called **rainbow lists** into this module. When
    a password is created in a computer system, the computer will try to encode that
    password using a hypothetical one-way mathematical formula. This means the computation
    – in theory – cannot be reversed. In truth, anything that can be engineered can
    also be reverse-engineered. However, these mathematical processes’ purpose is
    to make such an endeavor as close to impractical as possible. The result of these
    one-way mathematical processes is called a **hash**.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以将一种称为**彩虹列表**的文件导入这个模块。当计算机系统创建密码时，计算机会尝试使用一种假设的单向数学公式对密码进行编码。这意味着理论上计算无法被逆转。事实上，任何可以被设计出来的东西也可以被逆向工程。然而，这些数学过程的目的是尽可能让这种逆向过程变得不切实际。这些单向数学过程的结果被称为**哈希值**。
- en: Over time, hackers and offensive security personnel have gathered the hashes
    of known and commonly used passwords and stored them in files along with the passwords
    they represent. These files are called **rainbow tables** or rainbow lists. The
    intruder module will allow you to import such a list so that it can attempt to
    apply the encoded hashes to break in.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 随着时间的推移，黑客和攻防安全人员收集了已知和常用密码的哈希值，并将其与相应的密码一起存储在文件中。这些文件被称为**彩虹表**或彩虹列表。入侵者模块允许你导入这样的列表，从而尝试应用编码哈希值进行破解。
- en: The intruder module can also be used for **fuzz testing**, which is popular
    with software test engineers and parameter manipulation. Also known as **fuzzing**,
    it involves injecting random or unexpected data into an application or system.
    It can be a form of *blind shooting* or taking a *stab in the dark*. It can also
    be organized with precomputed groups of data involving random characters or excessively
    large character inputs. You can use it to test how a web application might handle
    various inputs. This module makes that easy by allowing the user to define custom
    lists, payloads, and other attack scenarios. The primary purpose of the intruder
    module is to help the operator gain access by uncovering weak passwords or injection
    flaws or even identifying areas where **too much information** (**TMI**) was shared.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 入侵者模块还可以用于**模糊测试**，这种测试方法在软件测试工程师和参数操控中非常流行。模糊测试，也叫做**模糊处理**，涉及向应用程序或系统注入随机或意外的数据。它可以是一种*盲目射击*或*瞎猫碰死耗子*的方式。它还可以组织成包含随机字符或过大字符输入的预计算数据组。你可以用它来测试
    Web 应用如何处理各种输入。这个模块通过允许用户定义自定义列表、有效载荷和其他攻击场景，使这项工作变得简单。入侵者模块的主要目的是帮助操作员通过发现弱密码、注入漏洞，甚至识别**过多信息**（**TMI**）被泄露的地方，进而获得访问权限。
- en: Sometimes, attackers accomplish their objective by utilizing a method known
    as a **replay attack**. Burp Suite offers a module known as the Repeater that
    exists to make these sorts of attacks possible. Like all Burp Suite modules, this
    one allows for customizations and offers great flexibility. It also allows the
    operator to take existing web application responses and alter them before replaying
    them to help determine where any application’s thresholds might be.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，攻击者通过利用一种称为**重放攻击**的方法来实现他们的目标。Burp Suite 提供了一个名为 Repeater 的模块，旨在使这类攻击成为可能。像所有
    Burp Suite 模块一样，这个模块也允许自定义，并提供了很大的灵活性。它还允许操作员在重放之前修改现有的 Web 应用响应，以帮助确定任何应用的阈值在哪里。
- en: The Sequencer is a module that Burp Suite has for analyzing the randomness and
    quality of session tokens and what would otherwise be unguessable data. It evaluates
    the strength of cryptographic algorithms and the level of randomness used within
    the target application. This module does not necessarily offer an activity that
    would be directly detected by any of Kali Purple’s included utilities. However,
    the information an operator gleans from the sequencer can lead to attacks based
    on the weaknesses it discovers and those attacks most assuredly can be detected
    by the ELK stack, Suricata, Zeek, and other tools.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: Sequencer 是 Burp Suite 提供的一个模块，用于分析会话令牌的随机性和质量，以及其他本应不可猜测的数据。它评估了加密算法的强度和目标应用中使用的随机性水平。这个模块不一定会提供直接被
    Kali Purple 所包含的工具检测到的活动。然而，操作员从 Sequencer 获得的信息可能会导致基于其发现的弱点的攻击，而这些攻击通常可以通过 ELK
    堆栈、Suricata、Zeek 和其他工具被检测到。
- en: What is modern technology without having the ability to make it extensible?
    The final module in Burp Suite is the Extender. It’s an API that allows users
    to develop and integrate custom plugins into the Burp Suite application. It allows
    Burp Suite users to custom-tailor the utility to their organization’s needs so
    that it includes automation. While it’s not directly going to be interacting with
    any Kali Purple distributions, there’s a large repository that the Burp Suite
    community has created with user-submitted plugins and any of those items will
    have the potential to generate activity recognized by the Purple set of tools.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 现代技术如果没有扩展性又算什么呢？Burp Suite 的最终模块是 Extender。它是一个 API，允许用户开发并将自定义插件集成到 Burp Suite
    应用程序中。它使 Burp Suite 用户能够根据组织的需求量身定制该工具，以实现自动化。尽管它不会直接与任何 Kali Purple 发行版交互，但 Burp
    Suite 社区已经创建了一个大型的插件库，用户提交的任何插件都有可能在 Purple 工具集的检测下产生活动。
- en: The vastness of Burp Suite cannot be overstated. Like all the tools mentioned
    in this section, it can be used to cause harm or for good by testing for vulnerabilities
    to rebuff. Burp Suite is based around web application hacking, and you can safely
    fly to Vegas and *bet the ranch* any such activity will be looked at with Kali
    Purple’s defensive toolset.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 的广度不可低估。像本节提到的所有工具一样，它既可以用于造成损害，也可以用于良性目的，通过测试漏洞来抵御攻击。Burp Suite
    专注于 Web 应用程序的黑客攻击，你可以放心地去拉斯维加斯并*孤注一掷*，任何类似活动都将会被 Kali Purple 的防御工具集审查。
- en: Wireshark
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Wireshark
- en: 'The Kali Purple distribution adds some tools for traffic and log analysis,
    and we will go over those in this book. However, we’d be remiss to ignore the
    grand-daddy of all protocol analyzers – **Wireshark**. It was part of the Kali
    Linux package even before the Purple variety was released. Wireshark is an open
    source application that’s widely used and often referred to as the gold standard
    for protocol analyzers. You’ll find it used for network troubleshooting, packet
    analysis, and security vulnerability testing. It operates by *capturing* network
    traffic packets for operators to review and analyze. Here’s an example of a Wireshark
    packet capture:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Purple 发行版增加了一些用于流量和日志分析的工具，我们将在本书中介绍这些工具。然而，我们不能忽视所有协议分析工具中的“祖宗”——**Wireshark**。它在
    Kali Linux 包中就已包含，甚至在 Purple 版本发布之前就已经有了。Wireshark 是一个开源应用程序，被广泛使用，通常被称为协议分析工具的黄金标准。你会发现它被用于网络故障排除、数据包分析和安全漏洞测试。它通过*捕获*网络流量数据包供操作员审查和分析。以下是一个
    Wireshark 数据包捕获的示例：
- en: '![Figure 1.6 – Wireshark example packet capture](image/B21223_01_6.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.6 – Wireshark 示例数据包捕获](image/B21223_01_6.jpg)'
- en: Figure 1.6 – Wireshark example packet capture
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6 – Wireshark 示例数据包捕获
- en: Wireshark works by grabbing network packets as they flow across a network interface.
    It is typically used to capture and monitor traffic from protocols aligning with
    Ethernet, TCP/IP, HTTP, DNS, HTTP/S, and others. By grabbing these packets, analysts
    can look at the headers, payload, and other relevant information data that is
    being transmitted to help determine if unwanted activity is occurring.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark 通过抓取在网络接口上传输的网络数据包来工作。它通常用于捕获和监控符合以太网、TCP/IP、HTTP、DNS、HTTP/S 等协议的流量。通过抓取这些数据包，分析师可以查看头部、有效载荷和其他相关数据，帮助确定是否发生了不希望的活动。
- en: Wireshark identifies and examines the protocols being used and then provides
    a very detailed analysis for human eyes to help determine the intended behavior
    and structure of the various protocols. By examining the messages and interactions
    this tool identifies, analysts can help uncover anomalous behavior or even simple
    security misconfigurations.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark 识别并检查正在使用的协议，然后提供非常详细的分析，帮助人类查看并确定各种协议的预期行为和结构。通过检查此工具识别的消息和交互，分析师可以帮助发现异常行为，甚至是简单的安全配置错误。
- en: Wireshark can sometimes be used by bad actors for network reconnaissance in
    a similar fashion to Nmap. In this case, the operator can map the target network
    by evaluating the information contained in the packets instead of direct responses
    – or lack thereof – from the devices themselves. Through packet evaluation, the
    analyst should be able to identify the hosts on the network, detect open ports,
    and observe communications for any odd or unusual patterns. This will help to
    visualize the actual infrastructure of the target network.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark有时会被恶意行为者用来进行类似于Nmap的网络侦察。在这种情况下，操作员可以通过评估数据包中包含的信息来绘制目标网络的图，而不是依赖于设备本身的直接响应——或者没有响应。通过数据包评估，分析人员应该能够识别网络中的主机，检测开放端口，并观察通信中是否有任何异常或不寻常的模式。这将有助于可视化目标网络的实际基础设施。
- en: This style of analysis helps operators to investigate sessions for anomalous
    behavior. That, in turn, should show authentication mechanisms and see if any
    unusual activity is occurring there. Overall, weaknesses in data exchange or session
    management should be visible. Using these methods, Wireshark can then look for
    areas of potential traffic manipulation or opportunities to manipulate traffic
    via injection methods, payload modification, or network protocol manipulation,
    which is sometimes utilized by bad actors to bypass network security measures
    such as flood attacks to cause protective devices to *fail open*, for example.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 这种分析方式帮助操作员调查会话中的异常行为。这样，操作员就能看到认证机制并查看是否发生了任何不寻常的活动。总体而言，数据交换或会话管理中的弱点应该是显而易见的。通过这些方法，Wireshark可以进一步寻找潜在的流量操控区域或通过注入方法、负载修改或网络协议操控等手段进行流量操控的机会，这些手段有时会被恶意行为者用来绕过网络安全措施，例如通过洪泛攻击使保护设备*失效打开*。
- en: Like the previous tools listed, Wireshark activity can be detected by Suricata,
    Zeek, and the ELK stack, among other tools found with the Kali Purple distribution.
    Due to its popularity with penetration testers and attackers alike, we are going
    to include it in our process.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 与前述工具类似，Wireshark的活动可以被Suricata、Zeek和ELK栈等工具检测到，Kali Purple发行版中也有其他类似工具。由于它在渗透测试者和攻击者中都很受欢迎，我们将在我们的流程中加入它。
- en: Aircrack -ng
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Aircrack -ng
- en: '**Aircrack -ng** is a suite of software tools that are typically used for network
    security testing. However, unlike other network testing tools we’ve covered, this
    suite generally specializes in wireless communications. It is most frequently
    used to test against the strength of Wi-Fi encryption protocols and passwords.
    The following screenshot shows some of Aircrack -ng’s Wi-Fi options:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**Aircrack -ng** 是一套通常用于网络安全测试的软件工具。然而，与我们之前提到的其他网络测试工具不同，这套工具专注于无线通信。它最常用于测试Wi-Fi加密协议和密码的强度。以下截图展示了一些Aircrack
    -ng的Wi-Fi选项：'
- en: '![Figure 1.7 – Aircrack -ng Wi-Fi options](image/B21223_01_7.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.7 – Aircrack -ng Wi-Fi 选项](image/B21223_01_7.jpg)'
- en: Figure 1.7 – Aircrack -ng Wi-Fi options
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.7 – Aircrack -ng Wi-Fi 选项
- en: '**Airodump -ng** is one of the tools in this package and its purpose is to
    capture and analyze Wi-Fi traffic similar to how Wireshark does. One of its unique
    aspects is that it focuses on collecting information about nearby Wi-Fi networks,
    any access points associated with them, and any devices connected to them at the
    time of the scan. It also looks for any encryption protocols that have been used.'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**Airodump -ng** 是该套件中的一个工具，其目的是捕获并分析Wi-Fi流量，类似于Wireshark的工作方式。它的一个独特之处在于，专注于收集附近Wi-Fi网络的信息，任何与之关联的接入点，以及在扫描时连接到它们的设备。它还会查找任何使用的加密协议。'
- en: The primary tool of the suite, the title application, has a feature that captures
    handshake packets for the nifty purpose of working out password cracking when
    offline. By default, it will use dictionary-based brute-force methods to accomplish
    this objective. It also has features that are designed to recover WEP and WPA/WPA2
    keys if the network encryption is weak. It does this using statistical analysis
    and rainbow tables – sometimes referred to as pre-computed tables.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 套件中的主要工具，即标题应用程序，具有捕获握手数据包的功能，巧妙地用于在离线时进行密码破解。默认情况下，它将使用基于字典的暴力破解方法来实现这一目标。它还具有设计用于恢复WEP和WPA/WPA2密钥的功能，如果网络加密较弱的话。它通过统计分析和彩虹表——有时被称为预计算表——来完成这一任务。
- en: '**Aireplay -ng** is an application in the package that is utilized to perform
    what is known as de-authentication attacks. It sends disassociation or de-authentication
    packets to the targeted devices, forcing them to disconnect from their Wi-Fi networks.
    This is done to force the reauthentication process so that handshake packets can
    be captured.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**Aireplay -ng** 是包内的一款应用程序，用于执行被称为去认证攻击（de-authentication attacks）的操作。它向目标设备发送去关联或去认证的数据包，强制它们与
    Wi-Fi 网络断开连接。这样做是为了强制进行重新认证过程，以便捕获握手数据包。'
- en: 'A word of caution when using this set of tools: it is very easy for the tools
    to perform work you didn’t overtly ask them to perform! That can be dangerous
    due to the illegal nature of performing many of these tasks. So, use Aircrack
    -ng with extreme caution. Unlike the other red team tools we’ve discussed thus
    far, the actions brought on by this set are much more difficult to detect and
    are likely only to be captured if the Kali Purple suite of defensive tools has
    been configured to look for this activity.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这组工具时需要特别小心：这些工具非常容易执行你没有明确要求它们执行的操作！由于许多操作具有非法性质，这可能是非常危险的。所以，在使用 Aircrack
    -ng 时，务必小心谨慎。与我们之前讨论的其他红队工具不同，这组工具的行为更难被检测到，只有在配置了 Kali Purple 防御工具套件以监控此类活动时，才有可能被捕捉到。
- en: John the Ripper
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: John the Ripper
- en: 'Often considered the *King of Cracking* (sometimes seen as *King of Kracking*),
    **John the Ripper** is as it sounds, an industry-leading, open source password-cracking
    system. In penetration testing, it is used to test the various strengths of passwords
    by attempting to crack encrypted password hashes. The *good guys* will use it
    to assess and gain an overall feel for the security level of their password systems
    and policies. Here’s an example of John the Ripper cracking a password:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 经常被认为是 *破解之王*（有时也称作 *Kracking之王*），**John the Ripper** 如其名字所示，是一款行业领先的开源密码破解系统。在渗透测试中，它用于测试密码的强度，通过尝试破解加密的密码哈希值。*好人*
    使用它来评估并全面了解其密码系统和策略的安全性。下面是 John the Ripper 破解密码的示例：
- en: '![Figure 1.8 – John the Ripper cracks a password called “password”](image/B21223_01_8.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![图1.8 – John the Ripper 破解名为“password”的密码](image/B21223_01_8.jpg)'
- en: Figure 1.8 – John the Ripper cracks a password called “password”
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.8 – John the Ripper 破解名为“password”的密码
- en: It is commonplace for attackers to attempt to retrieve password hashes – not
    expecting passwords to be stored *in the clear* so much in the modern era, though
    it does still happen. John the Ripper is a tool that helps expedite the process
    of finding and grabbing password hashes because it is a feature of this application.
    As previously discussed, a password hash is the encrypted value of a password
    that is stored on a system so that it may process and approve or disapprove access.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者尝试获取密码哈希值是常见的做法——尽管在现代社会密码不再常常以 *明文* 存储，但这种情况仍然会发生。John the Ripper 是一款有助于加速查找和抓取密码哈希值的工具，因为这是该应用程序的一个功能。如前所述，密码哈希是存储在系统上的密码的加密值，用于处理并批准或拒绝访问。
- en: Once obtained, the user will want to try and figure out the hash type so that
    it can direct John the Ripper to the correct manner of decryption. The application
    will first attempt to identify the hash type on its own. It supports various password
    hash types, such as MD5, SHA1, NTLM, and others. If it cannot ID the hash type
    on its own, another popular application called **CyberChef** might be used.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦获取到哈希值，用户将会尝试识别哈希类型，以便能将 John the Ripper 引导到正确的解密方式。该应用程序首先会尝试自动识别哈希类型。它支持多种密码哈希类型，如
    MD5、SHA1、NTLM 等。如果它无法自行识别哈希类型，可以使用另一个流行的应用程序 **CyberChef** 来辅助识别。
- en: Note
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: CyberChef, a tool included in the Kali Purple suite that we will talk about
    in the next section and again in [*Chapter 6*](B21223_06.xhtml#_idTextAnchor098),
    is a tool that is often used to help identify encryption types that include hashes.
    It can also be accessed online if needed but caution is advised if you’re using
    this application remotely on a customer-related alert or incident. Any information
    that’s stolen during data transmission constitutes a data leak and is covered
    by many different regulatory instructions. Something simple could become a public
    relations nightmare for you, your employer, and your employer’s customers and
    potentially cost you your job.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: CyberChef 是 Kali Purple 套件中包含的一个工具，我们将在下一节和 [*第六章*](B21223_06.xhtml#_idTextAnchor098)中再次讨论它。它是一个常用来帮助识别包含哈希值的加密类型的工具。如果需要，它也可以在线访问，但如果你在客户相关的警报或事件中远程使用此应用程序，建议小心。数据传输过程中被窃取的任何信息都构成数据泄漏，且受多种不同的监管指令保护。看似简单的操作可能会成为你、你的雇主以及雇主的客户的公关噩梦，甚至可能导致你失去工作。
- en: Like other cracking tools, John the Ripper has features built into it that support
    wordlists and customized tables. These are pre-generated lists of potential passwords.
    They can be from a variety of strategies, including recently leaked database passwords,
    most used passwords, or any other method. Once these word lists have been prepared
    and the hashes have been identified, John the Ripper will attempt many different
    cracking techniques to attempt to match the password hash to its dictionary representative.
    Once complete, the results are listed as successfully cracked passwords.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他破解工具一样，John the Ripper 具有内置的支持词库和自定义表格的功能。这些是预生成的潜在密码列表，可能来自多种策略，包括最近泄露的数据库密码、最常用的密码或其他方法。一旦准备好这些词库并识别出哈希值，John
    the Ripper 将尝试多种不同的破解技术，试图将密码哈希与字典中的代表密码匹配。一旦完成，结果将列出成功破解的密码。
- en: When used remotely, John the Ripper activity can easily be detected by Suricata,
    the ELK stack, Zeek, and other tools within the Kali Purple distribution.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在远程使用时，John the Ripper 活动可以轻松地被 Suricata、ELK 堆栈、Zeek 和 Kali Purple 发行版中的其他工具检测到。
- en: Hydra
  id: totrans-128
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Hydra
- en: 'Another well-known open source password-cracking tool is **Hydra**. Whereas
    John the Ripper’s focus is on cracking passwords based on stored hashes, Hydra
    is more for traditional brute force attacks against network services. Here’s an
    example of Hydra’s use:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个知名的开源密码破解工具是 **Hydra**。与 John the Ripper 专注于基于存储的哈希值破解密码不同，Hydra 更适用于对网络服务进行传统的暴力破解攻击。以下是
    Hydra 使用的一个示例：
- en: '![Figure 1.9 – Hydra used to recover a local password for an SSH server](image/B21223_01_9.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.9 – 使用 Hydra 恢复 SSH 服务器的本地密码](image/B21223_01_9.jpg)'
- en: Figure 1.9 – Hydra used to recover a local password for an SSH server
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.9 – 使用 Hydra 恢复 SSH 服务器的本地密码
- en: The first step in using Hydra is to identify the target system or network service.
    That can usually be accomplished by using some of the tools we’ve already discussed,
    such as Nmap and Wireshark.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Hydra 的第一步是识别目标系统或网络服务。这通常可以通过我们之前讨论过的一些工具来完成，例如 Nmap 和 Wireshark。
- en: Once a target is selected, the operator will identify and specify the authentication
    method to be tested. With Hydra, the targets could be any one of SSH, FTP, HTTP/S,
    Telnet, or database services such as MySQL or PostgreSQL, among others. As the
    information is provided to the application, the operator will also include the
    IP address or hostname and port number of the target, along with the desired protocol
    method to be used, such as a password list, dictionary method, and so on. With
    Hydra, the operator has the option to custom-create the password list they wish
    to use or use a pre-existing list developed by others.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦选择了目标，操作员将识别并指定需要测试的认证方法。使用 Hydra 时，目标可以是 SSH、FTP、HTTP/S、Telnet 或数据库服务，如 MySQL
    或 PostgreSQL 等。随着信息提供给应用程序，操作员还将包括目标的 IP 地址或主机名和端口号，以及希望使用的协议方法，如密码列表、字典法等。使用
    Hydra 时，操作员可以选择自定义创建密码列表，或使用他人已开发的现成列表。
- en: Just like other cracking utilities, once all the information has been input
    and the proper lists are in place, simply run the program and it will automatically
    attempt many different password-cracking methods. It will also attempt password
    spraying if it’s set to do so, as well as user enumeration, both of which are
    features that are not always available with other cracking utilities. Hydra will
    provide results the same as other cracking tools for humans to read, verify, and
    validate. It also is easily detected by Kali Purple’s suite of defense tools.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 就像其他破解工具一样，一旦输入所有信息并且正确的列表准备好，只需运行程序，它会自动尝试许多不同的密码破解方法。如果设置了，它还会尝试密码喷洒以及用户枚举，这些都是其他破解工具中不一定提供的功能。Hydra
    会提供与其他破解工具一样的结果，以便人类读取、验证和确认。它也容易被 Kali Purple 的一套防御工具检测到。
- en: SQLmap
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SQLmap
- en: '**SQL** stands for **Structured Query Language** and it is a common language
    that programmers and software engineers use to interact with databases. It’s how
    applications add, delete, and modify information in a database. So, as you might
    have guessed, **SQLmap** is an open source tool that’s used to exploit databases.
    It tries to detect and exploit SQL injection vulnerabilities in web applications
    that use SQL databases. Its power lies in its ability to automate injection attacks.
    Here’s its lobby:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**SQL** 代表 **结构化查询语言**，它是程序员和软件工程师与数据库交互时常用的语言。它是应用程序在数据库中添加、删除和修改信息的方式。所以，正如你可能已经猜到的，**SQLmap**
    是一个开源工具，用于攻击数据库。它尝试检测和利用使用 SQL 数据库的 Web 应用中的 SQL 注入漏洞。它的强大之处在于能够自动化注入攻击。下面是它的启动界面：'
- en: '![Figure 1.10 – SQLmap launch lobby showing available command options](image/B21223_01_10.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.10 – SQLmap 启动界面，显示可用的命令选项](image/B21223_01_10.jpg)'
- en: Figure 1.10 – SQLmap launch lobby showing available command options
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.10 – SQLmap 启动界面，显示可用的命令选项
- en: The application starts by scanning a web application to discover potential SQL
    injection vulnerabilities. It does this in a fashion that should be familiar to
    you by now. It sends specially crafted requests to the target web application
    and then… you guessed it… analyzes the response. By doing this, SQLmap can determine
    various types of SQL injection vulnerabilities, such as Boolean-based (true/false),
    time-based, and/or error-based injections.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 该应用程序首先扫描 Web 应用程序，以发现潜在的 SQL 注入漏洞。它的工作方式应该现在对你来说很熟悉。它向目标 Web 应用程序发送特制的请求，然后……你猜对了……分析响应。通过这样做，SQLmap
    可以确定各种类型的 SQL 注入漏洞，比如基于布尔值的（真假）、基于时间的和/或基于错误的注入。
- en: Once a potential SQL injection vulnerability is discovered by SQLmap, it can
    exploit that vulnerability by attempting to extract sensitive information from
    the database. It will attempt to retrieve database schemas, tables, and columns
    and then, if possible, dump the entire contents of the database. Making these
    calculated step-by-step actions helps to identify the full impact of the discovered
    vulnerability and the scope of any potential data leak. Any level of success with
    any one database for an organization often serves as an indicator that the same
    actions can be taken with nearly every other database found for that same organization.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦 SQLmap 发现潜在的 SQL 注入漏洞，它会通过尝试从数据库中提取敏感信息来利用该漏洞。它会尝试检索数据库模式、表格和列，然后如果可能，它会导出整个数据库的内容。通过这些逐步的计算操作，帮助识别已发现漏洞的全部影响及潜在的数据泄露范围。任何一个数据库在一个组织中的成功利用，往往表明同样的操作可以对该组织中的几乎每一个其他数据库进行。
- en: There are a couple of awesome features within SQLmap. One is that it allows
    its users to save the state of a successful injection attack to either resume
    later or share with others. This might be referred to as a form of built-in persistence!
    Another feature is that, like Metasploit, SQLmap offers a manner of post-success
    level two exploitation. It has several built-in techniques that can be used to
    continue the attack beyond simply extracting information from the database. It
    can execute arbitrary SQL queries, access the underlying filesystem (powerful!),
    and execute OS-level commands. It can even help to establish a reverse shell for
    remote command execution!
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: SQLmap 中有一些非常棒的功能。其中之一是它允许用户保存成功的注入攻击状态，以便稍后恢复或与他人共享。这可以被称为一种内建的持久性功能！另一个功能是，像
    Metasploit 一样，SQLmap 提供了一种成功后继续进行二次攻击的方式。它有几种内置的技术，可以在仅从数据库中提取信息之后继续攻击。它可以执行任意
    SQL 查询、访问底层文件系统（非常强大！），并执行操作系统级别的命令。它甚至可以帮助建立一个反向 shell，用于远程命令执行！
- en: Due to the *loud* nature of SQLmaps actions, it would undoubtedly be easily
    detected by cyber defense systems, including the ELK stack, Suricata, Zeek, and
    other tools within the Kali Purple distribution.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 SQLmap 操作的*喧闹*特性，它无疑会被包括 ELK 堆栈、Suricata、Zeek 以及 Kali Purple 分发版中的其他工具轻易检测到。
- en: Maltego
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Maltego
- en: 'Turning the page from cracking and vulnerability exploitation, we have **Maltego**.
    It is a very powerful intelligence-gathering and data-visualization utility. As
    implied, its purpose is to gather information, analyze it, and then place it within
    a GUI to help the operator visualize it. Like most other tools, it looks for vulnerabilities
    and helps to provide a comprehensive reconnaissance aspect of the attack chain.
    This is what Maltego looks like:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 从破解和漏洞利用的部分转到 **Maltego**，它是一个非常强大的情报收集和数据可视化工具。顾名思义，它的目的就是收集信息、分析数据，然后将其呈现在图形用户界面（GUI）中，帮助操作员进行可视化。与大多数其他工具一样，它寻找漏洞，并帮助提供攻击链的全面侦察。以下是
    Maltego 的界面：
- en: '![Figure 1.11 – Maltego example](image/B21223_01_11.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.11 – Maltego 示例](image/B21223_01_11.jpg)'
- en: Figure 1.11 – Maltego example
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.11 – Maltego 示例
- en: The expected usage of Maltego involves identifying the target network, individual,
    or domain. We’ve already covered a few tools to help with that if needed. Then,
    it helps the operator gather information from various sources, such as public
    databases, DNS records, social media profiles, and online publications, among
    other things. It reconciles this data – consolidates it – into a visual graph
    where it physically points out relationships and connections between the different
    entities of the data created.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Maltego 的预期方式是识别目标网络、个人或域。我们已经介绍了几种工具来帮助进行这些操作（如果需要的话）。然后，它帮助操作员从各种来源收集信息，比如公共数据库、DNS
    记录、社交媒体档案和在线出版物等。它将这些数据进行整合 —— 合并 —— 并生成一个可视化图表，在图表中明确指出不同数据实体之间的关系和连接。
- en: Entities can be IP addresses, email addresses, names, or any unique item concerning
    the intelligence it was instructed to gather. Maltego will represent these different
    entities in the form of nodes, showing relationships that appear to exist between
    them using links or edges within the graph. This helps the operators to carefully
    evaluate the gathered intelligence and visualizations with the connections between
    the elements. That, in turn, can help the operators piece together potential attack
    vectors, vulnerabilities, and entry points for the exploitation phase of a cyberattack.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 实体可以是 IP 地址、电子邮件地址、姓名或与其指示收集的情报相关的任何独特项目。Maltego 会将这些不同的实体以节点的形式表示，并使用图中的链接或边缘显示它们之间似乎存在的关系。这有助于操作员仔细评估所收集的情报和可视化的元素间连接。这反过来可以帮助操作员拼凑出潜在的攻击路径、漏洞和网络攻击利用阶段的入口点。
- en: Maltego offers something called automated data transformation. Through a vast
    array of transformation options – called **transforms** by the application – Maltego
    automates the process of attempting to retrieve additional information by pivoting
    from one known entity to another because of the relationships it has identified.
    Transforms can be used to find additional domain names, DNS records, IP addresses,
    and social media profiles. These might be associated with what you’ve already
    collected for example, but they weren’t known until a relationship between the
    original group of entities was discovered. It can also take this information and
    compare it to repositories of known vulnerabilities and exploits.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: Maltego 提供了一种名为自动化数据转换的功能。通过一系列广泛的转换选项 —— 应用程序称之为**转换** —— Maltego 自动化了通过从一个已知实体跳转到另一个实体来尝试检索更多信息的过程，这是因为它已经识别出了这些实体之间的关系。转换可以用来查找额外的域名、DNS
    记录、IP 地址和社交媒体档案。这些可能与你已收集的信息有关，例如，但在原始实体组之间的关系被发现之前，它们是未知的。它还可以将这些信息与已知漏洞和攻击的存储库进行比较。
- en: Another benefit of this extremely powerful intelligence-gathering tool is the
    collaboration and reporting features it contains. Maltego can facilitate real-time
    collaboration between multiple team members by allowing visual representations
    and graphs to be placed within shared workspaces. It can help process these collaborations
    by generating detailed reports for the team members to review that document the
    findings, timeline, relationships, and evidence gathered during the process. That
    will help the individual members formulate questions for each other in real time
    and therefore help the entire process move along efficiently.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这个极其强大的情报收集工具的另一个好处是其包含的协作和报告功能。Maltego 通过允许将可视化的表示和图表放置在共享工作区内，能够促进多个团队成员之间的实时协作。它还可以通过生成详细的报告，帮助处理这些协作内容，报告中记录了发现、时间线、关系和在过程中收集的证据。这将帮助各个成员实时地向彼此提出问题，从而帮助整个过程高效推进。
- en: As you can see, Maltego is a wickedly powerful and useful tool. It’s also one
    of the most effective covert operators on this list of tools. Maltego activity
    is not likely to be detected by cyber defenses as Maltego and malicious at the
    same time. What that means is that if the consequences of a Maltego action are
    picked up by cyber defenses, there would likely be little to no information suggesting
    such activity was the result of someone using this application. That is not to
    say it cannot happen; it’s just extremely difficult to detect. However, the actions
    an actor might take because of the Maltego activity are highly likely to be detected
    if they are malicious.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，Maltego 是一款极其强大且实用的工具。它也是这份工具清单中最有效的隐蔽操作工具之一。Maltego 的活动不太可能被网络防御系统检测到，因为
    Maltego 既能执行任务，又能隐蔽其行为。如果 Maltego 的某些操作被网络防御系统发现，通常几乎没有任何信息表明这些活动是由于某人使用该应用程序所引起的。这并不意味着它不可能被发现；只是极难被检测到。然而，攻击者因
    Maltego 活动所采取的行动，如果是恶意的，则很可能会被检测到。
- en: Social Engineering Toolkit (SET)
  id: totrans-152
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 社会工程工具包 (SET)
- en: 'Sounds like something out of a Psychology 101 college course, doesn’t it? Believe
    it or not, the **Social Engineering Toolkit** (**SET**) is a real thing; it’s
    a technology-based toolkit that is included with the Kali Linux distribution.
    It is an open source and Python scripting language-based framework that was created
    by a fellow named David Kennedy. It was engineered to facilitate and automate
    the technological portions of social engineering attacks. Social engineering involves
    manipulating – engineering – people through deception or psychological manipulation
    to gain important, sometimes sensitive, information or gain access that would
    otherwise be unauthorized. While social engineering most assuredly has a strong
    face-to-face or live interaction component, there are also technological aspects
    associated with the overall strategy and SET exists to simplify those aspects
    for us. This is what SET looks like:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 听起来像是心理学 101 课程里的内容，不是吗？信不信由你，**社会工程工具包** (**SET**) 真的存在；它是一个技术性工具包，包含在 Kali
    Linux 发行版中。它是一个开源的基于 Python 脚本语言的框架，由一位名叫 David Kennedy 的人创建。它旨在促进和自动化社会工程攻击的技术部分。社会工程是指通过欺骗或心理操控来操纵人们，以获取重要的、甚至敏感的信息或获得本不应有的访问权限。虽然社会工程确实有很强的面对面或实时互动成分，但也有一些技术方面与整体策略相关，而
    SET 正是为了简化这些技术方面的内容而存在的。以下是 SET 的界面：
- en: '![Figure 1.12 – SET](image/B21223_01_12.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.12 – SET](image/B21223_01_12.jpg)'
- en: Figure 1.12 – SET
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.12 – SET
- en: SET allows the operator to arrange phishing campaigns where the target is tricked
    into entering their credentials, such as their username and password, into a fake
    login page. SET helps to accomplish this goal by quickly replicating websites
    into a new site that appears visually identical to the original site. This is
    one of the main strategies attackers use to trick users into entering their credentials.
    A user clicks on a phishing email, and it takes them to the fake site, which looks
    identical to the original. Then, they try to log in and get an error while the
    fake site loads the original authentic site, where the user tries a second time
    and successfully logs in to the proper site. They gave up their credentials to
    the attack but since they logged in to the correct site the second time, they
    are none-the-wiser. This is known as **website cloning**.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: SET 允许操作员安排钓鱼攻击活动，让目标被欺骗输入他们的凭证，例如用户名和密码，进入一个虚假的登录页面。SET 通过快速复制网站，将其变成一个视觉上与原站点相同的新站点，帮助实现这个目标。这是攻击者用来欺骗用户输入凭证的主要策略之一。用户点击钓鱼邮件，进入了虚假网站，外观与原网站完全相同。然后，他们尝试登录时出错，而虚假网站加载了原始的真实站点，用户再次尝试并成功登录正确的网站。尽管他们在第一次攻击中泄露了凭证，但由于第二次登录了正确的站点，他们并没有察觉。这就是**网站克隆**。
- en: SET can also be used to generate malicious documents that also appear to be
    legitimate. It can mimic Microsoft Word or PDF files, with hidden code embedded
    somewhere within the file that will execute the moment someone opens the document.
    Such code will exploit vulnerabilities in the target system and might do things
    such as install keyloggers, which will grab every stroke the victim user enters
    and provide credentials to every single page and/or application they use while
    on that device after the keylogger is installed. The code can also directly infect
    the system and grab system information, install a backdoor or reverse shell, and
    allow the attacker direct access with the potential to laterally pivot to other
    systems on the network. Files that allow this action are known as **infectious
    media**.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: SET 还可以用来生成看似合法的恶意文档。它可以模拟 Microsoft Word 或 PDF 文件，并在文件中隐藏代码，当有人打开文档时，代码会立即执行。这些代码会利用目标系统中的漏洞，可能会执行如安装键盘记录器等操作，键盘记录器会捕捉受害者输入的每个按键，并提供他们在设备上使用的每个页面和/或应用程序的凭证。代码还可以直接感染系统并抓取系统信息，安装后门或反向
    shell，允许攻击者直接访问，并可能横向渗透到网络中的其他系统。这类文件被称为**感染性媒介**。
- en: Remember Metasploit and how vast and powerful it is? Guess what. SET integrates
    with Metasploit so that the exploits available there can be seamlessly embedded
    into the social engineering campaign once the stage of attack calls for it.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 还记得 Metasploit 及其强大和广泛的功能吗？猜猜看，SET 与 Metasploit 集成，这样当攻击阶段需要时，Metasploit 中可用的漏洞就可以无缝地嵌入到社会工程学攻击中。
- en: SET also can create **USB-based attacks**. It can set up a USB drive to automatically
    execute once inserted into a target system and run preconfigured attack scripts
    and malicious payloads. Remember Stuxnet? SET can create attacks of that magnitude!
    While it may require some special configurations to fully detect, Kali Purple’s
    defensive utilities do have the ability to detect anomalous or suspicious behavior
    coming from USB drives, such as alerting on auto-run/auto-execute activity.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: SET 还可以创建**基于 USB 的攻击**。它可以设置一个 USB 驱动器，使其在插入目标系统后自动执行，并运行预配置的攻击脚本和恶意载荷。还记得
    Stuxnet 吗？SET 可以创建类似规模的攻击！虽然它可能需要一些特殊的配置才能完全检测，但 Kali Purple 的防御工具确实能够检测来自 USB
    驱动器的异常或可疑行为，比如对自动运行/自动执行活动的警报。
- en: As has been noted in a few places, these tools can be extremely dangerous and
    can land their operators in jail if not used ethically. That means having permission
    to use them and having a predefined, ideally written scope of where and how to
    use them and not ever, ever, ever straying outside the boundaries of that scope!
    While these tools can be found compatible with most Linux distributions or even
    pre-installed in some cases, what is not common are the defensive tools that you
    will find with Kali Purple, which includes the blue team side of the family. The
    selection of red team tools you just briefly covered are all available with Kali
    Linux, the OS that supports Kali Purple. Now that you understand the basics of
    the red team side of the family, let’s take a gander at the blue team side.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 正如在几处所指出的，这些工具如果不以伦理方式使用，可能非常危险，并且会将操作人员送进监狱。这意味着必须获得使用这些工具的许可，并事先确定好，最好是书面的，明确使用范围，且绝对不能越过这些边界！虽然这些工具通常与大多数Linux发行版兼容，甚至在某些情况下是预装的，但Kali
    Purple所提供的防御工具却不同，这些工具包括了蓝队的内容。你刚刚简要了解的红队工具都可以在Kali Linux中找到，Kali Linux是支持Kali
    Purple的操作系统。现在，你了解了红队部分的基础知识，让我们来看看蓝队部分。
- en: Defensive security
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 防御性安全
- en: The uniqueness of Kali Purple is how it adds defensive tools to the Kali Linux
    distribution for blue team operators so that they may train junior analysts and/or
    otherwise do their jobs. Of course, to fully grasp where these tools might fit
    into an organization’s security posture, it might be helpful to know some of the
    terms associated with cyber defense. Here, we will go over some of the more commonly
    used terms and highlight the cyber defense concepts needed to navigate this book.
    We will talk more directly about what it means to be a blue teamer and gain an
    understanding of what the information security/CIA triad, SOC, SOAR, SIEM, IDS/IPS,
    and other concepts are. In the process, we will focus on how these items relate
    to Kali Purple.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Purple的独特之处在于它为Kali Linux发行版添加了防御工具，供蓝队操作员使用，以便他们可以训练初级分析师或完成其他工作。当然，要完全理解这些工具如何融入组织的安全防护中，了解一些与网络防御相关的术语可能会有所帮助。在这里，我们将介绍一些常用术语，并重点讲解阅读本书时所需了解的网络防御概念。我们将更直接地讨论成为蓝队成员意味着什么，并了解信息安全/CIA三合一模型、SOC、SOAR、SIEM、IDS/IPS以及其他相关概念。在此过程中，我们将重点讨论这些概念如何与Kali
    Purple相关。
- en: If you’ve ever studied for a technology certification or any aspect of cybersecurity,
    you have likely been introduced to the information security triad, also known
    as the CIA triad. The three components – confidentiality, integrity, and availability
    – are critical factors of a proper security posture. Think of a three-legged stool.
    If you remove one leg from the stool, it will fall over. Likewise, if you remove
    one component from the triad, your security will also falter. Collectively, the
    confidentiality, integrity, and availability of information and resources ensure
    the proper level of access and security for an organization’s systems and data.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你曾经为技术认证或任何网络安全方面的内容学习过，你很可能接触过信息安全三合一模型，也称为CIA三合一模型。三个组成部分——机密性、完整性和可用性——是建立良好安全防护的关键因素。想象一把三条腿的凳子。如果你移除其中一条腿，凳子就会倒下。同样地，如果你从三合一模型中移除一个组成部分，安全防护也会受到影响。信息和资源的机密性、完整性和可用性共同确保了组织系统和数据的适当访问和安全性。
- en: 'So, if one component of the triad breaks, the entire foundational framework
    will topple:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果三合一模型的一个组成部分损坏，整个基础框架将崩溃：
- en: '![Figure 1.13 – The CIA triad](image/B21223_01_13.jpg)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![图1.13 – CIA三合一模型](image/B21223_01_13.jpg)'
- en: Figure 1.13 – The CIA triad
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.13 – CIA三合一模型
- en: Let’s break this down by component.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们按组件来逐一拆解。
- en: Confidentiality
  id: totrans-168
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 机密性
- en: This element of the triad talks about protecting information from unauthorized
    access, exposure, or disclosure. This is accomplished by putting safeguards in
    place to prevent individuals who do not have the proper level of authorization
    from accessing sensitive data. Some of the measures that can be taken to accomplish
    this objective might include physical access controls such as keypads, mantraps,
    or biometrics, encrypting data, or establishing secure communication channels.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 这个三合一模型的元素讲述了如何保护信息不受未经授权的访问、暴露或披露。这是通过采取措施防止没有适当授权的个人访问敏感数据来实现的。一些可以采取的措施包括物理访问控制，如键盘、隔离区或生物识别技术，加密数据或建立安全的通信渠道。
- en: Integrity
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 完整性
- en: This element’s purpose is to ensure that data remains unaltered from unauthorized
    sources throughout any portion of the data’s life cycle. It aims to ensure the
    data remains accurate as presented. The accuracy of the data’s content itself
    is the responsibility of the authorized creators and handlers of the data. It
    focuses on preventing unauthorized modifications, corruption, or deletion of data.
    This is usually accomplished by employing techniques such as digital signatures,
    hashes, checksums, and digital access controls.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 这个元素的目的是确保数据在其生命周期的任何部分都不会被未经授权的来源篡改。它旨在确保数据保持原样，准确无误。数据内容本身的准确性是授权创建者和数据处理者的责任。它侧重于防止未经授权的修改、损坏或删除数据。通常，通过使用数字签名、哈希、校验和和数字访问控制等技术来实现这一点。
- en: Availability
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 可用性
- en: This element’s need is based on allowing proper accessibility and usability
    of an organization’s resources and information when it is needed. It ensures that
    only authorized users will have access, that the access will be uninterrupted,
    and that the access will contain the resources the user needs to perform their
    tasks. These objectives are usually accomplished by adding layers of redundancy
    to an information system – both physical and/or virtual, when backing up data,
    establishing a disaster recovery plan, and implementing fault tolerance. Ideally,
    the proper data will always be available to the proper users. However, we live
    in an imperfect world and sometimes even natural disasters can pose a threat to
    an organization’s security posture. If availability is disrupted, this element
    of the triad also includes plans to mitigate the impact of any natural disruptions,
    service outages, or failures.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 这个元素的需求是为了在需要时确保组织资源和信息的适当可访问性和可用性。它确保只有授权用户可以访问，访问不会中断，并且访问将包含用户完成任务所需的资源。通常，通过为信息系统增加冗余层（包括物理和/或虚拟的冗余），例如备份数据、建立灾难恢复计划和实施容错机制，来实现这些目标。理想情况下，适当的数据将始终对适当的用户可用。然而，我们生活在一个不完美的世界，有时即使是自然灾害也会对组织的安全状况构成威胁。如果可用性受到干扰，那么三元组的这一元素还包括减轻任何自然中断、服务中断或故障影响的计划。
- en: Availability is one of the most misunderstood concepts in all of cybersecurity.
    That’s because the other elements’ purpose is to deny access and manipulation
    to the wrong people, whereas this element’s purpose is to ensure access is allowed
    by the right people! It doesn’t do much good to have the best security in the
    world if what is being secured is never allowed to be utilized. That defeats the
    entire purpose of the World Wide Web and computing technology in general, doesn’t
    it? Because of that abstraction, new technicians and junior analysts sometimes
    struggle to maintain the proper balance between security and keeping business
    operations flowing. It’s important to realize that, while you certainly can block
    all of .com at your firewall, it doesn’t do much good if your organization requires
    the internet to market or provide support for your product or service. Keep this
    in mind as you negotiate the tools contained in Kali Purple because these tools
    are powerful and indeed can severely disrupt the availability of resources if
    misused.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 可用性是网络安全中最常被误解的概念之一。这是因为其他元素的目的是拒绝错误人员的访问和操作，而这个元素的目的是确保允许正确人员的访问！如果最好的安全措施无法让被保护的内容得到利用，那就没有多大意义。这实际上违背了万维网和计算技术的整个目的，不是吗？由于这种抽象，新技术人员和初级分析员有时会在安全性与保持业务运作流畅之间保持适当的平衡时遇到困难。重要的是要意识到，尽管你可以在防火墙上完全阻止所有的.com域名，但如果你的组织需要互联网来营销或提供产品或服务的支持，这样做也没有多大意义。在你使用
    Kali Purple 中的工具时要记住这一点，因为这些工具功能强大，确实在被滥用时可能严重破坏资源的可用性。
- en: Now that we’ve grasped the core fundamental framework for cybersecurity, let’s
    examine the environment in which most blue team folks will be employing this framework.
    The SOC is the environment where most defensive cybersecurity professionals will
    operate. That is the bread and butter of what Kali Purple is! Sometimes, you’ll
    see Purple referred to as *SOC-in-a-Box* because this suite of tools contains
    all the core utilities and functionality needed to establish a miniature SOC.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经掌握了网络安全的核心框架，让我们来看看大多数蓝队人员将使用这个框架的环境。SOC（安全运营中心）是大多数防御性网络安全专业人员工作的环境。实际上，这就是
    Kali Purple 的核心所在！有时你会看到 Purple 被称为 *SOC-in-a-Box*，因为这个工具套件包含了建立一个小型 SOC 所需的所有核心工具和功能。
- en: A SOC is a unit within an organization that is generally centralized and is
    responsible for monitoring and responding to security incidents. It has evolved
    to more likely be associated with security incidents that are specifically cyber
    or computer-related. However, a true SOC would encompass all security situations,
    including old-school closed-circuit television and other surveillance systems.
    In today’s world, a SOC is also often used to refer to the team of people who
    work within the centralized security environment. This can be either the defensive
    blue team and/or the offensive red team. They are responsible for enhancing and
    maintaining the security of an organization’s information systems.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: SOC 是组织内部的一个单位，通常是集中的，负责监控和响应安全事件。它已经发展成为更多地与具体的网络或计算机相关的安全事件相关联。然而，一个真正的 SOC
    会涵盖所有的安全情况，包括传统的闭路电视和其他监控系统。在当今的世界中，SOC 也常常用来指代在集中安全环境中工作的团队。这可以是防御性的蓝队和/或进攻性的红队。他们负责增强和维护组织信息系统的安全性。
- en: These teams are usually highly trained and educated cybersecurity professionals.
    However, some business models have allowed for a *baptism-by-fire* style of training
    cybersecurity professionals if the individuals show a level of passion or desire
    for the field. Kali Purple is an excellent tool for organizations to provide practical
    experience for such individuals!
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 这些团队通常是经过高度培训和教育的网络安全专业人士。然而，一些商业模式允许通过“*火中取栗*”式的培训方式培养网络安全专业人员，前提是这些人表现出对该领域的热情或渴望。Kali
    Purple 是一个极好的工具，帮助组织为这些人提供实践经验！
- en: The primary goal or expectation of a SOC would be to identify, protect, detect,
    respond to, and recover from cyber threats and incidents in real time. Those five
    terms also happen to be the five pillars of the **National Institute of Standards
    and Technology Cybersecurity Framework** (**NIST CSF**). Aligning with NIST means
    you’re aligning your skillset with the requirements and operations of many government
    agencies, including the US Department of Defense and critical infrastructure sectors
    such as energy, water, healthcare, transportation, and financial services. You’ll
    also find NIST compliance across numerous small and medium-sized business enterprises.
    Also, though NIST is an organization within the United States Department of Commerce,
    you’ll find adherence toward many aspects of its cybersecurity framework within
    many multinational and globally operating organizations. Since Kali Purple was
    directly engineered with this specific framework in mind, that makes it the perfect
    base of operational training for those working in a SOC or desiring a career in
    cybersecurity.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: SOC 的主要目标或期望是实时识别、保护、检测、响应和恢复网络威胁和事件。这五个术语恰好也是**国家标准与技术研究院网络安全框架**（**NIST CSF**）的五大支柱。与
    NIST 对齐意味着你将自己的技能与许多政府机构的要求和运作对接，包括美国国防部以及能源、水利、医疗、交通和金融服务等关键基础设施部门。你还会在许多中小型企业中看到
    NIST 合规性。此外，尽管 NIST 是美国商务部下属的一个机构，但你会发现许多跨国和全球运营的组织也遵守其网络安全框架的许多方面。由于 Kali Purple
    是专门针对这一框架设计的，它成为了在 SOC 工作或渴望从事网络安全职业的人员的完美操作培训基础。
- en: One of the flagship utilities of a SOC is the SIEM system. A SIEM might also
    be referred to as a normalization or correlation system. Its purpose is to collect
    a variety of security event logs and related data from any variety of technological
    sources – endpoints – within an organization. Then, it interprets that data, matches
    it with other relevant data, known as data enrichment, and presents it in a universal
    format.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: SOC 的一个主要工具是 SIEM 系统。SIEM 也可以称为标准化或关联系统。它的目的是从组织内部的各种技术来源——端点——收集各种安全事件日志和相关数据。然后，它解释这些数据，将其与其他相关数据进行匹配，这称为数据丰富，并以统一的格式展示。
- en: Related to the SIEM is something called a **Security Orchestration, Automation,
    and Response** (**SOAR**) system. A SOAR is meant to complement a SIEM system
    in that it provides capabilities for automating incident response and helps to
    orchestrate security operations in a well-structured, organized, and coordinated
    manner.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 与 SIEM 相关的是一个被称为**安全编排、自动化和响应**（**SOAR**）的系统。SOAR 旨在补充 SIEM 系统，因为它提供了自动化事件响应的能力，并帮助以结构化、组织化和协调的方式编排安全操作。
- en: Because the data can come from any number of otherwise incompatible sources,
    such as a Windows versus a Mac versus a Linux device, the original raw data will
    likely exist from any one of an infinite number of languages and/or ways to present
    it. A SIEM takes it all, does the necessary interpretation, and presents it in
    just one consistent manner, making the analyst’s job much easier and more efficient.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 由于数据可以来自任何数量的、不兼容的源，例如 Windows、Mac 或 Linux 设备，原始的原始数据可能以无数种语言和/或呈现方式存在。SIEM
    接收所有数据，进行必要的解释，并以一致的方式呈现，极大地简化并提高了分析师的工作效率。
- en: 'By handling this normalization, the analyst can then focus on what’s most important:
    measuring the data against known and emerging threats as well as evaluating anomalous
    behavior that might be suggesting potentially unknown and new malicious activity.
    That, in turn, allows the analyst to quickly narrow the attack surface, communicate
    recommended changes or even make them if authorized, and efficiently assemble
    compliance reports for senior security engineers to study.'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 通过处理这种规范化，分析师可以专注于最重要的部分：将数据与已知及新兴威胁进行对比，以及评估可能表明潜在未知和新恶意活动的异常行为。反过来，这使得分析师能够迅速缩小攻击面，沟通推荐的更改，或者在授权的情况下直接进行更改，并高效地为高级安全工程师汇总合规报告。
- en: We will introduce you to one of these systems early on by exploring Kali Purple’s
    inclusion of Elastic in the next chapter; you will continue to expand upon your
    SIEM knowledge throughout the rest of this book. It’s important to understand
    that, by itself, Elastic is not inherently a SIEM. Rather, it is a core component
    of establishing your SIEM. We will add additional components to create a fully
    functional SIEM.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在下一章通过探讨 Kali Purple 引入 Elastic 来介绍这些系统之一；在本书的其余部分，你将继续扩展你对 SIEM 的知识。需要理解的是，Elastic
    本身并不是 SIEM，它只是建立 SIEM 的核心组件之一。我们将添加其他组件，创建一个功能完善的 SIEM。
- en: 'The Wazuh SIEM is built on top of the ELK stack:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: Wazuh SIEM 是建立在 ELK 堆栈之上的：
- en: '![Figure 1.14 – The default Wazuh SIEM dashboard after a fresh installation](image/B21223_01_14.jpg)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.14 – 新安装后的默认 Wazuh SIEM 仪表盘](image/B21223_01_14.jpg)'
- en: Figure 1.14 – The default Wazuh SIEM dashboard after a fresh installation
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.14 – 新安装后的默认 Wazuh SIEM 仪表盘
- en: 'You must understand the following about SIEMs:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 你必须了解关于 SIEM 的以下内容：
- en: Log collection
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日志收集
- en: Event correlation
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件关联
- en: Alerting and notification
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 警报和通知
- en: Incident response
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件响应
- en: Compliance monitoring and reporting
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合规监控和报告
- en: Threat intelligence integration
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 威胁情报集成
- en: Let’s look at these in detail.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们详细看看这些内容。
- en: Log collection
  id: totrans-195
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日志收集
- en: While SIEMs have many useful functions, log collection is usually what a cybersecurity
    professional thinks of when visualizing such a tool. Their most accepted practice
    of accomplishing this goal is by installing *agents* on each endpoint – that is,
    an individual physical device or software application that the SOC wants the SIEM
    to monitor. These endpoints might include personal computers or workstations,
    servers, or even network devices such as routers and switches. They could include
    individual software applications such as antivirus systems or **business-to-business**
    (**B2B**) collaboration tools.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 SIEM 有许多有用的功能，但日志收集通常是网络安全专业人员在构思这类工具时首先想到的目标。最常见的做法是在每个端点安装*代理*，也就是 SOC
    希望 SIEM 监控的个体物理设备或软件应用。这些端点可能包括个人电脑、工作站、服务器，甚至网络设备，如路由器和交换机。它们还可能包括诸如杀毒软件系统或**企业对企业**（**B2B**）协作工具等个体软件应用。
- en: There is a wide range of complexity in these agents but the gist of it is that
    they monitor and collect data from the device for which it is installed and then
    simply report that data to the SIEM. Some agents might report vast amounts of
    data for the SIEM or analyst to parse on their own while others might deliver
    a sort of *pre-evaluation* of data and only report that which is assumed to be
    anomalous. It is safest for all the data to be delivered. Then, a person known
    as a cybersecurity engineer will assemble code within the SIEM itself to handle
    any automatic sorting, enriching, or discarding of information based on organizational
    or customer needs. The information that’s collected by the agents and sent to
    the SIEM is referred to as logs. Each log contains very valuable information and
    might include user activities, system events – what the machine or software is
    commanding itself to do – and any overt security incidents.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 这些代理的复杂性差异很大，但其要点在于它们监控并收集所安装设备的数据，然后简单地将这些数据报告给SIEM。某些代理可能会报告大量数据，供SIEM或分析师自行解析，而其他代理可能会提供一种*预评估*的数据，仅报告那些被认为是异常的数据。最安全的做法是将所有数据都传送过来。然后，所谓的网络安全工程师将在SIEM中编写代码，处理任何基于组织或客户需求的自动排序、丰富或丢弃信息。代理收集并发送到SIEM的信息被称为日志。每个日志都包含非常有价值的信息，可能包括用户活动、系统事件——即机器或软件指令本身的操作——以及任何明显的安全事件。
- en: Event correlation
  id: totrans-198
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 事件关联
- en: Once the SIEM collects the logs from the agents, it must do something with the
    information, right? There are many options here, but the most accepted practice
    is for the data to be analyzed and combined with previously collected or statically
    entered data. As it was when it was originally collected, the data is considered
    to be raw. When combined with additional relevant information – additional data
    tables that are often referred to as lookup tables – this is known as **data enrichment**.
    An example of this is when a SIEM collects an IP address as part of the log. Here,
    it has a separate table that explains where certain IP addresses or ranges of
    addresses are located, takes the IP from the log, matches it with the pre-existing
    lookup table, and then tells the analyst where the activity in the log is geographically
    occurring from. Enriching data is like adding additional pieces to a puzzle. It
    gives a clearer picture of what is happening or has happened from the endpoint.
    The SIEM platform can then analyze the enriched data for complex patterns and
    anomalous behavior. That, in turn, allows the SIEM to recognize, flag, and report
    potential cyberattacks. Individual pieces of raw data can fail to recognize this
    behavior if not enough information is known or collected.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦SIEM从代理收集了日志，它必须对这些信息进行处理，对吧？这里有许多选项，但最常见的做法是对数据进行分析，并将其与先前收集的或静态输入的数据进行结合。当数据原本被收集时，它被认为是原始数据。与额外的相关信息（通常称为查找表的附加数据表）结合后，就称为**数据丰富化**。举个例子，当SIEM收集到一个IP地址作为日志的一部分时，它会有一个独立的表格，解释某些IP地址或地址范围的位置，从日志中提取IP地址，将其与预先存在的查找表匹配，然后告诉分析师日志中的活动发生在哪个地理位置。丰富数据就像是在拼图中添加额外的碎片。它提供了更清晰的视图，帮助理解发生或曾经发生的事件。SIEM平台随后可以分析丰富后的数据，查找复杂的模式和异常行为。反过来，这使得SIEM能够识别、标记并报告潜在的网络攻击。如果没有足够的信息或数据，单个原始数据可能无法识别这种行为。
- en: Enriching and then analyzing the newly enriched data is known as **event correlation**,
    a process that increases the odds of detecting malicious behavior exponentially.
    Event correlation is when the SIEM takes different logs that serve different purposes
    but have a common denominator and it presents them together to help the analyst
    see if there’s additional information to serve their investigation. One example
    might be a log containing authentication failures (that is, someone was unsuccessful
    at logging in) presented with a log that contains port scanning activity that
    occurred at or very near the same time as the authentication log.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 丰富并分析新丰富的数据被称为**事件关联**，这一过程显著提高了检测恶意行为的几率。事件关联是指SIEM将不同的日志（这些日志服务于不同的目的，但有共同的特征）整合在一起，帮助分析师查看是否有其他信息可以支持他们的调查。例如，一个包含身份验证失败的日志（即某人未能登录）与一个包含端口扫描活动的日志相结合，后者发生在或接近身份验证日志的时间点。
- en: This is not to be confused with data aggregation. **Data aggregation** is when
    the SIEM takes multiple logs that contain the same information, such as all logs
    containing a specific IP address, and presents them together in a single report.
    Some SIEM solutions (**Devo**) will offer the analyst an opportunity to create
    and perform data aggregation operations and then output the results to a file
    format of choice, such as a CSV spreadsheet.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 这与数据聚合不同。**数据聚合**是指SIEM将多个包含相同信息的日志，如所有包含特定IP地址的日志，汇总到一个报告中。某些SIEM解决方案（**Devo**）将为分析人员提供创建并执行数据聚合操作的机会，然后将结果输出为所选文件格式，如CSV电子表格。
- en: Alerting and notification
  id: totrans-202
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 警报与通知
- en: Would you believe that even after data enrichment, correlation, and complex
    analysis, malicious behavior can still sometimes go unnoticed? Yep, sure can!
    That’s why we have a human element to the layers of security built within a SOC.
    To access that human element, the SIEM takes the data it has correlated and checks
    it against criteria established by the cybersecurity engineers who have set up
    and/or managed the SIEM. If the data matches these criteria or rules, the SIEM
    then either takes this data and creates a type of report known as an alert that
    is meant for human analysis or – if a related alert already exists – adds it as
    an additional event to that alert. These alerts are meant for human eyes, usually
    a level one cybersecurity analyst or security triage specialist. The SIEM writes
    these alerts in a uniform manner and language so that the analysts reviewing the
    alert only need to learn one style of log analysis. It then typically places the
    new or newly updated alert in some form of a queue that is actively monitored
    by cybersecurity analysts.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 你能相信即使在数据增强、关联和复杂分析之后，恶意行为有时仍然可能被忽视吗？没错，确实可以！这就是为什么在SOC（安全运营中心）的多层安全防护中，我们需要加入人类因素。为了利用这一人类因素，SIEM（安全信息与事件管理系统）会将其已关联的数据与由网络安全工程师设定和/或管理的标准进行比对。如果数据符合这些标准或规则，SIEM就会将这些数据生成一种被称为警报的报告，供人工分析使用；或者如果已经存在相关警报，它会将该事件添加到该警报中。这些警报是供人工分析的，通常由一级网络安全分析师或安全分诊专家处理。SIEM以统一的格式和语言编写这些警报，使得分析人员只需要学习一种日志分析风格即可。接着，它通常会将新生成或更新的警报放入某种形式的队列中，供网络安全分析师持续监控。
- en: Incident response
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 事件响应
- en: When level one triaging security analysts review an alert and determine that
    an incident has or is about to occur, they will typically escalate that alert
    to a level two cybersecurity analyst, who is usually incident response. In some
    organizations, this is level three, but mainstream cybersecurity companies usually
    reserve level three for threat-hunting specialists. A well-setup SIEM will offer
    helpful information for incident responders as well. This is done in the form
    of providing workflows, playbooks, and case or customer management capabilities.
    This not only provides an excellent point of reference for the analysts, but it
    is also helpful to train newly hired or promoted analysts. SIEMs can be used in
    a multitude of business models, some of which may include providing security services
    to other businesses that might not have a cybersecurity team on-site. In that
    scenario, there could be hundreds or even thousands of organization-specific playbooks,
    which would be impractical for any individual incident responder to memorize.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 当一级安全分诊分析师审查警报并判断事件已发生或即将发生时，他们通常会将该警报升级给二级网络安全分析师，通常由事件响应专家处理。在一些组织中，这可能是三级分析师，但主流的网络安全公司通常将三级保留给威胁狩猎专家。一个设置良好的SIEM也会为事件响应人员提供有用的信息。这些信息通常以工作流程、行动手册、案例或客户管理功能的形式提供。这不仅为分析人员提供了一个极好的参考点，也有助于培训新聘用或晋升的分析师。SIEM可用于多种商业模式，其中一些可能包括为没有现场网络安全团队的其他企业提供安全服务。在这种情况下，可能会有数百甚至数千个特定于组织的行动手册，任何单个事件响应人员都不可能记住这些内容。
- en: Compliance monitoring and reporting
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 合规性监控与报告
- en: As the demand for cybersecurity grows, so does oversight such as laws and government
    regulations, or the development of industry standards such as the PCI-DSS, which
    we previously discussed. One area where this is very prevalent is in record keeping
    and reporting. There are many new rules covering how to record and report cybersecurity
    activity. A well-designed SIEM will provide visibility into security events and
    will have features that assist in generating reports for compliance purposes.
    Even without pre-existing laws or regulations in place, it would be a good practice
    to maintain solid records of adherence to industry standards because it shows
    that an organization is well-researched, organized, prepared, caring, and determined
    to be at the forefront of its product or service. Having SIEM-generated reports
    is a way of showing that these principles are in place.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 随着网络安全需求的增长，监管也在增加，如法律和政府法规，或者行业标准的制定，如我们之前讨论过的 PCI-DSS。其中一个非常普遍的领域是记录保存和报告。关于如何记录和报告网络安全活动，出现了许多新的规则。一个设计良好的
    SIEM 会提供安全事件的可视化，并具备帮助生成符合合规要求报告的功能。即使没有现成的法律或法规，也应该保持对行业标准的合规记录，因为这表明组织经过了充分的研究、组织有序、准备充分、关心并决心处于其产品或服务的前沿。拥有由
    SIEM 生成的报告是展示这些原则已落实的方式。
- en: Threat intelligence integration
  id: totrans-208
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 威胁情报集成
- en: The most updated and advanced SIEM technologies will have the ability to integrate
    with external data sources such as threat intelligence feeds. Examples include
    AT&T’s AlienVault **Open Threat eXchange** (**OTX**), the **Structured Threat
    Information eXpression** (**STIX**), and **Trusted Automated eXchange of Indicator
    Information** (**TAXII**). There are also databases and other non-live sources
    of intelligence that might prove useful for a SIEM to access. This can help with
    the data enrichment and correlation processes. When the external integrations
    involve access to developing or up-to-date threat intelligence, then the SIEM
    will more readily be able to identify known malicious actors as well as emerging
    threat actors, malicious IP addresses, or domains, along with other indicators
    of compromise.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 最先进和最新的 SIEM 技术将能够与外部数据源集成，如威胁情报源。举例来说，包括 AT&T 的 AlienVault **开放威胁交换平台**（**OTX**）、**结构化威胁信息表达**（**STIX**）和
    **受信任的自动化指标信息交换**（**TAXII**）。还有一些数据库和其他非实时的情报来源，可能对 SIEM 的访问非常有用。这可以帮助数据的丰富化和关联过程。当外部集成涉及到访问正在发展的或最新的威胁情报时，SIEM
    将能够更容易地识别已知的恶意行为者以及新兴的威胁行为者、恶意 IP 地址或域名，以及其他妥协指标。
- en: 'Besides the threat intelligence feeds, there’s also the **Any.Run** and **Cuckoo**
    automated sandbox analysis utilities, which technically aren’t a part of Kali
    Purple but you can integrate with Purple’s tools for a more robust SOC experience.
    This is what Any.Run looks like:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 除了威胁情报源外，还有 **Any.Run** 和 **Cuckoo** 自动沙盒分析工具，技术上它们不是 Kali Purple 的一部分，但你可以将它们与
    Purple 的工具集成，以获得更强大的 SOC 体验。以下是 Any.Run 的界面：
- en: '![Figure 1.15 – Any.Run malware analysis home page](image/B21223_01_15.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.15 – Any.Run 恶意软件分析主页](image/B21223_01_15.jpg)'
- en: Figure 1.15 – Any.Run malware analysis home page
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – Any.Run 恶意软件分析主页
- en: While Kali Purple offers many tools for defensive security, the SIEM is what
    seems to have attracted most people to the platform initially because now users
    have a single system where offensive security actions (Kali Linux) and defensive
    security can proactively monitor and manage real security events, detect real
    threats, and begin the process of incident response – and they can get it free
    of charge.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 Kali Purple 提供了许多防御安全工具，但 SIEM 似乎最初吸引了大多数人来到这个平台，因为现在用户有了一个单一的系统，在这个系统中，进攻性安全（Kali
    Linux）和防御性安全可以主动监控和管理真实的安全事件，检测真实的威胁，并开始事件响应的过程——而且他们可以免费获取这一服务。
- en: Sometimes, you will find a SIEM combined with an IDS or IPS. To effectively
    navigate the entire cybersecurity defense process, we are not going to do that
    here. We’ve spoken about the Elastic stack and how with some additions, such as
    agents, we can convert it into a fully functioning SIEM – and indeed we are going
    to do that. Now, let’s look at a couple of IDS that are part of the Kali Purple
    package. Later, we will take some concepts from the *Offensive security* section
    and apply those against Suricata and/or Zeek to give you a hands-on use case approach
    to what cyber defenses look like. Let’s discuss Suricata.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，你会发现一个 SIEM 系统与 IDS 或 IPS 结合使用。为了有效地导航整个网络安全防御过程，我们在这里不做这种组合。我们已经谈过 Elastic
    Stack，并且通过添加一些代理等组件，它可以转换成一个完全功能的 SIEM——实际上我们将要这样做。现在，让我们来看一下 Kali Purple 包中的几个
    IDS。稍后，我们将从 *进攻性安全* 部分借用一些概念，并将其应用于 Suricata 和/或 Zeek，以提供一个关于网络防御的实战案例。让我们来讨论
    Suricata。
- en: Suricata
  id: totrans-215
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Suricata
- en: Suricata is an open source product that can function as either an IDS or IPS.
    What’s the difference? Glad you asked. It’s explained in the terms themselves.
    An IDS does just that – it detects anomalous or potentially malicious behavior.
    That’s all it does. It doesn’t act against this behavior. It simply detects it
    and lets you know. There’s a reason for that and we will discuss it in a bit.
    An IPS will also detect anomalous or potentially malicious behavior, but it will
    take the additional step of proactively blocking or taking some other action against
    that behavior.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: Suricata 是一个开源产品，既可以作为 IDS（入侵检测系统）也可以作为 IPS（入侵防御系统）使用。它们之间有什么区别？很高兴你问了。区别就在于它们的定义本身。IDS
    只做一件事——检测异常或潜在的恶意行为。它只负责这一点，不会对这种行为采取任何行动。它只是检测到后通知你。之所以这样做有其原因，我们稍后会讨论。IPS 同样会检测异常或潜在的恶意行为，但它会额外采取主动阻止或对该行为采取其他行动的步骤。
- en: A question you might ask is, “*Why wouldn’t we just want the system to prevent
    the behavior for us instead of allowing extra work to be created?*” The answer
    is simple. Not all behavior that presents as anomalous or malicious is malicious!
    These types of alerts are called false positives, and they are commonplace in
    the field of cybersecurity. They are so common that there’s another term to describe
    having to deal with them – alert fatigue. A properly set up IPS will reduce alert
    fatigue. However, it might also prevent or block authentic benign activity and
    that’s not good either. Remember the CIA triad? Remember that we discussed how
    the *A* is the most misunderstood? Blocking otherwise valid activity can be just
    as damaging or even more so to organizations’ bottom lines than failing to block
    malicious activity. Within some organizations, this is a non-issue, and accidentally
    blocking benign activity would have little to no effect on them. For this reason,
    both IDS and IPS technologies exist. You need to choose the one that is right
    for your situation. Suricata offers both.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会问：“*为什么我们不希望系统直接阻止这些行为，而是让我们自己去处理额外的工作？*”答案很简单，并不是所有看起来异常或恶意的行为都是恶意的！这些类型的警报被称为误报，在网络安全领域中非常常见。它们如此常见，以至于有一个专门的术语来描述处理这些警报的疲劳感——警报疲劳。一个正确设置的
    IPS 会减少警报疲劳。然而，它也可能会阻止或屏蔽一些真实的、无害的活动，这同样是不好的一件事。记得 CIA 三元组吗？记得我们讨论过 *A* 是最容易被误解的部分吗？阻止本应有效的活动可能会对组织的运营造成的损害，甚至比未能阻止恶意活动更大。在某些组织中，这是一个非问题，错误地阻止无害活动几乎不会对它们造成任何影响。因此，IDS
    和 IPS 技术同时存在，你需要根据自己的情况选择合适的技术。Suricata 提供了这两种技术。
- en: It is a very robust and highly scalable tool that analyzes network traffic for
    suspicious or malicious attributes. It operates with a multi-threaded performance
    approach. This allows for parallel processing instructions, giving it the ability
    to work with high-speed network traffic efficiently. Suricata, like Wireshark,
    captures network packets in real time. Unlike Wireshark, it automatically analyzes
    these packets to include the headers and payload and makes alerting determinations
    based on this analysis. By default, it’s designed to alert users to network intrusions
    fitting criteria that match exploitation, malware, policy violations, and anomalous,
    or suspicious, behavior. Of course, Suricata can also perform the regular protocol
    analysis functions of Wireshark to include HTTP, DNS, FTP, SMTP, and more, which
    it uses to detect attacks that might be specifically targeting a particular protocol.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 它是一个非常强大且高度可扩展的工具，用于分析网络流量中的可疑或恶意属性。它采用多线程性能方法，允许并行处理指令，使其能够高效处理高速网络流量。与 Wireshark
    一样，Suricata 实时捕获网络数据包。不同的是，Suricata 自动分析这些数据包，包括头部和有效载荷，并根据此分析做出警报判断。默认情况下，它设计用于向用户发出警报，指示符合利用、恶意软件、政策违规以及异常或可疑行为的网络入侵事件。当然，Suricata
    还可以执行 Wireshark 的常规协议分析功能，包括 HTTP、DNS、FTP、SMTP 等，这些功能有助于检测可能专门针对特定协议的攻击。
- en: 'It uses two primary manners of detection: signature and anomaly-based. With
    signature detection, Suricata matches network traffic against predefined rules
    or patterns, known as signatures, to assist in identifying known threats. With
    anomaly detection, Suricata first establishes a baseline of normal network behavior.
    It then alerts whenever there are any deviations from this established baseline.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 它使用两种主要的检测方式：基于签名和基于异常的检测。通过签名检测，Suricata 将网络流量与预定义的规则或模式（称为签名）进行匹配，以帮助识别已知威胁。通过异常检测，Suricata
    首先建立正常网络行为的基准，然后每当有任何偏离该基准的情况发生时，就会发出警报。
- en: Suricata can integrate with threat intelligence sources, which is an unwritten
    requirement for any worthy IDS/IPS solution. These can be external public feeds
    or an internally maintained threat feed. These feeds greatly assist the system
    in identifying emerging threats, thus creating an enhanced detection capability
    overall.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: Suricata 可以与威胁情报源集成，这是任何值得信赖的 IDS/IPS 解决方案的一个不成文要求。这些情报源可以是外部公共数据流，也可以是内部维护的威胁数据流。这些数据流极大地帮助系统识别新兴威胁，从而整体提升检测能力。
- en: Zeek
  id: totrans-221
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Zeek
- en: Zeek (formerly known as Bro) is not a full-fledged IDS product. However, it
    contains features and capabilities allowing it to function as one. By default,
    Zeek is a network analysis framework that’s used for monitoring and analyzing
    network traffic. Like a few other tools already shared in both the *Offensive
    security* and *Defensive security* sections of this chapter, Zeek captures and
    analyzes network packets in real time, where it attempts to extract useful information
    about protocols, active connections, and overall behavior. In addition to the
    protocol analysis that other tools also offer, Zeek focuses on connection details
    and file transfer information. It might be described as a hybrid of Wireshark
    and Suricata in terms of functionality.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: Zeek（前身为 Bro）不是一个完整的 IDS 产品。然而，它包含了允许其充当 IDS 的特性和功能。默认情况下，Zeek 是一个用于监控和分析网络流量的网络分析框架。就像本章中
    *进攻性安全* 和 *防御性安全* 部分提到的其他一些工具一样，Zeek 实时捕获和分析网络数据包，并试图提取关于协议、活动连接和整体行为的有用信息。除了其他工具也提供的协议分析功能外，Zeek
    更加关注连接细节和文件传输信息。在功能上，它可能被描述为 Wireshark 和 Suricata 的混合体。
- en: It allows users to work with its scripting language, giving them the ability
    to create custom rules and policies to alert on in the manner of an IDS. However,
    it is more work-intensive than many *pre-packaged* IDS solutions available today.
    Nevertheless, that could provide value to a cybersecurity analyst who might wish
    to develop or hone skills in preparation for advancement into the cybersecurity
    engineering direction. Another IDS personality of Zeek is its event-driven model.
    Events are generated based on network activity, which provides a flexible and
    customizable framework to be used for monitoring and analysis.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 它允许用户使用其脚本语言，赋予他们创建自定义规则和策略的能力，以类似入侵检测系统（IDS）方式进行警报。然而，这比许多现成的*IDS解决方案*更为繁琐。尽管如此，这可能对那些希望在进入网络安全工程方向之前发展或提升技能的网络安全分析师提供价值。Zeek的另一个IDS特性是其事件驱动模型。事件基于网络活动生成，为监控和分析提供了一个灵活且可定制的框架。
- en: While these detection, prevention, logging, and alerting products are core tools
    of a solidly designed SOC, sometimes analysts need to manually inspect the traffic
    in a particular scenario to determine whether the alerting is a true or false
    positive. This can help the team fine-tune the detection and logging rules to
    help reduce unnecessary alerting, and therefore alert fatigue, in the future.
    Kali Purple offers such tools with its distribution.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这些检测、预防、日志记录和警报产品是精心设计的SOC（安全运营中心）的核心工具，但有时分析师需要手动检查特定场景中的流量，以确定警报是否为真正的或误报。这有助于团队微调检测和日志记录规则，从而减少未来不必要的警报，避免警报疲劳。Kali
    Purple在其发行版中提供了此类工具。
- en: Arkime
  id: totrans-225
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Arkime
- en: Arkime – formerly known as Moloch – is one such tool. It is an end-to-end traffic
    analysis application that was designed to capture large volumes of network packet
    information and index it for manual exploration by an analyst. It offers real-time
    searching/queries, customizable dashboards, and a variety of advanced data analyses.
    Like most traffic analysis utilities, Arkime is most used for network security
    monitoring, incident response, and data analysis. Its specialty is in processing
    massive amounts of network information.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: Arkime——前身为Moloch——就是这样一款工具。它是一款端到端流量分析应用，旨在捕获大量的网络数据包信息并将其编入索引，以供分析师手动探索。它提供实时搜索/查询、自定义仪表板以及多种高级数据分析功能。像大多数流量分析工具一样，Arkime主要用于网络安全监控、事件响应和数据分析。它的特点是处理大量的网络信息。
- en: This application supports a variety of packet capture methods, including passive
    listening, **packet capture** (**PCAP**) file import, and even direct capture
    with network **test access points** (**TAPs**). A PCAP file is a standardized
    file format that is widely accepted with packet capture utilities such as Wireshark.
    A TAP is typically – but not always – a hardware device that provides a way for
    analysts to monitor network traffic by creating a copy of the data that is passing
    through the network link. Software versions of this function are known as **Virtual
    TAPs** or **vTAPs**. These allow the original traffic to flow without interference.
    A TAP is usually placed between network devices such as switches and routers.
    While Arkime itself does not provide a vTAP, it is set up for integration with
    such software applications.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 该应用程序支持多种数据包捕获方法，包括被动监听、**数据包捕获**（**PCAP**）文件导入，甚至通过网络**测试接入点**（**TAPs**）进行直接捕获。PCAP文件是一种标准化文件格式，广泛被如Wireshark等数据包捕获工具所接受。TAP通常是—但并非总是—一种硬件设备，提供了一种让分析师通过复制经过网络链路的数据来监控网络流量的方式。该功能的软件版本被称为**虚拟TAP**（**vTAPs**）。这些虚拟TAP允许原始流量不受干扰地传输。TAP通常被放置在交换机和路由器等网络设备之间。虽然Arkime本身不提供vTAP，但它已设置好与此类软件应用程序的集成。
- en: Arkime also offers advanced searching capabilities. This includes searching
    across all indexed fields, packet payloads, and metadata with support for regular
    expressions, range searches, and contextual queries.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: Arkime还提供了先进的搜索功能，包括跨所有已编索引字段、数据包负载和元数据的搜索，支持正则表达式、范围搜索和上下文查询。
- en: Whenever an application offers advanced query abilities, it’s always good to
    also offer ways for the user to present this information in ways that best suit
    them. That will help the user bond with the application and create a natural comfort
    using it. Arkime accomplishes that goal by allowing customizable dashboards so
    that the operator can personalize how the network data is displayed to them by
    focusing on the data that is most valuable to the user at the time.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 每当一个应用程序提供高级查询功能时，最好还提供方式让用户根据自己的需求以最适合的方式呈现这些信息。这将帮助用户与应用程序建立联系，并自然地形成舒适的使用体验。Arkime
    通过允许自定义仪表板来实现这一目标，这样操作员可以个性化显示网络数据，专注于当时对用户最有价值的数据。
- en: Arkime also supports plugins with its architecture so that its operators can
    extend its functionality. As with most large-scale software applications offering
    this feature – such as Burp Suite – there is a community of Arkime users who have
    already developed various plugins to support additional analytics, integrations
    with external tools, and customizations and are offering these prebuilt plugins
    for use by other Arkime operators. We will explore this application in greater
    detail at the beginning of [*Chapter 6*](B21223_06.xhtml#_idTextAnchor098).
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: Arkime 的架构还支持插件，使其操作员能够扩展其功能。与大多数提供此功能的大型软件应用程序类似——例如 Burp Suite——Arkime 用户社区已经开发了各种插件，支持额外的分析、与外部工具的集成、以及自定义功能，并将这些预构建的插件提供给其他
    Arkime 操作员使用。我们将在 [*第六章*](B21223_06.xhtml#_idTextAnchor098)开始时更详细地探讨这个应用程序。
- en: Malcolm
  id: totrans-231
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Malcolm
- en: Malcom is a similar traffic analysis tool that has a particular focus on visualizing
    network traffic. Along with the same network monitoring that Arkime offers, Malcom
    is also popularly used for threat hunting, file extraction, and metadata extraction,
    giving it a unique area of emphasis over other network analysis tools. Though
    known for its simplicity, Malcolm’s claim to fame is its ability to extract and
    analyze files from the network traffic. In Malcom’s case, this is an automated
    feature.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: Malcom 是一个类似的流量分析工具，特别专注于网络流量的可视化。除了提供 Arkime 提供的网络监控功能，Malcom 还广泛用于威胁猎杀、文件提取和元数据提取，使其在其他网络分析工具中拥有独特的优势。尽管以简洁著称，Malcom
    的亮点在于其从网络流量中提取和分析文件的能力。在 Malcom 中，这是一项自动化功能。
- en: It also provides support as a collaboration tool by allowing multiple users
    to work together on the same investigation, providing functionality for sharing
    and commenting on the data that is captured. This feature is uncommon with traffic
    analysis tools and makes a convincing case for SOC teams to select Malcolm over
    other traffic analysis tools because it supports real-time collaboration with
    incident response and analysis.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 它还通过允许多个用户在同一调查中协作，提供作为协作工具的支持，具备共享和评论捕获数据的功能。这项功能在流量分析工具中并不常见，并为 SOC 团队选择 Malcolm
    而非其他流量分析工具提供了有力的理由，因为它支持与事件响应和分析的实时协作。
- en: As you have seen, Kali Purple offers a robust array of defensive security tools.
    They are largely built around the ELK stack, which we will detail in [*Chapter
    2*](B21223_02.xhtml#_idTextAnchor039). When integrating the IDS tools we’ve discussed,
    such as Suricata or Zeek, the full toolset starts to form the SOC required for
    our security posture. That’s the entire purpose of Kali Purple. That’s the reason
    Kali Purple was created!
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，Kali Purple 提供了一整套强大的防御安全工具。它们主要基于 ELK 堆栈构建，我们将在 [*第二章*](B21223_02.xhtml#_idTextAnchor039)中详细介绍。当集成我们讨论过的
    IDS 工具，如 Suricata 或 Zeek 时，整个工具集开始形成支撑我们安全态势的 SOC。这正是 Kali Purple 的全部目的，这也是 Kali
    Purple 创建的原因！
- en: Summary
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we discovered a solid base of actions and knowledge that led
    to the cybersecurity stage as we see it today. We were able to follow a brief
    history of security developments and events that created the protective needs
    businesses have today. In doing so, we examined Stuxnet, one of the world’s first
    uses of modern computing technology for weaponization and cyberwarfare. From there,
    we looked at a cyberattack that affected individuals in the masses with the Target
    attack of 2013\. We saw how these two attacks led to much of the technology we
    are about to work with throughout the rest of this book.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们发现了一套坚实的行动和知识基础，这些为我们今天所见的网络安全阶段奠定了基础。我们能够跟随一段简短的安全发展史和事件，揭示了如今企业所需的保护需求。在此过程中，我们考察了Stuxnet，这是世界上第一次将现代计算技术用于武器化和网络战争的案例。随后，我们研究了2013年Target公司遭受的网络攻击，了解了这两次攻击如何推动了本书后续章节中所涉及技术的发展。
- en: As we navigated both the red and blue team tools included in the Kali Purple
    distribution or made available to add to it, we started to piece together the
    full picture of a well-rounded cybersecurity system. We were able to begin seeing
    the greater potential of Kali Purple and watch it slowly emerge as a comprehensive
    *one-stop-shop* capable of providing a great level of universality in business
    security solutions, training for analysts, and proof of concept.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们浏览了Kali Purple分发版中包含的红队和蓝队工具，或可以添加到其中的工具后，我们开始拼凑出一个全面的网络安全系统的完整图景。我们能够开始看到Kali
    Purple的更大潜力，并观察到它逐渐发展成为一个全面的*一站式商店*，能够为商业安全解决方案、分析师培训以及概念验证提供极高的通用性。
- en: Now equipped with a solid base of understanding, we will begin to unpack this
    *SOC-in-a-Box* in the next chapter by drilling down slightly on Kali Linux and
    sharply on what is arguably the most highly anticipated and popular feature of
    Kali Purple – the SIEM.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 现在拥有了扎实的基础知识，我们将在下一章中开始深入探讨这个*SOC一体化*，稍微了解一下Kali Linux，并重点关注Kali Purple中可能是最受期待和最受欢迎的功能——SIEM。
- en: Questions
  id: totrans-239
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: 'Answer the following questions to test your knowledge of this chapter:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 回答以下问题以测试你对本章的理解：
- en: What is a SOC?
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是SOC？
- en: Special operations command
  id: totrans-242
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 特殊行动指挥部
- en: Standard of operational conduct
  id: totrans-243
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 操作行为标准
- en: Security operations center
  id: totrans-244
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安全运营中心
- en: A piece of fabric someone wears on their foot
  id: totrans-245
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一块穿在脚上的布
- en: What is the primary difference between Hydra and John the Ripper?
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Hydra和John the Ripper的主要区别是什么？
- en: Hydra’s focus is on password cracking from a hash list and John the Ripper’s
    is on brute-forcing with network applications
  id: totrans-247
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Hydra的重点是从哈希列表中破解密码，而John the Ripper则专注于通过网络应用进行暴力破解
- en: John the Ripper’s focus is on password cracking from a hash list and Hydra’s
    is on brute-forcing with network applications
  id: totrans-248
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: John the Ripper的重点是从哈希列表中破解密码，而Hydra则专注于通过网络应用进行暴力破解
- en: Hydra has many heads whereas John the Ripper only has one
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Hydra有多个头，而John the Ripper只有一个
- en: All the above
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上全部
- en: None of the above
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上都不是
- en: What is the downside of being known for having top-tier security?
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 被认为拥有顶级安全性的缺点是什么？
- en: You become a target for adversaries looking to prove their mettle
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会成为对手的目标，他们试图证明自己的实力
- en: Your security budget is outrageous
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的安全预算过高
- en: You’re so protected that your own mother cannot contact you
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你被保护得如此严密，连你自己的母亲都无法联系到你
- en: Everybody expects you to share your secrets
  id: totrans-256
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个人都期望你分享你的秘密
- en: Which pocket-sized tool was used to deliver sabotage against Iran’s nuclear
    enrichment program?
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪种口袋大小的工具被用来对伊朗的核浓缩计划进行破坏？
- en: A Swiss Army knife
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 瑞士军刀
- en: A butane lighter
  id: totrans-259
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 丁烷打火机
- en: A paperclip
  id: totrans-260
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回形针
- en: A USB thumb drive
  id: totrans-261
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: USB闪存驱动器
- en: When a SIEM combines freshly acquired data with pre-existing data sources, this
    is known as what?
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当SIEM将新获得的数据与现有的数据源结合时，这被称为什么？
- en: Data corruption
  id: totrans-263
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据损坏
- en: Data enrichment
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据增强
- en: Data pollution
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据污染
- en: A chaotic mess
  id: totrans-266
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 混乱的局面
- en: The CIA triad stands for confidentiality, integrity, and _______________.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CIA三角理论代表机密性、完整性和_______________。
- en: Availability
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可用性
- en: Accessibility
  id: totrans-269
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可访问性
- en: Accountability
  id: totrans-270
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 责任
- en: Assumability
  id: totrans-271
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可假设性
- en: Which OS was the first successful mass-market OS distributed with a desktop
    personal computer?
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个操作系统是第一款成功的、与桌面个人计算机一起发布的大众市场操作系统？
- en: Linus Torvald’s Linux
  id: totrans-273
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 林纳斯·托瓦兹的Linux
- en: Microsoft’s Windows
  id: totrans-274
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 微软的Windows
- en: Thompson and Ritchie’s Unix
  id: totrans-275
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 托普森和里奇的Unix
- en: Apple’s MacIntosh
  id: totrans-276
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 苹果的MacIntosh
- en: Which application feature in Elastic, Arkime, and other tools allows the user
    to customize how information is presented to them?
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Elastic、Arkime 和其他工具中，哪个应用功能允许用户自定义信息的呈现方式？
- en: GUI
  id: totrans-278
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图形用户界面 (GUI)
- en: Dynamic ruleset
  id: totrans-279
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 动态规则集
- en: Dashboards
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仪表盘
- en: Whiteboard
  id: totrans-281
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 白板
- en: Further reading
  id: totrans-282
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入阅读
- en: 'To learn more about the topics that were covered in this chapter, take a look
    at the following resources:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解本章中涉及的主题，请查看以下资源：
- en: '**Kali Linux and Kali Purple release** **page**: [https://www.kali.org/blog/kali-linux-2023-1-release/](https://www.kali.org/blog/kali-linux-2023-1-release/)'
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kali Linux 和 Kali Purple 发布** **页面**: [https://www.kali.org/blog/kali-linux-2023-1-release/](https://www.kali.org/blog/kali-linux-2023-1-release/)'
- en: '**NIST Cybersecurity** **Framework**: [https://www.nist.gov/cyberframework](https://www.nist.gov/cyberframework)'
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**NIST 网络安全** **框架**: [https://www.nist.gov/cyberframework](https://www.nist.gov/cyberframework)'
- en: '**Metasploit Framework home** **page**: [https://www.metasploit.com/](https://www.metasploit.com/)'
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Metasploit Framework 主页** **页面**: [https://www.metasploit.com/](https://www.metasploit.com/)'
- en: '*Mastering Kali Linux for Advanced Penetration Testing: Become a cybersecurity
    ethical hacking expert using Metasploit, Nmap, Wireshark, and Burp Suite, 4th
    Edition*, by Vijay Kumar Velu: [https://www.amazon.com/Mastering-Linux-Advanced-Penetration-Testing/dp/1801819777/ref=nav_custrec_signin?crid=2OKNCSTWE085&keywords=kali+purple&qid=1694494113
    &s=books&sprefix=kali+purple%2Cstripbooks%2C134&sr=1-1&](https://www.amazon.com/Mastering-Linux-Advanced-Penetration-Testing/dp/1801819777/ref=nav_custrec_signin?crid=2OKNCSTWE085&keywords=kali+purple&qid=1694494113&s=books&sprefix=kali+purple%2Cstripbooks%2C134&sr=1-1&)'
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*精通 Kali Linux 高级渗透测试：使用 Metasploit、Nmap、Wireshark 和 Burp Suite 成为网络安全道德黑客专家，第4版*，作者：Vijay
    Kumar Velu: [https://www.amazon.com/Mastering-Linux-Advanced-Penetration-Testing/dp/1801819777/ref=nav_custrec_signin?crid=2OKNCSTWE085&keywords=kali+purple&qid=1694494113
    &s=books&sprefix=kali+purple%2Cstripbooks%2C134&sr=1-1&](https://www.amazon.com/Mastering-Linux-Advanced-Penetration-Testing/dp/1801819777/ref=nav_custrec_signin?crid=2OKNCSTWE085&keywords=kali+purple&qid=1694494113&s=books&sprefix=kali+purple%2Cstripbooks%2C134&sr=1-1&)'
