- en: Data Acquisition from iOS Backups
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从 iOS 备份中获取数据
- en: In the previous chapter, we covered techniques to acquire data from an iOS device,
    which included logical and filesystem acquisition. This chapter covers techniques
    to acquire a backup of files from the device onto a computer or iCloud, using
    Apple's synchronization protocol.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们介绍了从 iOS 设备获取数据的技术，包括逻辑和文件系统获取。本章介绍了如何使用 Apple 的同步协议，将设备上的文件备份到计算机或
    iCloud 的技术。
- en: The physical acquisition of an iOS device provides the most data in an investigation,
    but you can also find a wealth of information in iOS backups. iOS device users
    have several options to back up the data present on their devices. Users can choose
    to back up the data to their computer, using the Apple iTunes software, or to
    the Apple cloud storage service known as iCloud. Every time an iPhone is synced
    with a computer or to iCloud, it creates a backup by copying the selected files
    from the device. The user can determine what is contained in the backup, so some
    backups may be more inclusive than others. Also, the user can back up to both
    a computer and iCloud and the data derived from each location may differ. This
    often occurs due to the limitations of iCloud's free storage. The user may simply
    back up photos and contacts to iCloud but may take a complete backup of all the
    data on their computer. As previously mentioned, physical acquisition provides
    the best access to all data on the iOS device; however, backups may be the only
    available source of digital evidence, especially if we are dealing with the most
    recent iOS devices.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 对 iOS 设备的物理获取在调查中提供了最多的数据，但你也可以在 iOS 备份中找到大量信息。iOS 设备用户有几种方式备份他们设备上的数据。用户可以选择将数据备份到他们的计算机，使用
    Apple iTunes 软件，或备份到 Apple 的云存储服务 iCloud。每次 iPhone 与计算机或 iCloud 同步时，它都会通过复制设备中选择的文件来创建备份。用户可以确定备份中包含的内容，因此有些备份可能比其他备份更为全面。此外，用户还可以同时备份到计算机和
    iCloud，每个位置的备份数据可能会有所不同。这通常是由于 iCloud 免费存储的限制。用户可能仅将照片和联系人备份到 iCloud，但可能会将所有数据的完整备份备份到计算机。如前所述，物理获取提供了对
    iOS 设备上所有数据的最佳访问权限；然而，备份可能是唯一可用的数字证据来源，尤其是当我们处理最新的 iOS 设备时。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Working with iTunes backups
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 iTunes 备份
- en: Creating and analyzing backups with iTunes
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建并分析 iTunes 备份
- en: Extracting unencrypted backups
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提取未加密的备份
- en: Handling encrypted backup files
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理加密的备份文件
- en: Working with iCloud backups
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 iCloud 备份
- en: Working with iTunes backups
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 iTunes 备份
- en: A wealth of information is stored on any computer that has been previously synced
    with an iOS device. These computers, commonly referred to as host computers, can
    have historical data and passcode bypass certificates. In a criminal investigation,
    a search warrant can be obtained to seize a computer that belongs to a suspect,
    in order to access the backup and lockdown certificates. For all other cases,
    consent or permissible access is required. iOS backup file forensics mainly involves
    analyzing an offline backup produced by an iPhone or an iPad. Apple Watch data
    will be contained within the iPhone backup to which it is synced.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何之前与 iOS 设备同步过的计算机上，都存储着大量信息。这些计算机通常被称为主机计算机，可能包含历史数据和密码绕过证书。在刑事调查中，可以通过搜索令状来扣押属于嫌疑人的计算机，从而访问备份和锁定证书。对于其他所有情况，需要获得同意或合法的访问权限。iOS
    备份文件取证主要涉及分析由 iPhone 或 iPad 创建的离线备份。Apple Watch 的数据将包含在与其同步的 iPhone 备份中。
- en: The iTunes backup method is also useful in cases where other acquisition types
    are not feasible. In this situation, you essentially create an iTunes backup of
    the device and analyze it using forensic software. Thus, it is important for you
    to completely understand the backup process and the tools involved, to ensure
    tools are capable of creating a forensic backup without contaminating the devices
    with other existing data in iTunes.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: iTunes 备份方法在其他获取类型不可行的情况下也非常有用。在这种情况下，你实际上是创建了设备的 iTunes 备份，并使用取证软件进行分析。因此，了解备份过程和涉及的工具非常重要，以确保工具能够在不污染设备上其他现有数据的情况下创建取证备份。
- en: iPhone backup files can be created using the iTunes software, which is available
    for the macOS and Windows platforms. iTunes is a free utility provided by Apple
    for data synchronization and management between iOS devices and the computer.
    iTunes uses Apple's proprietary synchronization protocol to copy data from the
    iOS device to a computer. For example, an iPhone can be synced with a computer
    using a cable or Wi-Fi. iTunes provides an option for an encrypted backup, but,
    by default, it creates an unencrypted backup whenever an iPhone is synced. Encrypted
    backups, when cracked, provide additional access to data stored on the iOS device.
    This will be discussed later in this chapter.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用 iTunes 软件创建 iPhone 备份文件，iTunes 适用于 macOS 和 Windows 平台。iTunes 是 Apple 提供的免费工具，用于在
    iOS 设备和计算机之间同步和管理数据。iTunes 使用 Apple 的专有同步协议将数据从 iOS 设备复制到计算机。例如，可以使用数据线或 Wi-Fi
    将 iPhone 与计算机同步。iTunes 提供了加密备份的选项，但默认情况下，每当 iPhone 同步时，它会创建一个未加密的备份。加密备份一旦破解，会提供对
    iOS 设备上存储的数据的额外访问权限。此部分将在本章后面讨论。
- en: Users often create backup files to protect their data in the event that their
    device is damaged or lost. Either a forensic backup is created to act as the best
    evidence or data is simply extracted from existing iOS backup files to search
    for legacy information. For example, if you are under investigation and you delete
    files or wipe your iPhone, your backup files on your iCloud and your Mac still
    exist. Depending on whether iTunes or iCloud was used, multiple backups for the
    same device may exist. You will have to analyze each backup forensically to uncover
    artifacts relating to the investigation.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 用户通常会创建备份文件以保护数据，以防设备损坏或丢失。可以创建法医备份作为最佳证据，或者从现有的 iOS 备份文件中提取数据以搜索遗留信息。例如，如果你正在接受调查并删除了文件或擦除了
    iPhone，你在 iCloud 和 Mac 上的备份文件依然存在。根据使用的是 iTunes 还是 iCloud，可能会有多个同一设备的备份。你必须对每个备份进行法医分析，以揭示与调查相关的痕迹。
- en: iTunes is configured to automatically initiate the synchronization process once
    the iOS device is connected to the computer. To avoid unintended data exchange
    between the iOS device and the computer, disable the automatic synchronization
    process before connecting your evidence to the forensic workstation. The screenshot
    in *Step 2* of the following process illustrates the option that disables automatic
    syncing in iTunes version 12.9.4.102.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: iTunes 配置为在 iOS 设备连接到计算机后自动启动同步过程。为避免 iOS 设备与计算机之间发生无意的数据交换，请在将证据连接到法医工作站之前禁用自动同步功能。以下流程的*第
    2 步*截图展示了在 iTunes 版本 12.9.4.102 中禁用自动同步的选项。
- en: 'To disable auto-syncing in iTunes, perform the following steps:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 要禁用 iTunes 中的自动同步，请执行以下步骤：
- en: Navigate to Edit | Preferences | Devices.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 编辑 | 偏好设置 | 设备。
- en: 'Check Prevent iPods, iPhones, and iPads from syncing automatically and click
    on the OK button, as illustrated in the following screenshot:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选中“防止 iPod、iPhone 和 iPad 自动同步”并点击确定按钮，如下截图所示：
- en: '![](img/cd4a3226-ceaa-48e8-8d6b-493c80029190.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cd4a3226-ceaa-48e8-8d6b-493c80029190.png)'
- en: Disabling automatic syncing in iTunes
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 禁用 iTunes 中的自动同步
- en: As seen in the preceding screenshot, iOS backup files exist on the system. If
    this were a forensic workstation, these backup files wouldn't exist or would be
    permanently removed to prevent cross-contamination.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如前述截图所示，iOS 备份文件存在于系统中。如果这是一个法医工作站，这些备份文件将不会存在，或者会被永久删除，以防止交叉污染。
- en: 'Once you verify the synchronization settings, connect the iOS device to the
    computer using a **Universal Serial Bus** (**USB**) cable. If the connected device
    is not protected with a passcode or it was already connected to the computer recently,
    iTunes immediately recognizes the device; otherwise, you''ll have to enter the
    passcode. This can be verified by the iPhone icon displayed on the left-hand side of
    the iTunes interface, as illustrated in the following screenshot:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦验证同步设置，使用**通用串行总线**（**USB**）数据线将 iOS 设备连接到计算机。如果连接的设备没有设置密码保护，或者它最近已连接到计算机，iTunes
    会立即识别设备；否则，你将需要输入密码。这可以通过 iTunes 界面左侧显示的 iPhone 图标进行验证，如以下截图所示：
- en: '![](img/745e839b-d893-42fd-93d4-a040087edd43.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/745e839b-d893-42fd-93d4-a040087edd43.png)'
- en: An iPhone recognized by iTunes
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 一个被 iTunes 识别的 iPhone
- en: 'Before iTunes can access the iPhone, you must enable Trust between the computer
    and the phone. You will be prompted to press Continue on the computer (as highlighted
    in the following screenshot) and select Trust on the iPhone. With iOS 11, you
    must also enter the device''s passcode:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 iTunes 可以访问 iPhone 之前，你必须启用计算机和手机之间的信任。系统会提示你在计算机上点击“继续”（如下面的截图所示），并在 iPhone
    上选择“信任”。在 iOS 11 中，你还必须输入设备的密码：
- en: '![](img/442913d1-f1ac-4726-a652-08f50317b151.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/442913d1-f1ac-4726-a652-08f50317b151.png)'
- en: iTunes prompts for access permissions
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: iTunes 提示访问权限
- en: Once iTunes recognizes the device, a single click on the iPhone icon displays
    the iPhone summary, including the iPhone's name, capacity, firmware version, serial
    number, free space, and phone number. The iPhone Summary page also displays the
    options to create backups. The process of creating a backup will be discussed
    in the following section.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦 iTunes 识别到设备，单击 iPhone 图标即可显示 iPhone 概要，包括 iPhone 的名称、容量、固件版本、序列号、可用空间和电话号码。iPhone
    概要页面还显示了创建备份的选项。创建备份的过程将在以下部分进行讨论。
- en: Now, we are ready to start backing up the device. The next section will walk
    you through this process.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们准备开始备份设备。接下来的部分将引导你完成这个过程。
- en: Creating and analyzing backups with iTunes
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 iTunes 创建和分析备份
- en: 'In this section, we are going to walk you through backing up an iOS device
    with Apple iTunes. We are using iTunes version 12.10.2.3 and an iPhone running
    iOS version 13.2\. Perform the following steps:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们将引导你通过使用 Apple iTunes 来备份 iOS 设备。我们使用的是 iTunes 版本 12.10.2.3 和运行 iOS
    13.2 版本的 iPhone。请执行以下步骤：
- en: Connect the device and click on the iPhone icon displayed on the left-hand side
    of the iTunes interface.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接设备并点击 iTunes 界面左侧显示的 iPhone 图标。
- en: 'Go to the Backups section, where you can choose the backup destination (local
    computer or iCloud), and whether it''s encrypted, as illustrated in the following
    screenshot:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入备份部分，你可以选择备份目标（本地计算机或 iCloud），并选择是否加密，如下图所示：
- en: '![](img/b8421d5d-0ef2-4c07-a5a5-5b5146fb406e.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b8421d5d-0ef2-4c07-a5a5-5b5146fb406e.png)'
- en: iTunes Backups section
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: iTunes 备份部分
- en: Encrypted iTunes backups contain data that unencrypted ones don't, including
    passwords, Wi-Fi settings, and web browsing history, so make sure you are creating
    encrypted backups for forensic purposes.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 加密的 iTunes 备份包含未加密备份没有的数据，包括密码、Wi-Fi 设置和网页浏览历史，因此确保你创建了加密备份以供取证使用。
- en: Click on the Back Up Now button and wait for the process to complete. Once it's
    complete, the latest backup date and time will be changed.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“立即备份”按钮并等待过程完成。完成后，最新的备份日期和时间将被更新。
- en: 'If you want to use iTunes and save the backup to an external drive, observe
    the following instructions (we are using iTunes version 12.10.2.3 and Windows
    10):'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想使用 iTunes 并将备份保存到外部驱动器，按照以下说明操作（我们使用的是 iTunes 版本 12.10.2.3 和 Windows 10）：
- en: Rename the original backup folder.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重命名原始备份文件夹。
- en: Connect the external drive and create a backup folder on it.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接外部驱动器并在其上创建一个备份文件夹。
- en: 'Open Command Prompt and type the following command:'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开命令提示符并输入以下命令：
- en: '[PRE0]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Now, you can create a regular local backup, and it will be saved to your external
    drive.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你可以创建一个常规的本地备份，并将其保存到外部驱动器中。
- en: Now, we have the backup ready for further analysis. Let's look inside in order
    to understand its structure.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经准备好备份进行进一步分析。让我们深入了解其结构。
- en: Understanding the backup structure
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解备份结构
- en: 'When the iPhone is backed up to a computer, the backup files are stored in
    a backup directory, which exists as a 40-character hexadecimal string and corresponds
    to the **Unique Device Identifier** (**UDID**) of the device. The newest devices
    have changed the UDID format—now it''s a 24-character string, so their backups
    are named accordingly. The backup process may take a considerable amount of time,
    depending on the size of the data stored on the iPhone during the first backup.
    The location of the backup directory in which your backup data is stored depends
    on the computer''s operating system. The following table displays a list of the
    common operating systems and the default locations of the iTunes backup directory:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 当iPhone备份到计算机时，备份文件会存储在备份目录中，该目录以40个字符的十六进制字符串存在，并与设备的**唯一设备标识符**（**UDID**）对应。最新的设备已经更改了UDID格式——现在是24个字符的字符串，因此它们的备份名称也相应改变。备份过程可能需要相当长的时间，具体取决于第一次备份时iPhone上存储的数据大小。备份目录的位置取决于计算机的操作系统。以下表格列出了常见操作系统及其iTunes备份目录的默认位置：
- en: '| **Operating system** | **Backup directory location** |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| **操作系统** | **备份目录位置** |'
- en: '| Windows XP | `C:\Documents and Settings\<username>\Application Data\Apple
    Computer\MobileSync\Backup\` |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| Windows XP | `C:\Documents and Settings\<username>\Application Data\Apple
    Computer\MobileSync\Backup\` |'
- en: '| Windows Vista/7/8/10 | `C:\Users\<username>\AppData\Roaming\Apple Computer\MobileSync\Backup\`
    |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| Windows Vista/7/8/10 | `C:\Users\<username>\AppData\Roaming\Apple Computer\MobileSync\Backup\`
    |'
- en: '| macOS | `~/Library/Application Support/MobileSync/Backup/`(`~` represents
    the home folder) |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| macOS | `~/Library/Application Support/MobileSync/Backup/`（`~`代表主文件夹） |'
- en: During the first sync, iTunes creates a backup directory and takes a complete
    backup of the device. Currently, on subsequent syncs, iTunes only backs up the
    files that are modified on the device and updates the existing backup directory.
    This has not always been true since, in the past, a new backup was created every
    time the iOS device was backed up. Also, when a device is updated or restored,
    iTunes automatically initiates a backup and takes a *differential backup*. A differential
    backup has the same name as the backup directory but is appended with a dash (`-`),
    the **International Organization for Standardization** (**ISO**) date of the backup,
    a dash (`-`), and the time in a 24-hour format with seconds (`[UDID]+ '-' + [Date]+'-'+[Time
    stamp]`).
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一次同步时，iTunes会创建一个备份目录并进行设备的完整备份。目前，在后续的同步中，iTunes只会备份设备上修改的文件并更新现有的备份目录。过去并非如此，因为每次iOS设备备份时，都会创建一个新的备份。此外，当设备更新或恢复时，iTunes会自动启动备份并执行*增量备份*。增量备份与备份目录具有相同的名称，但会附加一个破折号（`-`）、备份的**国际标准化组织**（**ISO**）日期、另一个破折号（`-`），以及24小时格式带秒的时间（`[UDID]+
    '-' + [Date]+'-'+[Time stamp]`）。
- en: The iTunes backup may make a copy of everything on the device, including contacts,
    **Short Message Service** (**SMS**) messages, photos, calendars, music, call logs,
    configuration files, documents, the keychain, network settings, offline web application
    cache, bookmarks, cookies, application data (if selected), and more. For example,
    emails and passwords will not be extracted if the backup is not encrypted. The
    backup also contains device details, such as the serial number, UDID, **Subscriber
    Identification Module** (**SIM**) details, and phone number. This information
    can also be used to prove a relationship between the backup and the mobile device.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: iTunes备份可能会对设备上的所有内容进行备份，包括联系人、**短消息服务**（**SMS**）消息、照片、日历、音乐、通话记录、配置文件、文档、钥匙串、网络设置、离线网页应用缓存、书签、cookies、应用数据（如果选中），以及更多内容。例如，如果备份未加密，则电子邮件和密码将不会被提取。备份还包含设备的详细信息，如序列号、UDID、**订户身份模块**（**SIM**）信息和电话号码。这些信息也可以用来证明备份与移动设备之间的关联。
- en: 'The backup directory contains four standard files, along with the individual
    files (up to iOS 9) or folders (iOS 10 and newer). Up to iOS 9, these four files
    were `info.plist`, `manifest.plist`, `status.plist`, and `manifest.mbdb`, but
    starting from iOS 10, we have the following standard files:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 备份目录包含四个标准文件，以及独立文件（直到iOS 9）或文件夹（iOS 10及更高版本）。在iOS 9之前，这四个文件分别是`info.plist`、`manifest.plist`、`status.plist`和`manifest.mbdb`，但从iOS
    10开始，以下是标准文件：
- en: '`info.plist`'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`info.plist`'
- en: '`manifest.plist`'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`manifest.plist`'
- en: '`status.plist`'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`status.plist`'
- en: '`manifest.db`'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`manifest.db`'
- en: These files store details about the backup and the device from which it was
    derived.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这些文件存储有关备份及其来源设备的详细信息。
- en: info.plist
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: info.plist
- en: 'The `info.plist` file stores details about the backed-up device, and typically
    contains the following information:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '`info.plist`文件存储有关备份设备的详细信息，通常包含以下信息：'
- en: '`Applications`: This is the list of applications installed on the device.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Applications`：这是设备上安装的应用程序列表。'
- en: '`Build version`: This is the iOS build version number.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Build version`：这是iOS的构建版本号。'
- en: '`Device name and display name`: This is the name of the device, which typically
    includes the owner''s name.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Device name and display name`：这是设备的名称，通常包括所有者的名字。'
- en: '`GUID`: This is the **Globally Unique Identifier** (**GUID**) of the device.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GUID`：这是设备的**全局唯一标识符**（**GUID**）。'
- en: '`ICCID`: This is the **Integrated Circuit Card Identifier** (**ICCID**), which
    is the serial number of the SIM.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ICCID`：这是**集成电路卡标识符**（**ICCID**），它是SIM卡的序列号。'
- en: '`IMEI`: This is the **International Mobile Equipment Identity** (**IMEI**),
    which is used to uniquely identify the mobile phone.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IMEI`：这是**国际移动设备身份码**（**IMEI**），用于唯一标识移动电话。'
- en: '`Installed Applications`: This is the list of installed applications.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Installed Applications`：这是已安装应用程序的列表。'
- en: '`Last backup date`: This is the timestamp of the last successful backup.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Last backup date`：这是上次成功备份的时间戳。'
- en: '`MEID`: This is the **M****obile Equipment Identifier** (**MEID**) of the device.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MEID`：这是设备的**移动设备识别码**（**MEID**）。'
- en: '`Phone Number`: This is the phone number of the device at the time of backup.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Phone Number`：这是备份时设备的电话号码。'
- en: '`Product Name`: This is the name of the device (for example, iPhone X).'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Product Name`：这是设备的名称（例如，iPhone X）。'
- en: '`Product type and product version`: This is the device''s model and firmware
    version.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Product type and product version`：这是设备的型号和固件版本。'
- en: '`Serial Number`: This is the serial number of the device.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Serial Number`：这是设备的序列号。'
- en: '`Target Identifier and Unique Identifier`: This is the UDID of the device.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Target Identifier and Unique Identifier`：这是设备的UDID。'
- en: '`iTunes Files`: This contains information about photos, folders, voice memos,
    and iTunes preferences.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`iTunes Files`：此项包含有关照片、文件夹、语音备忘录和iTunes偏好的信息。'
- en: '`iTunes Settings`: This contains information about deleted applications and
    applications library.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`iTunes Settings`：此项包含关于已删除应用程序和应用程序库的信息。'
- en: '`iTunes version`: This is the version of iTunes used to create the backup.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`iTunes version`：这是用于创建备份的iTunes版本。'
- en: Let's now take a look at the `manifest.plist` file.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来看一下`manifest.plist`文件。
- en: manifest.plist
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: manifest.plist
- en: 'The `manifest.plist` file describes the contents of the backup, and typically
    contains the following information:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '`manifest.plist`文件描述了备份的内容，通常包含以下信息：'
- en: '`Backup keybag`: `Backup keybag` contains a set of data protection class keys
    that are different from the keys in `System keybag`, and backed-up data is re-encrypted
    with the new class keys. Keys in `Backup keybag` facilitate the storage of backups
    in a secure manner.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Backup keybag`：`Backup keybag`包含一组数据保护类密钥，这些密钥不同于`System keybag`中的密钥，备份数据会使用新的类密钥进行重新加密。`Backup
    keybag`中的密钥有助于以安全的方式存储备份。'
- en: '`Version`: This is the backup version.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Version`：这是备份的版本。'
- en: '`Date`: This is the timestamp of when a backup was created or last updated.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Date`：这是创建或最后更新备份的时间戳。'
- en: '`ManifestKey`: This is the key used to encrypt `manifest.db` (wrapped with
    protection class 4).'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ManifestKey`：这是用于加密`manifest.db`的密钥（采用保护级别4进行包装）。'
- en: '`WasPasscodeSet`: This identifies whether a passcode was set on the device
    when it was last synced.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WasPasscodeSet`：此项标识设备上次同步时是否设置了密码。'
- en: '`Lockdown`: This contains device details, the last backup computer''s name,
    and other remote syncing profiles.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Lockdown`：此项包含设备详细信息、上次备份计算机的名称及其他远程同步配置。'
- en: '`Applications`: This is a list of third-party applications installed on the
    backed-up device, their version numbers, and bundle identifiers.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Applications`：这是备份设备上安装的第三方应用程序列表，包括版本号和包标识符。'
- en: '`IsEncrypted`: This identifies whether the backup is encrypted. For encrypted
    backups, the value is `True`; otherwise, it is `False`.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IsEncrypted`：此项标识备份是否加密。对于加密备份，值为`True`；否则为`False`。'
- en: Next, we will look at the `status.plist` file.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将查看`status.plist`文件。
- en: status.plist
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: status.plist
- en: 'The `status.plist` file stores details about the backup status, and typically
    contains the following information:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '`status.plist`文件存储有关备份状态的详细信息，通常包含以下信息：'
- en: '`IsFullBackup`: This identifies whether the backup was a full backup of the
    device.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IsFullBackup`：此项标识备份是否为设备的完整备份。'
- en: '`UUID`: This is the UUID of the device.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UUID`：这是设备的UUID。'
- en: '`Date`: This is the timestamp of the last time the backup was modified.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Date`：这是备份最后一次修改的时间戳。'
- en: '`BackupState`: This identifies whether the backup is a new backup or one that
    has been updated.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`BackupState`：这标识备份是新的还是已更新的备份。'
- en: '`SnapshotState`: This identifies whether the backup process has finished successfully.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SnapshotState`：这标识备份过程是否已经成功完成。'
- en: Now, we will look at the `manifest.db` file.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将查看`manifest.db`文件。
- en: manifest.db
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: manifest.db
- en: '`manifest.db` is an SQLite database that contains a list of all the files and
    folders extracted from the iPhone via the backup mechanism. The `Files` table
    of the database includes the following columns:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '`manifest.db`是一个SQLite数据库，包含了通过备份机制从iPhone提取的所有文件和文件夹的列表。该数据库的`Files`表包括以下字段：'
- en: '`fileID`: This is a **Secure Hash Algorithm 1** (**SHA1**) hash of the domain,
    plus the `-` symbol and file or folder relative path. For example, `ae94e0607ca39a88c18aca095cb5b4f8471291a0` is
    the SHA1 hash for `CameraRollDomain-Media/PhotoData/Thumbnails/V2/DCIM/102APPLE`.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`fileID`：这是**安全哈希算法1**（**SHA1**）对域名的哈希值，再加上`-`符号和文件或文件夹的相对路径。例如，`ae94e0607ca39a88c18aca095cb5b4f8471291a0`是`CameraRollDomain-Media/PhotoData/Thumbnails/V2/DCIM/102APPLE`的SHA1哈希值。'
- en: '`domain`: This is the domain to which the file or folder belongs (all files
    in iOS are divided into multiple domains—for example, `CameraRollDomain` and `HomeDomain`).'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`domain`：这是文件或文件夹所属的域（iOS中的所有文件被划分为多个域，例如`CameraRollDomain`和`HomeDomain`）。'
- en: '`relativePath`: This is the relative path to the file (including the filename)
    or folder.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`relativePath`：这是文件（包括文件名）或文件夹的相对路径。'
- en: '`flags`: These are the file flags.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`flags`：这些是文件标志。'
- en: '`file`: This is an embedded `.plist` file. These `.plist` files include the
    following important pieces of information, among others:'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`file`：这是一个嵌入的`.plist`文件。这些`.plist`文件包含了许多重要信息，包括但不限于：'
- en: '`LastModified`: This is the file''s last modification timestamp in Unix format.'
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LastModified`：这是文件的最后修改时间戳，采用Unix格式。'
- en: '`Birth`: This is the file creation timestamp in Unix format. The fields are
    shown in the following screenshot:'
  id: totrans-105
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Birth`：这是文件的创建时间戳，采用Unix格式。字段如下面的截图所示：'
- en: '![](img/2a09529d-3480-464c-8afb-0e7d014da7e5.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2a09529d-3480-464c-8afb-0e7d014da7e5.png)'
- en: The manifest.db contents
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: manifest.db内容
- en: 'You can easily export this `.plist` embedded binary using, for example, **DB
    Browser for SQLite** (**DB4S**). To do this, observe the following steps:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用例如**DB Browser for SQLite**（**DB4S**）这样的工具轻松导出这个嵌入的`.plist`二进制文件。操作步骤如下：
- en: Open `manifest.db` using the Open Database button.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**打开数据库**按钮打开`manifest.db`。
- en: Go to the Browse Data tab.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**浏览数据**标签页。
- en: Click on a cell from in the file column.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击文件列中的一个单元格。
- en: 'On the Edit Database Cell pane, use the Export button to save the data as a
    `.plist` file, as illustrated in the following screenshot:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**编辑数据库单元格**面板中，使用**导出**按钮将数据保存为`.plist`文件，如下方截图所示：
- en: '![](img/f332d4d6-18d8-4cb4-9e3d-a2179fa99a87.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f332d4d6-18d8-4cb4-9e3d-a2179fa99a87.png)'
- en: Exporting an embedded .plist file with DB4S
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 使用**DB4S**导出嵌入的.plist文件
- en: 'Since iOS 10, files are no longer named with 40-character hexadecimal strings.
    Instead, you will see a list of folders named with 2-character hexadecimal strings,
    which contain the files you used to see in previous versions, as illustrated in
    the following screenshot:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 自iOS 10以来，文件不再以40字符的十六进制字符串命名。相反，你会看到一系列以2字符的十六进制字符串命名的文件夹，这些文件夹包含你在早期版本中看到的文件，如下面的截图所示：
- en: '![](img/abd922f2-d27c-4c4b-9a20-55caa7dae694.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](img/abd922f2-d27c-4c4b-9a20-55caa7dae694.png)'
- en: iPhone backup files
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: iPhone备份文件
- en: Now that you understand the backup structure, let's learn how to extract valuable
    data from it.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经了解了备份结构，接下来我们学习如何从中提取有价值的数据。
- en: Extracting unencrypted backups
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提取未加密的备份
- en: There are many free and commercial tools available to analyze data from unencrypted
    backups. These tools analyze the `manifest.db` database, restore the filenames,
    and create the file structure that users see on the iOS device. Some popular tools
    include iBackup Viewer, iExplorer, and commercial forensic tools such as Belkasoft
    Evidence Center, Magnet AXIOM, and UFED Physical Analyzer.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多免费的和商业的工具可以用来分析未加密备份中的数据。这些工具分析`manifest.db`数据库，恢复文件名，并创建用户在iOS设备上看到的文件结构。一些流行的工具包括iBackup
    Viewer、iExplorer，以及商业取证工具，如Belkasoft Evidence Center、Magnet AXIOM和UFED Physical
    Analyzer。
- en: iBackup Viewer
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: iBackup Viewer
- en: iBackup Viewer is a free tool for both Windows and macOS that can be downloaded
    from [http://www.imactools.com/iphonebackupviewer/](http://www.imactools.com/iphonebackupviewer/).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: iBackup Viewer 是一款免费的工具，支持 Windows 和 macOS，可以从 [http://www.imactools.com/iphonebackupviewer/](http://www.imactools.com/iphonebackupviewer/)
    下载。
- en: The tool expects the backup to be located in the default location, but you can
    change it to the location of your choice—for example, an external drive.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 该工具默认期望备份位于默认位置，但您可以将其更改为您选择的位置——例如，外部硬盘。
- en: 'To extract the backup, observe the following steps:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 要提取备份，请按照以下步骤操作：
- en: 'If the backup you want to analyze is not saved in the default location, click
    on the Preferences hyperlink on the main screen and choose the correct location,
    as illustrated in the following screenshot:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您想分析的备份没有保存在默认位置，请点击主屏幕上的首选项超链接，并选择正确的位置，如以下截图所示：
- en: '![](img/7d721288-26e8-4efc-8ba7-e9980bb11f08.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7d721288-26e8-4efc-8ba7-e9980bb11f08.png)'
- en: Choosing the backup location
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 选择备份位置
- en: You will see the backups available in the location you chose. Click on the one
    you want to examine.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将在您选择的位置看到可用的备份。点击您想要检查的备份。
- en: 'You will see potential evidence sources that are available, including contacts,
    call history, messages, the calendar, notes, voicemails, and browsing history,
    as shown in the following screenshot:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到可用的潜在证据源，包括联系人、通话历史记录、消息、日历、笔记、语音邮件和浏览历史，如以下截图所示：
- en: '![](img/4557fd56-0717-4fc1-a19b-719d96b052e9.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4557fd56-0717-4fc1-a19b-719d96b052e9.png)'
- en: Potential evidence sources
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 潜在证据源
- en: 'It''s important to note that you can browse the backup as a filesystem, using
    the Raw Data mode (the last icon in the previous screenshot), as shown in the
    following screenshot:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 需要注意的是，您可以使用原始数据模式（上一个截图中的最后一个图标）将备份浏览为文件系统，如以下截图所示：
- en: '![](img/205a6416-096a-4760-8cc8-31c961d20547.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](img/205a6416-096a-4760-8cc8-31c961d20547.png)'
- en: The Raw Data mode
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 原始数据模式
- en: With the help of this tool, you can easily view and export files of interest.
    Of course, it's not the only tool capable of solving such tasks. Let's look at
    another one—iExplorer.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 借助这个工具，您可以轻松查看和导出感兴趣的文件。当然，这不是唯一能解决此类任务的工具。让我们再看一个——iExplorer。
- en: iExplorer
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: iExplorer
- en: 'A free version of iExplorer is available at [https://macroplant.com/iexplorer](https://macroplant.com/iexplorer).
    This tool supports both Windows and macOS and is capable of browsing iTunes backups,
    too. Here is how to use it:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: iExplorer 提供免费的版本，您可以从 [https://macroplant.com/iexplorer](https://macroplant.com/iexplorer)
    下载。此工具支持 Windows 和 macOS，也可以浏览 iTunes 备份。以下是如何使用它：
- en: Launch iExplorer and click on Browse iTunes Backups.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 iExplorer 并点击浏览 iTunes 备份。
- en: To add a backup from a custom location, click on Add/Modify Backup Location.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 若要从自定义位置添加备份，请点击添加/修改备份位置。
- en: 'Now, click on the Add Backup Location button and choose the path, as illustrated
    in the following screenshot:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击添加备份位置按钮并选择路径，如以下截图所示：
- en: '![](img/b71ea292-3321-478a-908f-53190c144262.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b71ea292-3321-478a-908f-53190c144262.png)'
- en: Adding a custom path
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 添加自定义路径
- en: The backups from your custom location should now be available.
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，来自自定义位置的备份应该可用。
- en: 'Also, there is an interesting option—iExplorer can gather SQLite databases
    for you. To do this, click on the Raw Databases button to take you to the following
    screen (you will learn more about SQLite forensics in the following chapter):'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，还有一个有趣的选项——iExplorer 可以为您收集 SQLite 数据库。为此，请点击原始数据库按钮，进入以下屏幕（您将在接下来的章节中了解更多关于
    SQLite 法医的数据）：
- en: '![](img/76857736-da9b-4ba6-88a7-117ddc97edb9.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](img/76857736-da9b-4ba6-88a7-117ddc97edb9.png)'
- en: iExplorer Raw Databases option
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: iExplorer 原始数据库选项
- en: You can also browse the backup as a list of files and folders with the help
    of iExplorer; use the left pane for this. Also, you can use the Backup Explorer button
    and then the main pane to browse the backup.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过 iExplorer 将备份浏览为文件和文件夹列表；为此，请使用左侧面板。您也可以使用备份浏览器按钮，然后使用主面板来浏览备份。
- en: As you can see, there are enough tools capable of extracting valuable pieces
    of data from an iTunes backup, even if it's encrypted. Of course, it's usually
    possible if you know the password. But what if you don't? You will learn how to
    bypass it in the next section.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，有足够的工具可以从 iTunes 备份中提取有价值的数据，即使它是加密的。当然，通常如果您知道密码是可以的。但如果您不知道密码呢？您将在下一节中学习如何绕过它。
- en: Handling encrypted backup files
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理加密的备份文件
- en: For encrypted backups, the backup files are encrypted using the **Advanced Encryption
    Standard-256** (**AES-256**) algorithm in the **Cipher Block Chaining** (**CBC**)
    mode, with a unique key and a null **initialization vector** (**IV**). The unique
    file keys are protected with a set of class keys from `Backup keybag`. The class
    keys in `Backup keybag` are protected with a key derived from the password set
    in iTunes through 10,000 iterations of the **Password-Based Key Derivation Function
    2** (**PBKDF2**). In iOS 10.2 this mechanism was upgraded, so now, there are 10,000,000
    iterations.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 对于加密备份，备份文件使用 **高级加密标准-256**（**AES-256**）算法在 **密码块链模式**（**CBC**）下加密，并使用一个唯一的密钥和一个空的
    **初始化向量**（**IV**）。唯一的文件密钥由 `Backup keybag` 中的一组类密钥保护。`Backup keybag` 中的类密钥通过从
    iTunes 中设置的密码生成的密钥保护，该过程通过 **基于密码的密钥派生函数2**（**PBKDF2**）进行10,000次迭代。在 iOS 10.2
    中，该机制进行了升级，现在需要10,000,000次迭代。
- en: Many free and commercial tools provide support for encrypted backup file parsing
    if the password is known. Unfortunately, it's not always true, so sometimes forensic
    examiners have to crack such passwords. The next section will walk you through
    this process, with Elcomsoft Phone Breaker.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 许多免费的和商业的工具在知道密码的情况下支持加密备份文件的解析。不幸的是，这并非总是成立，因此有时法医检查员需要破解这些密码。下一部分将通过使用 Elcomsoft
    Phone Breaker 来引导你完成这个过程。
- en: Elcomsoft Phone Breaker
  id: totrans-152
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Elcomsoft Phone Breaker
- en: '**Elcomsoft Phone Breaker** is a **graphics processing unit** (**GPU**)-accelerated
    commercial tool from Elcomsoft, developed for the Windows platform. The tool can
    decrypt an encrypted backup file when the backup password is not available. The
    tool provides an option to launch a password brute-force attack on the encrypted
    backup if the backup password is not available. Elcomsoft Phone Breaker tries
    to recover the plain-text password that protects the encrypted backup, using a
    dictionary and brute-force attacks. Passwords that are relatively short and simple
    can be recovered in a reasonable amount of time. However, if the backup is protected
    with a strong and complex password, breaking it can take forever.'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '**Elcomsoft Phone Breaker** 是一款由 Elcomsoft 开发的 **图形处理单元**（**GPU**）加速的商业工具，适用于
    Windows 平台。该工具可以在无法获取备份密码的情况下解密加密的备份文件。如果无法获得备份密码，工具提供了一种选项来启动密码暴力破解攻击。Elcomsoft
    Phone Breaker 通过字典和暴力破解攻击尝试恢复保护加密备份的明文密码。相对较短且简单的密码可以在合理的时间内恢复。然而，如果备份使用的是强大且复杂的密码，破解可能需要非常长的时间。'
- en: The tool is available here (including free trial version): [https://www.elcomsoft.com/eppb.html](https://www.elcomsoft.com/eppb.html).
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 工具可在此处获得（包括免费试用版）：[https://www.elcomsoft.com/eppb.html](https://www.elcomsoft.com/eppb.html)。
- en: 'To brute-force the backup password, perform the following steps:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 要暴力破解备份密码，请执行以下步骤：
- en: 'Launch the Elcomsoft Phone Breaker tool and the tool''s main screen will appear,
    as shown in the following screenshot:'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 Elcomsoft Phone Breaker 工具，工具的主屏幕将出现，如下所示的截图：
- en: '![](img/cd84841d-8b0d-4615-8c57-977ebfcde583.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cd84841d-8b0d-4615-8c57-977ebfcde583.png)'
- en: Elcomsoft Phone Breaker's main screen
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: Elcomsoft Phone Breaker 的主屏幕
- en: Navigate to Password Recovery Wizard | Choose source | iOS device backup. Navigate
    to the backup file you want to crack, and select the `Manifest.plist` file.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入 密码恢复向导 | 选择源 | iOS 设备备份。导航到你想要破解的备份文件，并选择 `Manifest.plist` 文件。
- en: 'Configure the brute-force pattern in the Attacks section and click on the Start
    button to start the brute-force attack, as illustrated in the following screenshot:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在攻击部分配置暴力破解模式，然后点击开始按钮以启动暴力破解攻击，如下截图所示：
- en: '![](img/05e7ff98-bf10-4a8c-9504-19f447e30d9a.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/05e7ff98-bf10-4a8c-9504-19f447e30d9a.png)'
- en: Password recovery process
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 密码恢复过程
- en: If the brute-force attack is successful, the tool displays the password on the
    main screen.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如果暴力破解攻击成功，工具将在主屏幕上显示密码。
- en: 'If you have an iPhone running iOS 11 or later, and its passcode, you can reset
    the actual password and make a backup with a new known password. Here is how to
    do it:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有一部运行 iOS 11 或更高版本的 iPhone，并且知道其密码，你可以重置实际密码并使用新的已知密码进行备份。下面是如何操作：
- en: On the iPhone, go to Settings | General | Reset.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 iPhone 上，进入 设置 | 通用 | 重置。
- en: Choose Reset All Settings and enter the device's passcode. It's important to
    note that no data will be deleted.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“重置所有设置”并输入设备的密码。需要注意的是，这样做不会删除任何数据。
- en: Once the settings are reset, you can create a new backup with a password of
    your choice.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重置设置后，你可以创建一个新的备份，并设置你选择的密码。
- en: If the Screen Time password is set, you will need it as well to reset the backup
    password.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 如果设置了屏幕使用时间密码，你在重置备份密码时也需要输入该密码。
- en: Working with iCloud backups
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 iCloud 备份
- en: iCloud is a cloud storage and cloud computing service by Apple, launched in
    October 2011\. The service allows users to keep data such as calendars, contacts,
    reminders, photos, documents, bookmarks, applications, notes, and more in sync
    across multiple compatible devices (iOS devices running with iOS 5 or later; computers
    with macOS X 10.7.2 or later; and Microsoft Windows), using a centralized iCloud
    account. The service also allows users to wirelessly and automatically back up
    their iOS devices to iCloud. iCloud also provides other services, such as *Find
    My iPhone* (to track a lost phone and wipe it remotely) and *Find My Friends*(to
    share locations with friends and notify the user when a device arrives at a certain
    location).
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: iCloud 是苹果公司推出的一项云存储和云计算服务，发布于 2011 年 10 月。该服务允许用户将日历、联系人、提醒事项、照片、文档、书签、应用程序、笔记等数据在多个兼容设备（运行
    iOS 5 或更高版本的 iOS 设备；运行 macOS X 10.7.2 或更高版本的计算机；以及 Microsoft Windows）之间同步，使用一个集中管理的
    iCloud 帐户。该服务还允许用户无线并自动将其 iOS 设备备份到 iCloud。iCloud 还提供其他服务，例如 *查找我的 iPhone*（跟踪丢失的手机并远程擦除数据）和
    *查找我的朋友*（与朋友共享位置并在设备到达某个位置时通知用户）。
- en: Signing up with iCloud is free, and is simple to perform with an Apple ID. When
    you sign up for iCloud, Apple grants you access to 5 GB of free remote storage.
    If you need more storage, you can purchase the upgrade plan. To keep your data
    secure, Apple forces users to choose a strong password when creating an Apple
    ID to use with iCloud. The password must have a minimum of eight characters, including
    a number, an uppercase letter, and a lowercase letter.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 注册 iCloud 是免费的，并且只需使用 Apple ID 即可轻松完成。当你注册 iCloud 时，Apple 会为你提供 5 GB 的免费云存储空间。如果你需要更多存储空间，可以购买升级计划。为了确保数据安全，Apple
    强制要求用户在创建 Apple ID 并与 iCloud 一起使用时选择一个强密码。密码必须至少包含八个字符，其中包括一个数字、一个大写字母和一个小写字母。
- en: 'iOS devices running on iOS 5 and later allow users to back up the device settings
    and data to iCloud. Data backed up includes photos, videos, documents, application
    data, device settings, messages, contacts, calendars, emails, and keychain, as
    shown in the following screenshot. You can turn on iCloud backup on your device
    by navigating to Settings | Passwords & Accounts | iCloud | iCloud:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 运行 iOS 5 及更高版本的 iOS 设备允许用户将设备设置和数据备份到 iCloud。备份的数据包括照片、视频、文档、应用程序数据、设备设置、消息、联系人、日历、电子邮件和钥匙串，如下图所示。你可以通过进入
    设置 | 密码与帐户 | iCloud | iCloud 来启用设备上的 iCloud 备份：
- en: '![](img/8642cddc-4b29-4b88-a86c-aa6eff0ce81c.png)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8642cddc-4b29-4b88-a86c-aa6eff0ce81c.png)'
- en: iCloud backup options on the iPhone
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: iPhone 上的 iCloud 备份选项
- en: iCloud can automatically back up your data when your phone is plugged in, locked,
    and connected to Wi-Fi. That is to say, iCloud backups represent a fresh and near-real-time
    copy of information stored on the device, as long as space is available to create
    a current backup.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 当你的手机插入电源、锁定并连接到 Wi-Fi 时，iCloud 可以自动备份你的数据。也就是说，只要有足够的空间进行当前备份，iCloud 备份将代表设备上信息的新鲜副本，并且几乎是实时的。
- en: You can also initiate an iCloud backup from a computer by connecting the device
    to iTunes and choosing the iCloud option. iCloud backups are incremental; that
    is, once the initial iCloud backup is completed, all the subsequent backups only
    copy the files that are changed on the device. iCloud secures your data by encrypting
    it when it is transmitted over the internet, storing it in an encrypted format
    on the server, and using secure tokens for authentication.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以通过将设备连接到 iTunes 并选择 iCloud 选项来从计算机发起 iCloud 备份。iCloud 备份是增量的；也就是说，一旦初始 iCloud
    备份完成，所有后续的备份只会复制设备上已更改的文件。iCloud 通过加密传输中的数据、以加密格式存储数据以及使用安全令牌进行身份验证来保护你的数据安全。
- en: Apple's built-in apps (for example, Mail and Contacts) use a secure token to
    access iCloud services. Using secure tokens for authentication eliminates the
    need to store the iCloud password on devices and computers.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果的内置应用（例如，邮件和联系人）使用安全令牌来访问 iCloud 服务。使用安全令牌进行身份验证可以避免在设备和计算机上存储 iCloud 密码。
- en: Extracting iCloud backups
  id: totrans-178
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提取 iCloud 备份
- en: Online backups stored on the iCloud are commonly retrieved when the original
    iOS device is damaged, upgraded, or lost. To extract a backup from iCloud, you
    must know the user's Apple ID and password. With the known Apple ID and password,
    you can log on to [https://www.icloud.com/](https://www.icloud.com/) and get access
    to contacts, notes, emails, calendars, photos, reminders, and more. You can also
    use forensic tools to extract data from iCloud. For example, you can use **Belkasoft
    Acquisition Tool**, a free tool from Belkasoft that can be downloaded from: [https://belkasof](https://belkasoft.com/get)[t.com/get](https://belkasoft.com/get).
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 存储在 iCloud 上的在线备份通常在原始 iOS 设备损坏、升级或丢失时进行恢复。要从 iCloud 提取备份，你必须知道用户的 Apple ID
    和密码。知道 Apple ID 和密码后，你可以登录 [https://www.icloud.com/](https://www.icloud.com/)
    并访问联系人、备忘录、邮件、日历、照片、提醒事项等数据。你还可以使用法医工具从 iCloud 中提取数据。例如，你可以使用 **Belkasoft Acquisition
    Tool**，这是 Belkasoft 提供的一款免费工具，可以从以下网址下载：[https://belkasof](https://belkasoft.com/get)[t.com/get](https://belkasoft.com/get)。
- en: 'To extract the iCloud data, perform the following steps:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 要提取 iCloud 数据，请执行以下步骤：
- en: Launch Belkasoft Acquisition Tool.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 Belkasoft Acquisition Tool。
- en: Choose the Cloud option.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“云端”选项。
- en: Choose iCloud.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 iCloud。
- en: Type the Apple ID login and password, and click Next.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入 Apple ID 登录和密码，然后点击“下一步”。
- en: 'Choose the artifacts you want to download and the target folder in which you
    want to place them, as illustrated in the following screenshot:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你要下载的工件及目标文件夹，如下图所示：
- en: '![](img/39f11047-23d1-406a-be2f-7f7502db302d.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![](img/39f11047-23d1-406a-be2f-7f7502db302d.png)'
- en: Data types available for downloading
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 可下载的数据类型
- en: Enter the verification code.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入验证码。
- en: Wait for the process to complete. You'll find the files in the folder you've
    chosen.
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待过程完成。你会在所选文件夹中找到这些文件。
- en: If you prefer full backups, the best choice is Elcomsoft Phone Breaker.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你更喜欢完整的备份，最佳选择是 Elcomsoft Phone Breaker。
- en: 'To download the iCloud backup, follow these steps:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 要下载 iCloud 备份，请按照以下步骤操作：
- en: Launch Elcomsoft Phone Breaker.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 Elcomsoft Phone Breaker。
- en: Choose the Backups option.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“备份”选项。
- en: Enter the Apple ID and password, or use a previously extracted token.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入 Apple ID 和密码，或使用之前提取的令牌。
- en: If Apple ID is protected with **two-factor authentication** (**2FA**), enter
    the code in the corresponding field.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 Apple ID 启用了 **双重身份验证** (**2FA**)，请输入相应字段中的验证码。
- en: 'Choose the backup you want to download, as illustrated in the following screenshot:'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你要下载的备份，如下图所示：
- en: '![](img/166f5a2c-ef6d-41c2-a2bc-4322af253536.png)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![](img/166f5a2c-ef6d-41c2-a2bc-4322af253536.png)'
- en: Choosing the backup for downloading
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 选择要下载的备份。
- en: Once downloading is completed, you can analyze the backup with your tool of
    choice—for example, one of the tools discussed throughout this chapter.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 下载完成后，你可以使用你选择的工具分析备份文件——例如，本章讨论的某些工具。
- en: Summary
  id: totrans-200
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: iOS device backups contain essential information that may be your only source
    of evidence. Information stored in iOS backups includes photos, videos, contacts,
    emails, call logs, user accounts and passwords, applications, and device settings.
    This chapter explained how to create backup files and retrieve data from iTunes
    and iCloud backups, including encrypted backup files, wherever possible.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: iOS 设备备份包含了可能是你唯一证据来源的重要信息。iOS 备份中存储的信息包括照片、视频、联系人、邮件、通话记录、用户账户和密码、应用程序以及设备设置。本章解释了如何创建备份文件并尽可能从
    iTunes 和 iCloud 备份中恢复数据，包括加密的备份文件。
- en: The following chapter, [Chapter 5](4f92f4a2-f8f9-4274-96eb-da9174fc6772.xhtml),
    *iOS Data Analysis and Recovery*, goes further into the forensic investigation
    by showing you how to analyze the data recovered from the backup files.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 以下章节，[第5章](4f92f4a2-f8f9-4274-96eb-da9174fc6772.xhtml)，*iOS 数据分析与恢复*，进一步深入法医调查，向你展示如何分析从备份文件中恢复的数据。
