- en: Pentesting and Securing AWS RDS
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试和保护AWS RDS
- en: AWS **Relational Database Service** (RDS) often hosts the most crucial and sensitive
    data that is relevant to a specific application. Hence, there is a strong need
    to focus on identifying exposed AWS RDS instances to enumerate access, and subsequently
    the data stored in the database instance. This chapter focuses on explaining the
    process of setting up a sample RDS instance and connecting it to a WordPress instance
    in both a secure and insecure way. In addition to this, we will focus on gaining
    access to an exposed database, as well as the identification and exfiltration
    of sensitive data from this database.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: AWS关系数据库服务（RDS）通常托管与特定应用程序相关的最关键和敏感的数据。因此，有必要专注于识别暴露的AWS RDS实例以枚举访问，以及随后存储在数据库实例中的数据。本章重点介绍了在安全和不安全的方式下设置示例RDS实例并将其连接到WordPress实例的过程。除此之外，我们还将专注于获取对暴露数据库的访问权限，以及从该数据库中识别和提取敏感数据。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Setting up an RDS instance and connecting it to an EC2 instance
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置RDS实例并将其连接到EC2实例
- en: Identifying and enumerating exposed RDS instances using Nmap
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Nmap识别和枚举暴露的RDS实例
- en: Exploitation and data extraction from a vulnerable RDS instance
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从易受攻击的RDS实例中利用和提取数据
- en: Technical requirements
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The following tools will be used in this chapter:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将使用以下工具：
- en: WordPress
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WordPress
- en: Nmap
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nmap
- en: Hydra
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hydra
- en: Setting up a vulnerable RDS instance
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置一个易受攻击的RDS实例
- en: 'We''ll start by creating a simple RDS instance and then connecting it to an
    EC2 machine:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先创建一个简单的RDS实例，然后将其连接到EC2机器：
- en: 'In the Services menu, go to Amazon RDS:'
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在服务菜单中，转到Amazon RDS：
- en: '![](img/b6f4b790-568c-49fb-b97f-0fce1154f5bb.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b6f4b790-568c-49fb-b97f-0fce1154f5bb.png)'
- en: 'Click on Create database. For this tutorial, we''ll use MySQL; select MySQL,
    and click on Next:'
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“创建数据库”。对于本教程，我们将使用MySQL；选择MySQL，并点击“下一步”：
- en: '![](img/be781ce6-4811-4cff-8412-723ef378bd92.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![](img/be781ce6-4811-4cff-8412-723ef378bd92.png)'
- en: 'Since this is only a tutorial, we''ll be using the Dev/Test – MySQL option.
    This is a free tier, hence it won''t charge you. Select Dev/Test – My SQL and
    continue by clicking on Next:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于这只是一个教程，我们将使用Dev/Test – MySQL选项。这是一个免费的层，因此不会收费。选择Dev/Test – MySQL并继续点击“下一步”：
- en: '![](img/29659e8d-0dd7-4e38-8414-59a252b36feb.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](img/29659e8d-0dd7-4e38-8414-59a252b36feb.png)'
- en: 'On the next page, click on Only enable options eligible for RDS Free Usage
    Tier. Then select the db.t2.micro instance in DB instance class:'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一页上，点击“仅启用符合RDS免费使用层条件的选项”。然后在DB实例类中选择db.t2.micro实例：
- en: '![](img/37a6d7e2-a325-41ec-9a9c-e677da3d7fd0.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](img/37a6d7e2-a325-41ec-9a9c-e677da3d7fd0.png)'
- en: 'Fill in the details displayed in the following screenshot, such as the DB name,
    Master username, and Master Password. For this tutorial, we''ll set up the database
    to be vulnerable to brute-force attacks; we''re naming it `vulndb` and setting
    the username and password to `admin` and `password`:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写以下截图中显示的细节，如DB名称、主用户名和主密码。对于本教程，我们将设置数据库易受暴力攻击；我们将其命名为`vulndb`，并将用户名和密码设置为`admin`和`password`：
- en: '![](img/098fe6eb-5031-40dd-9cf7-4128cae3b832.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/098fe6eb-5031-40dd-9cf7-4128cae3b832.png)'
- en: On the next page, set publicly accessible to `Yes`; leave everything else as
    it is. Finally, click on Create Database.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一页上，将公开访问设置为“是”；其他一切保持不变。最后，点击“创建数据库”。
- en: Your DB instance will be created shortly. The DB instance will not be accessible
    to any public IP address by default. In order to change this, open the security
    group of the RDS instance and allow incoming connections on port `3306` from anywhere.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您的DB实例将很快创建。默认情况下，DB实例将不对任何公共IP地址可访问。要更改此设置，请打开RDS实例的安全组，并允许从任何地方的端口`3306`上的传入连接。
- en: 'Now we will create a database for our WordPress website. Connect to the RDS
    instance from your Terminal:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们将为我们的WordPress网站创建一个数据库。从终端连接到RDS实例：
- en: '[PRE0]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'In the MySQL shell, type the following commands to create a new database:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在MySQL shell中，键入以下命令以创建新数据库：
- en: '[PRE1]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Our database has now been set up. In the next section, we will look at connecting
    our newly created database to an EC2 instance.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据库现在已经设置好了。在下一节中，我们将看看如何将我们新创建的数据库连接到EC2实例。
- en: Connecting an RDS instance to WordPress on EC2
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将RDS实例连接到EC2上的WordPress
- en: Once our RDS instance has been created, we will set up WordPress on our EC2
    instance.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们的RDS实例创建完成，我们将在EC2实例上设置WordPress。
- en: 'For this tutorial, we''ll be using an Ubuntu 16.04 instance. Go ahead, and
    spin up an Ubuntu EC2 instance. In the inbound rules settings, ensure that you
    allow traffic to port `80` and `443` (HTTP and HTTPS):'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本教程，我们将使用Ubuntu 16.04实例。继续，启动Ubuntu EC2实例。在入站规则设置中，确保允许流量到端口`80`和`443`（HTTP和HTTPS）：
- en: SSH into the Ubuntu instance. We'll now set up the instance to be able to host
    the WordPress website. Before proceeding, run `apt update` and `apt upgrade`.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SSH进入Ubuntu实例。我们现在将设置实例以能够托管WordPress网站。在继续之前，运行`apt update`和`apt upgrade`。
- en: 'Install Apache server on your EC2 machine:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的EC2机器上安装Apache服务器：
- en: '[PRE2]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'To start the Apache service, you can run the following command:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要启动Apache服务，可以运行以下命令：
- en: '[PRE3]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: To see whether the instance is working, you can visit `http://<<EC2 IP Address>>`,
    and you should get the default page of Apache.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看实例是否工作，可以访问`http://<<EC2 IP地址>>`，您应该会看到Apache的默认页面。
- en: 'We will now install PHP and a few modules for it to work with the web and database
    servers, using the following command:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们将安装PHP和一些模块，以便它与Web和数据库服务器一起工作，使用以下命令：
- en: '[PRE4]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'To test whether PHP is working with the web server, we need to create the `info.php` file
    inside `/var/www/html`:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要测试PHP是否与Web服务器一起工作，我们需要在`/var/www/html`中创建`info.php`文件：
- en: '[PRE5]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Copy and paste the following code into the file, save it, and exit:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下代码复制并粘贴到文件中，保存并退出：
- en: '[PRE6]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'When that is done, open your web browser and type in this address: `http://<<EC2
    IP Address>>/info.php`. You should be able to view the following PHP information
    page as confirmation:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，打开您的Web浏览器，输入此地址：`http://<<EC2 IP地址>>/info.php`。您应该能够查看以下PHP信息页面作为确认：
- en: '![](img/9e90b3bf-0195-40d1-9ec4-7c8edcd6086f.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9e90b3bf-0195-40d1-9ec4-7c8edcd6086f.png)'
- en: 'Next, we will download the latest WordPress website on our EC2 machine:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们将在我们的EC2机器上下载最新的WordPress网站：
- en: '[PRE7]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'We need to move all the WordPress files from the extracted folder into the
    Apache default directory:'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要将从提取的文件夹中的所有WordPress文件移动到Apache默认目录：
- en: '[PRE8]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Next, we need to configure the permissions of the website directory, as well
    as assign ownership of the WordPress files to the web server:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要配置网站目录的权限，并将WordPress文件的所有权分配给Web服务器：
- en: '[PRE9]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Now we will connect our WordPress website to our RDS instance.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将连接我们的WordPress网站到我们的RDS实例。
- en: 'Go to the `/var/www/html/` folder and rename `wp-config-sample.php` to `wp-config.php` as
    follows:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到`/var/www/html/`文件夹，并将`wp-config-sample.php`重命名为`wp-config.php`如下：
- en: '[PRE10]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Next, update the `MySQL settings` section with the details of the RDS instance.
    We named our database `newblog` in the previous section; so, we will use the same
    name here:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用RDS实例的详细信息更新“MySQL设置”部分。在上一节中，我们将数据库命名为“newblog”；因此，我们将在这里使用相同的名称：
- en: '[PRE11]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Save the file and then restart the Apache server:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存文件，然后重新启动Apache服务器：
- en: '[PRE12]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Open your web browser and then enter the `http://<<EC2 IP Address>>/index.php`
    server address to get the welcome page:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您的Web浏览器，然后输入`http://<<EC2 IP地址>>/index.php`服务器地址以获取欢迎页面：
- en: '![](img/3c6048dd-35e7-4b5a-85c3-b322e14b4b90.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3c6048dd-35e7-4b5a-85c3-b322e14b4b90.png)'
- en: Select the language of your choice, and then click on Continue. Finally, click
    on Let's go!
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您喜欢的语言，然后点击继续。最后，点击“让我们开始”！
- en: Fill in all the requested information, and then set your username and password.
    Finally, click on Install WordPress.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写所有请求的信息，然后设置您的用户名和密码。最后，点击安装WordPress。
- en: 'Once this is complete, you can log in to the WordPress installation using the
    username and password:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，您可以使用用户名和密码登录WordPress安装：
- en: '![](img/0a2d20a5-0b6c-436d-a436-54dbbbd92d30.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0a2d20a5-0b6c-436d-a436-54dbbbd92d30.png)'
- en: Our WordPress target has been set up. However, we have left the RDS instance
    accessible to the entire internet. This is a vulnerable configuration.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的WordPress目标已经设定好。但是，我们将RDS实例留给整个互联网访问。这是一个易受攻击的配置。
- en: In the next section, we will see how we can discover such vulnerable RDS instances.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将看到如何发现这样的易受攻击的RDS实例。
- en: Identifying and enumerating exposed RDS instances using Nmap
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Nmap识别和枚举暴露的RDS实例
- en: Remember when we made our RDS instance publicly accessible? Well, it's time
    to identify such public RDS instances and exploit them.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 还记得我们将RDS实例设置为公开访问吗？现在是时候识别这些公共RDS实例并利用它们了。
- en: 'In this scenario, we already know the hostname of our RDS instance, which makes
    it slightly easy for us. We''ll start by running `nmap` scan on our instance to
    identify what ports are open:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们已经知道了我们的RDS实例的主机名，这使得对我们来说稍微容易一些。我们将从在我们的实例上运行`nmap`扫描开始，以确定哪些端口是打开的：
- en: 'SSH into your Kali machine, and issue the following command:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SSH进入您的Kali机器，并发出以下命令：
- en: '[PRE13]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'We can see that port `3306` is open, and is listening for any incoming connections:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到端口`3306`是打开的，并且正在监听任何传入的连接：
- en: '![](img/0f463258-a025-4cea-ae6c-0d602186390d.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0f463258-a025-4cea-ae6c-0d602186390d.jpg)'
- en: 'Let''s find out what service is running on port `3306`:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们找出端口“3306”上运行的服务：
- en: '[PRE14]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![](img/f653b623-9e31-41d0-a4ea-47475ee6e905.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f653b623-9e31-41d0-a4ea-47475ee6e905.jpg)'
- en: 'So, it is a MySQL service. Let''s find out more information about the MySQL
    service using **Nmap Scripting** **Engine** (**NSE**) scripts:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所以，这是一个MySQL服务。让我们使用**Nmap脚本** **引擎**（**NSE**）脚本找出有关MySQL服务的更多信息：
- en: '[PRE15]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Quite a bit of information comes up, especially the set of valid usernames,
    such as `admin`. This will be crucial in our next section:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 出现了相当多的信息，特别是一组有效的用户名，比如`admin`。这在我们的下一节中将至关重要：
- en: '![](img/9d63c96e-cf0b-4bbe-812a-a09508e39ecb.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9d63c96e-cf0b-4bbe-812a-a09508e39ecb.jpg)'
- en: We have identified our target and found some information, such as which ports
    are open, what services are running, and what database server it is running. Moreover,
    we have found a crucial piece of data, that is, a list of valid usernames. In
    the next section, we will see what attacks can be performed using such data.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经确定了我们的目标并找到了一些信息，比如哪些端口是打开的，正在运行什么服务以及正在运行什么数据库服务器。此外，我们还找到了一组有效用户名的关键数据。在下一节中，我们将看到可以使用这些数据执行哪些攻击。
- en: Exploitation and data extraction from a vulnerable RDS instance
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从易受攻击的RDS实例中利用和提取数据
- en: We have now discovered an RDS instance whose MySQL service is listening publicly.
    We have also identified a set of valid usernames.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在发现了一个RDS实例，其MySQL服务正在公开监听。我们还确定了一组有效的用户名。
- en: Our next step is to brute-force the login and the valid password for our `admin` user.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一步是对我们的`admin`用户进行暴力破解登录和有效密码。
- en: 'For this exercise, we will use Hydra to brute-force the MySQL service and find
    the password:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用Hydra来暴力破解MySQL服务并找到密码：
- en: 'On your Kali instance, download a wordlist dictionary for the brute-force attack;
    I find `rockyou.txt` to be adequate. Then, issue the following command:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Kali实例上，下载用于暴力破解攻击的单词列表字典；我发现`rockyou.txt`是足够的。然后，发出以下命令：
- en: '[PRE16]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Hydra will brute-force the service using the wordlist that has been provided,
    and will give you the valid password for this:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Hydra将使用提供的单词列表对服务进行暴力破解，并为您提供有效的密码：
- en: '![](img/a9b7cc72-fbfd-4ddf-87ad-b6f617b30494.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a9b7cc72-fbfd-4ddf-87ad-b6f617b30494.jpg)'
- en: Once we have our valid set of credentials, it's time to connect to the MySQL
    service and create a new user for WordPress.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们有了有效的凭据，就该连接到MySQL服务并为WordPress创建一个新用户。
- en: 'In order to compromise the WordPress installation, we will create a new admin
    user for WordPress, and then log in using those credentials:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 为了破坏WordPress安装，我们将为WordPress创建一个新的管理员用户，然后使用这些凭据登录：
- en: 'Connect to the MySQL service again from your Kali machine using the password
    we have discovered:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次从您的Kali机器连接到MySQL服务，使用我们发现的密码：
- en: '[PRE17]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: In order to add a new user, we will have to add a new row to the `wp_users` table
    in the database.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 为了添加一个新用户，我们将不得不在数据库的`wp_users`表中添加一行。
- en: 'First, change the database to the one being used by WordPress:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，将数据库更改为WordPress正在使用的数据库：
- en: '[PRE18]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Now list the tables, as follows:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在按照以下方式列出表格：
- en: '[PRE19]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '![](img/82545061-cf71-4124-a074-254276c7ed67.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/82545061-cf71-4124-a074-254276c7ed67.jpg)'
- en: We can see the `wp_users` table; now it's time to add a new row to it.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到`wp_users`表；现在是时候向其中添加一行新数据了。
- en: 'For this tutorial, we are creating a `newadmin` user with a `pass123` password.
    Issue the following commands:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于本教程，我们正在创建一个名为`newadmin`的用户，密码为`pass123`。发出以下命令：
- en: '[PRE20]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Now visit the login page at `http://<<EC2 IP Address>>/wp-login.php`. Enter
    the new credentials, and you will be logged in as a new administrator.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在访问`http://<<EC2 IP地址>>/wp-login.php`登录页面。输入新的凭据，您将以新的管理员身份登录。
- en: Summary
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we learned what RDS instances are and how to create an RDS
    instance. We then set up a WordPress website on an EC2 machine and then configured
    it to use the RDS instance as the database server. We saw how an RDS instance
    can be made vulnerable. Furthermore, we used Nmap and Hydra to identify and exploit
    vulnerable RDS instances. Finally, we learned how we can tamper the data of an
    RDS instance to create a new WordPress user.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了RDS实例是什么，以及如何创建RDS实例。然后我们在EC2机器上设置了一个WordPress网站，然后配置它使用RDS实例作为数据库服务器。我们看到了RDS实例如何变得容易受攻击。此外，我们使用Nmap和Hydra来识别和利用易受攻击的RDS实例。最后，我们学习了如何篡改RDS实例的数据以创建一个新的WordPress用户。
- en: In the next chapter, we will learn how to pentest various other AWS APIs.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将学习如何对其他各种AWS API进行渗透测试。
- en: Further reading
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: '**Brute Forcing Passwords with ncrack, hydra, and medusa**: [https://hackertarget.com/brute-forcing-passwords-with-ncrack-hydra-and-medusa/](https://hackertarget.com/brute-forcing-passwords-with-ncrack-hydra-and-medusa/)'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用ncrack、hydra和medusa进行暴力破解密码**：[https://hackertarget.com/brute-forcing-passwords-with-ncrack-hydra-and-medusa/](https://hackertarget.com/brute-forcing-passwords-with-ncrack-hydra-and-medusa/)'
- en: '**Configuring Security in Amazon RDS**: [https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.html)'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在Amazon RDS中配置安全性**：[https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.html)'
- en: '**Encrypting Amazon RDS Resources**: [https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.Encryption.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.Encryption.html)'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**加密Amazon RDS资源**：[https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.Encryption.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.Encryption.html)'
