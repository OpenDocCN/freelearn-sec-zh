- en: Joining the Hunt
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入猎杀
- en: This book is designed to give you the practical experience necessary to take
    an interest in security and turn it into a fun, profitable pursuit.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本书旨在为你提供必要的实践经验，帮助你对安全产生兴趣，并将其转化为一项有趣且有利可图的追求。
- en: The goal is that, by focusing on real submission reports, you'll get a better
    feel for where and how to discover vulnerabilities in the wild, and by following
    along at home, pentesting real sites (as well as deliberately-vulnerable web apps),
    you'll get invaluable hands-on experience. Sometimes the best way to learn is
    to get a smattering of theory and then just jump right in.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 目标是，通过专注于真实的提交报告，你可以更好地理解如何以及在哪些地方发现网络漏洞，通过在家进行渗透测试真实的网站（以及故意存在漏洞的 web 应用），你将获得宝贵的实践经验。有时候，最好的学习方式就是先学一些理论，然后直接投入其中。
- en: 'This chapter will focus on what you''ll learn, how you''ll learn it, and how
    to generally get the most out of this work. It will cover the following:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将重点介绍你将学到的内容、如何学习以及如何从这本书中最大化收益。它将覆盖以下内容：
- en: The benefits of bug bounty programs
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 漏洞赏金计划的好处
- en: What your pentesting background should be before coming into this book
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在开始阅读本书之前，你的渗透测试背景应该具备哪些知识
- en: Setting up your environment and the tools to know
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置环境和需要掌握的工具
- en: Your next steps
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的下一步
- en: Technical Requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: No software is required for this chapter, though we will cover tools that will
    be used later on in the examples.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本章节不需要任何软件，虽然我们会介绍一些在后续示例中会使用到的工具。
- en: 'You can find the short code snippet referenced in the last section on OWASP''s
    XSS Filter Evasion Cheat Sheet: [https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet](https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet).'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 OWASP 的 XSS 过滤器规避备忘单中找到上一节提到的简短代码片段：[https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet](https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet)。
- en: The Benefits of Bug Bounty Programs
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 漏洞赏金计划的好处
- en: The web is exploding—more people are using it to do more, in more varied ways,
    than at any point in its short history.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 网络正在迅猛发展——比任何时期都更多的人以更加多样化的方式使用网络，做更多的事情。
- en: The phone is a perfect example of the rise of digital life. Since its invention
    at the end of the 20th century, it's expanded from a minor technical elite to
    over sixty percent of the world's population – more than five billion people are
    slated to have phones by the end of 2019\. Our tiny pocket computers have conquered
    the world in under 30 years. Like the Big Bang, phone usage hasn't exploded so
    much as expanded at a stupendous rate, inflating to encompass the majority of
    the world's population. From the landline void came the spark of a mobile, unbounded
    future, and almost as quickly as the idea was conceived, it was realized.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 手机是数字生活崛起的完美例子。自20世纪末发明以来，手机的使用从一个小型的技术精英群体扩展到全球超过60%的人口——预计到2019年底，全球将有超过50亿人拥有手机。我们的口袋电脑在不到30年的时间里征服了世界。就像大爆炸一样，手机使用并非爆炸式增长，而是以惊人的速度扩展，迅速覆盖了世界上大部分的人口。从座机的空白中迸发出了移动、无限的未来，几乎在这一想法被提出的同时，它便成为了现实。
- en: 'The following chart from the UN''s 2015 study on its progress towards the Millennium
    Goals captures the extent to which phone ownership grew to encompass nearly everyone
    in the world just through the early 2010s:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是联合国2015年关于千年发展目标进展的研究中，展示了手机拥有率如何在2010年代初期迅速普及，几乎覆盖了全球大部分人群的图表：
- en: '![](assets/9250bcbb-dc2f-4e75-93af-5f2a4cb977d1.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/9250bcbb-dc2f-4e75-93af-5f2a4cb977d1.png)'
- en: As a result of that expansion in internet access and a parallel increase in
    the web's complexity, more people are able to get online easily and are capable
    of *doing* more once they're there. Shopping, banking, socializing – an increasing
    part of our lives is lived online. And thanks to the data analysis of wunderkind
    artificial neural networks (algorithms designed to replicate the mathematical
    model of the human brain and its astounding success at pattern-recognition), trends
    point to more data collection. Neural nets are complicated to write but easy enough
    to use – as long as you feed them enough information. Our devices know more about
    us than ever and they're learning more every day.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 随着互联网接入的普及以及网络复杂度的增加，越来越多的人可以轻松上网，并且一旦在线，他们就能做更多事情。购物、银行业务、社交——我们生活中越来越多的部分是在网上度过的。得益于神童般的人工神经网络（这些算法模仿人类大脑的数学模型，并且在模式识别上取得了惊人的成功）的数据分析，趋势显示数据收集将越来越多。神经网络编写起来很复杂，但使用起来足够简单——只要你给它们提供足够的信息。我们的设备比以往任何时候都更了解我们，并且它们每天都在学习更多。
- en: 'This graph shows how much data is being created (or is estimated to be created)
    every minute over the next couple of years. The *y*-*x* axis on the following
    graph is measured in zettabytes (ZB): 1 ZB = 1 billion terabytes (TB). The numbers
    are staggering:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这张图表显示了未来几年每分钟产生的数据量（或预计产生的数据量）。下图的 *y*-*x* 轴以泽字节（ZB）为单位：1 ZB = 10亿太字节（TB）。这些数字令人震惊：
- en: '![](assets/d0bec236-8b66-46c5-9557-9d8ecec866c4.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/d0bec236-8b66-46c5-9557-9d8ecec866c4.png)'
- en: More applications performing more complex services for more people and managing
    more data leads to things breaking. The demand for web developers has soared as
    companies try to realize their technical aspirations, but supply has not kept
    up with the almost unlimited appetite for development work. Coding bootcamps,
    online courses, and other alternatives to a four-year degree have become a popular
    entry point for a career in software engineering, but there's still a large gap
    between what the programming companies want done versus the programmers who are
    available and capable of doing it. As demands on developer time and attention
    have increased, security concerns once avoided as costly and nonessential have
    ballooned into crises for inattentive businesses, as vulnerabilities have led
    to data breaches, commercial exploitation, identity theft, and even espionage
    by state actors and criminal syndicates.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 更多的应用程序为更多的人提供更复杂的服务，并管理更多的数据，这导致了系统的崩溃。随着公司尝试实现他们的技术目标，网页开发者的需求急剧增加，但供给却跟不上几乎无限的开发工作需求。编程训练营、在线课程以及其他四年制学位的替代方案，已经成为软件工程职业的热门入门途径，但编程公司希望完成的任务与能够完成这些任务的程序员之间仍然存在很大的差距。随着对开发者时间和注意力的要求增加，曾经被认为是昂贵且非必要的安全问题，已经变成了疏忽大意的企业面临的危机，因为漏洞导致了数据泄露、商业利用、身份盗窃，甚至是国家行为者和犯罪集团的间谍行为。
- en: Bug bounties are the crowdsourced alternative to an expensive, in-house security
    apparatus. Technology companies (from mega corps to small, five-person start-ups)
    have embraced using public bug bounty programs to find the sort of faulty logic
    and mishandled data-processing in their applications that hackers typically use
    as footholds for larger campaigns. By finding vulnerabilities before they become
    exploits, companies can pay for work that directly reduces their exposure without
    having to cover the cost of a full security audit. Some companies choose to participate
    in third-party platforms, such as Bugcrowd or HackerOne, in order to standardize
    their payouts, submission report formatting, rules of engagement, and target lists,
    while others are large enough to run a program under their own umbrella.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞赏金是昂贵的内部安全机制的众包替代方案。科技公司（从大型企业到小型五人初创公司）已经开始使用公开的漏洞赏金计划，来发现其应用程序中通常被黑客作为突破口的逻辑错误和数据处理不当。通过在漏洞被利用之前发现它们，公司可以支付工作费用，从而直接减少暴露风险，而不必承担全面安全审计的成本。一些公司选择参与第三方平台，如
    Bugcrowd 或 HackerOne，以规范他们的支付、提交报告格式、参与规则和目标清单，而另一些大公司则足够大，能够在自己的框架下运营这样的程序。
- en: Either way, by participating as a researcher, you get paid to apply your skills.
    And since many bug bounty marketplaces also track things such as the number of
    bugs you've found, their severity, and your general success rate, doing third-party
    research on public platforms can also be a great bridge to more work in security.
    If you're coming from a non-traditional background or don't have formal education
    in security, it could help make the case you've got the necessary skills to be
    productive in the field. You can do all of this while – by responsibly following
    the discovery and disclosure process – making the target application, and the
    general web, safer.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 无论哪种方式，通过作为研究人员参与，你都可以通过运用你的技能来获得报酬。而且，由于许多漏洞赏金市场还会追踪你找到的漏洞数量、漏洞的严重性和你的整体成功率，因此在公共平台上做第三方研究也可以成为你获得更多安全工作机会的好桥梁。如果你来自非传统背景或没有正式的安全教育，它可能有助于证明你具备在该领域中有效工作的必要技能。你可以在此过程中，遵循发现和披露过程的责任，同时使目标应用程序和整个网络更安全。
- en: What You Should Already Know – Pentesting Background
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你应该已经知道的 —— 渗透测试背景
- en: This book assumes a familiarity with both web application engineering and the
    basics of web application security. Any experience with the frontend technologies
    that will provide the interface and context for many of your discoveries is an
    asset, including a basic understanding of HTML/CSS/JS, and the DOM; the client-server
    relationship, session management (cookies, TTL, and so on); and the browser environment.
    In addition, a general acquaintance with the RESTful API architecture, popular
    application frameworks and languages (Django/Python, RoR/Ruby, and so on), common
    application security techniques, and common vulnerabilities, will all be handy.
    You might be a full-time security researcher, a moonlighting web application engineer,
    or even just a programming enthusiast with a light background and a historical
    interest in security – you'll all find something useful within these pages. If
    you're just beginning, that's OK too – working through the step-by-step walk-through
    in later chapters will help you develop as a security researcher; you just might
    need to fill in the gaps with outside context.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设读者熟悉 web 应用程序工程和基本的 web 应用程序安全知识。熟悉前端技术（如 HTML/CSS/JS 和 DOM）、客户端-服务器关系、会话管理（cookies、TTL
    等）、浏览器环境将有助于理解许多内容。此外，对 RESTful API 架构、常见应用框架和语言（如 Django/Python、RoR/Ruby 等）、常见应用安全技术和常见漏洞有一般了解将会很有帮助。无论您是全职安全研究员、业余的
    web 应用程序工程师，甚至只是具有轻度背景和历史兴趣的编程爱好者，本书都会为您提供有用的信息。如果您刚刚开始，也没关系 – 在后面的章节中，逐步的实例将帮助您成长为安全研究员；您可能需要通过其他上下文来填补知识空白。
- en: In addition to these topics, it's assumed you'll also have experience using
    the command line. While many great graphic tools exist for conducting and visualizing
    penetration testing engagements,  and we'll use many of them, the CLI is an invaluable
    tool for everything from package management, to real-time pentesting execution,
    to automation. And while many of the tools used will have a compatible Windows
    counterpart, the actual engagements will be conducted (for the most part) on a
    2015-generation MacBook Pro loaded with High Sierra (10.13.2), if you are working
    on a Windows PC, you can still participate by using a virtual machine or emulation
    software.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些主题，我们假设您也有使用命令行的经验。虽然有许多优秀的图形工具用于进行和可视化渗透测试，我们将使用其中的许多工具，但命令行界面对于从包管理到实时渗透测试执行再到自动化等各个方面都是无价的工具。虽然许多使用的工具都有兼容的
    Windows 版本，但实际的操作（大部分情况下）将在装有 High Sierra（10.13.2）的2015年款 MacBook Pro 上进行。如果您在
    Windows PC 上工作，您仍然可以通过使用虚拟机或仿真软件参与进来。
- en: Setting Up Your Environment – Tools To Know
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置您的环境 – 需要了解的工具
- en: All of the tools we'll use in this book will be free – you shouldn't need to
    purchase anything outside of this work to recreate the walk-throughs. In the survey
    of other security software not used directly in our engagements in [Chapter 12](ed465f46-31a7-429c-b0d2-6616dace7167.xhtml),
    *Other Tools*, there will be a discussion of other technologies (paid and free)
    you can leverage for extra functionality.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用的所有工具都是免费的 – 您无需购买其他任何内容来重现操作步骤。在第12章[其他工具](ed465f46-31a7-429c-b0d2-6616dace7167.xhtml)的调查中，将讨论其他技术（付费和免费），您可以利用它们来获得额外的功能。
- en: 'Here''s a brief overview of some of the technologies we will be using:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这里简要概述了我们将使用的一些技术：
- en: '**Burp Suite** is a versatile program that can intercept web traffic (Burp
    Proxy), trigger application information submission (Burp Intruder), scan input
    against malicious code snippets (Burp Scanner), and – with the possibilities offered
    by extensions – a multitude of other things. We''ll go over both using the native
    Burp functionality as well as how to incorporate simple extensions. Some of the
    paid functionalities, such as Burp Scan, will only receive an overview, in favor
    of focusing on the features available in the free version.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Burp Suite** 是一个多才多艺的程序，可以拦截网络流量（Burp Proxy），触发应用程序信息提交（Burp Intruder），扫描输入以防止恶意代码片段（Burp
    Scanner），以及通过扩展提供的可能性进行多种其他操作。我们将介绍如何使用原生的 Burp 功能以及如何整合简单的扩展。考虑到重点放在免费版本可用功能上，部分付费功能，比如
    Burp Scan，只会进行概述。'
- en: Nmap, sqlmap, wfuzz, arachnid, and other CLI programs are great for their ability
    to be assembled into larger workflows, feeding information into adjacent tools
    (Burp and others), kicking off other automation, or consistently visualizing a
    target's attack surface.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nmap、sqlmap、wfuzz、arachnid和其他CLI程序非常适合组装成更大的工作流程，将信息传递给相邻工具（Burp和其他工具），启动其他自动化，或者持续可视化目标的攻击面。
- en: Deliberately vulnerable web applications are a different category of tooling
    – less for use in an actual pentesting engagement and designed more to either
    test out new ideas or calibrate an existing method or technology for those times
    when you need to return a positive result for a specific vulnerability. We'll
    be doing both with our use of deliberately vulnerable web apps, such as Google
    Gruyere, Target Range, DAMN vulnerable web app, and others. You can find a list
    of more DVWA in the sites section of [Chapter 13](89bd1de4-9e7f-4070-b971-6838edf1dbb6.xhtml),
    *Going Further*.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有意设置为易受攻击的Web应用程序是一种不同类别的工具 - 不太适用于实际的渗透测试活动，而更多地设计用于测试新想法或校准现有方法或技术，以便在需要为特定漏洞返回积极结果时使用。我们将使用易受攻击的Web应用程序，如Google
    Gruyere、Target Range、DAMN易受攻击的Web应用程序等，来进行这两种操作。您可以在[第13章](89bd1de4-9e7f-4070-b971-6838edf1dbb6.xhtml)的站点部分找到更多DVWA的列表，*深入了解*。
- en: While we'll be going through the setup for these tools as we use them, it's
    still a good idea to poke around their installation and documentation pages. Because
    of their depth, many of these tools will have useful functionalities that we simply
    won't be able to completely cover in the course of our work. We'll also only skim
    the surface of tools not specific to security—the note—taking, logging, and other
    general productivity functionality represented by those apps can easily be replaced
    by whatever analogue you're most comfortable with.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们在使用这些工具时将进行设置，但浏览它们的安装和文档页面仍然是一个好主意。由于它们的深度，许多这些工具将具有我们在工作过程中无法完全涵盖的有用功能。我们还将只是浏览与安全无关的工具的表面
    - 那些应用程序代表的笔记、记录和其他一般生产力功能可以轻松地被您最熟悉的任何类似物所替代。
- en: What You Will Learn – Next Steps
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 您将学到什么 - 下一步
- en: In addition to becoming familiar with these tools (and more) by the end of this
    book, you will also learn how to look for, successfully detect, and write a bug
    submission report for vulnerabilities associated with XSS, SQLi and NoSQLi, CSRF,
    XEE, data leakage, insecure session management, and unvalidated redirects, as
    well as framework and language-specific vulnerabilities, including sites powered
    by WordPress, Django, and Ruby on Rails applications. You'll also learn how to
    write a report that maximizes your payout, where to direct your attention to maximize
    your chances of finding a vulnerability, what vulnerabilities don't lead to payouts,
    preparing for your pentesting sessions, how to stay within the rules of engagement
    for a session, and other general tips for being productive – and profitable –
    as an independent security researcher participating in bug bounty programs.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在本书结束时熟悉这些工具（以及更多工具）之外，您还将学习如何寻找、成功检测并撰写有关XSS、SQLi和NoSQLi、CSRF、XEE、数据泄漏、不安全的会话管理和未经验证的重定向，以及特定于框架和语言的漏洞的漏洞提交报告，包括由WordPress、Django和Ruby
    on Rails应用程序提供支持的网站。您还将学习如何撰写最大化报酬的报告，如何将注意力集中在最大化发现漏洞的机会上，哪些漏洞不会导致报酬，为您的渗透测试会话做好准备，如何遵守会话规则，以及作为独立安全研究人员参与漏洞赏金计划时如何高效且盈利的一般提示。
- en: Getting actual experience with penetration testing for the purpose of participating
    in a bug bounty program is key. You'll ultimately learn the most from taking the
    tools explored here and applying them to your own targets, so as you work through
    the book, you're encouraged to sign up with a third-party community and start
    your first forays into security research. As long as you adhere to the rules of
    engagement and are respectful of the app and its users, you can start trying out
    the techniques explored in these pages. Participating in forum discussions, reading
    about other users' experiences, following blogs, and generally being a part of
    the security community can also help you get a sense of effective strategies.
    Reading bug report submissions from other researchers who have gotten the OK to
    disclose their findings is a fantastic way to start understanding what makes a
    submission report effective and what vulnerabilities are typically discovered
    where.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 获得渗透测试的实际经验，以参与漏洞奖励计划是关键。你最终会通过将本书中探索的工具应用到你自己的目标上来学到最多。因此，在阅读本书的过程中，我们鼓励你注册加入第三方社区，并开始你的第一次安全研究之旅。只要你遵守参与规则并尊重应用程序及其用户，你就可以开始尝试本书中介绍的技巧。参与论坛讨论、阅读其他用户的经验、关注博客，并普遍成为安全社区的一部分，也有助于你了解有效的策略。阅读其他研究人员已经获得批准披露的漏洞报告是一种绝佳的方式，可以帮助你理解什么样的报告是有效的，哪些漏洞通常在哪里被发现。
- en: How (Not) To Use This Book – A Warning
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何（不）使用本书——一个警告
- en: 'A final word before moving on:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前的最后一句话：
- en: Do not misuse this book.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 不要滥用本书。
- en: The techniques and technologies described in this book are solely for the purpose
    of participating in approved, ethical, White Hat penetration testing engagements
    so that you can find bugs and report them to be patched for a profit.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中描述的技术和方法仅用于参与经过批准的、符合伦理的白帽渗透测试工作，以便发现漏洞并报告修复，从而获得报酬。
- en: 'The lessons learned in this work should be used responsibly:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的教训应当负责任地使用：
- en: They should not be applied to a website against its owner's permission
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不应当在没有网站所有者许可的情况下应用这些技术
- en: They should not be applied to data or logic the website's owner considers out-of-scope
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不应当应用到网站所有者认为超出范围的数据或逻辑
- en: They should not in any way be weaponized – taken beyond the vulnerability stage
    and made into proper exploits
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不应当以任何方式将其武器化——将其从漏洞阶段转化为实际的攻击手段
- en: Here's a quick example of what's meant by weaponized.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一个快速的例子，说明什么是“武器化”。
- en: 'Let''s say you find a stored XSS vulnerability, where improper data-sanitation
    is causing a comment thread to allow unescaped HTML to potentially store malicious
    code. You use the Burp Intruder tool and a manual follow-up to submit a code snippet
    demonstrating that you can store (and later execute) an arbitrary piece of JavaScript.
    The snippet in question is a pretty simple test – it executes an `alert()` function
    within an improperly sanitized `src` attribute attached to an `<img>` HTML tag:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你发现了一个存储型 XSS 漏洞，其中不正确的数据清洗导致评论线程允许未转义的 HTML 存储潜在的恶意代码。你使用 Burp Intruder 工具和手动跟进提交一个代码片段，演示你可以存储（并稍后执行）任意一段
    JavaScript。这个片段实际上是一个非常简单的测试——它在一个没有正确清洗的 `src` 属性下执行 `alert()` 函数，这个属性附加在一个 `<img>`
    HTML 标签上：
- en: '[PRE0]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: There's nothing wrong with using an `alert()` or `console.log()` call to test
    whether JavaScript is being executed in a possible XSS instance – although, when
    using `alert()` or logging, it's good to remember to output some info about where
    the XSS is happening (for example, `alert(window.location.href)`).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `alert()` 或 `console.log()` 来测试是否在可能的 XSS 实例中执行 JavaScript 本身并没有错——不过，在使用
    `alert()` 或记录日志时，记得输出一些关于 XSS 发生位置的信息（例如，`alert(window.location.href)`）。
- en: But there is something wrong with turning the vulnerability into an exploit.
    Once the XSS vulnerability is confirmed, it's easy to find malicious JavaScript
    to do more nefarious things. Running that malicious code –even in a limited way
    – risks corrupting application data or processes or other things that open you
    up to legal liability.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，将漏洞转化为攻击手段是有问题的。一旦确认了 XSS 漏洞，恶意 JavaScript 很容易被找到并做出更恶意的行为。运行这些恶意代码——即使是在有限的方式下——也有可能会破坏应用数据、进程或其他可能导致法律责任的事情。
- en: It's helpful to imagine how the vulnerability could be exploited – many bug
    bounty programs want to hear a specific scenario regarding your vulnerability
    included in your submission report so they can know whether it's severe enough
    to trigger a payout. Sometimes even the form of that scenario – how much damage
    you can make the case that an attacker could do – can drastically affect your
    reward.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 想象漏洞可能被如何利用是很有帮助的——许多漏洞悬赏计划希望在你提交报告时听到关于漏洞的具体场景，以便判断漏洞是否足够严重，是否值得支付奖励。有时，甚至该场景的形式——你能证明攻击者可能造成的损害——也能极大地影响你的奖励。
- en: So it's good to put some thought into the exploit's general form – with stored
    XSS, you could rewrite critical parts of the page where the script is being executed,
    or grab an authentication cookie and send it to a server listening for those credentials,
    or other attacks – but assessing the impact of that exploit still falls short
    of writing code that damages people and processes.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，考虑漏洞的整体形式是有益的——对于存储型XSS，你可以重写执行脚本的页面的关键部分，或获取认证cookie并将其发送到监听这些凭证的服务器，或进行其他攻击——但评估这种漏洞的影响仍然不足以编写会损害人们和流程的代码。
- en: Don't write exploit code. If you're in the United States, the legal penalties
    are severe – as of this writing, the **Computer Fraud and Abuse Act** (**CFAA**)
    means that even a slight violation of a site's terms of service can result in
    a felony. Businesses are also quick to prosecute independent researchers not abiding
    by their rules of engagement, which is the condition researchers must follow when
    probing an application for vulnerabilities. Even if there's no threat of legal
    action, civil or criminal, hacking those sites defrauds innocent people, hurts
    small businesses, provokes a legislative overreaction, erodes privacy, and just
    generally makes the whole web worse.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 不要编写利用代码。如果你在美国，法律惩罚是非常严厉的——截至本文写作时，**计算机欺诈和滥用法案**（**CFAA**）意味着即使是轻微违反网站服务条款，也可能会导致重罪。企业也很快会起诉不遵守其参与规则的独立研究人员，这些规则是研究人员在探测应用程序漏洞时必须遵循的条件。即使没有面临法律诉讼的威胁，无论是民事还是刑事，黑客攻击这些网站仍然会欺诈无辜的人，伤害小型企业，引发立法过度反应，侵蚀隐私，并且总体上让整个网络变得更糟。
- en: It's not worth it.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 这不值得。
- en: 'With that out of the way, we can move on to the first step in any bug hunting
    adventure: choosing what program to use, what site to explore, along with where
    – and how – to find vulnerabilities.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 说完这些，我们可以开始进入任何漏洞狩猎冒险的第一步：选择使用哪个计划，探索哪个网站，以及在哪里——如何——找到漏洞。
- en: Summary
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter has covered the origin and benefits of bug bounty programs, the
    background knowledge you need coming in, an overview of some of the tools we'll
    use in our engagements, how to get the most out of this book (practice on allowed
    sites), and finally, the moral and legal peril you risk by not abiding by a target
    site's rules of engagement or code of conduct.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了漏洞悬赏计划的起源和好处，入门时所需的背景知识，参与中我们将使用的一些工具概述，如何最大化地从本书中获益（在允许的网站上实践），以及最后，不遵守目标网站的参与规则或行为准则所冒的道德和法律风险。
- en: In the next chapter, we'll cover different types of bug bounty programs, the
    key factors differentiating them, how you can evaluate where you should participate,
    as well as what applications make good targets, where you should focus your research,
    and finally, how you can use a program's rules of engagement to minimize your
    legal liability as a security researcher.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将介绍不同类型的漏洞悬赏计划，它们之间的关键区别，如何评估你应该参与的计划，以及哪些应用程序是好的目标，应该将你的研究重点放在哪里，最后，如何利用计划的参与规则来最大限度地减少作为安全研究人员的法律责任。
- en: Questions
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Why do sites offer bug bounty programs?
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么网站提供漏洞悬赏计划？
- en: What's the value in participating in them?
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 参与这些计划有什么价值？
- en: What do we need to know to get the most out of this book?
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要了解什么才能从本书中获得最大的收获？
- en: What are some of the tools we'll be using? What are they for?
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将使用哪些工具？它们的用途是什么？
- en: How can we make XSS `alert()` calls more effective?
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们如何使XSS的`alert()`调用更有效？
- en: Is it OK to think about how a vulnerability could be exploited? How about writing
    code to test that theory?
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 思考一个漏洞可能如何被利用是可以的吗？写代码来测试这个理论呢？
- en: What's the law governing much of the criminal theory surrounding penetration
    testing?
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关于渗透测试的刑事理论，适用的法律是什么？
- en: Further Reading
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'You can find out more about some of the topics we have discussed in this chapter
    at:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在以下链接中了解更多关于我们在本章中讨论的一些话题：
- en: '**About Open Web Application Security Project (OWASP)**: [https://www.owasp.org/index.php/About_The_Open_Web_Application_Security_Project](https://www.owasp.org/index.php/About_The_Open_Web_Application_Security_Project)'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**关于开放网络应用安全项目（OWASP）**: [https://www.owasp.org/index.php/About_The_Open_Web_Application_Security_Project](https://www.owasp.org/index.php/About_The_Open_Web_Application_Security_Project)'
- en: '**The 2015 UN Millennium Goals Report**: [http://www.un.org/millenniumgoals/2015_MDG_Report/pdf/MDG%202015%20rev%20%28July%201%29.pdf](http://www.un.org/millenniumgoals/2015_MDG_Report/pdf/MDG%202015%20rev%20%28July%201%29.pdf)'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2015年联合国千年发展目标报告**: [http://www.un.org/millenniumgoals/2015_MDG_Report/pdf/MDG%202015%20rev%20%28July%201%29.pdf](http://www.un.org/millenniumgoals/2015_MDG_Report/pdf/MDG%202015%20rev%20%28July%201%29.pdf)'
