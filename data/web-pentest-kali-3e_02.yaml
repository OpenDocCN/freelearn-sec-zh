- en: Setting Up Your Lab with Kali Linux
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Kali Linux设置您的实验室
- en: Preparation is the key to everything; it becomes even more important when working
    on a penetration testing project, where you get a limited amount of time for reconnaissance,
    scanning, and exploitation. Eventually, you can gain access and present a detailed
    report to the customer. Each penetration test that you conduct will be different
    in nature and may require a different approach from the tests that you conducted
    earlier. Tools play a major role in penetration testing. So, you need to prepare
    your toolkit beforehand and have hands-on experience with all of the tools that
    you will need to execute the test.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 准备是一切的关键；当您在渗透测试项目上工作时，它变得更加重要，因为您只有有限的时间进行侦察、扫描和利用。最终，您可以获得访问权限并向客户提交详细报告。您进行的每次渗透测试的性质都会不同，并且可能需要与之前进行的测试不同的方法。工具在渗透测试中起着重要的作用。因此，您需要事先准备好您的工具包，并对您将需要执行测试的所有工具进行实践操作。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: An overview of Kali Linux and changes from the previous version
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux的概述和与之前版本的变化
- en: The different ways of installing Kali Linux
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Kali Linux的不同方法
- en: Virtualization versus installation on physical hardware
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟化与在物理硬件上安装
- en: A walk-through and configuration of important tools in Kali Linux
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Kali Linux中重要工具的演示和配置
- en: Vulnerable web applications and virtual machines to set up a testing lab
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 易受攻击的Web应用程序和虚拟机以建立测试实验室
- en: Kali Linux
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kali Linux
- en: Kali Linux is a security-focused Linux distribution based on Debian. It's a
    rebranded version of the famous Linux distribution known as BackTrack, which came
    with a huge repository of open source hacking tools for network, wireless, and
    web application penetration testing. Although Kali Linux contains most of the
    tools of BackTrack, the main objective of Kali Linux was to make it portable to
    be installed on devices based on ARM architectures, such as tablets and the Chromebook,
    which makes the tools easily available at your disposal.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux是一个基于Debian的以安全为重点的Linux发行版。它是著名的Linux发行版BackTrack的重新品牌版本，BackTrack带有一个巨大的开源黑客工具库，用于网络、无线和Web应用程序渗透测试。尽管Kali
    Linux包含了BackTrack的大部分工具，但Kali Linux的主要目标是使其可移植，可以安装在基于ARM架构的设备上，如平板电脑和Chromebook，这使得工具很容易地随时可用。
- en: Using open source hacking tools comes with a major drawback—they contain a whole
    lot of dependencies when installed on Linux, and they need to be installed in
    a predefined sequence. Moreover, the authors of some tools have not released accurate
    documentation, which makes our life difficult.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 使用开源黑客工具有一个主要的缺点-当它们在Linux上安装时，它们包含了大量的依赖项，并且需要按照预定的顺序安装。此外，一些工具的作者没有发布准确的文档，这使得我们的生活变得困难。
- en: Kali Linux simplifies this process; it contains many tools preinstalled with
    all of the dependencies, and it is in a ready-to-use condition so that you can
    pay more attention to an actual attack and not on simply installing the tool.
    Updates for tools installed in Kali Linux are released frequently, which helps
    you keep the tools up to date. A noncommercial toolkit that has all of the major
    hacking tools preinstalled to test real-world networks and applications is the
    dream of every ethical hacker, and the authors of Kali Linux made every effort
    to make our lives easy, which lets us spend more time on finding actual flaws
    rather than on building a toolkit.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux简化了这个过程；它预装了许多工具及其所有依赖项，并且处于可立即使用的状态，这样您就可以更多地关注实际攻击，而不仅仅是安装工具。Kali
    Linux中安装的工具经常发布更新，这有助于保持工具的最新状态。一个非商业工具包，预装了所有主要的黑客工具，用于测试真实世界的网络和应用程序，这是每个道德黑客的梦想，Kali
    Linux的作者们为了让我们的生活更轻松而做出了一切努力，这让我们可以花更多时间发现实际的漏洞，而不是构建工具包。
- en: Latest improvements in Kali Linux
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kali Linux的最新改进
- en: At Black Hat USA 2015, Kali 2.0 was released with a new 4.0 kernel. It is based
    on Debian Jessie, and it was codenamed as Kali Sana. The previous major release
    of Kali was version 1.0 with periodic updates released up to version 1.1\. Cosmetic
    interface changes for better accessibility and the addition of newer and more
    stable tools are a few of the changes in Kali 2.0.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在2015年的Black Hat USA上，Kali 2.0发布了一个新的4.0内核。它基于Debian Jessie，代号为Kali Sana。之前的主要版本是Kali
    1.0，随后发布了版本1.1的定期更新。Kali 2.0中的一些变化包括为了更好的可访问性而进行的界面改变以及添加了更新和更稳定的工具。
- en: 'Some major improvements in Kali 2.0 are listed here:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是Kali 2.0的一些主要改进：
- en: '**Continuous rolling updates**: In January 2016, the update cycle of Kali Linux
    was improved with the shift to a rolling release, with a major upgrade in April
    2017\. A rolling release distribution is one that is constantly updated so that
    users can be given the latest updates and packages when they are available. Now
    users won''t have to wait for a major release to get bug fixes. In Kali 2.0, packages
    are regularly pulled from the Debian testing distribution as they are released.
    This helps keep the core OS of Kali updated.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**持续滚动更新**：在2016年1月，Kali Linux的更新周期得到了改进，转向了滚动发布，并在2017年4月进行了重大升级。滚动发布发行版是一种不断更新的发行版，以便在可用时向用户提供最新的更新和软件包。现在用户不必等待主要版本发布来获取错误修复。在Kali
    2.0中，软件包会定期从Debian测试发行版中提取。这有助于保持Kali的核心操作系统更新。'
- en: '**Frequent tool updates**: Offensive Security, the organization that maintains
    the Kali Linux distribution, has devised a different method to check for updated
    tools. They now use a new upstream version checking the system that sends periodic
    updates when newer versions of tools are released. With this method, tools in
    Kali Linux are updated as soon as the developer releases them.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**频繁的工具更新**：维护Kali Linux发行版的组织Offensive Security已经设计了一种不同的方法来检查更新的工具。他们现在使用一个新的上游版本检查系统，当工具的新版本发布时，它会定期发送更新。通过这种方法，Kali
    Linux中的工具会在开发人员发布它们时立即更新。'
- en: '**A revamped desktop environment**: Kali Linux now supports a full GNOME 3
    session. GNOME 3 is one of the most widely used desktop environments, and it is
    a favorite for developers. The minimum RAM required for running a full GNOME3
    session is 768 MB. Although this is not an issue, considering the hardware standards
    of computers today; if you have an older machine, you can download the lighter
    version of Kali Linux that uses the Xfce desktop environment with a smaller set
    of useful tools. Kali Linux also natively supports other desktop environments
    such as KDE, MATE, E17, i3wm, and LXDE. Kali 2.0 comes with new wallpapers, a
    customizable sidebar, an improved menu layout, and many more visual tweaks.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重新设计的桌面环境**: Kali Linux现在支持完整的GNOME 3会话。GNOME 3是最广泛使用的桌面环境之一，也是开发人员的最爱。运行完整GNOME
    3会话所需的最低RAM为768 MB。虽然考虑到今天计算机的硬件标准，这不是一个问题；如果您有一台旧机器，您可以下载使用Xfce桌面环境和较小一组有用工具的轻量级Kali
    Linux版本。Kali Linux还原生支持其他桌面环境，如KDE、MATE、E17、i3wm和LXDE。Kali 2.0带有新的壁纸、可自定义的侧边栏、改进的菜单布局和许多其他视觉调整。'
- en: '**Support for various hardware platforms**: Kali Linux is now available for
    all major releases of Google Chromebooks and Raspberry Pi. NetHunter, the hacking
    distribution designed for mobile devices, which is built upon Kali Linux, has
    been updated to Kali 2.0\. The official VMware and VirtualBox images have also
    been updated.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**支持各种硬件平台**: Kali Linux现在适用于所有主要版本的Google Chromebook和Raspberry Pi。构建在Kali
    Linux之上的面向移动设备的黑客发行版NetHunter已更新至Kali 2.0。官方的VMware和VirtualBox镜像也已更新。'
- en: '**Major tool changes**: The Metasploit Community and Pro packages have been
    removed from Kali 2.0\. If you require these versions, you need to download it
    directly from Rapid7''s website ([https://www.rapid7.com/](https://www.rapid7.com/)).
    Now, only Metasploit Framework—the open source version—comes with Kali Linux.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主要工具更改**: Metasploit Community和Pro版本已从Kali 2.0中删除。如果您需要这些版本，您需要直接从Rapid7的网站（[https://www.rapid7.com/](https://www.rapid7.com/)）下载。现在，只有Metasploit
    Framework - 开源版本 - 随Kali Linux一起提供。'
- en: Installing Kali Linux
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Kali Linux
- en: The success of Kali Linux is also due to the flexibility in its installation.
    If you want to test a system quickly, you can get up and running with Kali Linux
    in a few minutes on an Amazon cloud platform, or you can have it installed on
    a high-speed SSD drive with a fast processor if you want to crack passwords using
    a rainbow table. With Linux as its base, every part of the operating system can
    be customized, which makes Kali Linux a useful toolkit in any testing environment.
    You can get Kali Linux from its official download page at [https://www.kali.org/downloads/](https://www.kali.org/downloads/).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux的成功也归功于其安装的灵活性。如果您想快速测试一个系统，您可以在几分钟内在Amazon云平台上运行Kali Linux，或者如果您想使用彩虹表破解密码，您可以将其安装在具有快速处理器的高速SSD驱动器上。作为其基础的Linux，操作系统的每个部分都可以定制，这使得Kali
    Linux成为任何测试环境中的有用工具包。您可以从其官方下载页面获取Kali Linux：[https://www.kali.org/downloads/](https://www.kali.org/downloads/)。
- en: 'Kali Linux can be installed in numerous ways on several platforms:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux可以在多种平台上以多种方式安装：
- en: '**The USB mode**: Using tools such as Rufus, Universal USB Installer in Windows,
    or `dd` in Linux, you can create a bootable USB drive from an ISO image.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**USB模式**: 使用诸如Rufus、Windows中的Universal USB Installer或Linux中的`dd`等工具，您可以从ISO映像创建可引导的USB驱动器。'
- en: '**Preinstalled virtual machines**: VirtualBox, VMware, and Hyper-V images are
    available to download from the official Kali Linux site. Just download and import
    any one of them to your virtualization software.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预装的虚拟机**: 可以从官方Kali Linux网站下载VirtualBox、VMware和Hyper-V镜像。只需下载并导入其中之一到您的虚拟化软件中即可。'
- en: '**Docker containers**: In recent years, Docker containers have proved to be
    useful and convenient in many scenarios and have gained favor over virtualization
    in some sectors. The official Kali Linux image for Docker is found at: [https://hub.docker.com/r/kalilinux/kali-linux-docker/](https://hub.docker.com/r/kalilinux/kali-linux-docker/).'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Docker容器**: 近年来，Docker容器在许多场景中证明了其有用和方便，并在某些领域中受到了青睐，超过了虚拟化。Docker的官方Kali
    Linux镜像可在以下位置找到：[https://hub.docker.com/r/kalilinux/kali-linux-docker/](https://hub.docker.com/r/kalilinux/kali-linux-docker/)。'
- en: '**Kali Linux minimal image on Amazon EC2**: Kali Linux has an **Amazon Machine
    Image** (**AMI**) available for use in the AWS marketplace at: [https://aws.amazon.com/marketplace/pp/B01M26MMTT](https://aws.amazon.com/marketplace/pp/B01M26MMTT).'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Amazon EC2上的Kali Linux最小镜像**: Kali Linux在AWS市场上有一个可用于使用的**Amazon Machine
    Image**（AMI）：[https://aws.amazon.com/marketplace/pp/B01M26MMTT](https://aws.amazon.com/marketplace/pp/B01M26MMTT)。'
- en: '**Kali NetHunter**: This is an Android ROM overlay. This means that Kali NetHunter
    runs on top of an Android ROM (be it original or custom). It is currently available
    for a limited number of devices, and its installation may not be as straightforward
    as the other Kali versions. For more information about Kali NetHunter, refer to:
    [https://github.com/offensive-security/kali-nethunter/wiki](https://github.com/offensive-security/kali-nethunter/wiki).'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kali NetHunter**: 这是一个Android ROM叠加层。这意味着Kali NetHunter在Android ROM（无论是原始还是自定义）之上运行。它目前仅适用于有限数量的设备，并且其安装可能不像其他Kali版本那样直接。有关Kali
    NetHunter的更多信息，请参阅：[https://github.com/offensive-security/kali-nethunter/wiki](https://github.com/offensive-security/kali-nethunter/wiki)。'
- en: '**Installing on a physical computer**: This may be the best option for a professional
    penetration tester who has a laptop dedicated to testing and who requires the
    full use of hardware such as the GPU, processor, and memory. This can be done
    by downloading an ISO image and recording it onto a CD, DVD, or USB drive, and
    then using it to boot the computer and start the installer.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在物理计算机上安装**: 这可能是专业渗透测试人员的最佳选择，他们有一台专用于测试的笔记本电脑，并且需要充分利用GPU、处理器和内存等硬件。这可以通过下载ISO映像并将其记录到CD、DVD或USB驱动器上，然后使用它来引导计算机并启动安装程序来完成。'
- en: Based on personal preference, and with the goal of saving memory and processing
    power while having a fully functional and lightweight desktop environment, throughout
    this book, we will use a setup consisting of a VirtualBox virtual machine with
    the Xfce4 Kali Linux ISO installed on it.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 根据个人偏好，并且为了节省内存和处理能力，同时拥有完全功能和轻量级桌面环境，本书将使用一个由VirtualBox虚拟机和安装了Xfce4 Kali Linux
    ISO的设置。
- en: Virtualizing Kali Linux versus installing it on physical hardware
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 虚拟化Kali Linux与在物理硬件上安装它
- en: The popularity of virtualization software makes it an attractive option for
    installing your testing machine on a virtualized platform. Virtualization software
    provides a rich set of features at a low cost and removes the hassle of dual booting
    the machine. Another useful feature that most virtualization software packages
    provide is the cloning of virtual machines that you can use to create multiple
    copies of the same machine. In a real-world penetration test, you might need to
    clone and duplicate your testing machine in order to install additional hacking
    tools and to make configuration changes in Kali Linux, keeping a copy of the earlier
    image to be used as a base image in a virtualized environment. This can be achieved
    very easily.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟化软件的流行使其成为在虚拟化平台上安装测试机的一个有吸引力的选择。虚拟化软件以低成本提供了丰富的功能，并消除了双启动机器的麻烦。大多数虚拟化软件包提供的另一个有用的功能是克隆虚拟机，您可以使用它来创建多个相同机器的副本。在真实的渗透测试中，您可能需要克隆和复制您的测试机器，以安装额外的黑客工具并在Kali
    Linux中进行配置更改，保留早期镜像的副本以用作虚拟化环境中的基础镜像。这可以非常容易地实现。
- en: Some virtualization software have a *revert to snapshot* feature, wherein, if
    you mess up your testing machine, you can go back in time and restore a clean
    slate on which you can do your work.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 一些虚拟化软件具有*还原到快照*功能，如果您搞砸了测试机器，您可以回到过去并恢复一个干净的状态，在上面可以进行工作。
- en: Modifying the amount of RAM, size of a virtual disk, and number of virtual processors
    assigned to a virtual machine when required is another well-known feature of virtualization
    software.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 修改虚拟机的RAM数量、虚拟磁盘大小和虚拟处理器数量是虚拟化软件的另一个众所周知的特性。
- en: Along with the features that make a virtualization platform such an attractive
    option comes one major drawback. If the penetration test involves testing the
    strength of the password used on the network or another processor-intensive task,
    you will need a high-performing processor and a GPU dedicated to that task. Cracking
    passwords on a virtual platform is not a wise thing to do, as it slows down the
    process and you won't be able to use the processor to its maximum capacity due
    to the virtualization overhead.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟化平台具有吸引人的功能，但也有一个主要缺点。如果渗透测试涉及测试网络上使用的密码的强度或其他处理器密集型任务，您将需要一台性能出色的处理器和专用于该任务的GPU。在虚拟平台上破解密码是不明智的，因为它会减慢进程，并且由于虚拟化开销，您将无法充分利用处理器的容量。
- en: Another feature of a virtualization platform that confuses a lot of people is
    the networking options. Bridged, Host-only, and NAT are the three major networking
    options that virtualization software provide. Bridged networking is the recommended
    option for performing a penetration test, as the virtual machine will act as if
    it is connected to a physical switch and packets move out of the host machine
    unaltered.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟化平台的另一个让很多人困惑的特性是网络选项。桥接、主机模式和NAT是虚拟化软件提供的三种主要网络选项。桥接网络是进行渗透测试的推荐选项，因为虚拟机会表现得好像连接到物理交换机上一样，数据包会不经修改地从主机机器传出。
- en: Installing on VirtualBox
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在VirtualBox上安装
- en: Oracle VirtualBox, compatible with multiple platforms, can be obtained from
    [https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads).
    It is also recommended that you download and install the corresponding extension
    pack, as it provides USB 2.0 and 3.0 support, RDP, disk encryption, and several
    interesting features.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 可以从[https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads)获取适用于多个平台的Oracle
    VirtualBox。建议您还下载并安装相应的扩展包，因为它提供USB 2.0和3.0支持、RDP、磁盘加密和其他一些有趣的功能。
- en: From the Kali downloads page, choose your preferred version. As mentioned earlier,
    we will use the Xfce4 64-bits ISO ([https://www.kali.org/downloads/](https://www.kali.org/downloads/)).
    You can choose any other version according to your hardware or preference, as
    the installed tools or the access to them will not be different for different
    versions—unless you pick a *Light* version that only includes the operating system
    and a small set of tools.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 从Kali下载页面选择您喜欢的版本。如前所述，我们将使用Xfce4 64位ISO（[https://www.kali.org/downloads/](https://www.kali.org/downloads/)）。根据您的硬件或偏好，您可以选择任何其他版本，因为安装的工具或对它们的访问在不同版本中不会有所不同，除非您选择了仅包含操作系统和一小组工具的*Light*版本。
- en: Creating the virtual machine
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建虚拟机
- en: 'Start by opening VirtualBox and creating a new virtual machine. Select a name
    for it (we will use `Kali-Linux`), and set Linux as the type and Debian (64-bit)
    as the version. If you selected a 32-bit ISO, change the version for Debian (32-bit).
    Then, click on Next:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 首先打开VirtualBox并创建一个新的虚拟机。为其选择一个名称（我们将使用`Kali-Linux`），并将类型设置为Linux，版本设置为Debian（64位）。如果您选择了32位ISO，请将版本更改为Debian（32位）。然后，点击下一步：
- en: '![](img/00014.jpeg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00014.jpeg)'
- en: 'In the next screen that appears, select the amount of memory reserved for the
    virtual machine. Kali Linux can run with as low as 1 GB of RAM; however, the recommended
    setting for a virtual machine is 2-4 GB. We will set 2 GB for our machine. Remember
    that you will require memory in your host computer to run other programs and maybe
    other virtual machines:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来出现的屏幕上，选择为虚拟机保留的内存量。Kali Linux可以运行在至少1GB的RAM上，但是虚拟机的推荐设置是2-4GB。我们将为我们的机器设置2GB。请记住，您的主机计算机需要内存来运行其他程序，可能还需要运行其他虚拟机：
- en: '![](img/00015.jpeg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00015.jpeg)'
- en: 'In the next step, we will create a hard disk for our virtual machine. Select
    Create a virtual hard disk now and click on Create. On the next screen, let the
    type remain as VDI (VirtualBox Disk Image) and Dynamically allocated. Then, select
    the filename and path; you can leave that as it is. Last, select the disk size.
    We will use 40 GB. A freshly installed Kali Linux uses 25 GB. Select the disk
    size, and click on Create:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将为虚拟机创建一个硬盘。选择“立即创建虚拟硬盘”，然后点击“创建”。在下一个屏幕上，让类型保持为VDI（VirtualBox磁盘映像）和动态分配。然后，选择文件名和路径；您可以将其保持不变。最后，选择磁盘大小。我们将使用40GB。新安装的Kali
    Linux使用25GB。选择磁盘大小，然后点击“创建”：
- en: '![](img/00016.jpeg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00016.jpeg)'
- en: Installing the system
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装系统
- en: 'Now that the virtual machine is created, select it in the VirtualBox list and
    click on Settings in the top bar. Then, go to Storage and select the empty drive
    that has the CD icon. Next, we will configure the virtual machine to use the Kali
    Linux ISO that you just downloaded as a bootable drive (or live CD). Click on
    the CD icon on the right-hand side, then on Choose Virtual Optical Disk File...
    , and navigate to the folder where the Kali ISO was downloaded:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 现在虚拟机已创建，请在VirtualBox列表中选择它，然后点击顶部栏中的“设置”。然后，转到“存储”并选择具有CD图标的空驱动器。接下来，我们将配置虚拟机使用刚刚下载的Kali
    Linux ISO作为可引导驱动器（或者是光盘）。点击右侧的CD图标，然后点击“选择虚拟光盘文件...”，并导航到下载Kali ISO的文件夹：
- en: '![](img/00017.jpeg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00017.jpeg)'
- en: 'Accept the settings changes. Now that all of the settings are complete, start
    the virtual machine and you will be able to see Kali''s GRUB loader. Select Graphical
    install and press *Enter*:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 接受设置更改。现在，所有设置都已完成，启动虚拟机，您将能够看到Kali的GRUB加载程序。选择“图形化安装”并按*Enter*：
- en: '![](img/00018.jpeg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00018.jpeg)'
- en: 'In the next few screens, you will have to select language, location, and keymap
    (keyboard distribution):'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的几个屏幕中，您需要选择语言、位置和键盘布局：
- en: '![](img/00019.jpeg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00019.jpeg)'
- en: Following this, the installer will attempt the network configuration. There
    should be no issue here, as VirtualBox sets a NAT network adapter for all new
    virtual machines by default. Then, you will be asked for a hostname and domain.
    If your network requires no specific value, leave these values unchanged and click
    on Continue.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，安装程序将尝试进行网络配置。由于VirtualBox默认为所有新虚拟机设置了NAT网络适配器，所以这里不应该有任何问题。然后，您将被要求输入主机名和域名。如果您的网络不需要特定的值，请保持这些值不变，然后点击“继续”。
- en: Next, you will be asked for a password for the root user. This is the user with
    highest privileges in your system, so even if the virtual machine is to be used
    for practice and testing purposes, choose a strong password. Select your time
    zone and click on Continue.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将被要求为root用户设置密码。这是您系统中权限最高的用户，所以即使虚拟机只用于练习和测试目的，也要选择一个强密码。选择您的时区并点击“继续”。
- en: 'Now you''ve reached the point where you need to select where to install the
    system and the hard disk partitioning. If you have no specific preferences, choose
    the first option, Guided partitioning. Select the option for using the entire
    disk and click on Continue. In the next screen, or when you finish configuring
    the disk partitioning, select Finish partitioning and write the changes to disk,
    and click on Continue:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您需要选择安装系统和硬盘分区的位置。如果您没有特定的偏好，选择第一个选项“引导分区”。选择使用整个磁盘的选项，然后点击“继续”。在下一个屏幕上，或者在完成磁盘分区配置后，选择“完成分区并将更改写入磁盘”，然后点击“继续”：
- en: '![](img/00020.jpeg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00020.jpeg)'
- en: Click Continue in the next screen to write the changes to the disk and the installation
    will start.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个屏幕中点击“继续”以将更改写入磁盘，安装将开始。
- en: '![](img/00021.jpeg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00021.jpeg)'
- en: 'When the installation finishes, the installer will try to configure the update
    mechanisms. Verify that your host computer is connected to the internet, leave
    the proxy configuration unchanged, and select Yes when asked if you want to use
    a network mirror:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，安装程序将尝试配置更新机制。确保您的主机计算机已连接到互联网，保持代理配置不变，并在询问是否要使用网络镜像时选择“是”：
- en: '![](img/00022.jpeg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00022.jpeg)'
- en: 'The installer will generate configuration files for APT, the Debian package
    manager. The next step is to configure the GRUB boot loader. Select Yes when asked,
    and install it in `/dev/sda`:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 安装程序将生成APT（Debian软件包管理器）的配置文件。下一步是配置GRUB引导加载程序。当被询问时选择“是”，并将其安装在`/dev/sda`上：
- en: '![](img/00023.jpeg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00023.jpeg)'
- en: Next, you should see the Installation complete message. Click on Continue to
    reboot the virtual machine. At this point, you can remove the ISO file from the
    storage configuration as you won't need it again.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您应该会看到“安装完成”消息。点击“继续”以重新启动虚拟机。此时，您可以从存储配置中删除ISO文件，因为您将不再需要它。
- en: 'Once the virtual machine restarts, you will be asked for a username and password.
    Use the `root` user and the password set during the installation:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟机重新启动后，您将被要求输入用户名和密码。使用`root`用户和安装过程中设置的密码：
- en: '![](img/00024.jpeg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00024.jpeg)'
- en: Important tools in Kali Linux
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kali Linux中的重要工具
- en: 'Once you have Kali Linux up and running, you can start playing with the tools.
    Since this book is about web application hacking, all of the major tools on which
    we will be spending most of our time can be accessed from Applications | Web Application
    Analysis. The following screenshot shows the tools present in Web Application
    Analysis:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你成功安装并运行了Kali Linux，你就可以开始使用工具了。由于本书是关于网络应用程序的黑客攻击，我们将花费大部分时间使用的主要工具都可以从“应用程序
    | 网络应用程序分析”中访问。下面的截图显示了“网络应用程序分析”中的工具：
- en: '![](img/00025.jpeg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00025.jpeg)'
- en: 'In Kali Linux, the tools in Web Applications Analysis are further divided into
    four categories, as listed here:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在Kali Linux中，Web应用程序分析工具进一步分为四个类别，如下所示：
- en: CMS & Framework Identification
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CMS和框架识别
- en: Web Application Proxies
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络应用程序代理
- en: Web Crawlers and Directory Bruteforce
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络爬虫和目录暴力破解
- en: Web Vulnerability Scanners
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web漏洞扫描器
- en: CMS & Framework Identification
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CMS和框架识别
- en: '**Content Management Systems** (**CMS**) are very popular on the internet and
    hundreds of websites have been deployed using one of them—*WordPress*. Plugins
    and themes are an integral part of WordPress websites. However, there have been
    a huge number of security issues associated with these add-ons. WordPress websites
    are usually administered by ordinary users who are unconcerned about security,
    and they rarely update their WordPress software, plugins, and themes, making these
    sites an attractive target.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 内容管理系统（CMS）在互联网上非常流行，数百个网站已经使用其中之一——WordPress进行部署。插件和主题是WordPress网站的重要组成部分。然而，这些附加组件存在大量的安全问题。WordPress网站通常由普通用户管理，他们对安全问题不太关注，并且很少更新他们的WordPress软件、插件和主题，使得这些网站成为一个有吸引力的目标。
- en: WPScan
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: WPScan
- en: '**WPScan** is a very fast WordPress vulnerability scanner written in the Ruby
    programming language and preinstalled in Kali Linux.'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: WPScan是一个用Ruby编程语言编写的非常快速的WordPress漏洞扫描器，预装在Kali Linux中。
- en: 'The following information can be extracted using WPScan:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用WPScan提取以下信息：
- en: The plugins list
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插件列表
- en: The name of the theme
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主题的名称
- en: Weak passwords and usernames using the brute forcing technique
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用暴力破解技术的弱密码和用户名
- en: Details of the version
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 版本的详细信息
- en: Possible vulnerabilities
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可能的漏洞
- en: Some additional CMS tools available in Kali Linux are listed in following subsections.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux中还提供了一些其他CMS工具，详见以下小节。
- en: JoomScan
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: JoomScan
- en: '**JoomScan** can detect known vulnerabilities, such as file inclusion, command
    execution, and injection flaws, in Joomla CMS. It probes the application and extracts
    the exact version the target is running.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: JoomScan可以检测Joomla CMS中已知的漏洞，如文件包含、命令执行和注入漏洞。它会探测应用程序并提取目标正在运行的确切版本。
- en: CMSmap
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CMSmap
- en: '**CMSmap** is not included in Kali Linux, but is easily installable from GitHub.
    This is a vulnerability scanner for the most commonly used CMSes: WordPress, Joomla,
    and Drupal. It uses Exploit Database to look for vulnerabilities in the enabled
    plugins of CMS. To download it, issue the following command in Kali Linux Terminal:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: CMSmap没有包含在Kali Linux中，但可以从GitHub上轻松安装。这是一个针对最常用的CMS（WordPress、Joomla和Drupal）的漏洞扫描器。它使用Exploit
    Database来查找CMS的启用插件中的漏洞。要下载它，请在Kali Linux终端中输入以下命令：
- en: '[PRE0]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Web Application Proxies
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web应用程序代理
- en: An HTTP proxy is one of the most important tools in the kit of a web application
    hacker, and Kali Linux includes several of these. A feature that you might miss
    in one proxy will surely be in another proxy. This underscores the real advantage
    of Kali Linux and its vast repository of tools.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: HTTP代理是Web应用程序黑客工具包中最重要的工具之一，Kali Linux包含了几个这样的工具。你可能会在一个代理中错过的功能肯定会在另一个代理中找到。这凸显了Kali
    Linux及其庞大的工具库的真正优势。
- en: An HTTP proxy is a software that sits between the browser and the website, intercepting
    all the traffic that flows between them. The main objective of a web application
    hacker is to gain deep insight into the inner workings of the application, and
    this is best accomplished by acting as a man in the middle and intercepting every
    request and response.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: HTTP代理是一种位于浏览器和网站之间的软件，拦截它们之间流动的所有流量。Web应用程序黑客的主要目标是深入了解应用程序的内部工作原理，而通过充当中间人并拦截每个请求和响应来实现这一目标是最好的。
- en: Burp Proxy
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Burp Proxy
- en: '**Burp Suite** has become the de facto standard for web application testing.
    Its many features provide nearly all of the tools required by a web penetration
    tester. The Pro version includes an automated scanner that can do active and passive
    scanning, and it has added configuration options in Intruder (Burp''s fuzzing
    tool). Kali Linux includes the free version, which doesn''t have scanning capabilities,
    nor does it offer the possibility of saving projects; also, it has some limitations
    on the fuzzing tool, *Intruder*. It can be accessed from Applications | Web Application
    Analysis | Web Application Proxies. Burp Suite is a feature-rich tool that includes
    a web spider, Intruder, and a repeater for automating customized attacks against
    web applications. I will go into greater depth on several Burp Suite features
    in later chapters.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite已成为Web应用程序测试的事实标准。它的许多功能几乎提供了Web渗透测试人员所需的所有工具。专业版包括一个可以进行主动和被动扫描的自动化扫描器，并在Intruder（Burp的模糊测试工具）中增加了配置选项。Kali
    Linux包含免费版本，该版本没有扫描功能，也没有保存项目的可能性；此外，它在模糊测试工具Intruder上有一些限制。可以从应用程序 | Web应用程序分析
    | Web应用程序代理访问它。Burp Suite是一个功能丰富的工具，包括Web爬虫、Intruder和重复器，用于自动化对Web应用程序的定制攻击。我将在后面的章节中更深入地介绍几个Burp
    Suite的功能。
- en: 'Burp Proxy is a nontransparent proxy, and the first step that you need to take
    is to bind the proxy to a specific port and IP address and configure the web browser
    to use the proxy. By default, Burp listens on the `127.0.0.1` loopback address
    and the `8080` port number:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Proxy是一个非透明代理，你需要采取的第一步是将代理绑定到特定的端口和IP地址，并配置Web浏览器使用该代理。默认情况下，Burp监听`127.0.0.1`回环地址和`8080`端口号：
- en: '![](img/00026.jpeg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00026.jpeg)'
- en: Make sure that you select a port that is not used by any other application in
    order to avoid any conflicts. Note the port and binding address and add these
    to the proxy settings of the browser.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 确保选择一个没有被其他应用程序使用的端口，以避免任何冲突。注意端口和绑定地址，并将其添加到浏览器的代理设置中。
- en: By default, Burp Proxy only intercepts requests from the clients. It does not
    intercept responses from the server. If required, manually turn it on from the
    Options tab in Proxy, further down in the Intercept Server Responses section.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Burp Proxy只拦截来自客户端的请求，不拦截服务器的响应。如果需要，可以在Proxy的Options选项卡中手动打开它，进一步在Intercept
    Server Responses部分。
- en: Customizing client interception
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自定义客户端拦截
- en: 'Specific rules can also be set if you want to narrow down the amount of web
    traffic that you intercept. As shown in the following screenshot, you can match
    requests for specific domains, HTTP methods, cookie names, and so on. Once the
    traffic is intercepted, you can then edit the values, forward them to the web
    server, and analyze the response:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想缩小拦截的Web流量量，还可以设置特定规则。如下图所示，您可以匹配特定域、HTTP方法、cookie名称等的请求。一旦拦截到流量，您可以编辑值，将其转发到Web服务器并分析响应：
- en: '![](img/00027.jpeg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00027.jpeg)'
- en: Modifying requests on the fly
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 即时修改请求
- en: 'In the Match and Replace section, you can configure rules that will look for
    specific values in the request and edit it on the fly without requiring any manual
    intervention. Burp Proxy includes several of these rules. The most notable ones
    are used to replace the user agent value with that of Internet Explorer, iOS,
    or Android devices:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在匹配和替换部分，您可以配置规则，以在请求中查找特定值并即时编辑它，而无需任何手动干预。Burp Proxy包含了几个这样的规则。其中最值得注意的是用Internet
    Explorer、iOS或Android设备的用户代理值替换的规则：
- en: '![](img/00028.jpeg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00028.jpeg)'
- en: Burp Proxy with HTTPS websites
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Burp Proxy与HTTPS网站
- en: 'Burp Proxy also works with HTTPS websites. In order to decrypt the communication
    and be able to analyze it, Burp Proxy intercepts the connection, presents itself
    as the web server, and issues a certificate that is signed by its own SSL/TLS
    **Certificate Authority** (**CA**). The proxy then presents itself to the actual
    HTTPS website as the user, and it encrypts the request with the certificate provided
    by the web server. The connection from the web server is then terminated at the
    proxy that decrypts the data and re-encrypts it with the self-signed CA certificate,
    which will be displayed on the user''s web browser. The following diagram explains
    this process:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Proxy也可以与HTTPS网站一起使用。为了解密通信并能够分析它，Burp Proxy拦截连接，将自己呈现为Web服务器，并发出由其自己的SSL/TLS
    **证书颁发机构**（**CA**）签名的证书。然后，代理将自己呈现给实际的HTTPS网站作为用户，并使用Web服务器提供的证书对请求进行加密。来自Web服务器的连接然后在代理处终止，代理解密数据并使用自签名的CA证书重新加密，该证书将显示在用户的Web浏览器上。以下图表解释了这个过程：
- en: '![](img/00029.jpeg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00029.jpeg)'
- en: 'The web browser will display a warning, as the certificate is self-signed and
    not trusted by the web browser. You can safely add an exception to the web browser,
    since you are aware that Burp Proxy is intercepting the request and not a malicious
    user. Alternatively, you can export Burp''s certificate to a file by clicking
    on the corresponding button in Proxy Listeners by going to Proxy | Options and
    then import the certificate into the browser and make it a trusted one:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 由于证书是自签名的，不被浏览器信任，因此浏览器会显示警告。您可以安全地向浏览器添加一个例外，因为您知道Burp Proxy正在拦截请求，而不是恶意用户。或者，您可以通过在代理监听器中单击相应按钮，将Burp的证书导出到文件中，然后将证书导入浏览器并将其设置为受信任的证书：
- en: '![](img/00030.jpeg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00030.jpeg)'
- en: Zed Attack Proxy
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Zed Attack Proxy
- en: '**Zed Attack Proxy** (**ZAP**) is a fully featured, open source web application
    testing suite maintained by the **Open Web Application Security Project** (**OWASP**),
    a nonprofit community dedicated to web application security. As with Burp Suite,
    it also has a proxy that is capable of intercepting and modifying HTTP/HTTPS requests
    and responses, although it may not be as easy to use as Burp. You will occasionally
    find a small feature missing from one proxy but available in another. For example,
    ZAP includes a forced browsing tool that can be used to identify directories and
    files in a server.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**Zed Attack Proxy**（**ZAP**）是一个功能齐全的开源Web应用程序测试套件，由**Open Web Application
    Security Project**（**OWASP**）维护，这是一个致力于Web应用程序安全的非营利社区。与Burp Suite一样，它也有一个代理，可以拦截和修改HTTP/HTTPS请求和响应，尽管使用起来可能没有Burp那么容易。您偶尔会发现一个代理中缺少的小功能在另一个代理中可用。例如，ZAP包括一个强制浏览工具，可用于识别服务器中的目录和文件。'
- en: ProxyStrike
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ProxyStrike
- en: Also included in Kali Linux is an active proxy known as **ProxyStrike**. This
    proxy not only intercepts the request and response, but it also actively finds
    vulnerabilities. It has modules to find SQL injection and XSS flaws. Similar to
    other proxies that have been discussed previously, you need to configure the browser
    to use ProxyStrike as the proxy. It performs automatic crawling of the application
    in the background, and the results can be exported to both HTML and XML formats.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux中还包含一个名为**ProxyStrike**的主动代理。该代理不仅拦截请求和响应，还主动查找漏洞。它具有用于查找SQL注入和XSS漏洞的模块。与之前讨论过的其他代理类似，您需要配置浏览器以使用ProxyStrike作为代理。它在后台执行应用程序的自动爬行，并且结果可以导出为HTML和XML格式。
- en: Web Crawlers and Directory Bruteforce
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络爬虫和目录暴力破解
- en: Some applications have hidden web directories that an ordinary user interacting
    with the web application will not see. Web crawlers try to explore all links and
    references within a web page and find hidden directories. Apart from the spidering
    and crawling features of some proxies, Kali Linux includes some really useful
    tools for this purpose.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 一些应用程序具有普通用户与Web应用程序交互时看不到的隐藏Web目录。Web爬虫尝试探索Web页面中的所有链接和引用，并查找隐藏目录。除了一些代理的蜘蛛和爬行功能外，Kali
    Linux还包含一些非常有用的工具。
- en: DIRB
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: DIRB
- en: DIRB is a command-line tool that can help you discover hidden files and directories
    in web servers using dictionary files (such as, lists of possible filenames).
    It can perform basic authentication and use session cookies and custom user agent
    names for emulating web browsers. We will use DIRB in later chapters.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: DIRB是一个命令行工具，可以帮助您使用字典文件（例如可能的文件名列表）发现Web服务器中的隐藏文件和目录。它可以执行基本身份验证，并使用会话cookie和自定义用户代理名称来模拟Web浏览器。我们将在后面的章节中使用DIRB。
- en: DirBuster
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: DirBuster
- en: '**DirBuster** is a Java application that performs a brute force attack on directories
    and filenames on the web application. It can use a file containing the possible
    file and directory names or generate all possible combinations. DirBuster uses
    a list produced by surfing the internet and collecting the directory and files
    that developers use in real-world web applications. DirBuster, which was developed
    by OWASP, is currently an inactive project and is provided now as a ZAP attack
    tool rather than a standalone tool.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '**DirBuster**是一个Java应用程序，用于对Web应用程序的目录和文件名进行暴力攻击。它可以使用包含可能的文件和目录名称的文件，或生成所有可能的组合。DirBuster使用通过浏览互联网并收集开发人员在实际Web应用程序中使用的目录和文件生成的列表。DirBuster是由OWASP开发的，目前是一个不活跃的项目，现在作为ZAP攻击工具而不是独立工具提供。'
- en: Uniscan
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Uniscan
- en: '**Uniscan-gui** is a comprehensive tool that can check for existing directories
    and files as well as perform basic port scans, traceroutes, server fingerprinting,
    static tests, dynamic tests, and stress tests against a target.'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '**Uniscan-gui**是一个综合性工具，可以检查现有目录和文件，执行基本端口扫描、路由跟踪、服务器指纹识别、静态测试、动态测试和对目标进行压力测试。'
- en: Web Vulnerability Scanners
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web漏洞扫描器
- en: A **vulnerability scanner** is a tool that, when run against a target(s), is
    able to send requests or packets to the target(s) and interpret the responses
    in order to identify possible security vulnerabilities, such as misconfigurations,
    outdated versions, and lack of security patches, and other common issues. Kali
    Linux also includes several vulnerability scanners, and some of them are specialized
    in web applications.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '**漏洞扫描器**是一种工具，当针对目标运行时，能够向目标发送请求或数据包，并解释响应以识别可能的安全漏洞，如配置错误、过时版本、缺乏安全补丁和其他常见问题。Kali
    Linux还包括几个漏洞扫描器，其中一些专门用于Web应用程序。'
- en: Nikto
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Nikto
- en: '**Nikto** is long-time favorite of web penetration testers. Few features have
    been added to it recently, but its development continues. It is a feature-rich
    vulnerability scanner that you can use to test vulnerabilities on different web
    servers. It claims to check outdated versions of software and configuration issues
    on several of the popular web servers.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**Nikto**是网络渗透测试人员长期以来的最爱。最近它增加了一些功能，但其开发仍在继续。它是一个功能丰富的漏洞扫描器，您可以用它来测试不同的Web服务器上的漏洞。它声称可以检查流行的Web服务器上过时的软件版本和配置问题。'
- en: 'Some of the well-known features of Nikto are as follows:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: Nikto的一些著名功能如下：
- en: It generates output reports in several forms such as HTML, CSV, XML, and text
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它生成多种形式的输出报告，如HTML、CSV、XML和文本
- en: It includes false positive reduction using multiple techniques to test for vulnerabilities
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它使用多种技术进行误报降低，以测试漏洞
- en: It can directly login to Metasploit
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以直接登录到Metasploit
- en: It does Apache username enumeration
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以进行Apache用户名枚举
- en: It finds subdomains via brute force attacks
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它通过暴力攻击找到子域名
- en: It can customize maximum execution time per target before moving on to the next
    target
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以自定义每个目标的最大执行时间，然后再转到下一个目标
- en: w3af
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: w3af
- en: The **Web Application Attack and Audit Framework** (**w3af**) is a web application
    vulnerability scanner. It is probably the most complete vulnerability scanner
    included in Kali Linux.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**Web应用攻击和审计框架**（**w3af**）是一个Web应用漏洞扫描器。它可能是Kali Linux中包含的最完整的漏洞扫描器。'
- en: Skipfish
  id: totrans-135
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Skipfish
- en: '**Skipfish** is a vulnerability scanner that begins by creating an interactive
    site map for the target website, using a recursive crawl and prebuilt dictionary.
    Each node in the resulting map is then tested for vulnerabilities. Speed of scanning
    is one of its major features that distinguishes it from other web vulnerability
    scanners. It is well-known for its adaptive scanning features, for more intelligent
    decision making from the response received in the previous step. It provides a
    comprehensive coverage of the web application in a relatively short time. The
    output of Skipfish is in the HTML format.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**Skipfish**是一个漏洞扫描器，它通过创建目标网站的交互式站点地图开始，使用递归爬行和预先构建的字典。然后对结果地图中的每个节点进行漏洞测试。扫描速度是它与其他Web漏洞扫描器的主要区别之一。它以其自适应扫描功能而闻名，可以根据前一步骤中收到的响应进行更智能的决策。它在相对较短的时间内提供了对Web应用程序的全面覆盖。Skipfish的输出格式为HTML。'
- en: Other tools
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 其他工具
- en: The following are not exactly web-focused vulnerability scanners, but they are
    those useful tools included in Kali Linux, which can help you identify weaknesses
    in your target applications.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 以下工具虽然不完全专注于Web的漏洞扫描器，但它们是包含在Kali Linux中的有用工具，可以帮助您识别目标应用程序中的弱点。
- en: OpenVAS
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OpenVAS
- en: 'The **Open Vulnerability Assessment Scanner** (**OpenVAS**) is a network vulnerability
    scanner in Kali Linux. A penetration test should always include a vulnerability
    assessment of the target system, and OpenVAS does a good job of identifying vulnerabilities
    on the network side. OpenVAS is a fork of Nessus, one of the leading vulnerability
    scanners in the market, but its feeds are completely free and licensed under GPL.
    The latest version of Kali Linux doesn''t include OpenVAS, but it can be easily
    downloaded and installed using APT as follows:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**开放漏洞评估扫描器**（**OpenVAS**）是Kali Linux中的网络漏洞扫描器。渗透测试应始终包括对目标系统的漏洞评估，而OpenVAS在识别网络方面的漏洞方面做得很好。OpenVAS是Nessus的一个分支，Nessus是市场上领先的漏洞扫描器之一，但其订阅完全免费，并在GPL下获得许可。最新版本的Kali
    Linux不包括OpenVAS，但可以通过APT轻松下载和安装，如下所示：'
- en: '[PRE1]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Once installed in Kali Linux, OpenVAS requires an initial configuration before
    you start using it. Go to Applications | Vulnerability Analysis, and select OpenVAS
    initial setup. Kali Linux needs to be connected to the internet to complete this
    step as the tool downloads all of the latest feeds and other files. At the end
    of the setup, a password is generated, which is to be used during the login of
    the GUI interface:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在Kali Linux中安装OpenVAS后，需要进行初始配置才能开始使用。转到应用程序|漏洞分析，选择OpenVAS初始设置。Kali Linux需要连接到互联网才能完成此步骤，因为该工具会下载所有最新的订阅和其他文件。设置结束时，会生成一个密码，在GUI界面登录时使用：
- en: '![](img/00031.jpeg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00031.jpeg)'
- en: You can now open the graphical interface by pointing your browser to `https://127.0.0.1:9392`.
    Accept the self-signed certificate error, and then log in with the `admin` username
    and the password generated during the initial configuration.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在可以通过将浏览器指向`https://127.0.0.1:9392`来打开图形界面。接受自签名证书错误，然后使用在初始配置期间生成的`admin`用户名和密码登录。
- en: OpenVAS is now ready to run a vulnerability scan against any target. You can
    change the password after you log in, by navigating to Administrations | Users
    and selecting the edit user option (marked with a spanner) against the username.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: OpenVAS现在已准备好对任何目标运行漏洞扫描。您可以在登录后通过导航到“管理|用户”并选择用户名旁边的编辑用户选项（标有扳手）来更改密码。
- en: 'The GUI interface is divided into multiple menus, as described here:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: GUI界面分为多个菜单，如下所述：
- en: 'Dashboard: A customizable dashboard that presents information related to vulnerability
    management, scanned hosts, recently published vulnerability disclosures and other
    useful information.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仪表板：一个可定制的仪表板，显示与漏洞管理、扫描主机、最近发布的漏洞披露和其他有用信息相关的信息。
- en: 'Scans: From here you can start a new network VA scan. You will also find all
    of the reports and findings under this menu.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扫描：您可以从这里开始新的网络VA扫描。您还可以在此菜单下找到所有报告和发现。
- en: 'Assets: Here you will find all of the accumulated hosts from the scans.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资产：在这里，您将找到来自扫描的所有累积主机。
- en: 'SecInfo: The detailed information of all the vulnerabilities and their CVE
    IDs are stored here.'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SecInfo：存储所有漏洞及其CVE ID的详细信息。
- en: 'Configuration: Here you can configure various options, such as alerts, scheduling,
    and reporting formats. Scanning options for host and open port discovery can also
    be customized using this menu.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置：在这里，您可以配置各种选项，如警报、调度和报告格式。使用此菜单还可以自定义主机和开放端口发现的扫描选项。
- en: 'Extras: Settings related to the OpenVAS GUI, such as time and language, can
    be done from this menu.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 附加功能：与OpenVAS GUI相关的设置，如时间和语言，可以从此菜单中完成。
- en: 'Administration: Adding and deleting users and feed synchronization can be done
    through the Administration menu.'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理：通过管理菜单可以添加和删除用户以及进行订阅同步。
- en: 'Now let''s take a look at the scan results from OpenVAS. I scanned three hosts
    and found some high-risk vulnerabilities in two of them. You can further click
    on individual scans and view detailed information about the vulnerabilities identified:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看一下OpenVAS的扫描结果。我扫描了三个主机，并在其中两个主机中发现了一些高风险漏洞。您可以进一步点击单个扫描并查看有关已识别漏洞的详细信息：
- en: '![](img/00032.jpeg)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00032.jpeg)'
- en: Database exploitation
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据库利用
- en: No web penetration test is complete without testing the security of the backend
    database. SQL servers are always on the target list of attackers, and they need
    special attention during a penetration test to close loopholes that could be leaking
    information from the database. **SQLNinja** is a tool written in Perl, and it
    can be used to attack Microsoft SQL server vulnerabilities and gain shell access.
    Similarly, the **sqlmap** tool is used to exploit a SQL server that is vulnerable
    to a SQL injection attack and fingerprint, retrieve user and database information,
    enumerate users, and do much more. SQL injection attacks will be discussed further
    in [Chapter 5](part0198.html#5SQFC0-d48f8b63a8cc440fbc92835fec01cc38), *Detecting
    and Exploiting Injection-Based Flaws*.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 没有网络渗透测试是完整的，而没有测试后端数据库的安全性。SQL服务器始终是攻击者的目标列表，它们在渗透测试中需要特别关注以关闭可能从数据库泄露信息的漏洞。**SQLNinja**是一个用Perl编写的工具，它可以用来攻击Microsoft
    SQL服务器的漏洞并获得shell访问权限。类似地，**sqlmap**工具用于利用易受SQL注入攻击的SQL服务器，并获取用户和数据库信息、枚举用户等等。SQL注入攻击将在[第5章](part0198.html#5SQFC0-d48f8b63a8cc440fbc92835fec01cc38)中进一步讨论，即“检测和利用基于注入的漏洞”。
- en: Web application fuzzers
  id: totrans-158
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web应用程序模糊测试器
- en: A **fuzzer** is a tool designed to inject random data into a web application.
    A web application fuzzer can be used to test for buffer overflow conditions, error
    handling issues, boundary checks, and parameter format checks. The result of a
    fuzzing test is to reveal vulnerabilities that cannot be identified by web application
    vulnerability scanners. Fuzzers follow a trial and error method and require patience
    while identifying flaws.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '**模糊测试器**是一种旨在向Web应用程序注入随机数据的工具。Web应用程序模糊测试器可用于测试缓冲区溢出条件、错误处理问题、边界检查和参数格式检查。模糊测试的结果是揭示无法通过Web应用程序漏洞扫描器识别的漏洞。模糊测试器采用试错方法，在识别缺陷时需要耐心。'
- en: Burp Suite and WebScarab have a built-in fuzzer. Wfuzz is a one-click fuzzer
    available in Kali Linux. We will use all of these to test web applications in
    [Chapter 10](part0316.html#9DBHO0-d48f8b63a8cc440fbc92835fec01cc38), *Other Common
    Security Flaws in Web Applications*.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite和WebScarab都有内置的模糊测试器。Wfuzz是Kali Linux中的一个一键模糊测试器。我们将使用所有这些工具来测试[第10章](part0316.html#9DBHO0-d48f8b63a8cc440fbc92835fec01cc38)中的Web应用程序，即“Web应用程序中的其他常见安全漏洞”。
- en: Using Tor for penetration testing
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Tor进行渗透测试
- en: Sometimes, web penetration testing may include bypassing certain protections,
    filtering or blocking from the server side, or avoiding being detected or identified
    in order to test in a manner similar to a real-world malicious hacker. The **Onion
    Router** (**Tor**) provides an interesting option to emulate the steps that a
    black hat hacker uses to protect their identity and location. Although an ethical
    hacker trying to improve the security of a web application should not be concerned
    about hiding their location, using Tor gives you the additional option of testing
    the edge security systems such as network firewalls, web application firewalls,
    and IPS devices.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，Web渗透测试可能包括绕过某些保护措施，从服务器端进行过滤或阻止，或者避免被检测或识别，以便以类似于真实恶意黑客的方式进行测试。**洋葱路由器**（**Tor**）提供了一个有趣的选项，可以模拟黑帽黑客用于保护其身份和位置的步骤。尽管试图改善Web应用程序安全的道德黑客不应该担心隐藏自己的位置，但使用Tor可以为您提供额外的选项，以测试边缘安全系统，如网络防火墙、Web应用程序防火墙和IPS设备。
- en: Black hat hackers employ every method to protect their location and true identity;
    they do not use a permanent IP address and constantly change it in order to fool
    cybercrime investigators. If targeted by a black hat hacker, you will find port
    scanning requests from a different range of IP addresses, and the actual exploitation
    will have the source IP address that your edge security systems are logging into
    for the first time. With the necessary written approval from the client, you can
    use Tor to emulate an attacker by connecting to the web application from an unknown
    IP address form which the system does not normally see connections. Using Tor
    makes it more difficult to trace back the intrusion attempt to the actual attacker.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 黑帽黑客采用各种方法来保护他们的位置和真实身份；他们不使用固定的IP地址，并不断更改IP地址以欺骗网络犯罪调查人员。如果受到黑帽黑客的攻击，您将发现来自不同范围IP地址的端口扫描请求，并且实际的攻击将具有您的边缘安全系统首次登录的源IP地址。在获得客户的必要书面批准后，您可以使用Tor通过从系统通常不会看到连接的未知IP地址连接到Web应用程序来模拟攻击者。使用Tor使得追踪入侵尝试到实际攻击者变得更加困难。
- en: 'Tor uses a virtual circuit of interconnected network relays to bounce encrypted
    data packets. The encryption is multilayered, and the final network relay releasing
    the data to the public internet cannot identify the source of the communication,
    as the entire packet was encrypted and only a part of it is decrypted at each
    node. The destination computer sees the final exit point of the data packet as
    the source of the communication, thus protecting the real identity and location
    of the user. The following diagram from Electronic Frontier Foundation ([https://www.eff.org](https://www.eff.org))
    explains this process:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: Tor使用一组相互连接的网络中继来反弹加密数据包。加密是多层的，将数据释放到公共互联网的最终网络中继无法识别通信的源头，因为整个数据包都被加密，每个节点只解密其中的一部分。目标计算机将数据包的最终退出点视为通信的源头，从而保护用户的真实身份和位置。来自Electronic
    Frontier Foundation ([https://www.eff.org](https://www.eff.org))的以下图表解释了这个过程：
- en: '![](img/00033.jpeg)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00033.jpeg)'
- en: 'Kali Linux includes Tor preinstalled. For more information on how to use Tor
    and security considerations, refer to the Tor project''s website at: [https://www.torproject.org/](https://www.torproject.org/).'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux预装了Tor。有关如何使用Tor和安全注意事项的更多信息，请参考Tor项目的网站：[https://www.torproject.org/](https://www.torproject.org/)。
- en: There may be some tools and applications that don't support socks proxies, but
    can be configured to use an HTTP proxy. Privoxy is a tool that acts as an HTTP
    proxy and can be chained to Tor. It is also included in Kali Linux.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 可能有一些工具和应用程序不支持socks代理，但可以配置为使用HTTP代理。Privoxy是一个充当HTTP代理的工具，可以与Tor链接。它也包含在Kali
    Linux中。
- en: Vulnerable applications and servers to practice on
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可供练习的易受攻击的应用程序和服务器
- en: If you don't have explicit written authorization from the owner of such assets,
    scanning, testing, or exploiting vulnerabilities in servers and applications on
    the internet is illegal in most countries. Therefore, you need to have a laboratory
    that you own and control, where you can practice and develop your testing skills.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有这些资产的所有者明确书面授权，那么在大多数国家，扫描、测试或利用互联网上的服务器和应用程序的漏洞是非法的。因此，您需要拥有和控制自己的实验室，在那里您可以练习和发展您的测试技能。
- en: In this section, we will review some of the options that you have when learning
    about web application penetration testing.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将回顾一些在学习Web应用程序渗透测试时的选项。
- en: OWASP Broken Web Applications
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OWASP Broken Web Applications
- en: 'The **Broken Web Applications** (**BWA**) Project from OWASP is a collection
    of vulnerable web applications, which are distributed as a virtual machine with
    the purpose of providing students, security enthusiasts, and penetration testing
    professionals a platform for learning and developing web application testing skills,
    testing automated tools, and testing **Web Application Firewalls** (**WAFs**)
    and other defensive measures:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP的**Broken Web Applications**（BWA）项目是一组易受攻击的Web应用程序，它们以虚拟机的形式分发，旨在为学生、安全爱好者和渗透测试专业人员提供一个学习和开发Web应用程序测试技能、测试自动化工具以及测试**Web应用程序防火墙**（WAF）和其他防御措施的平台：
- en: '![](img/00034.jpeg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00034.jpeg)'
- en: 'The latest version of BWA at the time of this writing is 1.2, released in August
    2015\. Even though it is more than a couple of years old, it is a great resource
    for the prospective penetration tester. It includes some of the most complete
    web applications made vulnerable on purpose, for testing purposes, and it covers
    many different platforms; consider these examples:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，BWA的最新版本是1.2，于2015年8月发布。尽管它已经有几年的历史了，但对于有意成为渗透测试人员的人来说，它是一个很好的资源。它包含了一些最完整的有意易受攻击的Web应用程序，用于测试目的，并涵盖了许多不同的平台；请考虑以下示例：
- en: '**WebGoat**: This is a Java-based web application with an educational focus.
    It contains examples and challenges for the most common web vulnerabilities.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WebGoat**：这是一个以教育为重点的基于Java的Web应用程序。它包含了最常见的Web漏洞的示例和挑战。'
- en: '**WebGoat.NET and RailsGoat**: These are the .NET and Ruby on Rails versions
    of WebGoat, respectively.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WebGoat.NET和RailsGoat**：分别是WebGoat的.NET和Ruby on Rails版本。'
- en: '**Damn Vulnerable Web Application (DVWA)**: This is perhaps the most popular
    vulnerable-on-purpose web application available. It is based on PHP and contains
    training sections for common vulnerabilities.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Damn Vulnerable Web Application (DVWA)**：这可能是最受欢迎的有意漏洞的Web应用程序。它基于PHP，并包含了常见漏洞的培训部分。'
- en: 'OWASP BWA also includes *realistic* vulnerable web applications, that is, vulnerable-on-purpose
    web applications that simulate real-world applications, where you can look for
    vulnerabilities that are less obvious than in the applications listed previously.
    Some examples are as follows:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP BWA还包括*真实的*易受攻击的Web应用程序，即模拟真实世界应用程序的有意易受攻击的Web应用程序，在这些应用程序中，您可以寻找比之前列出的应用程序中更不明显的漏洞。以下是一些示例：
- en: '**WackoPicko**: This is an application where you can post pictures and buy
    photos of other users'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WackoPicko**: 这是一个应用程序，你可以在其中发布图片并购买其他用户的照片。'
- en: '**The BodgeIt Store**: This simulates an online store where one needs to find
    vulnerabilities and complete a series of challenges'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**The BodgeIt Store**：这是一个模拟的在线商店，需要找到漏洞并完成一系列挑战。'
- en: '**Peruggia**: This simulates a social network where you can upload pictures,
    receive comments, and comment on pictures of other users'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Peruggia**: 这是一个模拟社交网络的应用，你可以上传图片，接收评论，并评论其他用户的图片。'
- en: 'There are also versions of real-web applications with known vulnerabilities
    that complement this collection, which you can test and exploit; consider these
    examples:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还有一些已知漏洞的真实网络应用程序，可以补充这个集合，你可以测试和利用它们；请考虑以下示例：
- en: WordPress
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WordPress
- en: Joomla
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joomla
- en: WebCalendar
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WebCalendar
- en: AWStats
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AWStats
- en: 'More information on the Broken Web Applications Project and download links
    can be found on its website: [https://www.owasp.org/index.php/OWASP_Broken_Web_Applications_Project](https://www.owasp.org/index.php/OWASP_Broken_Web_Applications_Project).'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 关于Broken Web Applications Project的更多信息和下载链接可以在其网站上找到：[https://www.owasp.org/index.php/OWASP_Broken_Web_Applications_Project](https://www.owasp.org/index.php/OWASP_Broken_Web_Applications_Project)。
- en: WARNING
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: When installing OWASP BWA, remember that it contains applications that have
    serious security issues. *Do not* install vulnerable applications on physical
    servers with internet access. Use a virtual machine, and set its network adapter
    to NAT, NAT network, or host only.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装OWASP BWA时，请记住它包含严重的安全问题的应用程序。*不要*在具有互联网访问权限的物理服务器上安装易受攻击的应用程序。使用虚拟机，并将其网络适配器设置为NAT、NAT网络或仅主机。
- en: Hackazon
  id: totrans-190
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Hackazon
- en: '**Hackazon** is a project from Rapid7, the company that makes Metasploit. It
    was first intended to demonstrate the effectiveness of their web vulnerability
    scanner and then released as open source. This is a modern web application (that
    is, it uses AJAX, web services, and other features that you''ll find in today''s
    websites and applications). Hackazon simulates an online store, but it has several
    security problems built in. You can practice online at: [http://hackazon.webscantest.com/](http://hackazon.webscantest.com/).
    Alternatively, if you feel like setting up a virtual server and installing and
    configuring it there, go to: [https://github.com/rapid7/hackazon](https://github.com/rapid7/hackazon).'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '**Hackazon**是Rapid7的一个项目，Rapid7是Metasploit的制造商。它最初旨在展示他们的Web漏洞扫描器的有效性，然后作为开源软件发布。这是一个现代的Web应用程序（即，它使用AJAX、Web服务和其他你在今天的网站和应用程序中找到的功能）。Hackazon模拟了一个在线商店，但内置了几个安全问题。你可以在以下网址上进行在线练习：[http://hackazon.webscantest.com/](http://hackazon.webscantest.com/)。或者，如果你想要设置一个虚拟服务器并在那里安装和配置它，可以访问：[https://github.com/rapid7/hackazon](https://github.com/rapid7/hackazon)。'
- en: Web Security Dojo
  id: totrans-192
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web Security Dojo
- en: 'The **Web Security Dojo** project from Maven Security is a self-contained virtual
    machine that has vulnerable applications, training material, and testing tools
    included. This project is very actively developed and updated. The latest version
    at the time of this writing is 3.0, which was released in May 2017\. It can be
    obtained from: [https://www.mavensecurity.com/resources/web-security-dojo](https://www.mavensecurity.com/resources/web-security-dojo).'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: Maven Security的**Web Security Dojo**项目是一个自包含的虚拟机，其中包含易受攻击的应用程序、培训材料和测试工具。该项目正在积极开发和更新。本文撰写时的最新版本是3.0，于2017年5月发布。可以从以下网址获取：[https://www.mavensecurity.com/resources/web-security-dojo](https://www.mavensecurity.com/resources/web-security-dojo)。
- en: Other resources
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 其他资源
- en: 'There are so many good applications and virtual machines for learning and practicing
    penetration testing that this list could go on for many pages. Here, I will list
    some additional tools to the ones already mentioned:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 有很多用于学习和实践渗透测试的优秀应用程序和虚拟机，这个列表可以延续很多页。在这里，我将列出一些额外的工具，除了已经提到的工具：
- en: '**ZeroBank**: This is a vulnerable banking application: [http://zero.webappsecurity.com/login.html](http://zero.webappsecurity.com/login.html).'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ZeroBank**: 这是一个存在漏洞的银行应用程序：[http://zero.webappsecurity.com/login.html](http://zero.webappsecurity.com/login.html)。'
- en: '**Acunetix''s SecurityTweets**: This is a Twitter-like application focused
    on HTML5 security: [http://testhtml5.vulnweb.com/#/popular](http://testhtml5.vulnweb.com/#/popular).'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Acunetix''s SecurityTweets**: 这是一个类似Twitter的应用程序，专注于HTML5安全：[http://testhtml5.vulnweb.com/#/popular](http://testhtml5.vulnweb.com/#/popular)。'
- en: '**OWASP''s vulnerable web applications directory**: This is a curated list
    of publicly available vulnerable web applications for security testing: [https://github.com/OWASP/OWASP-VWAD](https://github.com/OWASP/OWASP-VWAD).'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OWASP的易受攻击的Web应用程序目录**：这是一个经过策划的公开可用的易受攻击的Web应用程序列表，用于安全测试：[https://github.com/OWASP/OWASP-VWAD](https://github.com/OWASP/OWASP-VWAD)。'
- en: '**VulnHub**: A repository for vulnerable virtual machines and **Capture The
    Flag** (**CTF**) challenges. It contains some virtual machines with web applications:
    [https://www.vulnhub.com](https://www.vulnhub.com).'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**VulnHub**: 一个包含易受攻击的虚拟机和**Capture The Flag**（**CTF**）挑战的存储库。它包含一些带有Web应用程序的虚拟机：[https://www.vulnhub.com](https://www.vulnhub.com)。'
- en: Summary
  id: totrans-200
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter was all about installing, configuring, and using Kali Linux. We
    started by explaining the different ways that Kali Linux can be installed and
    the scenarios where you can use it. Virtualizing Kali Linux is an attractive option,
    and we discussed the pros and cons for doing it. Once Kali Linux was up and running,
    we presented an overview of the major hacking tools that you will be using to
    test web applications. Burp Suite is a very interesting and feature-rich tool
    that we will be using throughout the book. We then discussed web vulnerability
    scanners which are of great use in identifying flaws and configuration issues
    in well-known web servers. We also talked about using Tor and Privoxy to emulate
    a real-world attacker who would hide their real identity and location. Finally,
    we reviewed some alternatives for building a testing lab and vulnerable web applications
    to test and develop your skills.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 本章主要介绍了Kali Linux的安装、配置和使用。我们首先解释了Kali Linux的不同安装方式以及可以使用它的场景。虚拟化Kali Linux是一个有吸引力的选择，我们讨论了这样做的优缺点。一旦Kali
    Linux安装并运行起来，我们介绍了一些主要的黑客工具，这些工具将用于测试Web应用程序。Burp Suite是一个非常有趣且功能丰富的工具，我们将在整本书中使用它。然后，我们讨论了Web漏洞扫描器，这些扫描器在识别知名Web服务器中的缺陷和配置问题方面非常有用。我们还谈到了使用Tor和Privoxy来模拟一个隐藏真实身份和位置的现实世界攻击者。最后，我们回顾了一些构建测试实验室和易受攻击的Web应用程序的替代方案，以测试和发展您的技能。
- en: In the next chapter, we will perform reconnaissance, scan web applications,
    and identify the underlying technologies used that will act as a base for further
    exploitation.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将进行侦察，扫描Web应用程序，并识别所使用的基础技术，这将作为进一步利用的基础。
