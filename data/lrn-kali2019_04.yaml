- en: Setting Up Kali - Part 2
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置Kali - 第2部分
- en: 'In the previous chapter, we started building our very own penetration testing
    lab. However, a lab environment is not complete without the installation of two
    of the most popular operating systems: Microsoft Windows and Ubuntu. As a penetration
    tester, it''s always recommended to practice your skills on both Windows and Linux
    environments, since both are used in corporate environments by end users, such
    as employees and executive staff members, on a daily basis. Usually, system administrators
    don''t always install the latest security updates on their employees'' systems,
    which leaves the computers vulnerable to the latest cyber threats. A penetration
    tester should learn how to perform various attacks on Windows and Linux.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们开始构建我们自己的渗透测试实验室。但是，实验室环境没有安装两个最流行的操作系统：Microsoft Windows和Ubuntu是不完整的。作为渗透测试人员，建议您在Windows和Linux环境中练习技能，因为这两者都是企业环境中员工，如员工和高管成员，每天都在使用的。通常，系统管理员并不总是在员工的系统上安装最新的安全更新，这使得计算机容易受到最新的网络威胁。渗透测试人员应该学会如何在Windows和Linux上执行各种攻击。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Installing Windows as a **virtual machine** (**VM**)
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Windows作为**虚拟机**（**VM**）
- en: Installing Ubuntu 8.10
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Ubuntu 8.10
- en: Troubleshooting Kali Linux
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux故障排除
- en: Technical requirements
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The following are the technical requirements for this chapter:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是本章的技术要求：
- en: Oracle VM VirtualBox or VMware Workstation Pro
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oracle VM VirtualBox或VMware Workstation Pro
- en: Microsoft Windows 10
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Microsoft Windows 10
- en: Microsoft Windows Server 2016
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Microsoft Windows Server 2016
- en: Ubuntu Desktop
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ubuntu桌面
- en: Ubuntu Server
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ubuntu服务器
- en: Kali Linux
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux
- en: Installing Windows as a VM
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Windows作为虚拟机
- en: Since more organizations use the Windows operating system as the main operating
    system for their employees' workstation/desktop, you need to understand how to
    perform a penetration test on the Windows platform.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 由于更多的组织使用Windows操作系统作为员工工作站/桌面的主要操作系统，您需要了解如何在Windows平台上执行渗透测试。
- en: 'One of the benefits offered by Microsoft is the 90-day trial of their operating
    systems through the Microsoft Evaluation Center. In this section, I''ll demonstrate
    how to set up a Windows VM in our penetration testing lab:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 微软提供的一个好处是通过Microsoft评估中心提供其操作系统的90天试用期。在本节中，我将演示如何在我们的渗透测试实验室中设置Windows虚拟机：
- en: 'First, you''ll need to download the ISO image of Windows 10 and Windows Server
    2016 using the following URLs:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，您需要使用以下URL下载Windows 10和Windows Server 2016的ISO映像：
- en: '**Windows 10**: [https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise](https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise)'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows 10**: [https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise](https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise)'
- en: '**Windows Server 2016**: [https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2016](https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2016)'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows Server 2016**: [https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2016](https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2016)'
- en: The installation procedures for Windows Desktop and Windows Server are the same.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: Windows桌面和Windows服务器的安装程序是相同的。
- en: 'Once the ISO file has been downloaded successfully, open your hypervisor and
    choose New Virtual Machine:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦ISO文件成功下载，打开您的虚拟机监控程序并选择新的虚拟机：
- en: '![](img/66d4c81c-6fce-4b95-8167-e9a69d632304.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/66d4c81c-6fce-4b95-8167-e9a69d632304.png)'
- en: 'If you''re using VMware, the New Virtual Machine Wizard will prompt you to
    continue your setup in either the Typical (recommended) or Custom (advanced) mode.
    For this exercise, I have chosen the typical option as it comprises a few simple
    steps:'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您使用VMware，新虚拟机向导将提示您在“典型（推荐）”或“自定义（高级）”模式下继续设置。在本练习中，我选择了典型选项，因为它包括一些简单的步骤：
- en: '![](img/70bb8d68-67c3-49ea-bb19-7522e6e25703.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![](img/70bb8d68-67c3-49ea-bb19-7522e6e25703.png)'
- en: 'Next, choose the Installer disc image file (iso): option to add the ISO file
    by clicking on Browse. Once the file has been added successfully, click on Next
    to continue:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，选择“安装程序光盘映像文件（iso）”选项，通过单击“浏览”添加ISO文件。一旦文件成功添加，单击“下一步”继续：
- en: '![](img/965092f8-22c6-48d7-b576-aa124969335d.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](img/965092f8-22c6-48d7-b576-aa124969335d.png)'
- en: 'VMware will present a custom window, allowing you to insert the product key
    (obtained from the Microsoft Evaluation Center during the registration phase)
    and create an administrator account during the installation phase. Simply complete
    the details, use the dropdown box to select the version of the operating system
    you are about to install, and click on Next:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: VMware将呈现一个自定义窗口，允许您在安装阶段插入产品密钥（在注册阶段从Microsoft评估中心获取）并创建管理员帐户。只需填写详细信息，使用下拉框选择要安装的操作系统版本，然后单击“下一步”：
- en: '![](img/e4314238-0794-4fd7-9387-df108db0bd6e.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e4314238-0794-4fd7-9387-df108db0bd6e.png)'
- en: 'Next, you''ll have the option to name the VM and choose a location to store
    its configurations. This step can be left as the default setting:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您可以选择为Windows虚拟机命名并选择存储其配置的位置。此步骤可以保持默认设置：
- en: '![](img/1ee6dc37-f808-4e19-88a1-49499ae4ec6a.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1ee6dc37-f808-4e19-88a1-49499ae4ec6a.png)'
- en: 'Next, you''ll have the option to create a new virtual hard disk for the Windows
    VM. I have chosen its size to be 100 GB and to split its files into multiple pieces
    for easier portability:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您可以选择为Windows虚拟机创建新的虚拟硬盘。我选择了其大小为100 GB，并将其文件分割成多个部分以便更容易地移植：
- en: '![](img/eef4e800-73a1-48a6-97ec-3c2326150b8b.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](img/eef4e800-73a1-48a6-97ec-3c2326150b8b.png)'
- en: You can choose any size for the hard disk, as long as it's the recommended size
    or above. The system requirements can be found at [https://docs.microsoft.com/en-us/windows-server/get-started/system-requirements](https://docs.microsoft.com/en-us/windows-server/get-started/system-requirements).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以选择任何硬盘大小，只要它是建议的大小或以上。系统要求可以在[https://docs.microsoft.com/en-us/windows-server/get-started/system-requirements](https://docs.microsoft.com/en-us/windows-server/get-started/system-requirements)找到。
- en: 'The final window will show you a summary of the configurations. You can customize
    the hardware resources by clicking on the Customize Hardware... option:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终窗口将显示配置的摘要。您可以通过单击“自定义硬件...”选项来自定义硬件资源：
- en: '![](img/c8981b6f-7152-420b-9852-f5e34f488bd7.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c8981b6f-7152-420b-9852-f5e34f488bd7.png)'
- en: Upon clicking Finish, the Windows 10/Server 2016 VM will appear in your library.
    You can also modify the hardware configurations when the VM is powered off.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击“完成”后，Windows 10/Server 2016虚拟机将出现在您的库中。您还可以在虚拟机关闭时修改硬件配置。
- en: Now, it's time to power on the Windows VM. Ensure that you choose your corresponding
    language, time, and keyboard format.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，是时候启动Windows虚拟机了。确保选择相应的语言、时间和键盘格式。
- en: Choose the Install now option to begin the installation phase.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“立即安装”选项开始安装阶段。
- en: 'Choose the version of Windows you''d like to install. If you''re using Windows
    Server 2016, use the Datacenter edition. If you''re using Windows 10, choose the
    Enterprise edition:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择要安装的Windows版本。如果您使用的是Windows Server 2016，请使用数据中心版。如果您使用的是Windows 10，请选择企业版：
- en: '![](img/b2db6879-086f-4385-8097-721d1c365859.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b2db6879-086f-4385-8097-721d1c365859.png)'
- en: 'Next, you''ll need to read and accept the **End User License Agreement** (**EULA**),
    followed by the type of installation on the virtual **hard disk drive** (**HDD**).
    Since it''s a new installation, select the Custom: Install Windows only (advanced) option,
    as shown in the following screenshot:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您需要阅读并接受**最终用户许可协议**（**EULA**），然后选择虚拟**硬盘驱动器**（**HDD**）上的安装类型。由于这是一个新安装，选择“自定义：仅安装Windows（高级）”选项，如下截图所示：
- en: '![](img/c3ff5ecd-2735-4119-899f-9a7ce09ed586.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c3ff5ecd-2735-4119-899f-9a7ce09ed586.png)'
- en: 'Select the virtual HDD as the installation destination, as shown in the following screenshot, and
    click Next to continue:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择虚拟硬盘作为安装目标，如下截图所示，并单击“下一步”继续：
- en: '![](img/98ad5299-f58c-4277-80d2-c7c76320a95c.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](img/98ad5299-f58c-4277-80d2-c7c76320a95c.png)'
- en: The installation process may take a while, depending on the amount of CPU and
    RAM resources that have been allocated to the VM.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装过程可能需要一段时间，这取决于为虚拟机分配的CPU和RAM资源的数量。
- en: Once this process has been completed, Windows will present a login window to
    you.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此过程后，Windows将向您呈现登录窗口。
- en: Now that we have installed a Windows VM, we will look at how to create additional
    user accounts on Microsoft Windows.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经安装了Windows虚拟机，我们将看看如何在Microsoft Windows上创建其他用户帐户。
- en: Creating a user account
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建用户帐户
- en: 'In this section, I''ll guide you through creating a user account on Windows:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我将指导您如何在Windows上创建用户帐户：
- en: Firstly, you need to access the Control Panel and click on the User Accounts option.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，您需要访问“控制面板”，然后单击“用户帐户”选项。
- en: You'll see all the local user accounts on your system. Select Manage another
    account.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到系统中的所有本地用户帐户。选择“管理其他帐户”。
- en: Next, click on Add a user account.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，单击“添加用户帐户”。
- en: Windows 10/Server 2016 will provide you with a window asking for various details
    such as username, password, and a hint (to help you remember your password) so
    that you can create a new user account on the local system.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Windows 10/Server 2016将向您提供一个窗口，询问用户名、密码和提示（以帮助您记住密码）等各种详细信息，以便您在本地系统上创建新用户帐户。
- en: Now that you have the knowledge to create new user accounts, we will look at
    disabling automatic updates on Microsoft Windows Server.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经掌握了创建新用户帐户的知识，我们将看看如何在Microsoft Windows Server上禁用自动更新。
- en: Opting out of automatic updates
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择退出自动更新
- en: Vendors deliver updates to their software products and operating systems for
    many reasons, such as adding new features, improving performance, and fixing issues
    such as security bugs and crashes. Disabling automatic updates on Windows will
    ensure that your operating system maintains the same level of security that was
    established at installation while you practice in your lab.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 供应商为其软件产品和操作系统提供更新，原因有很多，例如添加新功能、提高性能以及修复安全漏洞和崩溃等问题。在Windows上禁用自动更新将确保您的操作系统在实验中保持安装时建立的相同安全级别。
- en: 'Using Windows 10 and Windows Server 2016, Microsoft has removed the function
    of disabling Windows Update from the Control Panel. In this section, I''ll demonstrate
    how to disable the Windows Update function within Windows Server 2016:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Windows 10和Windows Server 2016，Microsoft已经从控制面板中删除了禁用Windows更新的功能。在本节中，我将演示如何在Windows
    Server 2016中禁用Windows更新功能：
- en: 'Firstly, open Command Prompt and enter `sconfig`, as shown in the following
    screenshot:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，打开“命令提示符”并输入`sconfig`，如下截图所示：
- en: '![](img/e1bf9cac-2377-4d73-a263-cdd9deb01bb2.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e1bf9cac-2377-4d73-a263-cdd9deb01bb2.png)'
- en: 'The following screen will appear. Use option `5` to access `Windows Update
    Settings`:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将出现以下屏幕。使用选项`5`访问“Windows更新设置”：
- en: '![](img/e81e8108-7079-4061-8b00-7b40759c9d7a.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e81e8108-7079-4061-8b00-7b40759c9d7a.png)'
- en: 'The interactive menu will ask how you would like Windows to handle the checking
    and installation of updates—`(A)utomatic`, `(D)ownloadOnly`, or `(M)anual`. We
    will choose the `Manual` option:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 交互式菜单将询问您希望Windows如何处理更新的检查和安装—“(A)utomatic”、“(D)ownloadOnly”或“(M)anual”。我们将选择“手动”选项：
- en: '![](img/5202929e-4d45-41ae-835f-a55b642d1a22.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5202929e-4d45-41ae-835f-a55b642d1a22.png)'
- en: Windows will then provide confirmation of our selection. `Manual` ensures that
    Windows does not check for any updates without our permission.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 然后Windows将确认我们的选择。“手动”确保Windows不会在没有我们的许可下检查任何更新。
- en: Now that you can disable automatic updates, let's take a look at setting a static
    IP address on your Windows VM.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以禁用自动更新，让我们看看如何在Windows虚拟机上设置静态IP地址。
- en: Setting a static IP address
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置静态IP地址
- en: It's quite important to set static IP addresses on network resources and appliances.
    A static IP address will ensure that the IP address does not change and, therefore,
    that users on the network will always be able to access the resources/server once
    network connectivity is established.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络资源和设备上设置静态IP地址非常重要。静态IP地址将确保IP地址不会更改，因此一旦建立了网络连接，网络上的用户将始终能够访问资源/服务器。
- en: 'Having a server within an organization or within our lab will definitely require
    an address that does not change. To do this, follow these steps:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在组织或实验室中拥有服务器肯定需要一个不会更改的地址。要做到这一点，请按照以下步骤进行：
- en: 'To begin, log on to your Windows Server 2016 and click the Windows icon in
    the bottom-left corner to view the Start menu. Click on Server Manager, as shown
    in the following screenshot:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，登录到您的Windows Server 2016，然后单击左下角的Windows图标以查看开始菜单。单击Server Manager，如下截图所示：
- en: '![](img/6c707d08-f4c9-4ada-9af2-347fbc8d290a.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6c707d08-f4c9-4ada-9af2-347fbc8d290a.png)'
- en: 'Server Manager is a single dashboard that allows a server administrator to
    control, manage, and monitor Windows Server using a **graphical user interface**
    (**GUI**). On the left-hand side of the window, select Local Server, and then
    click the Ethernet0 section, as shown in the following screenshot:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Server Manager是一个单一的仪表板，允许服务器管理员使用图形用户界面（GUI）控制、管理和监视Windows Server。在窗口的左侧，选择本地服务器，然后单击Ethernet0部分，如下截图所示：
- en: '![](img/cf0b18e3-f0f5-4170-a43e-9b7dee7b5c1d.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cf0b18e3-f0f5-4170-a43e-9b7dee7b5c1d.png)'
- en: 'The Network Connections window will open, displaying all the network adapters
    that are available on your virtual Windows Server 2016 machine. To add a static
    IP address to a network adapter, simply right-click on the adapter and select
    Properties, as shown in the following screenshot:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 网络连接窗口将打开，显示在您的虚拟Windows Server 2016机器上可用的所有网络适配器。要为网络适配器添加静态IP地址，只需右键单击适配器，然后选择属性，如下截图所示：
- en: '![](img/b3314117-a9bf-4cd7-9e06-8954a75bb8c6.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b3314117-a9bf-4cd7-9e06-8954a75bb8c6.png)'
- en: 'Select Internet Protocol Version 4 (TCP/IPv4) | Properties, as shown in the
    following screenshot:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择Internet Protocol Version 4（TCP/IPv4）|属性，如下截图所示：
- en: '![](img/c8a9a9d0-3a32-4702-b09e-228867e9b0f1.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c8a9a9d0-3a32-4702-b09e-228867e9b0f1.png)'
- en: 'Now, you''ll have the option to assign a static IP address, subnet mask, and
    default gateway, as well as **Domain Name Server** (**DNS**) configurations:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将有选择为其分配静态IP地址、子网掩码和默认网关，以及DNS配置的选项：
- en: '![](img/2eefb777-5691-4d01-a1df-3413f602ffb0.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2eefb777-5691-4d01-a1df-3413f602ffb0.png)'
- en: Please ensure that your IP address configurations are within the same subnet
    as your DHCP server (of your hypervisor) and the other VMs. Your IP address should
    be between `10.10.10.2` and `10.10.10.254`, the subnet mask should be `255.255.255.0`,
    and the default gateway should be `10.10.10.1` for each of the VMs in your lab.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 请确保您的IP地址配置与DHCP服务器（您的hypervisor）和其他VM在同一子网内。您的IP地址应该在`10.10.10.2`和`10.10.10.254`之间，子网掩码应该是`255.255.255.0`，默认网关应该是`10.10.10.1`，对于您实验室中的每个VM。
- en: Now that you are able to configure static IP addresses for Windows, let's look
    at how to add additional network interfaces.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以为Windows配置静态IP地址，让我们看看如何添加额外的网络接口。
- en: Adding additional interfaces
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加额外的接口
- en: At times, having an additional **network interface card** (**NIC**) can be useful
    in many ways, such as ensuring network redundancy and even enabling NIC Teaming,
    which combines more than one NIC into one logical interface for combined throughput.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，拥有额外的网络接口卡（NIC）可以在许多方面非常有用，比如确保网络冗余，甚至可以启用NIC Teaming，将多个NIC组合成一个逻辑接口以实现组合吞吐量。
- en: 'Let''s add an additional NIC to a VM:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们向VM添加额外的NIC：
- en: 'To add an additional NIC to your VM, simply access the settings for the VM:'
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要向VM添加额外的NIC，只需访问VM的设置：
- en: '![](img/bf36fd13-6862-44a2-bff9-ef4fc859fec8.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bf36fd13-6862-44a2-bff9-ef4fc859fec8.png)'
- en: 'Click on Add.... This will allow you to choose from a variety of virtual hardware
    components:'
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击添加... 这将允许您从各种虚拟硬件组件中进行选择：
- en: '![](img/8ea844ec-3e6c-4572-b061-12e4ccca6d3a.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8ea844ec-3e6c-4572-b061-12e4ccca6d3a.png)'
- en: 'Select Network Adapter and click Finish, as shown in the following screenshot:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择网络适配器，然后单击完成，如下截图所示：
- en: '![](img/115ddd1f-c0dd-47ca-9717-cb845bd0c97c.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/115ddd1f-c0dd-47ca-9717-cb845bd0c97c.png)'
- en: 'The new NIC will be added to the VM and you''ll have the option to configure
    it as per your preferences:'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的NIC将被添加到VM，并且您将有选择根据您的偏好进行配置：
- en: '![](img/0ddac02e-9774-48bd-bfea-cb6e692f5aaf.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0ddac02e-9774-48bd-bfea-cb6e692f5aaf.png)'
- en: When the operating system has rebooted, the virtual NIC will be present within
    the Network Sharing Center in Windows.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 当操作系统重新启动时，虚拟NIC将出现在Windows的网络共享中心中。
- en: 'Having completed this section, you have now done the following:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了本节，您现在已经完成了以下工作：
- en: Installed Microsoft Windows
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装了Microsoft Windows
- en: Created a user account
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建用户帐户
- en: Disabled Windows automatic updates
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用Windows自动更新
- en: Configured a static IP address on Windows Server
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Windows Server上配置了静态IP地址
- en: Added additional interfaces for a VM via the hypervisor
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过hypervisor为VM添加额外的接口
- en: In the next section, we will take a deep dive into installing Ubuntu within
    our penetration testing lab.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将深入研究在我们的渗透测试实验室中安装Ubuntu。
- en: Installing Ubuntu 8.10
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Ubuntu 8.10
- en: In this section, we will be installing an Ubuntu (Linux) VM in our lab environment
    for testing purposes. As I mentioned previously, an awesome penetration tester
    or ethical hacker is someone who has a lot of knowledge and experience of many
    operating systems.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将在我们的实验室环境中安装Ubuntu（Linux）VM以进行测试。正如我之前提到的，一个出色的渗透测试人员或道德黑客是一个对许多操作系统有很多知识和经验的人。
- en: It's quite good to have a broad understanding and knowledge of various types
    of environments and operating systems as it will make security auditing and penetration
    testing much easier for you. We are going to use the Ubuntu 8.10 operating system
    within our lab.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 对各种环境和操作系统有广泛的了解和知识将使您的安全审计和渗透测试变得更加容易。我们将在我们的实验室中使用Ubuntu 8.10操作系统。
- en: The Linux operating system comes in many flavors, such as Fedora, CentOS, Arch
    Linux, openSUSE, Mint Linux, Ubuntu, and RedHat.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: Linux操作系统有许多不同的版本，如Fedora、CentOS、Arch Linux、openSUSE、Mint Linux、Ubuntu和RedHat。
- en: 'There are three ways to get started installing Ubuntu on your lab, as follows:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 有三种方法可以开始在您的实验室上安装Ubuntu，如下所示：
- en: Navigate to Ubuntu's website at [www.ubuntu.com](http://www.ubuntu.com) and
    go to the Download page to obtain a copy of the latest version of Ubuntu.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转到Ubuntu的网站[www.ubuntu.com](http://www.ubuntu.com)并转到下载页面以获取最新版本的Ubuntu的副本。
- en: 'Since our exercise is going to use a specific version of Ubuntu, we will search
    for `Ubuntu 8.10` on Google to quickly find the official relevant repository:'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于我们的练习将使用特定版本的Ubuntu，我们将在Google上搜索`Ubuntu 8.10`，以快速找到官方相关存储库：
- en: '![](img/2a9caa92-46d7-4127-affb-8ea047ac2452.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2a9caa92-46d7-4127-affb-8ea047ac2452.png)'
- en: You can also use [http://old-releases.ubuntu.com/releases/8.10/](http://old-releases.ubuntu.com/releases/8.10/)
    to download both Ubuntu Server and Desktop ISO images.
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您还可以使用[http://old-releases.ubuntu.com/releases/8.10/](http://old-releases.ubuntu.com/releases/8.10/)下载Ubuntu服务器和桌面ISO映像。
- en: 'Once the ISO file has been successfully downloaded onto your desktop computer,
    create a virtual environment within Oracle VM VirtualBox or VMware Workstation
    using the following parameters:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦ISO文件成功下载到您的台式计算机上，使用以下参数在Oracle VM VirtualBox或VMware Workstation中创建一个虚拟环境：
- en: '**CPU**: 1 core'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**CPU**：1核心'
- en: '**RAM**: 1-2 GB'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**RAM**：1-2 GB'
- en: '**HDD**: 60 GB'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HDD**：60 GB'
- en: '**NIC**: VMnet1'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**NIC**：VMnet1'
- en: You can also adjust the hardware configurations as you see fit.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以根据需要调整硬件配置。
- en: As you may recall, in the previous section, *Installing Windows as a VM*, we
    walked through the process of setting up a virtual environment. The procedure
    for creating a virtual environment for Linux is essentially the same as that for
    Windows when using a hypervisor, the only differences being in choosing the Ubuntu
    ISO (Linux operating system) and using the previously specified parameters (that
    is, for the CPU, RAM, and so on).
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能还记得，在上一节中，*作为VM安装Windows*，我们介绍了设置虚拟环境的过程。在使用hypervisor时，为Linux创建虚拟环境的过程与为Windows创建虚拟环境的过程基本相同，唯一的区别在于选择Ubuntu
    ISO（Linux操作系统）并使用先前指定的参数（即CPU、RAM等）。
- en: 'The following are the instructions for installing Ubuntu Server in our lab:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是在我们的实验室中安装Ubuntu服务器的说明：
- en: 'Once you have powered on the VM, you''ll be presented with the following screen.
    Choose Install Ubuntu Server and hit *Enter*:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动VM后，将显示以下屏幕。选择安装Ubuntu服务器并按*Enter*：
- en: '![](img/36019fae-d4cd-4934-91c8-6c44b1f3a7f5.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/36019fae-d4cd-4934-91c8-6c44b1f3a7f5.png)'
- en: The setup wizard will ask to specify your language.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置向导将要求指定您的语言。
- en: Then, you'll be asked to choose your country or territory.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，您将被要求选择您的国家或地区。
- en: 'The installation wizard will ask whether you want your keyboard layout detected.
    Choose No and continue:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装向导将询问您是否要检测键盘布局。选择“否”并继续：
- en: '![](img/0f424784-c5e6-447e-8cb6-a846a7d2925f.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0f424784-c5e6-447e-8cb6-a846a7d2925f.png)'
- en: 'During the setup process, you will be asked to assign a hostname to the Ubuntu
    server, which you can leave as the default, as shown in the following screenshot:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在设置过程中，您将被要求为Ubuntu服务器分配主机名，您可以将其保留为默认值，如下图所示：
- en: '![](img/f5419497-cb50-450e-ae5f-94132e9bd8d5.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f5419497-cb50-450e-ae5f-94132e9bd8d5.png)'
- en: During this phase, you'll also be asked to specify your time zone. Choose an
    appropriate zone.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此阶段，您还将被要求指定您的时区。选择一个合适的时区。
- en: 'Select the **Guided – use entire disk** option and hit *Enter* to continue.
    This will allow the Ubuntu operating system to wipe the entire disk drive and
    install itself on it, thereby occupying the entire disk:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**引导-使用整个磁盘**选项，然后按*Enter*继续。这将允许Ubuntu操作系统擦除整个磁盘驱动器并安装自身，从而占用整个磁盘：
- en: '![](img/7858a394-9a76-4691-8eb2-693faafaf3cf.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7858a394-9a76-4691-8eb2-693faafaf3cf.png)'
- en: 'You will be asked to choose the destination where you wish to install the Ubuntu
    server; choose the disk that has **sda** *(*primary disk partition) in brackets:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将被要求选择您希望安装Ubuntu服务器的目的地；选择具有**sda**（*主磁盘分区）的磁盘：
- en: '![](img/d5f64f36-f9ef-4938-9f28-9acd3a013108.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d5f64f36-f9ef-4938-9f28-9acd3a013108.png)'
- en: '**sda** is used to represent the primary partition of the primary disk drive
    on the Linux operating system. This is the location where you would normally install
    any operating system on a disk drive.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**sda**用于表示Linux操作系统上主要磁盘驱动器的主分区。这通常是您在磁盘驱动器上安装任何操作系统的位置。'
- en: 'Before the installation is executed, select Yes to confirm the configurations:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在执行安装之前，选择“是”以确认配置：
- en: '![](img/245a1065-88f0-485d-938e-a0847c2f7a65.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/245a1065-88f0-485d-938e-a0847c2f7a65.png)'
- en: You will then be asked to provide your full name and you'll also be required
    to create a user account. Next, assign a password to the user account.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，您将被要求提供您的全名，并且还需要创建一个用户帐户。接下来，为用户帐户分配一个密码。
- en: 'Once the user account creation process has been completed, you will be asked
    whether you would like to set up an encrypted private directory. I have used the
    default (No), as shown in the following screenshot:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成用户帐户创建过程后，您将被询问是否要设置加密私人目录。我使用了默认值（否），如下图所示：
- en: '![](img/2ee99760-9785-42a2-bcc5-0e35c54f7cc0.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2ee99760-9785-42a2-bcc5-0e35c54f7cc0.png)'
- en: 'At this point, the installation process will take a few minutes to complete.
    Afterward, you''ll be required to set the system clock:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此时，安装过程将需要几分钟才能完成。之后，您将需要设置系统时钟：
- en: '![](img/5b29258c-7922-4f7d-a28a-cb67d638c91e.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5b29258c-7922-4f7d-a28a-cb67d638c91e.png)'
- en: 'Next, specify how the operating system should check for updates. I have chosen
    the **No automatic updates **option, as shown in the following screenshot:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，指定操作系统应如何检查更新。我选择了**不自动更新**选项，如下截图所示：
- en: '![](img/a58ef089-59bf-4b0a-b7d0-318064e4fd56.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a58ef089-59bf-4b0a-b7d0-318064e4fd56.png)'
- en: 'On the following screen, you can still choose to install various services.
    I have used the default setting (no software/service selected) once again and
    selected Continue:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在接下来的屏幕上，您仍然可以选择安装各种服务。我再次使用了默认设置（未选择任何软件/服务），然后选择了继续：
- en: '![](img/1c246d67-b4bc-4301-aead-b71d33cc7abc.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1c246d67-b4bc-4301-aead-b71d33cc7abc.png)'
- en: 'Once the installation has been completed, the Ubuntu server will boot into
    its login window, as shown in the following screenshot:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，Ubuntu服务器将启动到登录窗口，如下截图所示：
- en: '![](img/ba27f94f-9d5c-42e6-80fe-b309bff3b296.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ba27f94f-9d5c-42e6-80fe-b309bff3b296.png)'
- en: Your Ubuntu VM is now all set up and ready for future exercises.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 您的Ubuntu虚拟机现在已经设置好，准备进行未来的练习。
- en: Now that you have installed a few VMs in your virtual lab environment, let's
    take a few more minutes to walk through and discuss the importance of creating
    **snapshots** regularly when working with virtualization.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经在虚拟实验室环境中安装了一些虚拟机，让我们花几分钟时间来讨论在虚拟化工作中定期创建**快照**的重要性。
- en: Creating and using snapshots
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建和使用快照
- en: Creating a snapshot can save you a lot of time in restoring the previous state
    of a VM. A snapshot works like an instant system restore point. Taking snapshots
    of a VM prior to and after major changes will help you recover from any critical
    issues you may be experiencing within a VM.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 创建快照可以节省大量时间，以恢复虚拟机的先前状态。快照就像一个即时系统还原点。在对虚拟机进行重大更改之前和之后拍摄快照将帮助您从虚拟机中遇到的任何关键问题中恢复过来。
- en: 'To create a snapshot on both VirtualBox and VMware Workstation, perform the
    following steps:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 要在VirtualBox和VMware Workstation上创建快照，请执行以下步骤：
- en: On VirtualBox, select the VM of your choice.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在VirtualBox中，选择您选择的虚拟机。
- en: Click the menu icon, as highlighted in the following screenshot, and select
    Snapshots.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击菜单图标，如下截图所示，并选择快照。
- en: 'Using VMware Workstation, select a VM of your choice. The snapshot menu on
    VMware Workstation Pro is located in the toolbar, as indicated in the following
    screenshot, on the right-hand side:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用VMware Workstation，选择您选择的虚拟机。在VMware Workstation Pro上，快照菜单位于工具栏上，如下截图所示，位于右侧：
- en: '![](img/829cd7b7-d510-418c-af58-4d679b0cd8cb.png)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![](img/829cd7b7-d510-418c-af58-4d679b0cd8cb.png)'
- en: I would recommend creating a snapshot once the installation of a VM is successful,
    and before and after any major changes or configurations are made on a VM. Creating
    a snapshot uses disk space on your local storage drive. However, snapshots can
    be deleted at any time.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议在成功安装虚拟机之后，以及在对虚拟机进行任何重大更改或配置之前和之后，创建一个快照。创建快照会占用本地存储驱动器上的磁盘空间。但是，可以随时删除快照。
- en: Having completed this section, you are now able to efficiently install Linux
    within a virtualized environment and understand the benefits of working with snapshots.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了这一部分，您现在可以在虚拟化环境中高效地安装Linux，并了解使用快照的好处。
- en: Troubleshooting Kali Linux
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kali Linux故障排除
- en: 'Now that you have access to Kali Linux, you may find yourself encountering
    some problems. These may include the following:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经可以访问Kali Linux，您可能会遇到一些问题。这些问题可能包括以下内容：
- en: Network adapter and USB incompatibility
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络适配器和USB不兼容
- en: VM memory problems
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟机内存问题
- en: Let's go through how to resolve these issues should they come up.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何解决这些问题。
- en: Network adapter and USB incompatibility
  id: totrans-160
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络适配器和USB不兼容
- en: One of the most commonly found issues that students encounter after importing
    the Kali Linux VM within VirtualBox is incompatibility. This incompatibility is
    usually to do with the network adapter or USB settings on VirtualBox. If these
    issues aren't resolved, the VM will not be able to start.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 学生在导入Kali Linux虚拟机到VirtualBox后经常遇到的问题之一是不兼容。这种不兼容通常与VirtualBox上的网络适配器或USB设置有关。如果这些问题没有解决，虚拟机将无法启动。
- en: 'To determine whether there is an issue, we can perform the following actions:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 要确定是否存在问题，我们可以执行以下操作：
- en: Open the VM settings on Oracle VM VirtualBox.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Oracle VM VirtualBox上打开虚拟机设置。
- en: If you see Invalid settings detected, the VM will be unable to start. Click
    on one of the icons (such as the network icon or the USB icon) and the relevant
    error message will appear.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果看到检测到无效设置，则无法启动虚拟机。单击其中一个图标（例如网络图标或USB图标），将显示相关的错误消息。
- en: 'The following screenshot indicates that there''s an issue with the virtual
    network adapter on the VM. As we can see, there is no actual adapter attached.
    Perform the following actions:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的截图表明虚拟机上的虚拟网络适配器存在问题。正如我们所看到的，实际上没有适配器连接。执行以下操作：
- en: Simply click the Name drop-down menu, as shown in the following screenshot.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只需单击下拉菜单中的**名称**，如下截图所示。
- en: 'Select an appropriate network adapter, such as **Adapter 1**, to resolve the
    issue:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择适当的网络适配器，例如**适配器1**，以解决问题：
- en: '![](img/11a4c6b2-3e71-4c3d-8831-1c170bce2ebe.png)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![](img/11a4c6b2-3e71-4c3d-8831-1c170bce2ebe.png)'
- en: 'Now that we have fixed the potential problem with the network adapter, let''s
    look at what happens if the USB software bus is incompatible. You would usually
    see a USB icon displayed at the bottom of the Settings window. Clicking on it
    will display the following message:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经解决了网络适配器的潜在问题，让我们看看如果USB软件总线不兼容会发生什么。通常您会在设置窗口底部看到一个USB图标。单击它将显示以下消息：
- en: '![](img/cfd86190-1b57-4a47-a2d7-b9f3eed2b3e2.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cfd86190-1b57-4a47-a2d7-b9f3eed2b3e2.png)'
- en: The use of the VirtualBox extension pack will resolve this issue by enabling
    USB 2.0 or 3.0\. This will ensure that the VM is compatible and is able to send
    and receive data to the host's USB ports.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 使用VirtualBox扩展包将解决此问题，通过启用USB 2.0或3.0。这将确保虚拟机兼容，并能够发送和接收数据到主机的USB端口。
- en: 'To resolve this issue, simply access the USB settings and select the appropriate
    USB controller (preferably USB 1.1 or 2.0), as shown in the following screenshot:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 要解决这个问题，只需访问USB设置，并选择适当的USB控制器（最好是USB 1.1或2.0），如下面的屏幕截图所示：
- en: '![](img/5cdfe7bf-2ff4-4360-8c03-d5cd3c1aedff.png)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5cdfe7bf-2ff4-4360-8c03-d5cd3c1aedff.png)'
- en: Within the Oracle VM VirtualBox settings interface, if you look carefully, the
    bottom of the window includes icons with warning signs on each. Hovering over
    each icon at the bottom will provide you with a description of the issue that
    is preventing the VM from starting.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在Oracle VM VirtualBox设置界面中，如果你仔细观察，窗口底部包括每个警告标志的图标。将鼠标悬停在底部的每个图标上，将为您提供阻止虚拟机启动的问题描述。
- en: VM memory problems
  id: totrans-175
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 虚拟机内存问题
- en: 'A lot of students sometimes create a VM and assign more memory than is available
    to the hypervisor. This can cause either the VM to not start or instability on
    your host operating system. To resolve this issue, do the following:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 很多学生有时会创建一个虚拟机，并分配比可用的内存更多的内存给hypervisor。这可能导致虚拟机无法启动或主机操作系统不稳定。要解决这个问题，请执行以下操作：
- en: Open the VM settings.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开虚拟机设置。
- en: Open the System tab.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开“系统”选项卡。
- en: 'Next, adjust the base memory so that it sits within the green zone (random
    access memory is what we''re talking about here):'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，调整基本内存，使其位于绿色区域内（这里我们谈论的是随机存取内存）：
- en: '![](img/3118192e-d9c6-489a-b8cd-481a673c694d.png)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3118192e-d9c6-489a-b8cd-481a673c694d.png)'
- en: The hypervisor will always inform you of any issues. However, please ensure
    that you enable the virtualization feature in your processor. To do this, you'll
    need to access your computer's BIOS/UEFI settings to turn on virtualization.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: hypervisor将始终通知您任何问题。但是，请确保您在处理器中启用了虚拟化功能。要做到这一点，您需要访问计算机的BIOS/UEFI设置以打开虚拟化。
- en: If you encounter any of these problems, you are now equipped with the answers
    to fix them.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你遇到这些问题，现在你已经有了解决方法。
- en: Summary
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: During the course of this chapter, we continued from the previous chapter and
    expanded our lab environment by deploying and setting up both Windows and Ubuntu
    VMs. Additionally, we took a look at the two most commonly found issues when deploying
    Kali Linux in a virtual environment.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的过程中，我们延续了上一章的内容，并通过部署和设置Windows和Ubuntu虚拟机来扩展我们的实验环境。此外，我们还研究了在虚拟环境中部署Kali
    Linux时最常见的两个问题。
- en: Having completed this chapter, you have the skills to install Windows and Ubuntu
    servers in a virtual lab environment, create user accounts and opt out of automatic
    updates, add additional network interfaces to a VM, and create snapshots using
    the hypervisor manager, VirtualBox, and VMware Workstation Pro. This concludes
    our objective of building a virtual penetration testing lab environment.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了本章后，您将具备在虚拟实验室环境中安装Windows和Ubuntu服务器、创建用户帐户并选择不自动更新、向虚拟机添加额外的网络接口以及使用hypervisor管理器、VirtualBox和VMware
    Workstation Pro创建快照的技能。这完成了我们构建虚拟渗透测试实验室环境的目标。
- en: Now that we have our own lab set up and ready, it's time to dive into our next
    chapter, which is about getting comfortable with Kali Linux 2019.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经建立并准备好自己的实验室，是时候进入下一章了，这一章是关于熟悉Kali Linux 2019。
- en: Further reading
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'The following links are recommended for additional reading:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 以下链接建议进行进一步阅读：
- en: '**Kali Linux documentation**: [https://docs.kali.org/](075f58ca-ff2a-48c7-9b90-17ddd4e408c9.xhtml)'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kali Linux文档**: [https://docs.kali.org/](075f58ca-ff2a-48c7-9b90-17ddd4e408c9.xhtml)'
- en: '**Windows 10**: [https://docs.microsoft.com/en-us/windows/windows-10/](https://docs.microsoft.com/en-us/windows/windows-10/)'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows 10**: [https://docs.microsoft.com/en-us/windows/windows-10/](https://docs.microsoft.com/en-us/windows/windows-10/)'
- en: '**Windows Server 2016**: [https://docs.microsoft.com/en-us/windows-server/index](https://docs.microsoft.com/en-us/windows-server/index)'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows Server 2016**: [https://docs.microsoft.com/en-us/windows-server/index](https://docs.microsoft.com/en-us/windows-server/index)'
- en: '**Ubuntu**: [https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop](https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop)
    and [https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server](https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server)'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Ubuntu**: [https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop](https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop)
    和 [https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server](https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server)'
