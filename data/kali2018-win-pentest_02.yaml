- en: Sharpening the Saw
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 磨刀
- en: A craftsman is only as good as his tools and tools need to be set up and maintained.
    Since you have an idea of what Kali Linux distro you are interested in installing,
    this chapter will help you set up and configure your personal versions of the
    platform. Kali Linux is versatile and can be used in several use cases.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 一个工匠只有他的工具那么好，而工具需要设置和维护。由于您已经有了对您感兴趣的Kali Linux发行版的想法，本章将帮助您设置和配置平台的个人版本。Kali
    Linux是多才多艺的，可以用于多种用途。
- en: When you first decided to use Kali Linux, you probably hadn't thought about
    the various common and uncommon uses. This chapter introduces you to ups that
    will work best for your Windows penetration testing requirements, the documentation
    tools that we use to make sure that the results of the tests are prepared and
    presented properly, and the details of Linux services that you need to operate
    these tools. Many books, including the first book Wolf Halton wrote about penetration
    testing, set its chapters in the order of the sub-menus in the Kali Security desktop.
    We found this to be less than intuitive. We have put all the setup at the beginning
    to reduce confusion for first-time Kali users, and because some things, such as
    the documentation tools, must be understood before you start using the other tools.
    The reason why the title of this chapter is *Sharpening the Saw* is because a
    poor workman, or an inexperienced hacker, blames his tools, a skilled craftsman
    spends a bit more time preparing tools so their work goes faster.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当您首次决定使用Kali Linux时，您可能还没有考虑到各种常见和不常见的用途。本章向您介绍了最适合您的Windows渗透测试要求的工具，我们用来确保测试结果准备和呈现正确的文档工具，以及您需要操作这些工具的Linux服务的详细信息。许多书籍，包括Wolf
    Halton撰写的有关渗透测试的第一本书，将其章节按照Kali安全桌面中的子菜单顺序排列。我们发现这不够直观。我们将所有设置放在开头，以减少第一次使用Kali用户的困惑，并且因为某些事情，例如文档工具，必须在您开始使用其他工具之前理解。本章标题为*磨刀*的原因是因为一个劣质的工匠，或者一个经验不足的黑客，总是责怪他的工具，而一个熟练的工匠会花更多时间准备工具，以便他们的工作更快进行。
- en: 'In the Kali Gnome3 Desktop Menu, there is a sub-menu called **Favorites**,
    and on your first run these tools will be the tools that the creators of Kali
    Linux believe to be the most indispensable weapons for a working security analyst
    to understand. In this chapter, after installation and setup, we are going to
    show you the tools we use most. These may become your favorites. The following
    screenshot shows the Favorites menu at default. The defaults are as follows:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在Kali Gnome3桌面菜单中，有一个名为**收藏夹**的子菜单，在您第一次运行时，这些工具将是Kali Linux的创建者认为对于工作中的安全分析师来说最不可或缺的武器。在本章中，安装和设置后，我们将向您展示我们最常使用的工具。这些可能成为您的收藏夹。以下屏幕截图显示了默认的收藏夹菜单。默认值如下：
- en: '**Firefox ESR**: A web browser'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Firefox ESR**：Web浏览器'
- en: '**Terminal**: A Bash Terminal emulator'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**终端**：Bash终端仿真器'
- en: '**Files**: A file manager similar to Windows Explorer.exe'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件**：类似于Windows资源管理器的文件管理器.exe'
- en: '**metasploit framework**: the gold standard of exploit frameworks'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**metasploit framework**：利用框架的黄金标准'
- en: '**armitage**: A GUI front-end for metasploit'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**armitage**：Metasploit的图形用户界面前端'
- en: '**burpsuite**: A web-application attack proxy'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**burpsuite**：Web应用攻击代理'
- en: '**beef xss framework**: A cross-site scripting tool'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**beef xss framework**：跨站脚本工具'
- en: '**faraday IDE**: A multi-user pen testing environment with over 70 supported
    tools including Metasploit, Burpsuite, Terminal, and many others'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**faraday IDE**：支持70多种工具的多用户渗透测试环境，包括Metasploit、Burpsuite、终端等'
- en: '**Leafpad**: Text editing application'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Leafpad**：文本编辑应用程序'
- en: '![](img/c4135a04-dc0a-4b22-a487-faccef6d50f3.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c4135a04-dc0a-4b22-a487-faccef6d50f3.png)'
- en: Many system services on Kali Linux are the same as those on Ubuntu and other
    Linux servers based upon the Debian platform, but because there are security tools
    that use a client/server model, there are services that will need to have their
    servers started early to run your tests successfully.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux上的许多系统服务与基于Debian平台的Ubuntu和其他Linux服务器上的服务相同，但由于有使用客户端/服务器模型的安全工具，因此需要提前启动一些服务才能成功运行测试。
- en: We will learn the following topics in this chapter
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将学习以下主题
- en: Installing Kali Linux to an encrypted USB drive
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将Kali Linux安装到加密的USB驱动器上
- en: Running Kali from the Live DVD
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从Live DVD上运行Kali
- en: Installing and configuring applications
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置应用程序
- en: Setting up and configuring OpenVAS
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置和配置OpenVAS
- en: Reporting tests
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告测试
- en: Running services on Kali Linux
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Kali Linux上运行服务
- en: Technical requirements
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: Kali distro of your choice (Gnome, KDE, LXDE, or MATE)
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您选择的Kali发行版（Gnome、KDE、LXDE或MATE）
- en: A blank USB drive at least 16 GB in size.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个至少16GB大小的空白USB驱动器。
- en: A laptop or workstation with manual boot options
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有手动引导选项的笔记本电脑或工作站
- en: Installing Kali Linux to an encrypted USB drive
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将Kali Linux安装到加密的USB驱动器上
- en: Secure networking environments such as those found in most organizations that
    have IT departments present several challenges to you as a security engineer.
    The company probably has a specific list of approved applications. Antivirus applications
    are usually managed from a central location. Security tools are miscategorized
    as evil hacking tools or malware packages. Many companies have defensive rules
    against having any operating system that isn't Microsoft Windows installed on
    company computing hardware.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 像大多数有IT部门的组织中发现的那样安全的网络环境对安全工程师提出了一些挑战。公司可能有一个特定的批准应用程序列表。防病毒应用程序通常是从中央位置管理的。安全工具通常被错误地归类为邪恶的黑客工具或恶意软件包。许多公司对在公司计算硬件上安装任何不是Microsoft
    Windows的操作系统都有防御性规定。
- en: To add to the challenge, they prohibit non-corporate assets on the corporate
    network. The main problem you will find is that there are very few economical
    penetration testing tools written for Windows, and the few, such as **Metasploit**,
    that do have a Windows version, tend to fight with the lower-level operating system
    functions. Since most company laptops must have anti-virus software running on
    the system, you must do some serious exception voodoo on Metasploit's directories.
    The anti-virus software will quarantine all the viruses and the tools that come
    with Metasploit. Also, Local Intrusion Protection Software and local firewall
    rules will cause problems. These OS functions and security add-ons are designed
    to prevent hacking, and that is exactly what you are preparing to do.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 为了增加挑战，他们禁止在公司网络上使用非公司资产。您将发现的主要问题是，针对Windows编写的经济实惠的渗透测试工具非常少，而少数有Windows版本的工具，如**Metasploit**，往往会与较低级别的操作系统功能发生冲突。由于大多数公司笔记本电脑必须在系统上运行反病毒软件，因此您必须在Metasploit的目录上进行一些严重的例外处理。反病毒软件将隔离所有病毒和随Metasploit一起提供的工具。此外，本地入侵保护软件和本地防火墙规则会引起问题。这些操作系统功能和安全附加组件旨在防止黑客攻击，而这正是您准备要做的事情。
- en: The **Payment Card Industry Digital Security Standard** (PCI DSS 3.2.1) requires
    that any Windows machine that handles payment data or is on a network with any
    machine that handles payment data should be patched, run a firewall, and have
    anti-virus software installed on it. Further, many company IT security policies
    mandate that no end user can disable anti-virus protection without penalty.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 支付卡行业数字安全标准（PCI DSS 3.2.1）要求处理付款数据的任何Windows机器或与处理付款数据的任何机器在同一网络上的机器都应该打补丁，运行防火墙，并在其上安装反病毒软件。此外，许多公司的IT安全政策规定，任何终端用户都不能在没有处罚的情况下禁用反病毒保护。
- en: Another issue with using a Windows machine as your penetration-testing machine
    is that you may do external testing from time to time. In order to do a proper
    external test the testing machine must be on the public internet. It is unwise
    to hang a Windows machine out on the public network with your all your security
    applications turned off. Such a configuration will probably be infected with worms
    within 20 minutes of putting it on the internet.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 将Windows机器用作您的渗透测试机器的另一个问题是，您可能会不时地进行外部测试。为了进行适当的外部测试，测试机器必须连接到公共互联网。将Windows机器悬挂在公共网络上，并关闭所有安全应用程序是不明智的。这样的配置可能在将其连接到互联网后的20分钟内就会被感染蠕虫。
- en: So what's the answer? An encrypted bootable USB drive loaded with Kali Linux.
    On Kali's install screen there is the option to install Kali to a USB drive with
    what is called **persistence**. This gives you the ability to install to a USB
    drive and have the ability to save files to the USB, but the drive is not encrypted.
    By mounting the USB drive with a Linux machine your files are there for the taking.
    This is fine for trying out Kali, but you don't want real test data floating around
    on a USB drive. By doing a normal full install of Kali to the USB drive, full
    disk encryption can be used on the disk. If the USB is compromised or lost, the
    data is still safe.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 那么答案是什么呢？一个加密的可启动USB驱动器，加载了Kali Linux。在Kali的安装屏幕上，有一个选项可以将Kali安装到一个带有所谓**持久性**的USB驱动器上。这使您能够将Kali安装到USB驱动器上，并且可以将文件保存到USB中，但该驱动器没有加密。通过在Linux机器上挂载USB驱动器，您的文件就可以被获取。这对于尝试Kali来说是可以的，但您不希望真正的测试数据漂浮在一个USB驱动器上。通过对USB驱动器进行正常的全面安装，可以在磁盘上使用全磁盘加密。如果USB被入侵或丢失，数据仍然是安全的。
- en: In this chapter we will install Kali to a 64 GB USB disk. You can use a smaller
    one but remember you will be gathering data from your testing and even on a small
    network this can amount to a lot of data. We do testing almost daily so we used
    a 1 TB USB 3.0 drive. The 64 GB drive is a good size for most testing.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将把Kali安装到一个64GB的U盘上。您可以使用更小的U盘，但请记住您将从测试中收集数据，即使在一个小型网络上，这也可能会产生大量数据。我们几乎每天都在进行测试，所以我们使用了一个1TB的USB
    3.0驱动器。64GB的驱动器对于大多数测试来说是一个不错的大小。
- en: Prerequisites for installation
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装的先决条件
- en: 'For this chapter you will need a 64 GB thumb drive, a copy of Kali burned to
    a DVD and a machine with a DVD player and USB capabilities on boot. You can download
    Kali at [https://www.kali.org/downloads/](https://www.kali.org/downloads/) and
    look for the link to download the version you want. The following screenshot shows
    part of the download page:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将需要一个64GB的U盘，一个刻录了Kali的DVD和一台具有DVD播放器和USB启动功能的机器。您可以在[https://www.kali.org/downloads/](https://www.kali.org/downloads/)下载Kali，并查找下载您想要的版本的链接。以下截图显示了下载页面的一部分：
- en: '![](img/d54c751f-8152-4dbe-be12-320b1cf1fdc8.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d54c751f-8152-4dbe-be12-320b1cf1fdc8.png)'
- en: Since we showed you several distributions of Kali in [Chapter 1](b18fe074-058f-410f-86de-77499a727708.xhtml),
    *Choosing Your Distro*, the following screenshot shows what happens when you download
    all the available Kali Linux ISO files at one time.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们在[第1章](b18fe074-058f-410f-86de-77499a727708.xhtml)中向您展示了几种Kali的发行版，*选择您的发行版*，以下截图显示了当您一次下载所有可用的Kali
    Linux ISO文件时会发生什么。
- en: '![](img/3b8ead17-ade0-43c1-91a3-50122f010a8b.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3b8ead17-ade0-43c1-91a3-50122f010a8b.png)'
- en: Booting up
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启动
- en: Once you are ready, insert your DVD and your USB drive into your machine.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 准备好后，将DVD和U盘插入您的机器。
- en: Be sure and insert the USB *before* powering up the machine. You want the machine
    to see the USB on boot so the installer will see it during the install.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在启动机器之前插入U盘。您希望机器在启动时看到U盘，这样安装程序在安装过程中就能看到它。
- en: Now power up the machine and you'll get the following screen. Pick Graphical
    install from the menu.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 现在启动机器，您将看到以下屏幕。从菜单中选择图形安装。
- en: '![](img/55759b88-f2bf-49cc-ae47-96d90bba7479.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](img/55759b88-f2bf-49cc-ae47-96d90bba7479.png)'
- en: This installation will also work if you use the text installer found by picking
    the Install command on line six.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果选择第六行的安装命令，还可以使用文本安装程序进行安装。
- en: Configuring the installation
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置安装
- en: If you have ever installed any distribution of Linux, the first section of the
    installation should seem very familiar. You will see a series of screens for setting
    the country, language, and keyboard. Set this up for your locale and language
    of choice. Normally the installer will discover the keyboard and you can click
    the one chosen. The default choices in the US are US standard English, and US
    standard keyboard mapping. Make appropriate changes then click the Continue button
    on each of these pages.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您曾经安装过任何Linux发行版，安装的第一部分应该看起来非常熟悉。您将看到一系列用于设置国家、语言和键盘的屏幕。为您的地区和选择的语言设置这些。通常安装程序会自动发现键盘，您可以单击所选的键盘。在美国，默认选择是标准英语和标准键盘映射。进行适当的更改，然后在每个页面上单击“继续”按钮。
- en: After these configurations you'll be given the window as follows to supply a
    **Hostname**. Give it a distinctive name and not the default. This will be helpful
    later when using saved data and screenshots. If you have several people using
    Kali and all the machines are named Kali it can be confusing as to exactly where
    the data came from.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行这些配置之后，您将获得以下窗口以提供**主机名**。给它一个独特的名称，而不是默认的名称。这在以后使用保存的数据和截图时会很有帮助。如果有几个人使用Kali，而所有机器都被命名为Kali，那么数据来自哪里可能会让人感到困惑。
- en: '![](img/6503b69c-e4bb-42aa-89b8-6d73ba803c20.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6503b69c-e4bb-42aa-89b8-6d73ba803c20.png)'
- en: The next screenshot asks for a domain name. Use a real domain name that you
    or your company controls. Do not use a bogus domain name, such as `.local` or
    `.localdomain`. If you are doing business on the internet, or are a student and
    want to be a security professional, please use a proper domain name. This makes
    tracing routes and tracking packets easier. Domains are cheap. If the domain belongs
    to your employer, and you cannot just use their domain name, request a subdomain
    such as `testing.mycompany.com`.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个截图要求输入域名。使用您或您公司控制的真实域名。不要使用虚假的域名，如`.local`或`.localdomain`。如果您在互联网上做生意，或者是一名学生并希望成为一名安全专业人员，请使用一个合适的域名。这样可以更容易地跟踪路由和跟踪数据包。域名很便宜。如果域名属于您的雇主，而您不能只使用他们的域名，请请求一个子域，比如`testing.mycompany.com`。
- en: '![](img/5cae43e1-438d-45a3-afd8-81704cef0cad.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5cae43e1-438d-45a3-afd8-81704cef0cad.png)'
- en: In the next window you will be asked to provide a root password. Give this a
    *STRONG* password. The longer and more complex the password, the better. Remember,
    after a few tests the keys to your network will be on this device. Unlike most
    computer operations, during penetration testing you will be using the root account,
    and not a normal user account. You will need the ability to open and close ports
    and have full control of the network stack.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个窗口中，您将被要求提供root密码。给它一个*强大*的密码。密码越长越复杂，越好。请记住，经过几次测试，您的网络密钥将存储在这台设备上。与大多数计算机操作不同，在渗透测试期间，您将使用root帐户，而不是普通用户帐户。您需要能够打开和关闭端口，并完全控制网络堆栈。
- en: A standard Kali install does not offer you the chance to add a standard user.
    If you install Kali on the laptop itself, and use this laptop for other things
    besides testing, create a standard user and give it `sudoer` privileges. You never
    want to get into the habit of using your `root` account for browsing the World
    Wide Web and sending emails.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 标准的Kali安装不会给您添加标准用户的机会。如果您在笔记本电脑上安装Kali，并且除了测试之外还使用这台笔记本电脑进行其他事情，请创建一个标准用户并赋予它`sudoer`权限。您永远不希望养成使用您的`root`帐户来浏览互联网和发送电子邮件的习惯。
- en: '![](img/d5023e29-fc95-4d86-8af9-c093428f631b.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d5023e29-fc95-4d86-8af9-c093428f631b.png)'
- en: Next, you will be asked to choose your time-zone. Set up by your location on
    the graphical map, or pull-down menu, or pick your UTC offset. Many tools on Kali
    Linux output timestamps and these are legal evidence that you did what you said
    you did, when you said you did it.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '接下来，您将被要求选择您的时区。根据地图上的位置或下拉菜单设置，或选择您的UTC偏移。Kali Linux上的许多工具会输出时间戳，这些时间戳是您所做的事情的法律证据，以及您所说的时间。 '
- en: Setting up the drive
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置驱动器
- en: The next step is setting up the drive, encrypting it, and partitioning the drive.
    The next dialog will ask you to select a type of partitioning for this install.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是设置驱动器，对其进行加密，并对其进行分区。下一个对话框将要求您选择此安装的分区类型。
- en: Pick Guided - use entire disk and set up encrypted LVM. This will fully encrypt
    the entire drive, as opposed to just encrypting the `/home` directory.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择引导-使用整个磁盘并设置加密的LVM。这将完全加密整个驱动器，而不仅仅是加密`/home`目录。
- en: '![](img/e37ff9d7-f685-479e-86d3-9099eb4c5c03.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e37ff9d7-f685-479e-86d3-9099eb4c5c03.png)'
- en: In the next window you will be asked to pick a disk upon which to install Kali
    Linux.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个窗口中，您将被要求选择要安装Kali Linux的磁盘。
- en: 'WARNING. Be careful to pick the USB disk and not your local drive. If you pick
    your local drive you will wipe the operating system from that drive. Note: in
    the window following you can see the USB drive and a VMware virtual disk. The
    virtual disk is the hard drive of the virtual machine being used for this demonstration.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 警告。小心选择USB驱动器而不是本地驱动器。如果选择本地驱动器，将会擦除该驱动器上的操作系统。注意：在接下来的窗口中，您可以看到USB驱动器和VMware虚拟磁盘。虚拟磁盘是用于此演示的虚拟机的硬盘。
- en: Pick the USB disk and click Continue.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择USB驱动器并单击“继续”。
- en: '![](img/5a3db1ce-5fdf-4700-9556-22c54e329e5c.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5a3db1ce-5fdf-4700-9556-22c54e329e5c.png)'
- en: In the next window you will be asked how to partition the drive. Choose the
    default and click Continue.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个窗口中，您将被要求如何对驱动器进行分区。选择默认选项并单击“继续”。
- en: Next you will be asked to save partitioning information, and this will start
    the partitioning process.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将被要求保存分区信息，并开始分区过程。
- en: When you click Continue, here all data will be lost on the disk you are installing
    to. Click Yes and then Continue.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 当您单击“继续”时，磁盘上的所有数据都将丢失。单击“是”，然后单击“继续”。
- en: '![](img/beb651e7-c44c-4a88-9e08-881ce49ef4ee.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/beb651e7-c44c-4a88-9e08-881ce49ef4ee.png)'
- en: This will start the disk encryption and partitioning process. First the drive
    is fully erased and encrypted. This will take a while. Get a cup of coffee or,
    better yet, go for a walk outside. A 1 TB drive will take about 30 hours to be
    encrypted. The 64 GB drive takes about 30 minutes.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 这将启动磁盘加密和分区过程。首先，驱动器将被完全擦除和加密。这将需要一些时间。喝杯咖啡，或者更好的是，出去散散步。1TB驱动器需要大约30小时才能加密。64GB驱动器需要大约30分钟。
- en: In the next window, you will be asked to create a passphrase for the drive encryption.
    You will use this passphrase when booting up Kali. Note the term **passphrase**.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个窗口中，您将被要求为驱动加密创建一个密码。您在启动Kali时将使用此密码。请注意术语**密码**。
- en: 'Use something long but easy to remember: a line from a song or a poem or quote!
    The longer the better! *Mary had a little lamb and walked it to town*. Even with
    no numbers in this phrase it would take John the Ripper over a month to crack
    this.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 使用一些长而易于记忆的东西：一首歌的一行歌词或一句诗或引用！越长越好！*玛丽有一只小羊，牵着它去了城里*。即使这个短语中没有数字，John the Ripper也需要一个多月的时间才能破解。
- en: Next you will be asked to confirm these changes. Pick **Finish partitioning
    and write changes to disk **and then click **Continue**.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将被要求确认这些更改。选择**完成分区并将更改写入磁盘**，然后点击**继续**。
- en: Now the system will start the partitioning process.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 现在系统将开始分区过程。
- en: '![](img/c7c7ab9a-6e7b-4b0c-8257-f230667c3369.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c7c7ab9a-6e7b-4b0c-8257-f230667c3369.png)'
- en: After the partitioning process, the system install will start. USB is a slow
    protocol, even compared to ATA hard drives, so it might be time to warm up your
    tea.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 分区过程完成后，系统安装将开始。USB是一个慢协议，甚至与ATA硬盘相比，所以现在是暖茶的时候了。
- en: '![](img/f517e49b-6a7b-4766-863a-c2e80aa84fe3.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f517e49b-6a7b-4766-863a-c2e80aa84fe3.png)'
- en: Next you will be asked if you want to use a Network Mirror. Click **Yes** on
    this! This will select repository mirrors close to your location and help speed
    up your updates later when you update your system.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将被问及是否要使用网络镜像。在这上点击**是**！这将选择靠近您位置的存储库镜像，并在以后更新系统时加快更新速度。
- en: Your installation process will now complete and you will be asked to reboot
    the system. Be sure and remove the install disk before rebooting.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 您的安装过程现在将完成，并且将要求您重新启动系统。在重新启动之前，请务必删除安装光盘。
- en: Booting your new installation of Kali
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启动您的新安装的Kali
- en: Now we're ready to fire up Kali. Insert your Kali USB drive into your machine
    and power it up. In the beginning of the boot process you will be given the ability
    to manually select a boot drive. The specific keystroke will vary depending on
    the type and make of your machine. By whatever process your machine uses you will
    be given a menu of the available drives to boot from. Pick the USB drive and continue.
    When the system boots, you will be presented with a screen asking for your passphrase.
    This is the passphrase you chose earlier during the installation. This is not
    the root login password. Enter the passphrase and hit the *Enter* key.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们准备启动Kali。将Kali USB驱动器插入计算机并启动。在启动过程开始时，您将有能力手动选择启动驱动器。具体的按键将取决于您的计算机类型和制造商。无论您的计算机使用什么过程，您将得到一个可用启动驱动器的菜单。选择USB驱动器并继续。系统启动时，将出现一个要求输入密码的屏幕。这是您在安装过程中选择的密码。这不是root登录密码。输入密码并按*Enter*键。
- en: '![](img/6798339a-f6b8-492e-a3a2-47dfe6241bc1.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6798339a-f6b8-492e-a3a2-47dfe6241bc1.png)'
- en: This will start the actual boot process of the system from the now unencrypted
    drive. Once the system is booted up you will be a login screen as follows. The
    following screen is what you would see if you had installed the e17 flavor of
    Kali Linux.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '这将从现在未加密的驱动器启动系统的实际启动过程。一旦系统启动，您将看到以下登录屏幕。以下屏幕是您安装Kali Linux的e17版本后看到的。 '
- en: '![](img/35d0a6e4-5ce5-478c-a393-7a069b88ec2d.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](img/35d0a6e4-5ce5-478c-a393-7a069b88ec2d.png)'
- en: In the e17 flavor, you log into the Terminal emulator screen with your root
    credentials, and then type `startx` to open the GUI.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在e17版本中，您可以使用root凭据登录到终端模拟器屏幕，然后输入`startx`打开GUI。
- en: The following screenshot is what you would see if you had installed the standard
    Gnome3 flavor.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 以下屏幕截图是您安装标准Gnome3版本后看到的。
- en: 'In the standard Gnome3 GUI installation, you will see a **GUI Desktop Manager**
    (**GDM**) login screenshot as follows:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在标准的Gnome3 GUI安装中，您将看到一个**GUI桌面管理器**（**GDM**）登录截图如下：
- en: '![](img/9cd78881-f576-4a7b-94a1-363dd130f288.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9cd78881-f576-4a7b-94a1-363dd130f288.png)'
- en: '**Hacker trick**:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**黑客技巧**：'
- en: Before we go any further we would advise you to use these tools only on systems
    you have written authorization to test, or systems that you personally own. Any
    use of these tools on a machine you do not have authorization to test is illegal
    under various Federal and State laws. When you get caught, you will go to jail.
    Sentences for hacking tend to be exorbitantly long.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们继续之前，我们建议您只在您已经获得授权测试的系统上使用这些工具，或者您个人拥有的系统上使用这些工具。在未经授权测试的计算机上使用这些工具是违反各种联邦和州法律的。当您被抓到时，您将被监禁。黑客的判决往往是非常长的。
- en: Get a personal copy of the testing waiver that your company receives to allow
    them to test the client's network and systems. This document should contain the
    dates and times of testing and the IP addresses and/or networks to be tested.
    This is the scope of your testing. This document is your *Get out of jail free
    card*. Do not test without this.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 获取公司接收的测试豁免的个人副本，以允许他们测试客户的网络和系统。此文档应包含测试的日期和时间以及要测试的IP地址和/或网络。这是您测试的范围。这个文档是您的*免于监禁的牌*。没有这个文档不要进行测试。
- en: Now with that said let's log in and continue our set up. The following screenshot
    shows the Gnome3 desktop.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 现在说完了，让我们登录并继续设置。以下屏幕截图显示了Gnome3桌面。
- en: '![](img/f4d62260-4603-4b55-af62-0aa0b199d702.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f4d62260-4603-4b55-af62-0aa0b199d702.png)'
- en: 'On your first login, check that everything is up to date. Since this is a rolling
    distribution, there will almost always be a few updates. There are a few ways
    to get to your terminal emulator:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次登录时，请检查一切是否都是最新的。由于这是一个滚动发行版，几乎总会有一些更新。有几种方法可以进入终端仿真器：
- en: Pull up a terminal widow by clicking in the Applications menu bar in the upper
    left hand corner. Go to Applications | Usual applications | System tools | Terminal.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过单击左上角的应用程序菜单栏中的终端窗口。转到应用程序|常用应用程序|系统工具|终端。
- en: In the same Applications menu, go to Applications | Favorites | Terminal.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在相同的应用程序菜单中，转到应用程序|收藏夹|终端。
- en: You might notice that the Favorites menu is also displayed as a button bar on
    the left side of the desktop. Click the Terminal button.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可能会注意到收藏夹菜单也显示为桌面左侧的按钮栏。单击终端按钮。
- en: On a bare-metal install (as opposed to a virtual machine installation), you
    can hit *Alt* + *F2* to open a run dialog, then type `gnome-terminal`.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在裸机安装（而不是虚拟机安装）中，您可以按*Alt* + *F2*打开运行对话框，然后键入`gnome-terminal`。
- en: 'Any of these should bring up the terminal or command line window. Type the
    following:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 任何一种方法都应该打开终端或命令行窗口。键入以下内容：
- en: '[PRE0]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'This will refresh the update list and check for new updates. Next, run:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 这将刷新更新列表并检查新的更新。接下来，运行：
- en: '[PRE1]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This will run the upgrade process as the `-y` automatically answers yes to the
    upgrade. The system will run an upgrade of all applications. Reboot if necessary.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这将作为`-y`自动回答升级的升级过程。系统将升级所有应用程序。如有必要，重新启动。
- en: Running Kali from the Live DVD
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从Live DVD运行Kali
- en: Running Kali Linux from Live Disk is best when you are doing forensics or recovery
    tasks. Live Disk doesn't write anything to the machine's hard drives. Some tools,
    such as **OpenVAS**, will not work at all, because they have to be configured
    and file updates must be saved. You can't do this from the DVD.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 从Live Disk运行Kali Linux最适合进行取证或恢复任务。Live Disk不会向计算机的硬盘写入任何内容。某些工具，例如**OpenVAS**，根本无法工作，因为它们必须进行配置并且文件更新必须保存。您无法从DVD上执行此操作。
- en: To run Kali from the DVD, just load the disk in the machine you are testing
    and boot from it. You will see the following screen. This is the screen from which
    you chose the Graphical Installer in an earlier section of this chapter. We will
    discuss the options now. Note that there are several options in boot live from
    the DVD.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 要从DVD运行Kali，只需将光盘放入您正在测试的机器中并从中启动。您将看到以下屏幕。这是您在本章的前一节中选择图形安装程序的屏幕。我们现在将讨论选项。请注意，从DVD启动现场有几个选项。
- en: Booting from the first option loads Kali complete with a working network stack.
    You can run a lot of the tools over the network with this option. One of the best
    uses for this mode is the recovery of a dead machine. It may allow you to resurrect
    a crashed machine after the OS drive dies. No matter what voodoo you do with fsck
    and other disk utilities it just will not come back up on its own. If you boot
    from the live DVD, you can then run fsck and most likely get the drive back up
    enough to copy data from it. You can then use Kali to copy the data from the drive
    to another machine on the network.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从第一个选项启动将加载具有工作网络堆栈的Kali。您可以使用此选项通过网络运行许多工具。此模式的最佳用途之一是恢复死机的机器。在操作系统驱动器死机后，它可能允许您恢复崩溃的机器。无论您对fsck和其他磁盘实用程序做了什么，它都不会自行恢复。如果您从现场DVD启动，然后运行fsck，很可能可以使驱动器恢复到足够的状态以从中复制数据。然后，您可以使用Kali将数据从驱动器复制到网络上的另一台机器。
- en: Booting from the second option will boot Kali with no running services and no
    network stack. This option is good when things really go bad with a system. Perhaps
    it was struck by lightning and the Network interface card is damaged. You can
    do the above operation and copy the data to a mounted USB drive in this mode.
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从第二个选项启动将启动Kali，没有运行的服务和没有网络堆栈。当系统真的出现问题时，这个选项很好。也许它被闪电击中，网络接口卡受损。您可以在此模式下执行上述操作并将数据复制到已挂载的USB驱动器中。
- en: The third option is Forensic Mode. When booted with this option it does its
    best not to touch the machine itself when booting. No drives are spun up and the
    memory is not fully flushed as with a normal boot up. This allows you to capture
    old memory from the last boot and allows you to do a forensic copy of any drives
    without actually touching the data. You do not have a working network stack or
    running services.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第三个选项是取证模式。使用此选项启动时，它会尽量不触及机器本身。不会启动任何驱动器，并且与正常启动不同，内存不会完全刷新。这允许您捕获上次启动的旧内存，并允许您对任何驱动器进行取证复制，而实际上不触及数据。您没有工作的网络堆栈或运行的服务。
- en: Booting from the fourth and fifth options requires you to install Kali onto
    a USB drive and run it from the USB drive. When you boot from the USB you will
    get the same screen but you will pick one of these options. For the USB with Persistence
    options, see the link listed ([http://kali.org/prst](http://kali.org/prst)) for
    an excellent tutorial.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从第四和第五个选项启动需要您将Kali安装到USB驱动器上并从USB驱动器运行它。当您从USB启动时，您将看到相同的屏幕，但您将选择其中一个选项。有关带持久性选项的USB，请参阅列出的链接（[http://kali.org/prst](http://kali.org/prst)）以获取出色的教程。
- en: If you are comfortable with the Linux command line, you may want the sixth option.
    This is the **Debian Ncurses** installer. It has all the functions of the graphical
    installer, but is lacks the modern slick look of the graphical installer. You
    can also use this installer with the option for fully installing to an encrypted
    USB. The steps are all the same.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您熟悉Linux命令行，您可能需要第六个选项。这是**Debian Ncurses**安装程序。它具有图形安装程序的所有功能，但缺少图形安装程序的现代外观。您还可以使用此安装程序以选项完全安装到加密的USB。步骤都是一样的。
- en: '**Graphical install** is for installing directly to a hard drive and, as in
    our demonstration, you can also use it to do a full install to a USB or Flash
    Drive.'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图形安装**用于直接安装到硬盘，并且，如我们的演示所示，您还可以使用它来对USB或闪存驱动器进行完全安装。'
- en: '![](img/a1c3f81c-885b-4d53-bcc9-2c41f390b6d7.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a1c3f81c-885b-4d53-bcc9-2c41f390b6d7.png)'
- en: Installing and configuring applications
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和配置应用程序
- en: 'Most of what you need comes preloaded on Kali. If you are working with Kali
    in specific areas, Kali provides a list of specific categories of tools in the
    [https://tools.kali.org/kali-metapackages](https://tools.kali.org/kali-metapackages)
    page, shown in the following screenshot:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数你需要的东西都预装在Kali上。如果您在特定领域使用Kali，Kali在[https://tools.kali.org/kali-metapackages](https://tools.kali.org/kali-metapackages)页面提供了特定类别工具的列表，如下截图所示：
- en: '![](img/4962e68e-2e35-47ba-996a-27e95db07114.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4962e68e-2e35-47ba-996a-27e95db07114.png)'
- en: That is a useful data source, but it may complicate your life a little, by forcing
    you to make choices. There are a few applications we have found useful that are
    not loaded with the base install. We will also set up and configure OpenVAS for
    use as our vulnerability scanner.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个有用的数据源，但它可能会让你的生活变得有点复杂，因为它会迫使你做出选择。我们发现了一些有用的应用程序，这些应用程序在基本安装中没有加载。我们还将设置和配置OpenVAS，用作我们的漏洞扫描器。
- en: Gedit – the Gnome Text Editor
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Gedit- Gnome文本编辑器
- en: 'Kali comes with **Leafpad** as its default text editor. This is a very lightweight
    text editor. Kali''s desktop is Gnome-based and the Gnome text editor **Gedit**
    is a much better editor. To install:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: Kali默认的文本编辑器是**Leafpad**。这是一个非常轻量级的文本编辑器。Kali的桌面是基于Gnome的，Gnome文本编辑器**Gedit**是一个更好的编辑器。安装：
- en: '[PRE2]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Once installed, you will find it under Usual applications | Accessories.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您将在常用应用程序|附件下找到它。
- en: Geany – the platform-agnostic code IDE
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Geany-跨平台代码IDE
- en: 'Geany is Wolf''s favorite text editor/IDE. It has a lot of string editing capability,
    as well as automatic code-tag closures and highlighting. Finally, it works on
    any platform from Kali to Windows. It is a time-saver to have an editor that works
    the same on all the platforms you touch. Just a few more of the features from
    the Geany Project website ([https://www.geany.org/Main/About](https://www.geany.org/Main/About))
    are as follows:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: Geany是Wolf最喜欢的文本编辑器/集成开发环境。它具有很强的字符串编辑能力，以及自动代码标签闭合和高亮功能。最后，它可以在从Kali到Windows的任何平台上运行。拥有一个在您接触的所有平台上都能够运行的编辑器，可以节省时间。来自Geany项目网站（[https://www.geany.org/Main/About](https://www.geany.org/Main/About)）的一些其他功能如下：
- en: Build system to compile and execute your code
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建系统来编译和执行您的代码
- en: Code folding
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 代码折叠
- en: Code navigation
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 代码导航
- en: Construct completion/snippets
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建完成/片段
- en: Symbol name auto-completion
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 符号名称自动完成
- en: Many supported file types including C, Java, PHP, HTML, Python, Perl, and many
    more
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持的文件类型包括C、Java、PHP、HTML、Python、Perl等
- en: Symbol lists
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 符号列表
- en: Simple project management
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简单的项目管理
- en: Plugin interface
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插件接口
- en: 'To install:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 安装：
- en: '[PRE3]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Once installed you will find it under Usual applications | Programming.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您将在常用应用程序|编程下找到它。
- en: The following screenshot shows the implementation of Geany on Kali Linux. Note
    the code highlighting and the included terminal to show the output.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了Geany在Kali Linux上的实现。请注意代码高亮和包含的终端以显示输出。
- en: '![](img/db1b7e37-3b67-4f22-8059-ceece22f539b.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](img/db1b7e37-3b67-4f22-8059-ceece22f539b.png)'
- en: Terminator – the Terminal emulator for multi-tasking
  id: totrans-134
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Terminator-多任务终端仿真器
- en: 'This is Bo''s favorite terminal application. You can split the screen into
    several windows. This turns out to be a great help when running several SSH sessions
    at the same time. It also has a broadcast function where you can run the same
    string in all windows at the same time. Here are some more major features from
    the terminator website ([https://gnometerminator.blogspot.com/p/introduction.html](https://gnometerminator.blogspot.com/p/introduction.html)):'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 这是Bo最喜欢的终端应用程序。您可以将屏幕分成几个窗口。当同时运行多个SSH会话时，这将成为一个很大的帮助。它还具有广播功能，您可以同时在所有窗口中运行相同的字符串。以下是来自终结者网站（[https://gnometerminator.blogspot.com/p/introduction.html](https://gnometerminator.blogspot.com/p/introduction.html)）的一些主要功能：
- en: Arrange terminals in a grid
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将终端排列成网格
- en: Tabs
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标签
- en: Drag and drop re-ordering of terminals
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拖放重新排序终端
- en: Keyboard shortcuts
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键盘快捷键
- en: GUI preferences editor that lets you save multiple layouts and profiles
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GUI首选项编辑器，可让您保存多个布局和配置文件
- en: 'To install:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 安装：
- en: '[PRE4]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](img/6ace2493-4137-4685-a8a7-8a86dfcfe1a2.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6ace2493-4137-4685-a8a7-8a86dfcfe1a2.png)'
- en: Etherape – the graphical protocol-analysis tool
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Etherape-图形协议分析工具
- en: This is a great visual passive/active network sniffing tool. It works well for
    sniffing Wi-Fi networks. It shows you where the services are running and can also
    show you where users are doing suspicious bit-torrent downloads and other behaviors
    that are not approved on most corporate networks.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个很棒的视觉被动/主动网络嗅探工具。它非常适用于嗅探Wi-Fi网络。它会显示服务运行的位置，还可以显示用户正在进行可疑的比特流下载等行为，这些行为在大多数公司网络上都是不被允许的。
- en: 'To install:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 安装：
- en: '[PRE5]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](img/ea29ab45-3dae-4af3-9d76-bcdf7e81e443.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ea29ab45-3dae-4af3-9d76-bcdf7e81e443.png)'
- en: Setting up and configuring OpenVAS
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置和配置OpenVAS
- en: Recon is everything, so a good vulnerability scanner is essential. Kali used
    to come with OpenVAS installed. Now you have to install OpenVAS.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 侦察就是一切，因此一个好的漏洞扫描器是必不可少的。Kali以前是预装了OpenVAS的。现在你必须安装OpenVAS。
- en: 'To install:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 安装：
- en: '[PRE6]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: It must be configured and updated before use. Fortunately, Kali comes with a
    helpful script to set this up. This can be found under Applications | Vulnerability
    analysis | openvas initial setup. Clicking on this will open a Terminal window
    and run the script for you. This will set up self-signed certificates for SSL
    and download the latest vulnerability files and related data. It will also generate
    a password for the admin account on the system.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用之前必须进行配置和更新。幸运的是，Kali带有一个有用的脚本来设置这一点。这可以在应用程序|漏洞分析|openvas初始设置下找到。单击这个将打开一个终端窗口并为您运行脚本。这将为SSL设置自签名证书并下载最新的漏洞文件和相关数据。它还将为系统上的管理员帐户生成一个密码。
- en: Be sure and save this password; you will need it to log in. You can change it
    after your first login.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 确保保存此密码；您将需要它进行登录。您可以在第一次登录后更改它。
- en: '![](img/e55b2b0a-cd7c-46d6-89c7-00e9aaa2ec9e.png)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e55b2b0a-cd7c-46d6-89c7-00e9aaa2ec9e.png)'
- en: Kali also comes with a check set up script which will check the services and
    configuration. If an issue does come up it will give you help information on the
    issue. This script can be found at Applications | System Services | openvas check
    setup.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: Kali还配备了一个设置脚本，用于检查服务和配置。如果出现问题，它将提供有关问题的帮助信息。此脚本可以在应用程序 | 系统服务 | openvas check
    setup中找到。
- en: Click this and a Terminal window will open and run the script.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 单击此按钮，将打开一个终端窗口并运行脚本。
- en: '![](img/c5f0608a-2e64-4709-97a2-4ba714e9effc.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c5f0608a-2e64-4709-97a2-4ba714e9effc.png)'
- en: 'The script results are as shown in the following screenshot:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本结果如下截图所示：
- en: '![](img/e699f663-7946-450e-8a2e-ab6fa31b73dd.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e699f663-7946-450e-8a2e-ab6fa31b73dd.png)'
- en: Note this check shows the running ports for the services. The check shows a
    warning to the effect that these services are only running on the local interface.
    This is fine for your work. It may at some point be useful for you to run the
    OpenVAS server on some other machine to improve the speed of your scans.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，此检查显示服务的运行端口。检查显示警告，表明这些服务仅在本地接口上运行。这对您的工作来说是可以接受的。在某些时候，您可能会发现将OpenVAS服务器运行在其他机器上以提高扫描速度是有用的。
- en: Next we will log into the Greenbone web interface to check Openvas.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将登录到Greenbone web界面，检查Openvas。
- en: 'Open the browser and go to `https://localhost:9392`. You will be shown a security
    warning for a self-signed certificate; accept this and you will get a login screen,
    as follows:'
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开浏览器，转到`https://localhost:9392`。您将看到一个自签名证书的安全警告；接受它，您将看到一个登录屏幕，如下所示：
- en: '![](img/7ca0eabf-1bf7-4880-8dd7-132093d8a4ca.png)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7ca0eabf-1bf7-4880-8dd7-132093d8a4ca.png)'
- en: You will log in with the user name `admin` and the very long and complex password
    generated during the set up. Don't worry, we're going to change that once we get
    logged in. Once logged in you will see the following page.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将使用用户名`admin`和在设置期间生成的非常长且复杂的密码登录。别担心，一旦登录，我们就会更改密码。登录后，您将看到以下页面。
- en: 'Now go to the Administration | Users tab as follows:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在转到Administration | Users选项卡，如下所示：
- en: '![](img/03024b05-fe18-42d1-b450-ec08560462db.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](img/03024b05-fe18-42d1-b450-ec08560462db.png)'
- en: This will take you to the user administration page.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 这将带您到用户管理页面。
- en: Click the wrench link to the right of the name `admin`; this will open the edit
    page for the admin user.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击名称`admin`旁边的扳手链接；这将打开管理员用户的编辑页面。
- en: '![](img/ba6d5c22-6d74-4507-98e5-d3375e82b71f.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ba6d5c22-6d74-4507-98e5-d3375e82b71f.png)'
- en: Change the radio button for Use existing value to the blank field; add your
    new password and click the Save button.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将使用现有值的单选按钮更改为空字段；添加新密码并单击保存按钮。
- en: '![](img/499c9aa8-48e1-4367-91fa-b908be5c496a.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](img/499c9aa8-48e1-4367-91fa-b908be5c496a.png)'
- en: We've now finished setting up OpenVAS and we're ready to do some real work.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经完成了OpenVAS的设置，并准备做一些真正的工作。
- en: Reporting tests
  id: totrans-174
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 报告测试
- en: 'Clean and clear documentation helps you report your work. There are two documentation
    tools we use to keep documentation organized:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 清晰的文档有助于报告您的工作。我们使用两种文档工具来保持文档的组织：
- en: KeepNote
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: KeepNote
- en: Dradis
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dradis
- en: A document organizer is a not just a glorified text editor or weak word processor.
    Proper documentation requires an organized filing structure. Certainly, a Windows
    security analyst could create a folder structure that lets them organize the documents
    in Kali Linux, just as they would on their Windows workstation. It is in-built
    in document organizing applications and using them reduces the chance of losing,
    or accidentally recursing, your folders. It is easier to keep track of your investigation's
    documentation. You can also create templates for the directory structure so you
    can standardize on a structure, which also makes your work easier.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 文档组织者不仅仅是一个被吹捧的文本编辑器或弱的文字处理器。正确的文档需要有组织的文件结构。当然，Windows安全分析师可以创建一个让他们在Kali Linux中组织文档的文件夹结构，就像他们在Windows工作站上一样。文档组织应用程序内置了这些功能，并且使用它们可以减少丢失或意外递归文件夹的机会。更容易跟踪您的调查文档。您还可以为目录结构创建模板，以便您可以标准化结构，这也会让您的工作更容易。
- en: KeepNote – stand-alone document organizer
  id: totrans-179
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: KeepNote - 独立文档组织者
- en: '**KeepNote** is a simpler tool, and quite sufficient if you are working alone.
    To find KeepNote, open the Application menu and click on Applications | Usual
    applications | Office | KeepNote. The following screenshot shows a KeepNote setup
    similar to the way you would record a short test.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '**KeepNote**是一个更简单的工具，如果您是独自工作，它就足够了。要找到KeepNote，打开应用程序菜单，然后点击应用程序 | 常用应用程序
    | 办公 | KeepNote。下面的截图显示了一个类似于记录短测试的KeepNote设置。'
- en: '![](img/60e89dca-d3dd-447f-90c0-dd54ccbed480.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![](img/60e89dca-d3dd-447f-90c0-dd54ccbed480.png)'
- en: '**Hacker note**:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '**黑客笔记**：'
- en: 'To edit images, as shown in the preceding screenshot, open a terminal and type:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 要编辑图像，如前面的截图所示，打开终端并键入：
- en: '`**root@kalibook: ~# apt install gimp**`'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '`**root@kalibook: ~# apt install gimp**`'
- en: '`**Then drag the images from your working image directory into the keepnote
    directory.**`'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '`**然后将图像从您的工作图像目录拖到keepnote目录中。**`'
- en: Dradis – web-based document organizer
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Dradis - 基于Web的文档组织者
- en: '**Dradis** is a web application, and can be used to share documentation with
    a team. The default URL for Dradis is `https://127.0.0.1:3004`. The application
    can be hosted on a remote secure server, and that is the best feature about Dradis.
    The following screenshot comes from [http://dradisframework.org](http://dradisframework.org).'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '**Dradis**是一个Web应用程序，可用于与团队共享文档。Dradis的默认URL是`https://127.0.0.1:3004`。该应用程序可以托管在远程安全服务器上，这是Dradis的最佳功能。以下截图来自[http://dradisframework.org](http://dradisframework.org)。'
- en: '![](img/0dade2b6-e6ba-45ea-8b9f-29d7e8028076.png)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0dade2b6-e6ba-45ea-8b9f-29d7e8028076.png)'
- en: Running services on Kali Linux
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Kali Linux上运行的服务
- en: There are several services that you will want to turn on when you need them.
    The general use of services in Windows and Linux is to have them start when the
    computer boots up. Most administrators spend little time managing services unless
    something goes wrong. In the Kali system, you will tend to shut down the workstation
    when you are not actually doing security analysis tasks, and you certainly do
    not want security tools, such as OpenVAS or Metasploit, that you have on your
    workstation to be accessible over the internet. This means that you will want
    to start them when you need them and shut them down when you are not using them.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 当您需要时，您会希望启动几个服务。在Windows和Linux中，服务的一般用途是在计算机启动时启动它们。除非出现问题，大多数管理员很少花时间管理服务。在Kali系统中，您倾向于在实际进行安全分析任务时关闭工作站，并且您肯定不希望您在工作站上拥有的安全工具，如OpenVAS或Metasploit，可以通过互联网访问。这意味着您会在需要时启动它们，并在不使用它们时关闭它们。
- en: You can find the commands to start and stop Kali Services from the Applications
    menu—Applications | System Services
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从应用程序菜单—应用程序|系统服务中找到启动和停止Kali服务的命令
- en: '![](img/3da5ca96-3a79-40a0-b829-fece3b0daac0.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3da5ca96-3a79-40a0-b829-fece3b0daac0.png)'
- en: 'Another way to work with services is by using `systemctl` on the command line.
    As an example, consider HTTP (Apache2). There are several options for services:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种处理服务的方法是在命令行上使用`systemctl`。例如，考虑HTTP（Apache2）。有几个服务选项：
- en: '**Start**: This starts the Apache webserver and shows the **process ID** (**PID**)*.*'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开始**: 这将启动Apache web服务器并显示**进程ID**（**PID**）*.*'
- en: '**Status**: Shows the status of the server. Is it up? Is it down? Is it stuck?'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**状态**: 显示服务器的状态。它是启动的吗？它是关闭的吗？它卡住了吗？'
- en: '**Restart**: Takes the server down and restarts it on a different PID. Use
    this if the server is stuck or if you have changed the networking processes on
    which the server depends.'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重新启动**: 将服务器关闭并在不同的PID上重新启动。如果服务器卡住或者您已更改服务器依赖的网络进程，请使用此选项。'
- en: '**Reload**: Re-reads the configuration. Use this when you make minor changes
    to configurations.'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重新加载**: 重新读取配置。当您对配置进行轻微更改时，请使用此选项。'
- en: '**Stop**: This shuts down the webserver.'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**停止**: 关闭web服务器。'
- en: The following screenshot shows A readout comparing `apache2ctl` and `systemctl`
    for a status request for the apache2 webserver. An entire book could probably
    be written about the powerful `systemctl` command.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 以下屏幕截图显示了对apache2 web服务器进行状态请求的`apache2ctl`和`systemctl`的比较。可能可以写一本关于强大的`systemctl`命令的整本书。
- en: '![](img/0c869f80-c4d3-4377-9aa6-9ab958f99749.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0c869f80-c4d3-4377-9aa6-9ab958f99749.png)'
- en: Summary
  id: totrans-201
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter shows you two ways to set up Kali Linux so that you can use your
    company-issued Windows laptop, or any other laptop, to get better performance
    out of Kali Linux and not to have requisition to a new machine just for Kali.
    Most enterprises do not allow you to dual-boot your computer, and running Kali
    on a VM throttles the resources for your Kali installation. Further, this chapter
    shows you the two reporting tools we use, and the situations where each of these
    tools makes the most sense. We show you how to set up OpenVAS for the first time.
    We also show you how to run services on Kali Linux.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 本章向您展示了两种设置Kali Linux的方法，以便您可以使用公司发放的Windows笔记本电脑或任何其他笔记本电脑，以便更好地发挥Kali Linux的性能，而不必为Kali专门购置新设备。大多数企业不允许您在计算机上进行双重启动，并且在虚拟机上运行Kali会限制Kali安装的资源。此外，本章向您展示了我们使用的两种报告工具，以及每种工具最合适的情况。我们向您展示了如何首次设置OpenVAS。我们还向您展示了如何在Kali
    Linux上运行服务。
