- en: Kali Linux Installation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kali Linux 安装
- en: 'So, you are new to the Kali Linux world, right? (If you have ever installed
    Kali Linux before, you can skip this chapter.) Welcome to the toy of hackers:
    Kali Linux. Are you excited? You haven''t seen anything yet! This amazing operating
    system will take you to a higher level of security achievements.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，你是 Kali Linux 的新手，对吧？（如果你曾经安装过 Kali Linux，你可以跳过本章。）欢迎来到黑客的玩具：Kali Linux。你兴奋吗？你还没有看到真正的内容！这个神奇的操作系统将带你进入更高的安全成就。
- en: By the end of this chapter, you will know how to install Kali Linux; in the
    next chapter, you will delve deeply into using the operating system.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将学会如何安装 Kali Linux；在下一章中，你将深入学习如何使用这个操作系统。
- en: 'We have already created the victim machine (Mutillidae host), so now it''s
    time to create the attacking machine. In this chapter, we will cover:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经创建了受害者机器（Mutillidae 主机），所以现在是时候创建攻击机器了。在本章中，我们将涵盖：
- en: An introduction to Kali Linux
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux 简介
- en: How to install Kali Linux from scratch
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何从零开始安装 Kali Linux
- en: How to install Kali on VMware
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何在 VMware 上安装 Kali
- en: How to install Kali on VirtualBox
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何在 VirtualBox 上安装 Kali
- en: Introducing Kali Linux
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍 Kali Linux
- en: What exactly is Kali Linux?
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux 到底是什么？
- en: Kali Linux (previously called BackTrack) is a free, open source, Debian-based
    Linux distribution. This operating system has hundreds of applications installed,
    which can help us to conduct a successful penetration test.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux（以前叫做 BackTrack）是一个免费的、开源的、基于 Debian 的 Linux 发行版。这个操作系统安装了数百个应用程序，可以帮助我们进行成功的渗透测试。
- en: And, guess what? Kali Linux is used by bad hackers (also known as black hat
    hackers), too. This means that we (security professionals) will have more accurate
    results, because we are using the same tools that the bad guys use to compromise
    systems.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 你猜怎么着？Kali Linux 也被坏黑客（也就是黑帽黑客）使用。这意味着我们（安全专家）将得到更准确的结果，因为我们使用的工具和坏人用来入侵系统的工具是一样的。
- en: You can install this beast on any virtualization host (VMware, VirtualBox, or
    HyperV). Also, you can install it on an ARM processor-based computer, like the
    Raspberry Pi.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以将这个“怪兽”安装在任何虚拟化主机上（VMware、VirtualBox 或 HyperV）。另外，你还可以将它安装在基于 ARM 处理器的计算机上，例如
    Raspberry Pi。
- en: Finally, you need to know that Kali Linux is developed, funded, and maintained
    by Offensive Security, and you can visit their site at [https://www.Kali.org](https://www.Kali.org).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你需要知道 Kali Linux 是由 Offensive Security 开发、资助和维护的，你可以访问他们的网站：[https://www.Kali.org](https://www.Kali.org)。
- en: Installing Kali Linux from scratch
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从零开始安装 Kali Linux
- en: 'Let''s suppose that you have a laptop or a dedicated host, and you want to
    install Kali Linux. Follow the steps in this section, and you can install this
    monster on your machine. Also, you can install a fresh copy on a virtual machine
    (if you want to learn the details of the installation process yourself), but Kali
    Linux offers pre-built VMs, which we will learn about later in this chapter:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你有一台笔记本电脑或专用主机，并且你想安装 Kali Linux。按照本节中的步骤，你可以将这个“怪兽”安装到你的机器上。另外，你还可以在虚拟机上安装一个全新的副本（如果你想自己了解安装过程的细节），但
    Kali Linux 提供了预先构建的虚拟机，我们将在本章后面学习它们。
- en: First, you need to download Kali. Simply browse to [https://www.kali.org/downloads](https://www.kali.org/downloads),
    and you will land on the download page for this operating system (OS).
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，你需要下载 Kali。只需浏览到 [https://www.kali.org/downloads](https://www.kali.org/downloads)，你将进入这个操作系统（OS）的下载页面。
- en: 'I will choose the 2018.1 64 bit version, and will click on the HTTP link to
    download it directly to my machine. After the download has completed, you will
    need to copy the ISO file to a bootable USB drive. You''re probably asking yourself
    this question: how do I make my USB bootable? There is a Windows tool that I always
    use for creating a bootable USB, called **Win32 Disk Imager**. You can download
    a copy of this tool at [https://sourceforge.net/projects/win32diskimager](https://sourceforge.net/projects/win32diskimager),
    and it''s free!'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我将选择 2018.1 64 位版本，并点击 HTTP 链接直接下载到我的机器上。下载完成后，你需要将 ISO 文件复制到可启动 USB 驱动器上。你可能在问自己一个问题：我如何让我的
    USB 可启动？有一个我总是用来创建可启动 USB 的 Windows 工具，叫做 **Win32 Disk Imager**。你可以在 [https://sourceforge.net/projects/win32diskimager](https://sourceforge.net/projects/win32diskimager)
    下载这个工具，而且它是免费的！
- en: 'I''m assuming that you have created your bootable USB copy of Kali, and that
    you have just booted your physical machine. On the first screen, you will need
    to choose the Graphical install option:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我假设你已经创建了 Kali 的可启动 USB 副本，并且你刚刚启动了物理机器。在第一个屏幕上，你需要选择图形安装选项：
- en: '![](Images/beb67bf8-79c0-4f1f-b566-3b44d4405e05.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/beb67bf8-79c0-4f1f-b566-3b44d4405e05.png)'
- en: When you press *Enter*, you will have to choose the Language;I will choose English,
    and click on the Continue button. After that, you will need to choose your Country,
    so I will pick Canada, since it's my homeland, and click on the Continue button.
    Next, you have to choose the **keyboard layout**. In my case, it's going to be
    American English. We can then proceed to the next step.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你按下*Enter*键时，你需要选择语言；我会选择英语，并点击继续按钮。接下来，你需要选择所在的国家，所以我会选择加拿大，因为它是我的家乡，然后点击继续按钮。接着，你要选择**键盘布局**。在我这里，我会选择美式英语。然后我们可以进入下一步。
- en: At this stage, you will be prompted to enter the Hostname of your Kali machine.
    It's your choice; name it whatever you'd like.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此时，系统会提示你输入 Kali 机器的主机名。这由你自己决定，命名什么都可以。
- en: 'Next, enter your local Domain name. If you don''t have one, that''s fine; just
    write `workgroup`, or anything that is meaningful to you (I have a local domain
    called `home.lan`):'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，输入你的本地域名。如果你没有，可以随便写一个`workgroup`，或者任何对你有意义的名称（我有一个本地域名叫`home.lan`）：
- en: '![](Images/a5b1b035-cb96-480d-b143-082f35a1d46d.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/a5b1b035-cb96-480d-b143-082f35a1d46d.png)'
- en: 'In the next step, you will enter the Password for your Kali root account; confirm
    it twice, and click on Continue. After this, you will be asked to configure the
    clock. I''m living in the Eastern time zone; yours might be different, depending
    on where your city is located:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一步中，你需要为 Kali 的 root 账户设置密码，并确认两次，然后点击继续。之后，系统会要求你配置时钟。我住在东部时区，你的时区可能不同，具体取决于你所在的城市：
- en: '![](Images/0bce572f-bb60-487d-8f3d-3335ab7f81ac.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/0bce572f-bb60-487d-8f3d-3335ab7f81ac.png)'
- en: 'Now, it''s time to set up the partitions for the installation. I always use
    either Guided – use entire disk (for a non-encrypted setup) or Guided – use entire
    disk and set up encrypted LVM (for an encrypted installation—this setup will encrypt
    your disk drive). I will choose the first one, but I highly encourage you to choose
    the encrypted setup if you''re installing this on a physical machine, especially
    if it''s a laptop:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，是时候设置分区进行安装了。我通常会选择“引导 - 使用整个磁盘”（用于未加密的安装）或“引导 - 使用整个磁盘并设置加密 LVM”（用于加密安装——这种设置会加密你的磁盘驱动器）。我会选择前者，但如果你在物理机器上安装，特别是笔记本电脑，我强烈建议你选择加密设置：
- en: '![](Images/ecead080-499d-4ef4-aebc-f8a2c616fe04.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/ecead080-499d-4ef4-aebc-f8a2c616fe04.png)'
- en: 'Next, you will need to choose the partition disk where you''ll install Kali.
    Most of the time, you will see only one big partition; select it to Continue:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你需要选择安装 Kali 的磁盘分区。大多数情况下，你只会看到一个大的分区，选择它并点击继续：
- en: '![](Images/81b51498-fa72-49ad-88ab-6c6e383f647c.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/81b51498-fa72-49ad-88ab-6c6e383f647c.png)'
- en: On the next screen, select All files in one partition; this is what I always
    choose for Kali. If you're a sophisticated geek and would like to separate the partitions,
    feel free to do so.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个屏幕中，选择将所有文件放在一个分区中；这就是我为 Kali 始终选择的选项。如果你是一个资深极客，想要分开分区，可以随意选择。
- en: After this step, you will be asked to Finish partitioning and write changes
    to disk; what else are you going to choose, right?
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成此步骤后，系统会要求你完成分区并将更改写入磁盘；你还能选择什么呢，对吧？
- en: Select Yes to write the changes to disk.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 选择“是”以将更改写入磁盘。
- en: Finally! The installation will start, and, depending on your machine, it will
    take a few minutes to finish.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 最终！安装将开始，根据你的机器，可能需要几分钟才能完成。
- en: Don't party yet; there are still a few more steps before you can start to use
    Kali. When the installation has finished, you will be asked to choose a Network
    Mirror. Select Yes and continue (you will need the network mirror for updating
    your Kali Linux).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 还没到庆祝的时候；在你开始使用 Kali 之前，还有几个步骤。当安装完成后，系统会要求你选择一个网络镜像。选择“是”并继续（你将需要这个网络镜像来更新你的
    Kali Linux）。
- en: 'After this step, leave the proxy textbox empty, unless you have a proxy inside
    of your network:'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成这一步后，除非你的网络中有代理，否则请保持代理文本框为空：
- en: '![](Images/3463260f-2d3c-4f34-8094-bf06fbf897a9.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/3463260f-2d3c-4f34-8094-bf06fbf897a9.png)'
- en: We're not too far from the finish line. On the next screen, you will be asked
    to choose whether to install the GRUB boot loader. I will say Yes, since I like
    this feature. This option will allow GRUB to be installed on the master boot record
    (the first screen that you will see when you boot your machine).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 离完成只差一步了。在下一个屏幕上，系统会要求你选择是否安装 GRUB 启动加载程序。我会选择“是”，因为我喜欢这个功能。这个选项将允许 GRUB 安装到主引导记录（即启动机器时看到的第一个屏幕）。
- en: 'Next, you will choose the disk partition for the GRUB boot loader. In this
    case, you will see only one option, so select it to Continue:'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你需要选择 GRUB 启动加载程序的磁盘分区。在这种情况下，你只会看到一个选项，因此选择它继续：
- en: '![](Images/60c9eaad-3cf1-492e-ab03-aed96e863e47.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/60c9eaad-3cf1-492e-ab03-aed96e863e47.png)'
- en: At this stage, a final installation will be executed (to finish the setup process),
    and you will be greeted with a message saying that Kali is ready. Hooray!
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在此阶段，将执行最终的安装（完成设置过程），并且会显示一条信息，告诉你 Kali 已准备好。太棒了！
- en: Click on Continue, and your system will reboot. When you get to the login screen,
    enter `root` for the username, and then enter the password that you chose during
    the installation process.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击继续，系统将重新启动。当你进入登录界面时，输入用户名 `root`，然后输入在安装过程中选择的密码。
- en: Installing Kali on VMware
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 VMware 上安装 Kali
- en: 'If you have **VMware** and you want to install Kali Linux on it, then this
    section is for you. In the previous section, you saw how to install Kali from
    scratch, but you don''t need to do that if you have VMware. All you need to do
    is download the image file and import it into VMware, and you''re good to go:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有**VMware**并且想在其上安装 Kali Linux，那么这个部分适合你。在前面的部分中，你看到了如何从零开始安装 Kali，但如果你有
    VMware，就不需要那样做。你需要做的只是下载映像文件并将其导入 VMware，就可以开始使用了：
- en: 'To download the VMware image file, go to [https://www.kali.org/downloads](https://www.kali.org/downloads)
    and scroll down a little bit, until you see the following section:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要下载 VMware 映像文件，请访问 [https://www.kali.org/downloads](https://www.kali.org/downloads)，然后稍微向下滚动，直到看到以下部分：
- en: '![](Images/c2baa722-9f46-462a-a37c-69969aa0c637.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/c2baa722-9f46-462a-a37c-69969aa0c637.png)'
- en: 'Follow the link to the Offensive Security Download Page. On this page, you
    will see a table that contains the virtual image copies of VMware:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请按照链接访问 Offensive Security 下载页面。在该页面上，你将看到一个表格，其中包含了 VMware 的虚拟映像副本：
- en: '![](Images/8d59b52f-422a-4133-852b-41dacde91b47.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/8d59b52f-422a-4133-852b-41dacde91b47.png)'
- en: 'Choose either the 32- or 64-bit version, and download it locally to your machine.
    Then, you will need to import it into VMware, so locate the File menu (click on
    it) and then click on Open:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 32 位或 64 位版本，并将其下载到本地计算机。然后，你需要将其导入 VMware，因此找到文件菜单（点击它），然后点击打开：
- en: '![](Images/e43a3134-82f9-4a44-8b7d-e470784975c1.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/e43a3134-82f9-4a44-8b7d-e470784975c1.png)'
- en: 'A dialog window will show up, and you should select your downloaded image file. Once
    Kali is imported into VMware, you will need to alter its default settings. To
    accomplish that, click on Edit virtual machine settings:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 会弹出一个对话框，你应该选择你下载的映像文件。一旦 Kali 被导入 VMware，你需要更改其默认设置。为此，点击编辑虚拟机设置：
- en: '![](Images/088ba853-61b7-4ded-aa9b-cef91db0c0b2.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/088ba853-61b7-4ded-aa9b-cef91db0c0b2.png)'
- en: 'First, you need to check the Memory settings. Click on the Memory device, and
    make sure that you have at least 2,048 MB (2 GB) of memory. If you have a good
    host machine, it will be much better if you increase it to 4 GB:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，你需要检查内存设置。点击内存设备，确保至少有 2,048 MB（2 GB）的内存。如果你的主机性能较好，最好将其增加到 4 GB：
- en: '![](Images/ffef4e4d-5020-4dcb-952b-86783dacc8d0.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/ffef4e4d-5020-4dcb-952b-86783dacc8d0.png)'
- en: 'Next, click on the Processors device, and make sure that you have enough processing
    power for your Kali Linux host. Be generous with your new baby machine:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击处理器设备，确保你的 Kali Linux 主机有足够的处理能力。要对你的新机器宽容一些：
- en: '![](Images/8c12b917-ec68-4fb9-9353-1dd28b20c915.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/8c12b917-ec68-4fb9-9353-1dd28b20c915.png)'
- en: 'Now, it''s time to set the network settings. If you want to separate your virtual
    machine from your **local area network** (**LAN**), then you need to choose the
    NAT option. If you choose NAT, then your VM will automatically be assigned a dynamic
    IP address, using a virtual DHCP server (check the following section, *Bridged
    versus NAT versus Internal Network*, for more details):'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在是时候设置网络设置了。如果你想将虚拟机与**本地网络**（**LAN**）隔离，那么你需要选择 NAT 选项。如果选择 NAT，你的虚拟机将会自动分配一个动态
    IP 地址，使用虚拟 DHCP 服务器（查看接下来的章节，*桥接模式与 NAT 与内部网络*，获取更多详情）：
- en: '![](Images/8467db57-68de-41dd-9016-a53c54ddd0e8.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/8467db57-68de-41dd-9016-a53c54ddd0e8.png)'
- en: 'When you use a virtual machine, you need to share files between Kali Linux
    and your local machine. To accomplish this, you need a shared folder. To add one,
    click on the Options tab and select the Always enabled radio button. Then, click
    on the Add... button to point to your local machine folder. This setup is specific
    to Windows, but it looks very similar on macOS:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你使用虚拟机时，你需要在Kali Linux和本地机器之间共享文件。为此，你需要一个共享文件夹。要添加一个，点击选项标签并选择“始终启用”单选按钮。然后，点击“添加...”按钮，指向你本地机器的文件夹。此设置特定于Windows，但在macOS上也非常相似：
- en: '![](Images/365f3fad-956e-4e1a-93f8-afcfb533b2c3.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/365f3fad-956e-4e1a-93f8-afcfb533b2c3.png)'
- en: 'Now, you can boot your Kali VM, but on the first boot, I recommend that you
    install the VMware tools. To do so, open your Terminal window and execute the
    following commands:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你可以启动Kali虚拟机，但在第一次启动时，我建议你安装VMware工具。为此，打开你的终端窗口并执行以下命令：
- en: '[PRE0]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Sometimes, shared folders do not work out of the box. To enable them, you need
    to execute the following script in your Terminal window:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，共享文件夹不会开箱即用。要启用它们，你需要在终端窗口执行以下脚本：
- en: '[PRE1]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'If you wish to make it a little easier, you can add a shortcut to the desktop
    by executing the following script in your Terminal window:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望操作更简单，可以通过在终端窗口执行以下脚本，添加一个桌面快捷方式：
- en: '[PRE2]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Installing Kali on VirtualBox
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在VirtualBox中安装Kali
- en: '**VirtualBox** is a very popular virtualization product, because it''s free
    and it offers professional features. You will probably use VirtualBox for your
    virtualization environment. My base machine is either Windows or macOS, and I
    have VirtualBox installed on top of it, so I can use Kali Linux for my penetration
    testing tasks.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**VirtualBox** 是一款非常流行的虚拟化产品，因为它是免费的，并且提供专业的功能。你很可能会使用VirtualBox作为你的虚拟化环境。我的基础机器是Windows或macOS，我在其上安装了VirtualBox，因此我可以使用Kali
    Linux进行渗透测试任务。'
- en: 'Kali offers us pre-built images for VirtualBox, so all we need to do is import
    them and start using Kali right away. Amazing, right? See the following steps:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Kali为我们提供了预构建的VirtualBox镜像，因此我们只需导入它们，并立即开始使用Kali。是不是很棒？请参见以下步骤：
- en: 'To download the VirtualBox image file, go to [https://www.kali.org/downloads](https://www.kali.org/downloads)
    and scroll down a little bit, until you see the following section:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要下载VirtualBox镜像文件，访问[https://www.kali.org/downloads](https://www.kali.org/downloads)，然后稍微向下滚动，直到你看到以下部分：
- en: '![](Images/2a6d04ac-b11d-4f30-9b61-71586ab52913.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/2a6d04ac-b11d-4f30-9b61-71586ab52913.png)'
- en: 'Follow the link to the Offensive Security Download page. On that page, you
    will see a table that contains the virtual image copies for VirtualBox:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问链接到**攻击性安全下载**页面。在该页面中，你会看到一个包含虚拟镜像文件的表格，适用于VirtualBox：
- en: '![](Images/1ff2ee38-a493-40c5-9a35-faed1f3fe028.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/1ff2ee38-a493-40c5-9a35-faed1f3fe028.png)'
- en: Choose either the 32- or the 64-bit version, and download it locally to your
    machine. Then, you will need to import it into VirtualBox, so open it and locate
    the File menu (and click on it), and then click on Import Appliance (I'm using
    macOS for this demo, and Windows should be very similar).
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择32位或64位版本，并将其下载到本地机器。然后，你需要将其导入到VirtualBox中，打开VirtualBox，找到文件菜单（并点击它），然后点击导入虚拟机（我在此演示中使用的是macOS，Windows应该非常相似）。
- en: Once Kali has been imported into VirtualBox, you will need to alter its default
    settings. To accomplish this, select the new VM, and click on the Settings button.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦Kali被导入到VirtualBox中，你需要修改其默认设置。为此，选择新的虚拟机，并点击设置按钮。
- en: 'First, we need to check the Memory settings. Click on the System tab, then
    click on the Motherboard sub-tab. Make sure that you have at least 2,048 MB (2
    GB) of memory. If you have a good host machine, it is preferable to increase it
    to 4 GB:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们需要检查内存设置。点击系统标签页，然后点击主板子标签。确保你至少有2,048 MB（2 GB）的内存。如果你的主机性能良好，建议将内存增加到4
    GB：
- en: '![](Images/a66f7983-2405-4eca-9c07-15a832c65a3d.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/a66f7983-2405-4eca-9c07-15a832c65a3d.png)'
- en: 'Next, click on the Processor sub-tab, and make sure that the CPU cursor is
    between the green area and the orange area, as shown in the following screenshot:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击处理器子标签，确保CPU游标位于绿色区域和橙色区域之间，如下图所示：
- en: '![](Images/ec18ddeb-f8b4-4db2-8ed1-d946d614311f.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/ec18ddeb-f8b4-4db2-8ed1-d946d614311f.png)'
- en: 'Now, it''s time to set the Network settings. If you want to separate your virtual
    machine from your **local area network** (**LAN**), then you need to choose either NAT
    or NAT Network. Choosing NAT will always assign the same IP address, but if you
    choose NAT Network, your VM will automatically be assigned a dynamic IP address,
    using a virtual DHCP server:'
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，是时候设置网络设置了。如果你希望将虚拟机与**本地局域网**（**LAN**）隔离开，那么你需要选择 NAT 或 NAT 网络。选择 NAT 时将始终分配相同的
    IP 地址，但如果你选择 NAT 网络，虚拟机将会自动分配一个动态 IP 地址，使用虚拟 DHCP 服务器：
- en: '![](Images/86b9c797-68cc-485d-bde9-a4a2b1ddcaeb.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/86b9c797-68cc-485d-bde9-a4a2b1ddcaeb.png)'
- en: 'If you choose the NAT Network option, then you have to exit the settings window
    and select the VirtualBox menu, then click on Preferences. Next, select the Network
    tab, and click on the NAT Networks sub-tab. Finally, click on the Add button on
    the right-hand side, where the plus sign is (see the following screenshot), and
    a new network will automatically be created for you:'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你选择了 NAT 网络选项，你需要退出设置窗口并选择 VirtualBox 菜单，然后点击偏好设置。接着，选择网络标签页，并点击 NAT 网络子标签页。最后，点击右侧的添加按钮（加号所在位置，如下截图所示），一个新的网络将自动为你创建：
- en: '![](Images/d5e6446e-6515-4ffb-8efc-099726221272.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/d5e6446e-6515-4ffb-8efc-099726221272.png)'
- en: 'If you''re a geek and would like to rename the network or assign a specific
    IP address range, you will have to click on the Edit button (below the Add button;
    it has a brush icon). You will see a pop-up window where you can adjust the settings
    to your preferences:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你是一个技术宅，想要重命名网络或分配特定的 IP 地址范围，你需要点击编辑按钮（在添加按钮下方，图标是一个刷子）。你会看到一个弹出窗口，可以在其中根据个人喜好调整设置：
- en: '![](Images/bbdbf3e7-a608-49fc-915a-2df4b2198262.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/bbdbf3e7-a608-49fc-915a-2df4b2198262.png)'
- en: 'When you use a virtual machine, you need to share files between Kali Linux
    and your local machine. To accomplish this, you need a shared folder. Let''s go
    back to the VM settings and select the Shared Folders tab. Then, click on the
    Add button on the right-hand side. A pop-up window will open, in which you can
    enter the path to the folder locally to your physical machine (Windows or macOS)
    and give your shared folder a name. I personally use the Auto-mount option, as
    well, to make sure that this feature always works when I boot up my Kali host:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用虚拟机时，你需要在 Kali Linux 和本地机器之间共享文件。为了实现这一点，你需要一个共享文件夹。让我们回到虚拟机设置，选择共享文件夹标签页。然后，点击右侧的添加按钮。一个弹出窗口将打开，在其中你可以输入本地机器（Windows
    或 macOS）中共享文件夹的路径，并给你的共享文件夹命名。我个人也使用了自动挂载选项，以确保每次启动 Kali 主机时该功能都能正常工作：
- en: '![](Images/a6fc0d7e-8345-4d56-87d8-055e64ecee6d.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/a6fc0d7e-8345-4d56-87d8-055e64ecee6d.png)'
- en: 'Now, you can boot your Kali VM. On the first boot, I recommend that you install
    the VirtualBox Guest Additions. To do so, open your Terminal window and execute
    the following three commands:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你可以启动你的 Kali 虚拟机了。在第一次启动时，我建议你安装 VirtualBox 客户端增强工具。为此，打开终端窗口并执行以下三个命令：
- en: '[PRE3]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: After the `reboot` command, your VM will restart. You will be set to start using
    the fantastic OS Kali Linux!
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行 `reboot` 命令后，你的虚拟机会重启。你将准备好开始使用出色的操作系统 Kali Linux！
- en: Bridged versus NAT versus Internal Network
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 桥接模式 versus NAT 模式 versus 内部网络
- en: People are totally confused regarding how the network configurations in VirtualBox
    and VMware work. The three most popular configurations are **Bridged**, **NAT**,
    and **Internal Network**.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 大家对于 VirtualBox 和 VMware 中网络配置的工作方式完全感到困惑。最受欢迎的三种配置是**桥接模式**、**NAT 模式**和**内部网络**。
- en: 'Let''s start with the easiest option, which is the Bridged network. This architecture
    will let your Kali Linux connect directly to your network (LAN), and will get
    an automatic IP address from your home router. So, if your network is `192.168.0.0`,
    then your Kali IP address will be something like `192.168.0.x` (for example, `192.168.0.101`).
    Now, you can interact with the machines on your network by using Kali Linux:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从最简单的选项开始，那就是桥接网络。这个架构将让你的 Kali Linux 直接连接到你的网络（LAN），并从家庭路由器获取自动的 IP 地址。所以，如果你的网络是
    `192.168.0.0`，那么你的 Kali IP 地址会是类似 `192.168.0.x` 的形式（例如，`192.168.0.101`）。现在，你可以通过
    Kali Linux 与网络中的机器进行交互：
- en: '![](Images/12e7e5c4-d76a-4d7d-98dd-70cd19ef1fc9.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/12e7e5c4-d76a-4d7d-98dd-70cd19ef1fc9.png)'
- en: 'Some people are afraid of connecting Kali to the network, because it''s open
    to personal computers. If you''re anxious about it, you can choose NAT or NAT
    Network (on VirtualBox). If you''re using VirtualBox, then use an NAT Network
    instead of NAT, because an NAT Network will automatically assign IP addresses
    (see the section of *Installing Kali on VirtualBox* for more details on the implementation
    of this architecture). When you choose NAT (or NAT Network), your Kali host will
    be assigned a different set of IP addresses. For example, if your home network
    IP addresses use the range of `192.168.0.0`, then with NAT, you should use a different
    **virtual LAN** (**VLAN**), such as `10.0.0.0`:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 有些人害怕将Kali连接到网络，因为它是开放的，能够连接到个人计算机。如果你对此感到焦虑，你可以选择NAT或NAT网络（在VirtualBox中）。如果你使用VirtualBox，建议使用NAT网络，而不是NAT，因为NAT网络会自动分配IP地址（有关此架构的更多实现细节，请参见*在VirtualBox上安装Kali*一节）。当你选择NAT（或NAT网络）时，你的Kali主机会被分配一组不同的IP地址。例如，如果你家庭网络的IP地址范围是`192.168.0.0`，那么使用NAT时，你应该使用一个不同的**虚拟局域网**（**VLAN**），例如`10.0.0.0`：
- en: '![](Images/92cc69f7-a1cb-47b0-98b2-7eae696e307c.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/92cc69f7-a1cb-47b0-98b2-7eae696e307c.png)'
- en: 'An Internal Network is for particular people, who want the machine to be completely
    isolated from LAN and WAN. You''re probably asking yourself the following question:
    what is the purpose of all this? You will use this architecture if you know ahead
    of time that you''re testing a VM with malware installed on it. Also, this architecture
    is used by security professionals when they interact with a **C****apture the
    Flag** (**CTF**) machine that they don''t trust:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 内部网络是为特定的人群设计的，这些人希望将计算机完全与局域网（LAN）和广域网（WAN）隔离。你可能会问自己以下问题：这一切的目的是什么？如果你提前知道自己在测试一台安装了恶意软件的虚拟机，你将使用这种架构。此外，当安全专家与他们不信任的**夺旗**（**CTF**）机器进行交互时，也会使用这种架构：
- en: '![](Images/522fc808-f233-4e2f-8402-5461d2abdef1.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/522fc808-f233-4e2f-8402-5461d2abdef1.png)'
- en: Updating Kali Linux
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更新Kali Linux
- en: 'Before you start using your Kali Linux machine, you need to make sure that
    you''re up to date. The command to update Kali Linux is straightforward, and you
    will get used to it, since you will have to execute it at least once a week, or
    before installing any new application:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始使用你的Kali Linux机器之前，你需要确保你的系统是最新的。更新Kali Linux的命令非常简单，你会习惯它的，因为你至少每周需要执行一次，或者在安装任何新应用之前执行：
- en: '[PRE4]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The `-y` in the `upgrade` command will accept the prompts automatically. You
    will not need to press the letter *Y* every time the upgrade asks you a question.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '`upgrade`命令中的`-y`会自动接受提示。你不需要每次升级时都按*Y*键来确认。'
- en: 'You are probably curious to know where the configuration file for the update
    repositories is located in Kali. The path to the configuration file is `/etc/apt/sources.list`
    (the `#` at the beginning of a line means it''s commented):'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能很好奇Kali的更新仓库配置文件在哪里。该配置文件的路径是`/etc/apt/sources.list`（行首的`#`表示该行被注释掉）：
- en: '![](Images/6d03104d-a252-4610-82cf-c7f4e524bc94.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/6d03104d-a252-4610-82cf-c7f4e524bc94.png)'
- en: Summary
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: At this stage, you're ready to start using Kali Linux. In the next chapter,
    you will take your skills to the next level by starting to master the use of this
    operating system.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 到这一步，你已经准备好开始使用Kali Linux了。在下一章，你将通过掌握操作系统的使用技巧，将自己的技能提升到一个新的水平。
- en: I like to keep the summary short and not bore you with useless details. I hope
    that you enjoyed this chapter, and that you learned how to download and install
    Kali Linux from scratch. I'm assuming that you learned how to install Kali on
    VMware, or VirtualBox; don't forget to install the additional tools for both.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 我喜欢把总结简洁一些，不想用无用的细节让你感到无聊。希望你喜欢这一章，也学会了如何从零开始下载并安装Kali Linux。我假设你已经学会了如何在VMware或VirtualBox上安装Kali；别忘了为这两者都安装额外的工具。
- en: As a final note, don't forget to update your Kali Linux host before moving onto
    the next chapter.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 最后提醒一下，别忘了在进入下一章之前更新你的Kali Linux主机。
