- en: The Metasploit Web Interface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Metasploit Web界面
- en: In the previous chapter, we learned about the basics of the Metasploit Framework
    and looked at some of the features we can use in Metasploit. In this chapter,
    we will focus on the web interface for the Metasploit Framework. The interface
    really helps users who have less experience with the **command-line interface**
    (**CLI**). From reconnaissance to reporting, the interface lets us handle all
    the stages of penetration testing with a single interface. In this chapter, we'll
    learn how to install and use the Metasploit web interface. Later, we'll learn
    how to use the web interface to perform reconnaissance and access the Meterpreter
    payload.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们学习了Metasploit Framework的基础知识，并查看了一些我们可以在Metasploit中使用的功能。在本章中，我们将专注于Metasploit
    Framework的Web界面。该界面确实帮助那些对命令行界面（CLI）经验较少的用户。从侦察到报告，该界面让我们可以使用单个界面处理渗透测试的所有阶段。在本章中，我们将学习如何安装和使用Metasploit
    Web界面。稍后，我们将学习如何使用Web界面执行侦察并访问Meterpreter有效载荷。
- en: 'We''ll cover the following topics in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Introduction to the Metasploit web interface
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Metasploit Web界面简介
- en: Installing and setting up the web interface
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和设置Web界面
- en: Getting started with the Metasploit web interface
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开始使用Metasploit Web界面
- en: Technical requirements
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The following are the technical requirements you''ll need for this chapter:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是本章所需的技术要求：
- en: Metasploit **Community Edition** (**CE**) with the Metasploit web interface
    available
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有Metasploit Web界面的Metasploit社区版（CE）
- en: A *nix-based system or Microsoft Windows-based system
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*nix系统或Microsoft Windows系统'
- en: Introduction to the Metasploit web interface
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Metasploit Web界面简介
- en: The Metasploit web interface is a browser-based interface that provides easy
    access to navigational menus and allows you to change the configuration pages
    for tasks. You can perform every single task you do in the **Metasploit Framework**
    (**MSF**) in the Metasploit web interface, from performing a discovery scan by
    using an auxiliary to popping up a Meterpreter.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit Web界面是一个基于浏览器的界面，提供了对导航菜单的轻松访问，并允许您更改任务的配置页面。您可以在Metasploit Web界面中执行在Metasploit
    Framework（MSF）中执行的每个任务，从使用辅助程序执行发现扫描到弹出Meterpreter。
- en: For those who prefer **graphical user interface **(**GUI**) tools for penetration
    testing, you can use the Metasploit web interface. The web interface is a part
    of Metasploit CE (free), Metasploit Pro (paid), Metasploit Express (paid), and
    Nexpose Ultimate (paid). Unlike the more advanced features available in the paid
    versions of Metasploit, the free CE is the most basic of all.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些更喜欢使用图形用户界面（GUI）工具进行渗透测试的人，可以使用Metasploit Web界面。Web界面是Metasploit CE（免费）、Metasploit
    Pro（付费）、Metasploit Express（付费）和Nexpose Ultimate（付费）的一部分。与Metasploit的付费版本中提供的更高级功能不同，免费的CE是最基本的。
- en: Installing and setting up the web interface
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和设置Web界面
- en: The installation process for the Metasploit web interface is fairly easy.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit Web界面的安装过程非常简单。
- en: You can download the Community Edition at [https://www.rapid7.com/products/metasploit/download/community/](https://www.rapid7.com/products/metasploit/download/community/).
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[https://www.rapid7.com/products/metasploit/download/community/](https://www.rapid7.com/products/metasploit/download/community/)下载社区版。
- en: 'To start the installation process, you need to fill in the information required
    to download Metasploit CE. After that, you will be redirected to the download
    page, as shown in the following screenshot:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 开始安装过程，您需要填写下载Metasploit CE所需的信息。之后，您将被重定向到下载页面，如下面的截图所示：
- en: '![](img/632ebce9-7665-4d6e-9fc3-3b8c28a4c995.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![](img/632ebce9-7665-4d6e-9fc3-3b8c28a4c995.png)'
- en: 'Note: If you don''t want to fill in the form, you can open a direct link to
    download the Metasploit web interface, at [https://www.rapid7.com/products/metasploit/download/community/thank-you](https://www.rapid7.com/products/metasploit/download/community/thank-you).'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：如果您不想填写表格，您可以打开一个直接链接来下载Metasploit Web界面，网址为[https://www.rapid7.com/products/metasploit/download/community/thank-you](https://www.rapid7.com/products/metasploit/download/community/thank-you)。
- en: You can also download it from Rapid7's repository on GitHub at [https://github.com/rapid7/metasploit-framework/wiki/Downloads-by-Version](https://github.com/rapid7/metasploit-framework/wiki/Downloads-by-Version),
    but you won't be able to get the activation key.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以从Rapid7在GitHub上的存储库下载，但您将无法获得激活密钥。
- en: Installing Metasploit Community Edition on Windows
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Windows上安装Metasploit社区版
- en: 'For a successful installation on Windows, follow these steps:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Windows上成功安装，请按照以下步骤进行：
- en: 'First of all, please make sure that you have disabled the **anti-virus** (**AV**)
    and firewall on your system. AV generally detects and flags some files as **malicious**
    in Metasploit CE:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，请确保您已在系统上禁用了反病毒软件（AV）和防火墙。 AV通常会检测并标记Metasploit CE中的某些文件为恶意文件：
- en: '![](img/c434a59b-e8ba-41f8-b7d2-613677ca06e9.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c434a59b-e8ba-41f8-b7d2-613677ca06e9.png)'
- en: 'Also, please make sure that you put the Metasploit installation folder in your
    AV and firewall exceptions list if you''re running Windows. This way, your generated
    payloads will be excluded from the AV:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，请确保如果您在Windows上运行，请将Metasploit安装文件夹放入AV和防火墙的例外列表中。这样，您生成的有效载荷将不受AV的影响。
- en: '![](img/c65e1172-5e8d-4c9a-b029-5fbff6623e49.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c65e1172-5e8d-4c9a-b029-5fbff6623e49.png)'
- en: 'Since Metasploit CE can also be accessed via a web interface (over SSL), please
    make sure you provide the correct Server Name (hostname) for the SSL certificate
    generation process:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于Metasploit CE也可以通过Web界面（通过SSL）访问，请确保为SSL证书生成过程提供正确的服务器名称（主机名）：
- en: '![](img/e9572261-1f93-49b3-a09a-c3acdd489053.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e9572261-1f93-49b3-a09a-c3acdd489053.png)'
- en: 'Once the installation is complete, you can check all the files in the `C:\metasploit`
    directory:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，您可以检查`C:\metasploit`目录中的所有文件：
- en: '![](img/e5224e7e-4842-4199-81d3-e866ab3cf393.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e5224e7e-4842-4199-81d3-e866ab3cf393.png)'
- en: 'Before you can start using the web interface, you need to initialize the user
    account. If you try accessing the web server using the hostname instead of localhost,
    you''ll get a warning message. To continue, just follow the instructions given:'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您可以开始使用Web界面之前，您需要初始化用户帐户。如果尝试使用主机名而不是localhost访问Web服务器，将收到警告消息。要继续，请按照给定的说明进行：
- en: '![](img/a087dc88-6b9b-49c5-bdf5-5789f7782939.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a087dc88-6b9b-49c5-bdf5-5789f7782939.png)'
- en: 'To initialize the user account, you need to execute the `createuser` Batch
    script available in the `C:\metasploit` directory:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要初始化用户帐户，您需要在`C:\metasploit`目录中执行`createuser`批处理脚本：
- en: '![](img/2c0f5d8b-ca7e-4170-b1d6-b68e7eb2b245.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2c0f5d8b-ca7e-4170-b1d6-b68e7eb2b245.png)'
- en: 'There is just one last step left now. Once the user has been created, you will
    be redirected to the activation page. To activate the CE instance, you need to
    get the product key, which can be retrieved from the registered email ID you used
    at the time of registration (this is why registration is important – so you can
    receive the activation code via email):'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在只剩下最后一步了。创建用户后，您将被重定向到激活页面。要激活CE实例，您需要获取产品密钥，该密钥可以从注册时使用的注册电子邮件ID中检索（这就是注册重要的原因-这样您就可以通过电子邮件接收激活代码）：
- en: '![](img/89d86bf9-c595-4ff4-a491-f28a265adff3.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](img/89d86bf9-c595-4ff4-a491-f28a265adff3.png)'
- en: 'Use the product key from your email and activate Metasploit CE:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的电子邮件中的产品密钥激活Metasploit CE：
- en: '![](img/4dc07bbb-3e50-43b0-bf20-4c40890b8bba.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4dc07bbb-3e50-43b0-bf20-4c40890b8bba.png)'
- en: 'On successful activation, you''ll be redirected to the Project Listing page:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 成功激活后，您将被重定向到项目列表页面：
- en: '![](img/c87643a0-e08c-4497-83d9-c6aada60bb39.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c87643a0-e08c-4497-83d9-c6aada60bb39.png)'
- en: Before you can start using the Metasploit web interface, you need to develop
    an understanding of the interface itself.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在您可以开始使用Metasploit Web界面之前，您需要了解界面本身。
- en: '**Note:** The trial key can''t be reused and will expire in 14 days.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意：**试用密钥无法重复使用，并将在14天后过期。'
- en: Installing Metasploit Community Edition on Linux/Debian
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Linux/Debian上安装Metasploit Community Edition
- en: 'For a successful installation on Linux/Debian, follow these steps:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Linux/Debian上成功安装，请按照以下步骤进行：
- en: 'Download the Metasploit CE Linux installer. You need to change the permission
    of the installer to `execute`, which can be done using the `chmod` command:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载Metasploit CE Linux安装程序。您需要更改安装程序的权限为`execute`，可以使用`chmod`命令完成：
- en: '![](img/aa64bf19-a086-4d27-8f08-6759e6926d82.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aa64bf19-a086-4d27-8f08-6759e6926d82.png)'
- en: 'Run the Linux installer and follow the instructions shown on screen. Once the
    installation is complete, a URI to the web interface will be displayed:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行Linux安装程序，并按屏幕上显示的说明进行操作。安装完成后，将显示Web界面的URI：
- en: '![](img/97643a84-c567-4dfb-b718-d5e7740e0456.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](img/97643a84-c567-4dfb-b718-d5e7740e0456.png)'
- en: 'You need to visit the URI to access the web interface. By default, the URI
    will be `https://localhost:3790/`:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您需要访问URI才能访问Web界面。默认情况下，URI将是`https://localhost:3790/`：
- en: '![](img/f6c1a85a-9b1f-450e-a5fb-1d6355372254.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f6c1a85a-9b1f-450e-a5fb-1d6355372254.png)'
- en: 'Once the initialization process and setup are complete (which should generally
    take a few minutes), a warning message will be displayed on screen. Follow the
    instructions on screen to create a user via a diagnostic shell:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦初始化过程和设置完成（通常需要几分钟），屏幕上将显示警告消息。按照屏幕上的说明通过诊断shell创建用户：
- en: '![](img/ffd5831b-1024-4c86-b7dc-e2bc71455681.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ffd5831b-1024-4c86-b7dc-e2bc71455681.png)'
- en: 'Upon executing the diagnostic shell, the Metasploit environment will be set
    for your shell and you can execute the `createuser` script. You will also be able
    to see the web interface, where you will find a new user setup page. Fill in the
    user details to create an account:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在执行诊断shell后，Metasploit环境将为您的shell设置，并且您可以执行`createuser`脚本。您还可以看到Web界面，在那里您将找到一个新用户设置页面。填写用户详细信息以创建帐户：
- en: '![](img/065b8082-5eba-4634-b9dc-b1053dd24fa6.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](img/065b8082-5eba-4634-b9dc-b1053dd24fa6.png)'
- en: 'Get the product key from your email ID and activate the CE to continue:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从您的电子邮件ID获取产品密钥并激活CE以继续：
- en: '![](img/08b5c5bf-e746-4e2b-84dd-52e94359d91e.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](img/08b5c5bf-e746-4e2b-84dd-52e94359d91e.png)'
- en: 'Note: 32-bit Linux (including Kali) and macOS are not supported.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：不支持32位Linux（包括Kali）和macOS。
- en: Next, let's get started with the Metasploit web interface.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们开始使用Metasploit Web界面。
- en: Getting started with the Metasploit web interface
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开始使用Metasploit Web界面
- en: The Metasploit web interface has a very easy-to-use interface that can help
    testers who have less experience with the CLI. Before we start testing, let's
    understand the interface.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit Web界面具有非常易于使用的界面，可以帮助对CLI经验较少的测试人员。在我们开始测试之前，让我们了解界面。
- en: Interface
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 界面
- en: 'The Metasploit web interface can be categorized into the following menus:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit Web界面可以分为以下菜单：
- en: Main menu
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主菜单
- en: Project tab bar
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目标签栏
- en: Navigational breadcrumbs
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导航面包屑
- en: Tasks bar
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务栏
- en: Let's look at each of these menus.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们逐个查看这些菜单。
- en: Main menu
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 主菜单
- en: The main menu can be seen at the top of the page. In the main menu, you can
    access the project settings from the Project menu, account settings from the Account
    menu, and manage administrative tasks from the Administration menu.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 主菜单可以在页面顶部看到。在主菜单中，您可以从项目菜单访问项目设置，从帐户菜单访问帐户设置，并从管理菜单管理管理任务。
- en: 'Any alerts can be viewed from the notification center:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 任何警报都可以从通知中心查看：
- en: '![](img/32413e21-5f18-42e9-b234-d4c0e7cbbe23.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](img/32413e21-5f18-42e9-b234-d4c0e7cbbe23.png)'
- en: 'Let''s have a look at them in detail:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们详细看一下它们：
- en: '**Project menu**:For creating, editing, opening, and managing projects from
    the project menu.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**项目菜单**：用于从项目菜单创建、编辑、打开和管理项目。'
- en: '**Account menu**: For managing your account information, such as changing your
    password, setting a time zone, and contact information.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**帐户菜单**：用于管理帐户信息，例如更改密码、设置时区和联系信息。'
- en: '**Administration menu**: For making any administrative changes, such as updating
    the system, license keys, editing user accounts, and configuring global settings.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管理菜单**：用于进行任何管理更改，如更新系统、许可密钥、编辑用户帐户和配置全局设置。'
- en: '**Notification center**:In the notification center, you''ll find all the alerts
    denoting that a task has been completed or that a software update has been made
    available. Clicking on the alert will display a drop-down menu with the latest
    alerts for all the projects.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通知中心**：在通知中心，您将找到所有警报，表示任务已完成或软件更新已提供。单击警报将显示下拉菜单，其中包含所有项目的最新警报。'
- en: Next, we will look at the Project tab bar.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看一下项目选项卡栏。
- en: Project tab bar
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 项目选项卡栏
- en: 'The Project tab bar is the tab menu that is located right below the main menu.
    An overview of running projects, vulnerability analysis, any Meterpreter/shell
    sessions that have been opened, phishing campaigns, web application testing, modules,
    credentials, reports, exports, and tasks can be managed from this tab menu:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 项目选项卡栏是位于主菜单正下方的选项卡菜单。可以从该选项卡菜单管理正在运行的项目、漏洞分析、已打开的Meterpreter/shell会话、网络钓鱼活动、Web应用程序测试、模块、凭证、报告、导出和任务：
- en: '![](img/ea92a539-22a4-4a1f-8273-474d90aa1595.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ea92a539-22a4-4a1f-8273-474d90aa1595.png)'
- en: 'Let''s have a look at them in detail:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们详细看一下它们：
- en: Overview:Displays high-level graphical information such as the number of hosts
    and services discovered and the number of sessions and credentials obtained. This
    will not display data until we run a scan or import hosts.
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 概述：显示高级图形信息，如发现的主机和服务数量以及会话和凭证数量。在运行扫描或导入主机之前，这些信息不会显示。
- en: Analysis: This tab allows us to classify large network/hosts into groups, which
    makes it easier for us to manage and exploit them.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析：此选项卡允许我们将大型网络/主机分类为组，这样我们就可以更容易地管理和利用它们。
- en: Sessions:TheSessions tab shows us the active sessions on the targets we have.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 会话：会话选项卡显示了我们在目标上的活动会话。
- en: 'Campaigns: This tab allows us to create, manage, and run social engineering
    campaigns on a group of targets, including emails, web pages, portable files,
    and more.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 活动：此选项卡允许我们在一组目标上创建、管理和运行社会工程活动，包括电子邮件、网页、便携文件等。
- en: Web Apps:This is a Pro version feature that allows us to scan web applications
    and identify vulnerabilities.
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web应用程序：这是专业版功能，允许我们扫描Web应用程序并识别漏洞。
- en: 'Modules: This tab allows us to search for available modules, view their information,
    and execute them on a target.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块：此选项卡允许我们搜索可用模块、查看它们的信息，并在目标上执行它们。
- en: Credentials: This tab allows us to add/edit or delete the credentials that have
    been collected through exploitation.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 凭证：此选项卡允许我们添加/编辑或删除通过利用收集到的凭证。
- en: Reports:This is also a Pro version feature. This tab allows us to view and create
    reports of our findings.
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告：这也是专业版功能。此选项卡允许我们查看并创建我们的发现报告。
- en: Exports:This tab allows us to export data such as credentials into multiple
    formats, such as XML and ZIP.
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导出：此选项卡允许我们将数据（如凭证）导出为多种格式，如XML和ZIP。
- en: Tasks:This tab allows us to manage the statuses of the tasks the tool is currently
    running.
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务：此选项卡允许我们管理工具当前正在运行的任务的状态。
- en: Next, we will look at the **navigational breadcumbs**.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看一下**导航面包屑**。
- en: Navigational breadcrumbs
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 导航面包屑
- en: 'You can use **navigational breadcrumbs** to identify your current location
    in the project:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用**导航面包屑**来确定项目中的当前位置：
- en: '![](img/c5e04b77-31d8-4eba-91d9-efad7faac501.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c5e04b77-31d8-4eba-91d9-efad7faac501.png)'
- en: This can help us work more efficiently.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以帮助我们更高效地工作。
- en: Tasks bar
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 任务栏
- en: 'You can use the **tasks bar** to quickly perform the listed tasks, as shown
    in the following screenshot:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用**任务栏**快速执行列出的任务，如下图所示：
- en: '![](img/705b40f9-9aef-4f86-8703-c9c20965121e.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](img/705b40f9-9aef-4f86-8703-c9c20965121e.png)'
- en: Next, we'll look at project creation.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看一下项目创建。
- en: Project creation
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 项目创建
- en: Just as Metasploit uses *workspaces* to organize data that's been collected,
    the CE uses the *project* to separate datasets. By default, the CE has a default
    project inside it. If you do not create a custom project, everything you do will
    be saved under this project.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 就像Metasploit使用*工作空间*来组织已收集的数据一样，CE使用*项目*来分隔数据集。默认情况下，CE内部有一个默认项目。如果您不创建自定义项目，您所做的一切都将保存在此项目下。
- en: Default project
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 默认项目
- en: 'Whenever we use the web interface, the first project in use will be the `default`
    project. This project will show us the number of hosts that were scanned, the
    sessions that were maintained, and the number of tasks that were assigned to the
    hosts while the `default` project was active. The following screenshot shows the
    listed project titled `default`:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 每当我们使用Web界面时，使用的第一个项目将是“默认”项目。该项目将显示我们扫描的主机数量、维护的会话数量以及在“默认”项目处于活动状态时分配给主机的任务数量。下图显示了名为“默认”的列出项目：
- en: '![](img/bc5b7411-097a-4287-86a8-6580d89b8e0b.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bc5b7411-097a-4287-86a8-6580d89b8e0b.png)'
- en: Next, let's learn how to create our own custom project.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们学习如何创建我们自己的自定义项目。
- en: Creating a custom project
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建自定义项目
- en: 'Metasploit CE also allows us to create our own custom project:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit CE还允许我们创建自己的自定义项目：
- en: 'This can be done by clicking on the Projects menu and selecting New Project.
    This will take us to the page shown in the following screenshot. Here, we will
    specify project details such as Project name, Description, and Network range:'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这可以通过单击“项目”菜单并选择“新建项目”来完成。这将带我们到下图所示的页面。在这里，我们将指定项目详细信息，如项目名称、描述和网络范围：
- en: '![](img/fbe883c9-782a-4302-9387-ad22c243c064.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fbe883c9-782a-4302-9387-ad22c243c064.png)'
- en: 'Once you click on the Create Project button, you will be taken to the project
    dashboard page. Here, you''ll see different sections showing the summary of the
    tasks you have performed so far and their results:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击“创建项目”按钮后，您将进入项目仪表板页面。在这里，您将看到不同的部分，显示迄今为止执行的任务的摘要及其结果：
- en: '![](img/afba9d3f-f40d-4050-8dd4-626e3a7b89f7.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![](img/afba9d3f-f40d-4050-8dd4-626e3a7b89f7.png)'
- en: 'By going back to Home, you should be able to see two projects. One is called `default`,
    while the other is called `Web Exploitation Project`, which we just created:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回主页，您应该能够看到两个项目。一个称为`default`，另一个称为`Web Exploitation Project`，这是我们刚刚创建的：
- en: '![](img/4ee56451-c1da-4feb-b94e-f3b43a76ae9e.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4ee56451-c1da-4feb-b94e-f3b43a76ae9e.png)'
- en: Next, let's start with enumeration.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们开始枚举。
- en: Target enumeration
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 目标枚举
- en: 'Now that we have created our projects, let''s start with the first step – enumeration.
    There are two ways to perform enumeration: by using Metasploit''s inbuilt scanning
    module or by importing a scan that has been done by Nmap or other tools supported
    by MSF.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经创建了我们的项目，让我们从第一步开始-枚举。执行枚举有两种方法：使用Metasploit的内置扫描模块，或者导入由Nmap或其他MSF支持的工具完成的扫描。
- en: Using the built-in option
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用内置选项
- en: 'The Metasploit web interface provides us with some built-in options/modules
    that we can use to perform enumeration on the target system. Follow these steps
    to use the built-in option to perform enumeration:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit web界面为我们提供了一些内置的选项/模块，我们可以使用这些选项/模块对目标系统执行枚举。按照以下步骤使用内置选项执行枚举：
- en: 'To use the built-in option, click on the Scan button from the project dashboard,
    as shown in the following screenshot:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用内置选项，请从项目仪表板单击扫描按钮，如下截图所示：
- en: '![](img/b286700f-1c79-475e-bd22-7b66da7ff39a.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b286700f-1c79-475e-bd22-7b66da7ff39a.png)'
- en: 'On the next page, we enter the IP address(es) we want to scan. We also define
    advanced options for the scan, such as what ports to exclude and a custom range:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一页中，我们输入要扫描的IP地址。我们还为扫描定义了高级选项，例如要排除的端口和自定义范围：
- en: '![](img/bba34673-bc4f-4aa6-8881-5bac22f1d21d.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bba34673-bc4f-4aa6-8881-5bac22f1d21d.png)'
- en: 'You can set some extended features of the scan by clicking on the Show Advanced
    Options button:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击“显示高级选项”按钮可以设置扫描的一些扩展功能：
- en: '![](img/64125184-9795-4d54-88fe-852d7a84427b.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/64125184-9795-4d54-88fe-852d7a84427b.png)'
- en: 'Once everything has been set, you can click the Launch Scan button. The tool
    will launch an Nmap scan in the background with your specified options, as shown
    in the following screenshot:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一切设置好后，您可以单击“启动扫描”按钮。该工具将以您指定的选项在后台启动Nmap扫描，如下截图所示：
- en: '![](img/29e320ae-6746-45d9-a540-d08272e28f3b.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](img/29e320ae-6746-45d9-a540-d08272e28f3b.png)'
- en: 'You can view the hosts by clicking on the Project menu -> [WORKSPACE] -> Hosts:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过单击项目菜单 -> [工作空间] -> 主机来查看主机：
- en: '![](img/32b708bc-ff21-43a5-ba09-57eda3f9fb48.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![](img/32b708bc-ff21-43a5-ba09-57eda3f9fb48.png)'
- en: 'As shown in the following screenshot, the scanned host was added to the Hosts
    list:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 如下截图所示，扫描的主机已添加到主机列表中：
- en: '![](img/fc1ade70-4e86-4759-a334-f6dbe90ae0f2.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fc1ade70-4e86-4759-a334-f6dbe90ae0f2.png)'
- en: 'To view the services running on the scanned host, you can either click on the
    host shown in the previous step or you can open Project menu -> [WORKSPACE] ->
    Services:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看扫描主机上运行的服务，您可以单击上一步中显示的主机，或者您可以打开项目菜单 -> [工作空间] -> 服务：
- en: '![](img/d0483bf2-9809-478d-bd01-d60f09547354.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d0483bf2-9809-478d-bd01-d60f09547354.png)'
- en: In both cases, you'll be able to see the services running on the scanned host.
    However, it is not recommended that you perform a scan via the web interface as
    it uses Nmap version 4, which is quite old.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在两种情况下，您都可以看到扫描主机上运行的服务。但是，不建议通过Web界面执行扫描，因为它使用的是相当古老的Nmap版本4。
- en: Importing scan results
  id: totrans-134
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 导入扫描结果
- en: 'Alternatively, we can also use a third-party tool to perform enumeration. Then,
    the result from the tool can be imported into MSF. Follow these steps to import
    the scan result:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，我们也可以使用第三方工具执行枚举。然后，可以将工具的结果导入到MSF中。按照以下步骤导入扫描结果：
- en: 'It''s always better to perform a port scan and service enumeration before performing
    exploitation via Metasploit. Instead of using the built-in port scanner for Metasploit,
    you can use Nmap separately and save the scanning result in XML format using the
    `-oX` switch:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用Metasploit进行利用之前，最好先进行端口扫描和服务枚举。您可以使用Nmap单独进行扫描，并使用`-oX`开关以XML格式保存扫描结果，而不是使用Metasploit的内置端口扫描程序：
- en: '![](img/8844d50f-3488-45ce-8726-db827425b59f.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8844d50f-3488-45ce-8726-db827425b59f.png)'
- en: 'Just like the `db_import` command that was used in `msfconsole`, you can use
    the same feature in the Metasploit web interface by clicking on the Import button:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 就像在`msfconsole`中使用的`db_import`命令一样，您可以通过单击导入按钮在Metasploit web界面中使用相同的功能：
- en: '![](img/fcc57c8f-a066-4fd0-86ff-c53d6e074be9.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fcc57c8f-a066-4fd0-86ff-c53d6e074be9.png)'
- en: On clicking the Import button, you'll be redirected to the Import Data page,
    where you'll be given the option to import your data.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击导入按钮后，您将被重定向到导入数据页面，在那里您将有选项导入您的数据。
- en: 'You can import data from Nexpose, Sonar (Project Sonar is a security research
    project by Rapid7 that conducts internet-wide surveys across different services
    and protocols to gain insights into global exposure to common vulnerabilities)
    and supported files from third-party scanning tools such as Acunetix, Nessus,
    Nmap, and many more. In this case, we performed a full port scan and saved the
    Nmap result in XML format:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以从Nexpose、Sonar（Sonar项目是Rapid7进行的安全研究项目，通过不同的服务和协议在全球范围内进行互联网调查，以获得有关常见漏洞全球暴露情况的见解）和第三方扫描工具（如Acunetix、Nessus、Nmap等）支持的文件中导入数据。在这种情况下，我们进行了全端口扫描，并将Nmap结果以XML格式保存：
- en: '![](img/9896db7b-2116-411c-94d4-45f279d2036d.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9896db7b-2116-411c-94d4-45f279d2036d.png)'
- en: 'As an optional feature, you can enable Automatic Tagging, which will tag the
    hosts as `os_windows`, `os_linux`, and `os_unknown`, based on their OS. When you
    click Import Data, the scan will be imported:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为一个可选功能，您可以启用自动标记，根据其操作系统，它将主机标记为`os_windows`、`os_linux`和`os_unknown`。单击“导入数据”，扫描将被导入：
- en: '![](img/b90f6536-e600-4731-bf5b-5699c2c4763b.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b90f6536-e600-4731-bf5b-5699c2c4763b.png)'
- en: 'You can go back to the Project Overview menu to see the updated project space:'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以返回到项目概述菜单，查看更新后的项目空间：
- en: '![](img/4ff0579a-a156-41ac-9762-8707359fcd2f.png)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4ff0579a-a156-41ac-9762-8707359fcd2f.png)'
- en: As shown in the preceding screenshot, a new host was added with 15 services
    running on it. On clicking the 15 services detected hyperlink, you will see that
    the Services page is displayed.
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如前面的屏幕截图所示，添加了一个新主机，上面运行了15个服务。单击检测到的15个服务的超链接，将显示服务页面。
- en: 'You can view the same page by clicking on Project menu -> [WORKSPACE] -> Services:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过单击**项目**菜单 -> [工作空间] -> 服务来查看相同的页面：
- en: '![](img/0a0f513e-da8b-4986-883c-e27c8a093c16.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0a0f513e-da8b-4986-883c-e27c8a093c16.png)'
- en: In the next section, you will be introduced to the Metasploit modules, which
    will be used for further enumeration and exploitation of the target host.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将了解用于进一步枚举和利用目标主机的Metasploit模块。
- en: 'Note: The following are all the supported third-party scan reports that can
    be imported: **Foundstone Network Inventory XML, Microsoft MBSA SecScan XML, nCircle
    IP360 XMLv3 and ASPL, NetSparker XML, Nessus NBE, Nessus XML v1 and v2, Qualys
    Asset XML, Qualys Scan XML, Burp Sessions XML, Burp Issues XML, Acunetix XML,
    AppScan XML, Nmap XML, Retina XML, Amap Log, Critical Watch VM XML, IP Address
    List, Libpcap Network Capture, Spiceworks Inventory Summary CSV, **and** Core
    Impact XML.**'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：以下是所有支持的第三方扫描报告，可以导入：**Foundstone Network Inventory XML, Microsoft MBSA SecScan
    XML, nCircle IP360 XMLv3 and ASPL, NetSparker XML, Nessus NBE, Nessus XML v1 and
    v2, Qualys Asset XML, Qualys Scan XML, Burp Sessions XML, Burp Issues XML, Acunetix
    XML, AppScan XML, Nmap XML, Retina XML, Amap Log, Critical Watch VM XML, IP Address
    List, Libpcap Network Capture, Spiceworks Inventory Summary CSV, **和** Core Impact
    XML.**
- en: Module selection
  id: totrans-152
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模块选择
- en: The modules that are used in the CE of Metasploit are the same as those used
    for MSF. Depending on the situation, we can use an auxiliary module, exploit module,
    or post-exploitation module. Let's look at the auxiliary module first.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploit CE中使用的模块与MSF中使用的模块相同。根据情况，我们可以使用辅助模块、利用模块或后利用模块。让我们先看看辅助模块。
- en: Auxiliary module
  id: totrans-154
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 辅助模块
- en: 'In this case, we have a target host with an IP of `192.168.2.17`. You can see
    the services running on this host in the following screenshot:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们有一个目标主机，IP为`192.168.2.17`。您可以在以下屏幕截图中看到在此主机上运行的服务：
- en: '![](img/416f774c-30c4-4d0d-b281-b9b4e9f624e9.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](img/416f774c-30c4-4d0d-b281-b9b4e9f624e9.png)'
- en: 'From a network penetration testing perspective, an attacker would definitely
    look into port `445/tcp` (SMB) for exploitation, so let''s use a module for SMB:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 从网络渗透测试的角度来看，攻击者肯定会研究端口`445/tcp`（SMB）以进行利用，因此让我们使用SMB模块：
- en: 'Click the Modules tab in the **Project** tab bar to display the Modules page:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**项目**选项卡中的模块选项卡以显示模块页面：
- en: '![](img/fb401e53-2d4c-4899-8dea-654b544a87a7.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fb401e53-2d4c-4899-8dea-654b544a87a7.png)'
- en: 'For SMB, you can use the SMB Version Detection auxiliary module, which can
    be searched for using the search bar:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于SMB，您可以使用SMB版本检测辅助模块，可以使用搜索栏搜索：
- en: '![](img/8e5f2a7b-456b-4c95-95f8-b554cb930121.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8e5f2a7b-456b-4c95-95f8-b554cb930121.png)'
- en: 'Once you''ve selected the module, the module options page will be displayed.
    You can set the target address, along with some other options (if required):'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择模块后，将显示模块选项页面。您可以设置目标地址，以及其他一些选项（如果需要）：
- en: '![](img/d29dad9c-1d3e-4fff-a0d7-ed57903dbfab.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d29dad9c-1d3e-4fff-a0d7-ed57903dbfab.png)'
- en: 'Clicking on Run Module (shown in the preceding screenshot) will execute the
    module and the output for the module will be displayed:'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“运行模块”（如前面的屏幕截图所示）将执行该模块，并显示模块的输出：
- en: '![](img/3ec6cd12-2c56-4206-b2d6-987d86efd88b.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3ec6cd12-2c56-4206-b2d6-987d86efd88b.png)'
- en: 'You can confirm the result that was found by the module by going to the Project
    tab bar -> Analysis -> Notes:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过转到**项目**选项卡 -> 分析 -> 注释来确认模块找到的结果：
- en: '![](img/788c3d2f-b59d-48f2-90e6-5071892b8d04.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](img/788c3d2f-b59d-48f2-90e6-5071892b8d04.png)'
- en: After enumerating the target, you can use an exploit module.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 枚举目标后，您可以使用利用模块。
- en: Using an exploit module
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用利用模块
- en: 'To use an exploit module, follow these steps:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用利用模块，请按照以下步骤进行：
- en: 'Click on the Modules tab on the **Project** tab bar and search for the `EternalBlue`
    exploit. It''s a very reliable exploit that can be used in a situation like this:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**项目**选项卡上的模块选项卡，搜索`EternalBlue` exploit。这是一个非常可靠的利用，可以在这种情况下使用：
- en: '![](img/9c581e9c-6032-4de1-82f0-ce0f1de17d8d.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9c581e9c-6032-4de1-82f0-ce0f1de17d8d.png)'
- en: 'From here, you can set the target address and the payload options. Once the
    exploit is executed, the payload (let''s say, Meterpreter) will be injected in-memory
    and a Meterpreter shell will open:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，您可以设置目标地址和有效载荷选项。执行利用后，有效载荷（比如说，Meterpreter）将被注入内存，并且将打开一个Meterpreter shell：
- en: '![](img/fe3acb1b-ad29-40f5-96c3-3bc827b42429.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fe3acb1b-ad29-40f5-96c3-3bc827b42429.png)'
- en: 'Clicking Run Module will fire up the exploit module. The result will be displayed
    on the screen and a task ID will be allotted to the task:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“运行模块”将启动利用模块。结果将显示在屏幕上，并为任务分配一个任务ID：
- en: '![](img/59355723-3128-43bf-bde6-9f7e22dcd626.png)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![](img/59355723-3128-43bf-bde6-9f7e22dcd626.png)'
- en: On successful exploitation, you'll receive a notification regarding a newly
    opened session.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 成功利用后，您将收到有关新打开会话的通知。
- en: Session interaction
  id: totrans-178
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 会话交互
- en: 'After successful exploitation, a session will be opened and you''ll get a notification
    on the **Project** tab bar:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 成功利用后，会打开一个会话，并且您将在**项目**选项卡上收到通知：
- en: 'To view the opened session, you need to click the Sessions tab in the **Project**
    tab bar:'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看已打开的会话，您需要点击**项目**选项卡中的**会话**选项卡：
- en: '![](img/8f3423bd-6575-4e9a-8169-e32abf70723f.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8f3423bd-6575-4e9a-8169-e32abf70723f.png)'
- en: 'To interact with any open session, just click on the Session [ID],as shown
    in the preceding screenshot. The features that are supported by the MSF web interface
    for session interaction can be seen in the following screenshot:'
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与任何打开的会话进行交互，只需点击“会话[ID]”，如前面的屏幕截图所示。MSF Web界面支持的会话交互功能可以在以下屏幕截图中看到：
- en: '![](img/4b9d87e3-01da-4b7e-80bd-f8601adca775.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4b9d87e3-01da-4b7e-80bd-f8601adca775.png)'
- en: 'The following are the options you can use for session interaction:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是您可以用于会话交互的选项：
- en: '**Collect System Data**: This option will let you collect system evidence and
    sensitive data such as passwords, system information, screenshots, and so on.
    This feature is only available in the Metasploit Pro version.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**收集系统数据**：此选项将允许您收集系统证据和敏感数据，如密码、系统信息、屏幕截图等。此功能仅在Metasploit Pro版本中可用。'
- en: '**Virtual Desktop**: This option will inject a **virtual network computing**
    (**VNC**) DLL and start a VNC service on the given port:'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**虚拟桌面**：此选项将注入**虚拟网络计算**（**VNC**）DLL，并在给定端口上启动VNC服务：'
- en: '![](img/d66b8562-2ee0-40b4-8126-9f1775719fe8.png)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d66b8562-2ee0-40b4-8126-9f1775719fe8.png)'
- en: 'You can interact with the desktop running on the target system via this port:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过此端口与目标系统上运行的桌面进行交互：
- en: '![](img/1f3a09f9-51d8-462f-bb63-6849a0e8c21e.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1f3a09f9-51d8-462f-bb63-6849a0e8c21e.png)'
- en: 'Note: The user will be notified of incoming VNC connections.'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：用户将收到VNC连接的通知。
- en: '**Access Filesystem**: Using this option, you can browse the filesystem. You
    can even upload, download, and delete files:'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**访问文件系统**：使用此选项，您可以浏览文件系统。您甚至可以上传、下载和删除文件：'
- en: '![](img/be7c6ada-12c5-4dee-8469-066f5d375311.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](img/be7c6ada-12c5-4dee-8469-066f5d375311.png)'
- en: '**Search Filesystem**: If you want to search for specific files or perform
    a wildcard search, you can use this option:'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**搜索文件系统**：如果您想要搜索特定文件或执行通配符搜索，可以使用此选项：'
- en: '![](img/27986ef9-9936-425f-aa58-9ef681ad4978.png)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![](img/27986ef9-9936-425f-aa58-9ef681ad4978.png)'
- en: '**Command Shell**: If you want to access the Meterpreter command shell, you
    can click on this button to open the command shell:'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**命令行 Shell**：如果您想要访问Meterpreter命令行Shell，可以单击此按钮打开命令行Shell：'
- en: '![](img/120f6bd2-d353-477a-bbf5-1b7ea2d739ea.png)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![](img/120f6bd2-d353-477a-bbf5-1b7ea2d739ea.png)'
- en: 'You can execute the commands in the given input box. The result will be displayed
    like so:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在给定的输入框中执行命令。结果将显示如下：
- en: '![](img/183652fe-4998-4768-9951-a5e4deea65b6.png)'
  id: totrans-198
  prefs: []
  type: TYPE_IMG
  zh: '![](img/183652fe-4998-4768-9951-a5e4deea65b6.png)'
- en: 'This window will only support Meterpreter commands. The System commands can
    be run using the `shell` command:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 此窗口仅支持Meterpreter命令。可以使用`shell`命令运行系统命令：
- en: '![](img/a858add3-1918-4146-87bc-00640fa8bfb4.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a858add3-1918-4146-87bc-00640fa8bfb4.png)'
- en: '**Create Proxy Pivot**: Creating a proxy pivot is the same as adding routes
    for pivoting:'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**创建代理枢纽**：创建代理枢纽与添加枢纽路由相同：'
- en: '![](img/b7d20321-c0e8-4e77-9665-f15721ba7421.png)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b7d20321-c0e8-4e77-9665-f15721ba7421.png)'
- en: 'You can use this option if you want to connect to the internal network for
    further exploitation:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用此选项，如果您想要连接到内部网络进行进一步的利用：
- en: '![](img/bd6036ff-5ca7-412f-b39f-95dc2fe51d96.png)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bd6036ff-5ca7-412f-b39f-95dc2fe51d96.png)'
- en: '**Create VPN Pivot**: This option will let you create an encrypted layer-2
    tunnel in the compromised machine and then route any network traffic through that
    target machine. This grants you full network access as if you were on the local
    network, without a perimeter firewall to block your traffic.'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**创建VPN枢纽**：此选项将允许您在受损的计算机中创建一个加密的二层隧道，然后通过目标机器路由任何网络流量。这将授予您完整的网络访问权限，就像您在本地网络上一样，没有周边防火墙来阻止您的流量。'
- en: '**Change Transport**: To change the transport mechanism of the session, you
    can use this option, as shown in the following screenshot:'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**更改传输**：要更改会话的传输机制，可以使用此选项，如下图所示：'
- en: '![](img/98b7985d-d9ab-4369-a7be-7fef82c16736.png)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![](img/98b7985d-d9ab-4369-a7be-7fef82c16736.png)'
- en: First, you need to start a handler for the specific transport; otherwise, the
    process will fail.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，您需要为特定传输启动处理程序；否则，该过程将失败。
- en: '**Terminate Session**: Once you use this option, the session will be terminated.
    To interact with the session, you will have to begin the exploitation process
    again.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**终止会话**：一旦使用此选项，会话将被终止。要与会话交互，您将需要重新开始利用过程。'
- en: Next, let's look at the post-exploitation modules that are available in the
    web interface.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们看看Web界面中可用的后渗透模块。
- en: Post-exploitation modules
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 后渗透模块
- en: 'For post-exploitation, you can use the post-exploitation modules available
    in the interface, as shown in the following screenshot:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 对于后渗透，您可以使用界面中可用的后渗透模块，如下图所示：
- en: '![](img/da9411fe-a8f0-4f8e-8a75-aedf2aff5cc5.png)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![](img/da9411fe-a8f0-4f8e-8a75-aedf2aff5cc5.png)'
- en: 'For the target shown in the preceding screenshot, let''s use the `hashdump`
    post-exploitation module. To use this module, you just need to check which session
    the module needs to be executed for:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于前面截图中显示的目标，让我们使用`hashdump`后渗透模块。要使用此模块，只需检查模块需要执行的会话：
- en: '![](img/98d1a906-33a2-4155-9aef-4006d6d807cf.png)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![](img/98d1a906-33a2-4155-9aef-4006d6d807cf.png)'
- en: 'Click on Run Module to execute the `hashdump` module. This module will dump
    the NTLM hashes from the SAM database. A new task ID will be assigned to this
    module. You can check the task in the taskbar:'
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击“运行模块”以执行`hashdump`模块。此模块将从SAM数据库中转储NTLM哈希。此模块将被分配一个新的任务ID。您可以在任务栏中检查任务：
- en: '![](img/45e0e625-5b38-422e-bcbc-a6b3cb3dd286.png)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![](img/45e0e625-5b38-422e-bcbc-a6b3cb3dd286.png)'
- en: 'The extracted hashes can be viewed in the Credentials menu from the **Project**
    tab bar:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提取的哈希可以在**项目**选项卡栏的凭据菜单中查看：
- en: '![](img/7ea33316-97f7-48c3-8ae8-4d7fb1d5e59d.png)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7ea33316-97f7-48c3-8ae8-4d7fb1d5e59d.png)'
- en: You can use different post-exploitation modules, depending on the situation.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用不同的后渗透模块，具体取决于情况。
- en: Summary
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we discussed the web interface of MSF. We started off by installing
    Metasploit and setting up its configuration. Then, we moved on and discussed modules,
    such as creating a project and importing a scan result from a different tool.
    After that, we looked at auxiliaries and exploits before learning about the post-exploitation
    modules that are available in the Metasploit web interface.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了MSF的Web界面。我们首先安装了Metasploit并设置了其配置。然后，我们继续讨论模块，如创建项目和从不同工具导入扫描结果。之后，我们查看了辅助和利用，然后学习了Metasploit
    Web界面中可用的后渗透模块。
- en: In the next chapter, we'll learn how to use Metasploit to perform recon on different
    types of targets, protocols, and ports.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将学习如何使用Metasploit对不同类型的目标、协议和端口进行侦察。
- en: Questions
  id: totrans-224
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What features does the Metasploit web interface come with?
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Metasploit web界面具有哪些功能？
- en: In my organization, I'm obliged to use my company's SSL certificate on any web
    server being used. Can I provide my custom SSL certificate for the Metasploit
    web interface?
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在我的组织中，我必须在使用的任何Web服务器上使用公司的SSL证书。我可以为Metasploit web界面提供自定义SSL证书吗？
- en: What web browsers are compatible with the Metasploit web interface?
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪些Web浏览器与Metasploit web界面兼容？
- en: Does Metasploit support RESTful APIs?
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Metasploit支持RESTful API吗？
- en: Does the Metasploit web interface support custom reporting?
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Metasploit web界面支持自定义报告吗？
- en: Further reading
  id: totrans-230
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: More information about the web interface can be found on the official documentation
    page at [https://metasploit.help.rapid7.com/docs/metasploit-web-interface-overview](https://metasploit.help.rapid7.com/docs/metasploit-web-interface-overview).
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 有关Web界面的更多信息，请访问官方文档页面[https://metasploit.help.rapid7.com/docs/metasploit-web-interface-overview](https://metasploit.help.rapid7.com/docs/metasploit-web-interface-overview)。
