- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3  '
- en: Applying Design Requirements Criteria – Hardware Selection
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '应用设计要求标准——硬件选择  '
- en: In this chapter, we’ll be performing a deep introspective into the design criteria
    that will determine what hardware you select. The simple decision of selecting
    a platform alone could drive thousands of other dependencies you may not have
    even thought of previously. This chapter and the next (which is this chapter’s
    companion) will become the cornerstone of all future efforts when you’re building
    your appliance.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '在本章中，我们将深入探讨设计标准，这些标准将决定你选择什么硬件。仅仅选择一个平台的简单决定，可能会带来成千上万的其他依赖项，而这些依赖项你可能之前从未考虑过。本章及下一章（即本章的伴侣）将成为你在构建设备时所有未来工作的基石。  '
- en: Additionally, It’s my understanding that if you’re reading this book (which
    I deeply appreciate you choosing by the way!), you’re somewhat vested in its core
    subject matter. As the author, I’m assuming that not only are you interested in
    **embedded Linux systems** but that you are probably deeply involved in such a
    project right now. Knowing that, I assume that you also have a good baseline of
    general technical knowledge. I trust that the level of the information presented
    here is informative enough to add value to your project and not too general enough
    to be an affront to your already acquired skills. This chapter and the next are
    meant to help you connect all the metaphorical dots and illuminate a greater picture
    of what your solution can become.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '此外，我理解如果你正在阅读本书（顺便说一句，我非常感激你选择了这本书！），那么你对其核心主题有一定的兴趣。作为作者，我假设你不仅对**嵌入式 Linux
    系统**感兴趣，而且你可能正深入参与此类项目。基于这一点，我认为你应该具备一定的基础技术知识。我相信本章及下一章中提供的信息足够有价值，能够为你的项目增添助力，而又不会过于基础到冒犯你已经掌握的技能。本章及下一章的目的是帮助你连接所有隐喻性的点，照亮你的解决方案可能达到的更大图景。  '
- en: Important note
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '重要说明  '
- en: If you’re planning to build a **virtual appliance**, this chapter may not be
    as relevant for you and your team as we will be focusing on hardware. This chapter
    is mostly geared toward the physical. We will only briefly review virtual appliances.
    In terms of virtual appliances (or cloud offerings), you’ll need to consider what
    platform(s) you need to create images for. In recent years, virtual appliances
    have become more and more prevalent, especially in terms of the app stores on
    any of the **hyperscalers** (Azure, AWS, or Google). Many still build virtual
    appliances for OpenStack, KVM, Hyper-V, and (mostly) VMware ESXi.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '如果你打算构建**虚拟设备**，本章的内容可能对你和你的团队不太相关，因为我们将重点讨论硬件。本章主要面向物理设备。我们将简要回顾虚拟设备。在虚拟设备（或云服务）方面，你需要考虑为哪些平台创建镜像。近年来，虚拟设备变得越来越普遍，特别是在任何**超大规模云服务商**（如
    Azure、AWS 或 Google）的应用商店中。许多人仍在为 OpenStack、KVM、Hyper-V 和（主要）VMware ESXi 构建虚拟设备。  '
- en: Whether you choose to make your products physical, virtual, or both, this chapter
    will help you and your design team sort out all the criteria to make an appropriate
    hardware platform selection. Additionally, we’ll review how best practices can
    impact these selections in terms of performance and scalability. These best practices
    tie in directly to your security footprint but they’ll also assist you in building
    a better product.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '无论你选择将产品做成物理的、虚拟的，还是两者兼具，本章将帮助你和你的设计团队理清所有标准，以便做出合适的硬件平台选择。此外，我们还将回顾最佳实践如何在性能和可扩展性方面影响这些选择。这些最佳实践直接关联到你的安全性足迹，但它们也会帮助你构建更好的产品。  '
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '在本章中，我们将讨论以下内容：  '
- en: What are the targeted performance requirements?
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '目标性能要求是什么？  '
- en: Are there any environmental limitations?
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '是否存在任何环境限制？  '
- en: '**Common off-the-shelf** (**COTS**) versus custom-built hardware'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**现成商品**（**COTS**）与定制硬件  '
- en: What mainstream hardware platforms are available?
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '当前有哪些主流硬件平台可用？  '
- en: Hardware and use case criteria will dictate your operating system selection
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 硬件和使用案例标准将决定你操作系统的选择
- en: Let’s get started.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '让我们开始吧。  '
- en: What are the targeted performance requirements?
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '目标性能要求是什么？  '
- en: At this point, it’s time for us to get technical. Hopefully, the developers
    of your solution have at least a general idea of what the end-state requirements
    of the appliance will be. Not having this crucial information at your disposal
    may make your prototyping exercises rather expensive as you may have to test multiple
    iterations of hardware platforms.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，是时候进入技术层面了。希望你的解决方案开发人员至少对虚拟设备的最终需求有一个大致的了解。如果没有这些关键信息，你的原型设计过程可能会非常昂贵，因为你可能需要测试多个硬件平台的不同迭代版本。
- en: Regardless of the size and scale of your solution, or whether it’s physical
    or virtual, you must ensure that extensive performance testing is conducted to
    ensure that the security measures that are implemented within it still allow the
    solution to perform its tasks as advertised. We’ll get into how to integrate these
    security measures in later chapters.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你的解决方案的规模大小，或是物理的还是虚拟的，你都必须确保进行广泛的性能测试，以确保所实施的安全措施仍然能够让解决方案按预期执行任务。我们将在后续章节中讨论如何将这些安全措施集成到解决方案中。
- en: Another critical thing to consider is the future state of your solution. Ensure
    that the specifications you set forth for the applications, security measures,
    and scale of user data have some level of a safety buffer. It’s impossible to
    plan for the performance impact of future security patches or changes in your
    applications over time. Giving your solution a little extra CPU, memory, and storage
    can save your support team a trunk full of grief in the future.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要考虑的关键因素是你解决方案的未来状态。确保你为应用程序、安全措施和用户数据规模设定的规格具有一定的安全缓冲。未来的安全补丁或应用程序的变化对性能的影响是无法预见的。给你的解决方案额外分配一些CPU、内存和存储，能在未来为你的支持团队节省不少麻烦。
- en: For now, let’s learn what we need if we decide so that we can create our solution
    virtually.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来了解一下，如果我们决定这样做，我们需要哪些内容，以便能够虚拟化我们的解决方案。
- en: Virtual appliances
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 虚拟设备
- en: If you plan to deliver your offering as a virtual appliance, this exercise is
    going to be far less stressful. You won’t be testing hardware! You don’t need
    to worry about procuring a platform that meets your life cycle needs. It’s liberating.
    Deciding on creating a virtual appliance (or a public cloud offering) puts the
    resource requirements on the customer.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你计划将你的产品交付为虚拟设备，这个过程将会减少很多压力。你不需要测试硬件！你不需要担心采购符合生命周期需求的平台。这是令人解放的。决定创建一个虚拟设备（或公共云产品）将资源需求交给客户。
- en: Your customer can then decide exactly how much vCPU, RAM, storage, and networking
    bandwidth they wish to assign to the virtual appliance. They provide the platform.
    The added benefit of this is that you know that the operating system that you
    need to choose must support Intel/AMD as that is the general standard in the enterprise.
    Your company, of course, can make recommendations for those baselines. In terms
    of public cloud providers, you can set the baseline VM sizing as part of the marketplace
    offering.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你的客户可以决定具体分配多少vCPU、RAM、存储和网络带宽给虚拟设备。他们提供平台。这样做的附加好处是，你知道你需要选择的操作系统必须支持Intel/AMD，因为这是企业中的通用标准。当然，你的公司可以为这些基准提供建议。在公共云提供商方面，你可以将基础虚拟机大小作为市场产品的一部分。
- en: At this point, the key decision becomes which virtualization platforms you’re
    planning to make your solution available for – VMware, OpenStack, KVM, Hyper-V,
    Google, Azure, or AWS. Initially, you may start with one platform and then decide
    to add platforms as it is feasible for your teams.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，关键的决定变成了你打算为哪个虚拟化平台提供你的解决方案——VMware、OpenStack、KVM、Hyper-V、Google、Azure
    还是 AWS。最初，你可能会从一个平台开始，然后根据团队的可行性决定是否添加其他平台。
- en: I would be remiss in not mentioning that a good product manager does their research
    into which is the best selection for platforming. Depending on said research,
    you may find division in your target user base and their preferences, their procurement
    cycles, and, most importantly, their preferences for cloud and/or on-premises
    virtualization platforms.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我不得不提到，一个优秀的产品经理会进行调研，以确定最适合平台化的选择。根据这些调研，你可能会发现目标用户群体之间的差异，包括他们的偏好、采购周期，以及最重要的，他们对云平台和/或本地虚拟化平台的偏好。
- en: Although many solutions cannot be delivered as a virtual appliance, if it is
    feasible for your product, I’d recommend giving that methodology strong consideration.
    There’s a wealth of flexibility it can offer, something we will cover later in
    this book.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管许多解决方案无法以虚拟设备的形式交付，但如果你的产品可行，我建议认真考虑这一方法。它可以提供巨大的灵活性，我们将在本书后面进行详细介绍。
- en: Now that we’ve covered the performance of physical appliances, let’s consider
    hardware design.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经讨论了物理设备的性能，接下来考虑硬件设计。
- en: T-shirt sizing
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: T恤尺寸划分
- en: '**T-shirt sizing** is a method of scaling and delivering a solution based on
    a desired capacity. It’s meant to standardize and simplify the delivery of your
    solution to your end-customer at the scales most commonly sought after.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**T恤尺寸划分**是一种根据所需容量来扩展和交付解决方案的方法。它旨在标准化并简化将解决方案交付给最终客户的过程，适用于最常见的需求规模。'
- en: Allow me to present an example to help describe the T-shirt sizing methodology.
    For discussion’s sake, let’s say that a company wants to deliver a standalone
    storage solution. This company plans to offer a small, medium, and large solution.
    It becomes quite clear why they call it T-shirt sizing.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 让我通过一个例子来帮助描述T恤尺寸划分方法。为了讨论的方便，假设某公司想要提供一个独立的存储解决方案。该公司计划提供小型、中型和大型解决方案。现在很清楚为什么他们称之为T恤尺寸划分。
- en: 'They decide that the small version of the solution will have the following
    hardware attributes:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 他们决定小型解决方案将具有以下硬件属性：
- en: Single multi-core CPU (with low core counts)
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单个多核 CPU（具有低核心数）
- en: 32 GB of RAM
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 32 GB 内存
- en: Dual-gigabit Ethernet interfaces
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 双千兆以太网接口
- en: 4x 1 TB SATA SSD drives
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4 个 1 TB SATA SSD 驱动器
- en: 'Moving on to their next level, they have decided that the medium version of
    their storage solution has the following hardware attributes:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 进入下一个级别，他们决定中型存储解决方案具有以下硬件属性：
- en: Single multi-core CPU (with high core counts)
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单个多核 CPU（具有高核心数）
- en: 64 GB of RAM
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 64 GB 内存
- en: Four-gigabit Ethernet interfaces
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 四个千兆以太网接口
- en: 8x 1 TB SATA SSD drives
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 8 个 1 TB SATA SSD 驱动器
- en: 'Closing the loop on their sizing, they have decided that the large version
    of their storage appliance has the following hardware attributes:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 他们在确定硬件配置时决定，大型存储设备的硬件属性如下：
- en: Dual multi-core CPUs (with high core counts)
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 双多核 CPU（具有高核心数）
- en: 128 GB of RAM
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 128 GB 内存
- en: Four-gigabit Ethernet interfaces
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 四个千兆以太网接口
- en: Dual 10G Ethernet interfaces
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 双 10G 以太网接口
- en: 16x 1 TB SATA SSD drives
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 16 个 1 TB SATA SSD 驱动器
- en: These examples have been simplified to illustrate a point. The fictitious company
    selected three levels, each one being a larger scale than the previous. In the
    physical appliance world, this sizing methodology will also imply that to create
    a T-shirt-sized offering, much more work will be needed to ensure each release
    of the solution delivers the expected performance and security levels consistently.
    It is not uncommon that the choice to create such stepped-sized offerings may
    force the usage of different hardware vendors and platforms altogether.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这些例子已简化以说明一个观点。虚构的公司选择了三个级别，每个级别的规模都比前一个大。在物理设备的世界里，这种尺寸划分方法也意味着，要创建一个T恤大小的产品，必须做更多工作，确保每次发布的解决方案都能稳定地提供预期的性能和安全性。选择创建这种分步尺寸的产品，可能迫使企业完全采用不同的硬件供应商和平台，这种情况并不罕见。
- en: T-shirt sizing your solutions invokes additional work for your teams, but I
    argue that it is a great methodology to consider. Doing such allows you to deliver
    your solution to a wider range of audiences with different scales of need. Now
    that we’ve reviewed the impact scaling has on design, let’s look at other factors
    in the hardware realm.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 为解决方案进行T恤尺寸划分会给团队带来额外的工作量，但我认为这是一个值得考虑的优秀方法。这样做可以使你为不同需求规模的广泛受众提供解决方案。现在我们已经回顾了规模对设计的影响，接下来看看硬件领域的其他因素。
- en: CPU/VCPU
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: CPU/VCPU
- en: The CPU is the single greatest determining factor of everything else in your
    solution. There is a broad range in terms of performance, power consumption, and
    price. Your solutions’ form factor, environmental thresholds, and performance
    needs will ultimately drive the decision.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: CPU 是决定解决方案其他所有方面的最重要因素。它在性能、功耗和价格方面有着广泛的差异。解决方案的外形、环境阈值和性能需求最终将决定选择。
- en: Before we get into all the greatness each CPU family brings to the table, I
    want you to know about the dark side of this equation. That’s right – I’m starting
    with the bad news and hopefully ending on a positive note in these next few sections.
    As this is a security-focused book, we must dive deep into the limitations, vulnerabilities,
    exploitation of said weaknesses, and other general malfeasance that becomes possible
    when choosing the wrong platform.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们讨论每个CPU系列带来的优点之前，我希望您了解这个方程式的阴暗面。没错——我从坏消息开始，希望在接下来的几个部分中能够以积极的消息结束。由于本书聚焦于安全性，我们必须深入探讨选择错误平台时可能出现的局限性、漏洞、利用这些弱点的行为以及其他不当行为。
- en: Later in this book, we’ll dive into all the resources your teams will have available
    to inform you of new threats, vulnerabilities, fixes, and mitigations. For now,
    let’s just go to the swampy waters of what to avoid today. The following list
    is based on entries in the **Common Vulnerabilities and Exposures** (**CVE**)
    database.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 本书稍后将深入探讨您团队可以使用的所有资源，这些资源将帮助您了解新的威胁、漏洞、修复和缓解措施。目前，让我们先来了解今天需要避免的那些问题。以下列表基于**常见漏洞和暴露（CVE）**数据库中的条目。
- en: It’s worth noting that the nasty ones get named, but not friendly human names
    such as tropical storms, hurricanes, and typhoons. They get names that instill
    the doom and gloom in those that mention them. Often, the team that discovers
    the vulnerability will give the vulnerability a logo as well.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，那些严重的漏洞会被命名，但并不会使用像热带风暴、飓风和台风这样的友好人类名称。它们会被命名为让人感到不祥和压抑的名字。通常，发现漏洞的团队还会为其设计一个标志。
- en: 'As there are currently about 240,000 known vulnerabilities of all types in
    the CVE database, I will only review some of those that grabbed headlines worldwide.
    This list will get you started, but don’t stop here – continue your research before
    making a selection. The following list highlights some of the most impactful CVEs
    that should influence your CPU and platform due diligence. We will also look at
    their impacts and mitigation techniques:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 目前CVE数据库中大约有24万个已知的各类漏洞，我将只回顾一些在全球范围内引起关注的漏洞。这个列表将帮助您入门，但请不要止步于此——在做出选择之前，继续进行研究。以下列表突出显示了一些最具影响力的CVE，这些CVE应该影响您的CPU和平台尽职调查。我们还将探讨它们的影响以及缓解技术：
- en: '**Meltdown**: This family of vulnerabilities, which is contained in multiple
    CVEs, is centered upon the ability to exploit a race condition in the CPU and
    gain access to privileged information. It has 5 CVEs – CVE-2023-46836, CVE-2022-42331,
    CVE-2018-7112, CVE-2018-19965, and CVE-2017-5754:'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Meltdown**：这一漏洞家族包含在多个CVE中，核心问题是能够利用CPU中的竞争条件，获取特权信息。它有5个CVE——CVE-2023-46836，CVE-2022-42331，CVE-2018-7112，CVE-2018-19965和CVE-2017-5754：'
- en: '**Impacts**: Intel x86 microprocessors, AMD microprocessors, IBM Power processors,
    and some ARM microprocessors.'
  id: totrans-54
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**影响**：Intel x86微处理器，AMD微处理器，IBM Power处理器以及一些ARM微处理器。'
- en: '**Mitigations**: Most operating systems vendors have created patches to mitigate
    the vulnerability, but there are serious performance impacts on the systems once
    these fixes are applied. Newer processors built after 2019 should have hardware
    and firmware mitigations built in but still, there are new transient execution
    CPU vulnerabilities as recent as 2023.'
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**缓解措施**：大多数操作系统供应商已经创建了补丁来缓解这一漏洞，但一旦应用这些修复，系统的性能会受到严重影响。2019年以后制造的较新处理器应该内置了硬件和固件缓解措施，但仍然存在2023年才出现的新型瞬态执行CPU漏洞。'
- en: '**Spectre**: This family of vulnerabilities, which is contained in many CVEs,
    is very similar to Meltdown in terms of how CPU conditions are exploited to attain
    privileged information access by unauthorized users. It has 31 CVEs, so I’ll highlight
    the most important two – CVE-2017-5753 & CVE-2017-5715:'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Spectre**：这一漏洞家族包含在许多CVE中，其漏洞利用方式与Meltdown非常相似，都是通过CPU条件的漏洞来获取未经授权用户的特权信息。它有31个CVE，所以我将重点介绍最重要的两个——CVE-2017-5753和CVE-2017-5715：'
- en: '**Impacts**: Intel x86 microprocessors, as well as AMD and ARM microprocessors.'
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**影响**：Intel x86微处理器，AMD和ARM微处理器。'
- en: '**Mitigations**: Most operating systems vendors have created patches to mitigate
    this vulnerability, but there are serious performance impacts on these systems
    once these fixes are applied. Newer processors built after 2019 should have hardware
    and firmware mitigations built in but still, there are new transient execution
    CPU vulnerabilities as recent as 2023.'
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**缓解措施**：大多数操作系统厂商已经创建了补丁来缓解这个漏洞，但一旦这些修复应用到系统中，会对性能产生严重影响。2019年后发布的较新处理器应内置硬件和固件缓解措施，但仍然存在新的瞬态执行CPU漏洞，最早可追溯到2023年。'
- en: '**Downfall**: Also known as **Gather Data Sampling** (**GDS**), Downfall is
    another breed of transient execution CPU vulnerability that attacks the speculative
    execution functions in the CPU called **Advanced Vector Extensions** (**AVX**).
    Through this weakness, it is possible to run an exploit to access data contained
    within the vector registers (CVE-2022-40982):'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**崩溃**：也被称为**数据采样收集**（**GDS**），崩溃是另一种瞬态执行CPU漏洞，攻击的是CPU中的推测执行功能，称为**高级向量扩展**（**AVX**）。通过这一弱点，有可能利用漏洞访问向量寄存器中的数据（CVE-2022-40982）：'
- en: '**Impacts**: Intel X86-64 consumer microprocessors of product generations 6
    through 11, Intel Xeon X86-64 processors of generations 1 through 4.'
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**影响范围**：第6代至第11代Intel X86-64消费级微处理器，第一代至第四代Intel Xeon X86-64处理器。'
- en: '**Mitigations**: It is expected that version 6.5 or greater of the Linux kernel
    will have code to mitigate this. However, even in 2024, almost every consumer
    computer today is vulnerable to it.'
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**缓解措施**：预计Linux内核6.5或更高版本将包含用来缓解此漏洞的代码。然而，即便到了2024年，几乎所有现代消费类计算机仍然容易受到这一漏洞的影响。'
- en: '**Foreshadow**: This vulnerability is also known as **L1 Terminal Fault** (**L1TF**).
    It targets virtual machines, hypervisors, and then ultimately the operating systems
    involved by attacking memory management (CVEs: CVE-2018-3615 & CVE-2018-3620):'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预示**：此漏洞也被称为**L1终端故障**（**L1TF**）。它通过攻击内存管理来瞄准虚拟机、虚拟机监控程序（hypervisor），最终影响相关的操作系统（CVE编号：CVE-2018-3615和CVE-2018-3620）：'
- en: '**Impacts**: Virtually all families of Intel and AMD microprocessors.'
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**影响范围**：几乎所有Intel和AMD微处理器系列。'
- en: '**Mitigations**: Processor replacement appears to be the best fix to resolve
    the problem. This issue has been resolved within the Intel Xeon processor family,
    starting with the Cascade Lake release. All newer chipsets should be immune to
    the exploits.'
  id: totrans-64
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**缓解措施**：更换处理器似乎是解决该问题的最佳方法。此问题在Intel Xeon处理器系列中已经得到解决，从Cascade Lake版本开始。所有较新的芯片组应对这些漏洞免疫。'
- en: '**Inception**: This vulnerability, also known as **Return Address Security**
    (**RAS**), is a new type of side-channel attack that targets speculative execution
    (CVE-2023-20569):'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**起源**：此漏洞，也称为**返回地址安全**（**RAS**），是一种新型的侧信道攻击，针对的是推测执行（CVE-2023-20569）：'
- en: '**Impacts**: Virtually all recent AMD microprocessors.'
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**影响范围**：几乎所有近期的AMD微处理器。'
- en: '**Mitigations**: AMD has released BIOS and firmware patch bundles to mitigate
    this exploit. Additionally, operating systems vendors may have released workaround
    patches. As of February 28, 2024, AMD has updated its published whitepaper with
    new information on how to mitigate this attack on future AMD processors ([https://www.amd.com/content/dam/amd/en/documents/corporate/cr/speculative-return-stack-overflow-whitepaper.pdf](https://www.amd.com/content/dam/amd/en/documents/corporate/cr/speculative-return-stack-overflow-whitepaper.pdf)).'
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**缓解措施**：AMD已发布BIOS和固件补丁包来缓解这一漏洞。此外，操作系统厂商可能也已经发布了替代性补丁。截至2024年2月28日，AMD已更新其发布的白皮书，提供了有关如何在未来的AMD处理器上缓解此攻击的最新信息（[https://www.amd.com/content/dam/amd/en/documents/corporate/cr/speculative-return-stack-overflow-whitepaper.pdf](https://www.amd.com/content/dam/amd/en/documents/corporate/cr/speculative-return-stack-overflow-whitepaper.pdf)）。'
- en: This list was my version of the top five exploitable vulnerabilities to be actively
    aware of. Each is generally tied to multiple CVEs and not all have been mitigated
    to the fullest extent. New variations or similar attacks continue to plague all
    CPU platforms as threats and AI usage to find new vulnerabilities evolve.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这个列表是我自己版本的五个最需要警惕的可利用漏洞。每个漏洞通常都与多个CVE关联，并且并非所有漏洞都已得到完全缓解。新的变种或类似的攻击仍在困扰所有CPU平台，威胁与AI使用不断演变，寻找新漏洞。
- en: Fueled with that baseline information, you can see how hardware selection impacts
    your security footprint. As we move on to the next section, remember that all
    of these factors will resurface when we discuss operating system selection in
    the next chapter. For now, we’ll look into various memory considerations.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在有了这些基础信息后，你可以看到硬件选择如何影响你的安全性足迹。当我们进入下一部分时，记住这些因素将在下章讨论操作系统选择时重新出现。现在，我们先来看看各种内存考虑事项。
- en: Memory
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 内存
- en: Memory type is deeply tied to the CPU and its associated memory controllers.
    These are all unchangeable parts of the system’s main board or motherboard. Because
    of the inferred dependencies, this is one of the easier selection points. However,
    from a security and reliability perspective, there are some differences to consider
    when making design choices. Each of these factors has a cost and other implications.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 内存类型与CPU及其相关的内存控制器密切相关。这些都是系统主板或母板上不可更改的部分。由于这些依赖关系，这是一个相对简单的选择点。然而，从安全性和可靠性角度来看，在做设计选择时需要考虑一些差异。每一个因素都有其成本和其他影响。
- en: In my experience, the only questionable option that you may be forced to consider
    is utilizing **Error-Correcting Code RAM** (**ECC RAM**) or non-ECC RAM.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我的经验，你可能被迫考虑的唯一值得质疑的选择是使用**错误校正码内存**（**ECC RAM**）或非ECC RAM。
- en: What is ECC RAM? It is fault-tolerant memory that’s primarily used in high-end
    servers and workstations. Although it does provide greater resiliency, there can
    be a mild performance degradation in using this. If you need resilience, chances
    are that a ~2% hit to speed doesn’t matter.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 什么是ECC RAM？它是一种容错内存，主要用于高端服务器和工作站。虽然它确实提供更高的可靠性，但使用它可能会稍微影响性能。如果你需要可靠性，那么大约2%的性能损失可能并不重要。
- en: Due to its higher cost than standard RAM modules, ECC RAM is uncommonly found
    in IoT devices or small-scale embedded Linux systems.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 由于ECC RAM的成本高于标准RAM模块，它在物联网设备或小规模嵌入式Linux系统中并不常见。
- en: Next, we’ll consider a more important factor that can be impacted by your security
    footprint.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将考虑一个更重要的因素，它可能会受到你的安全性足迹的影响。
- en: Disk input/output (I/O)
  id: totrans-76
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 磁盘输入/输出（I/O）
- en: To best understand how this can impact your design, you must know the definition
    of the term **input/output operations per second** (**IOPS**). Since the point
    of this book is security, not teaching technical terms, I thought it appropriate
    to leverage a standard, publicly accepted definition here.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 为了最好地理解这对你的设计的影响，你必须了解**输入/输出每秒操作次数**（**IOPS**）这一术语的定义。由于本书的重点是安全性，而不是教学技术术语，我认为在这里使用一个标准的、公开接受的定义是合适的。
- en: IOPS is defined as “*an input/output performance measurement that’s used to
    characterize computer storage devices such as hard disk drives (HDDs), solid-state
    drives (SSDs), and storage area networks (SANs). Like benchmarks, IOPS numbers
    published by storage device manufacturers do not directly relate to real-world*
    *application performance.*”
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: IOPS定义为“*一种输入/输出性能测量，用于描述计算机存储设备，如硬盘驱动器（HDD）、固态硬盘（SSD）和存储区域网络（SAN）。像基准测试一样，存储设备制造商发布的IOPS数字与实际应用性能没有直接关系*。”
- en: Tip
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: 'For vastly more on this subject, visit the Wikipedia page on this: [https://en.wikipedia.org/wiki/IOPS](https://en.wikipedia.org/wiki/IOPS).
    Wikipedia is an invaluable public resource that you should consider donating to
    if it helps you. It sure has helped me over the years.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 欲了解更多相关信息，请访问维基百科页面：[https://en.wikipedia.org/wiki/IOPS](https://en.wikipedia.org/wiki/IOPS)。维基百科是一个宝贵的公共资源，如果它对你有帮助，应该考虑向其捐赠。多年来，它确实帮了我不少忙。
- en: Secondly, you must understand the impact encryption has on system performance
    in terms of overhead and degraded IOPS.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，你必须理解加密对系统性能的影响，特别是在开销和IOPS下降方面。
- en: The third and final factor to be considered is what type of storage your solution
    will leverage. This still matters regardless of whether you are creating a virtual
    appliance or a physical one. The painful difference between the two delivery methods
    is that you can control what storage types are built into a physical appliance,
    whereas with a virtual appliance, you have no control and can only provide recommendations.
    If the end-user can control what storage class is used, your solution may not
    function as advertised or – even worse – not be able to function at all if the
    storage is too slow to meet the applications’ needs. So, let’s look at what storage
    choices there are.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 第三个也是最后一个需要考虑的因素是你的解决方案将使用哪种类型的存储。无论你是在创建虚拟设备还是物理设备，这一点都很重要。两种交付方式之间的痛苦区别在于，物理设备可以控制内建的存储类型，而虚拟设备则无法控制，只能提供建议。如果最终用户可以控制所使用的存储类型，你的解决方案可能无法如广告中所示那样工作，甚至更糟的是，如果存储速度过慢而无法满足应用需求，可能根本无法正常运行。那么，让我们看看有哪些存储选项。
- en: 'In the following storage classification list, I will be focusing on the base
    unit of storage itself and not going into different mass storage options, such
    as arrays or network-attached storage. That could be a whole book in itself. So,
    let’s look at your options for individual storage drives:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的存储分类列表中，我将重点关注存储本身的基本单元，而不是讨论不同的海量存储选项，比如阵列或网络附加存储。这本身可能就是一本书。那么，让我们看看各类独立存储驱动器的选项：
- en: '**Hard disk drive** (**HDD**) is one of the oldest storage devices for computer
    systems. Over the decades, the size of the spinning magnetic platters has greatly
    shrunk in size but gained in terms of storage capacity. Early HDDs had their capacity
    in megabytes, though today, they can contain as much as several terabytes. Other
    factors that will limit the overall performance of this storage platform are the
    bus that connects the drive and the amount of IOPS:'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**硬盘驱动器**（**HDD**）是计算机系统中最古老的存储设备之一。几十年来，旋转磁盘的尺寸大大缩小，但存储容量却不断增加。早期的 HDD 容量以兆字节为单位，但如今它们可以容纳多达几个太字节。限制这种存储平台整体性能的其他因素包括连接驱动器的总线和
    IOPS 数量：'
- en: '**Bus**: SATA'
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**总线**: SATA'
- en: '**IOPS**: Between 50-80 on average'
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IOPS**: 平均在 50 到 80 之间'
- en: Tip
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: The bus and IOPS are provided for all noted storage platforms.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 所有提到的存储平台都提供总线和 IOPS。
- en: '**Solid state drive** (**SSD**) is a leap forward in storage technology from
    HDD disks. SSDs have no moving parts and are created in very small form factors.
    They are generally delivered in the form factor of a 2.5 in disk or card form:'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**固态硬盘**（**SSD**）是存储技术从 HDD 硬盘的一个飞跃。SSD 没有活动部件，且通常以非常小的形式因数提供。它们一般以 2.5 英寸硬盘或卡片形式交付：'
- en: '**Bus**: SATA or PCIe'
  id: totrans-90
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**总线**: SATA 或 PCIe'
- en: '**IOPS**: Depending on the platform, 4,000 to tens of thousands (or more)'
  id: totrans-91
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IOPS**: 根据平台不同，从 4,000 到数万（或更多）'
- en: '**Non-Volatile Memory Express** (**NVME**) is the latest in consumer storage
    platforms. NVME drives are delivered as small cards. Sometimes, multiple NVME
    drive cards can be mounted onto a larger PCIe card for storage density:'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**非易失性内存快照**（**NVME**）是最新的消费者存储平台。NVME 驱动器通常以小卡片的形式提供。有时，多个 NVME 驱动卡可以安装到一个更大的
    PCIe 卡上以提高存储密度：'
- en: '**Bus**: PCIe'
  id: totrans-93
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**总线**: PCIe'
- en: '**IOPS**: Depending on the platform, 10,000 up to millions'
  id: totrans-94
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IOPS**: 根据平台不同，从 10,000 到数百万不等'
- en: Now that we’ve taken a deep dive into some of the most common storage types,
    let’s look at how adding encryption impacts their performance.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经深入探讨了一些最常见的存储类型，让我们看看添加加密如何影响它们的性能。
- en: Encryption at the disk, volume, or filesystem level can easily be broken down
    into two delivery methods. These are hardware-based encryption and software-based
    encryption. Each has its positives and negatives.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在磁盘、卷或文件系统级别的加密可以轻松分为两种交付方式。这两种方式是基于硬件的加密和基于软件的加密。每种方式都有其优缺点。
- en: Hardware-based solutions are normally delivered via PCIe RAID cards. They can
    not only allow you to create resilient volumes but also offload the overhead of
    providing encryption from the main CPU or operating system. The only drawbacks
    are having proper slots to fit the cards into your solution, and more so the costs
    of said cards.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 基于硬件的解决方案通常通过 PCIe RAID 卡提供。这些卡不仅可以让你创建弹性卷，还能将加密的开销从主 CPU 或操作系统中卸载出去。唯一的缺点是需要有适合的插槽来安装这些卡，以及这些卡的成本较高。
- en: '**Linux Unified Key Setup** (**LUKS**) is the standard software-based encryption
    method for Linux distributions. Widely used across the world in solutions of all
    scales, LUKS does add a bit of overhead cost in terms of RAM and CPU performance.
    On scale, it requires external key management, but on an individual system, it
    will force the user to enter a passphrase before the filesystem can be accessed.
    This can be cumbersome for booting and updating processes as it requires manual
    intervention. Other than those factors, it costs nothing to implement.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '**Linux统一密钥设置**（**LUKS**）是Linux发行版中标准的软件加密方法。LUKS被广泛应用于各种规模的解决方案中，尽管它在内存和CPU性能上会增加一些开销。大规模应用时，它需要外部密钥管理，但在单个系统上，它会要求用户在访问文件系统之前输入密码短语。这可能会对启动和更新过程造成一定的麻烦，因为它需要手动干预。除了这些因素外，实施LUKS不需要额外的费用。'
- en: Encrypting data at rest is considered a cornerstone of systems security. On
    the other hand, encrypting data in transit is often taken care of at the application
    or networking layer.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 对静态数据进行加密被认为是系统安全的基石。另一方面，传输中的数据加密通常是在应用程序或网络层处理的。
- en: Networking
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络
- en: In this section, we’ll review a few options you can implement to add security
    to your networking profile while reducing the load on your solution’s CPU. With
    each of these options, we’ll provide you with some links to further educate you
    on their technology. Each of these technologies, which will be presented in brevity
    here, can greatly assist your team in designing a more secure solution.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将回顾几种可以实施的选项，以增强网络配置的安全性，同时减轻解决方案CPU的负担。对于每一个选项，我们将为你提供一些链接，进一步了解其技术。每一项技术将在这里简要介绍，但它们都能大大帮助你的团队设计出更加安全的解决方案。
- en: What I don’t want to do here is waste your time with general information on
    firewalling, VLANs, whitelisting address segments, or other basic network security.
    As this book focuses on designing, building, and supporting secure embedded Linux
    systems appliances, I intend to highlight hardware that can assist you. Let’s
    take a look at a couple of interesting technologies that you should consider putting
    into your solutions.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我不想浪费你时间去讨论防火墙、VLAN、地址段白名单或其他基本网络安全内容。由于本书专注于设计、构建和支持安全的嵌入式Linux系统设备，我打算重点介绍能帮助你的硬件。让我们来看看几个有趣的技术，你应该考虑将其纳入你的解决方案中。
- en: TCP offload engine
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: TCP卸载引擎
- en: For several years now, some higher-end **network interface cards** (**NICs**)
    have had additional built-in functionality to offload the entire TCP/IP networking
    stack from the main CPU of the system. This comes in the form of a solution known
    as a **TCP offload engine**. These NICs are supported by virtually all operating
    systems now.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 近年来，一些高端**网络接口卡**（**NICs**）增加了内建的附加功能，可以将整个TCP/IP网络栈从系统的主CPU中卸载。这种功能以**TCP卸载引擎**的形式出现。目前几乎所有操作系统都支持这些NIC。
- en: Leveraging one or more of these cards can improve the performance of your solution
    but realistically, you must still have to account for encryption and security
    in your applications and systems configuration as well. Moving the networking
    stack to the NIC allows for other types of application security to run unimpeded
    on the main CPU.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 利用一张或多张这样的卡片可以提高你解决方案的性能，但现实中，你仍然需要在应用程序和系统配置中考虑加密和安全性。将网络栈迁移到NIC上，可以让其他类型的应用程序安全性在主CPU上不受阻碍地运行。
- en: You can learn more about this technology at [https://en.wikipedia.org/wiki/TCP_offload_engine](https://en.wikipedia.org/wiki/TCP_offload_engine).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过[https://en.wikipedia.org/wiki/TCP_offload_engine](https://en.wikipedia.org/wiki/TCP_offload_engine)了解更多关于该技术的信息。
- en: TLS accelerator cards
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: TLS加速卡
- en: '**Transport Layer Security** (**TLS**) accelerators (formerly also known as
    **SSL accelerators**) are cards that offload processor-intensive work related
    to encrypting and decrypting network traffic. The performance boost and network
    security capability increase by leveraging one of these solutions is beyond substantial.
    Some high-end appliance manufacturers embed this hardware directly on their mainboards,
    though they can be added easily via a PCI slot (if available) on the system.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**传输层安全性**（**TLS**）加速器（以前也称为**SSL加速器**）是用于卸载与加密和解密网络流量相关的处理器密集型工作卡。通过利用这些解决方案，性能提升和网络安全能力的增强是显著的。一些高端设备制造商将这些硬件直接集成在主板上，尽管如果系统有PCI插槽，也可以轻松通过该插槽添加。'
- en: You can learn more about this technology at [https://en.wikipedia.org/wiki/TLS_acceleration](https://en.wikipedia.org/wiki/TLS_acceleration).
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在[https://en.wikipedia.org/wiki/TLS_acceleration](https://en.wikipedia.org/wiki/TLS_acceleration)了解更多关于此技术的信息。
- en: GPU
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: GPU
- en: OK – I know that I may ruffle some feathers here with my take on this subject.
    In recent years, GPUs have been used more for offloading workloads than processing
    video output in many appliance solutions worldwide. It can be debated and argued
    that most modern GPUs are more competent at workload processing than the majority
    of the mainstream CPU market.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 好吧——我知道我的观点可能会引起一些争议。近年来，GPU在全球许多设备解决方案中更多地被用来卸载工作负载，而不是处理视频输出。可以争论并讨论，大多数现代GPU在工作负载处理方面比大多数主流CPU更为出色。
- en: Regardless of your opinion on their usage, offloading the processing of computational
    power to GPUs is a mainstream function in many Linux systems. This is most commonly
    associated with efforts in **artificial intelligence** (**AI**) and **machine
    learning** (**ML**) applications.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你对其使用的看法如何，将计算处理任务卸载到GPU上已成为许多Linux系统中的主流功能。这通常与**人工智能**（**AI**）和**机器学习**（**ML**）应用相关。
- en: This is a design concern based on what may be supported in your chosen operating
    system (which we plan to dive deep into within the next chapter). Adding a GPU
    to your system is no small decision. Most of these cards are quite significant
    in terms of size and they require a notable amount of additional power (provided
    via direct cables from the **power supply unit** (**PSU**) of the system itself).
    In most circumstances, this additional power powers the card’s cooling fans as
    they generate heat like an oven!
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个设计问题，基于你选择的操作系统可能支持的内容（我们计划在下一章深入探讨这一点）。将GPU添加到系统中并不是一个小决定。这些卡通常在大小上相当显著，并且它们需要大量额外的电力（通过系统本身的**电源供应单元**（**PSU**）的直接电缆提供）。在大多数情况下，这些额外的电力为卡的冷却风扇提供动力，因为它们会像烤箱一样产生热量！
- en: Implementing a solution that requires a significant GPU or multiple GPUs will
    require a larger PSU and more significant cooling to be built within the appliance.
    I felt that it was important to mention this as we will soon discuss the impact
    environmental concerns have on your solution.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 实现一个需要显著GPU或多个GPU的解决方案，将需要更大的电源供应单元（PSU）和更强的冷却系统来构建在设备内。我认为有必要提到这一点，因为我们很快将讨论环境因素对你的解决方案的影响。
- en: Next, we’ll consider other custom hardware that you may require in your appliance.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将考虑在你的设备中可能需要的其他定制硬件。
- en: Custom hardware and peripherals
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 定制硬件和外围设备
- en: This is a section that may be near and dear to your heart since you’re building
    a custom solution. There are vast security implications and factors to consider,
    depending on what your solution will be connected to or contain internally. Building
    an appliance solution virtually implies some level of customization at not just
    the software level but the hardware leveraged as well. This is best described
    by the fact that you are solving an issue or several issues that the end-customer
    could not account for easily.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个可能与你息息相关的部分，因为你正在构建定制解决方案。根据你的解决方案将连接到什么或内部包含什么内容，存在巨大的安全影响和因素需要考虑。构建一个设备解决方案几乎意味着在硬件和软件层面上都需要某种程度的定制。最能说明这一点的是，你正在解决一个或多个最终客户无法轻松应对的问题。
- en: Physical security concerns aside, let’s take a journey down the path of what
    security concerns may exist with the usage of custom hardware and/or external
    peripheral hardware devices. These can be internal or connected to your solution
    externally. They may require your solution to have third-party drivers and software
    installed that you have little control over or input in their life cycle.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 抛开物理安全问题，我们来探讨一下使用定制硬件和/或外部外围硬件设备可能带来的安全隐患。这些硬件可以是内部的，也可以是外部连接到你的解决方案的。它们可能需要你的解决方案安装第三方驱动程序和软件，而你对这些软件的生命周期几乎没有控制权或输入。
- en: For externally connected devices, the concern not only resides in software that
    is out of your control but also in the physical medium to which your solution
    is connected to these devices. Perhaps your solution is built to control or maintain
    external industrial machines. The very manner in which your solution connects
    with them and the protocols in play is the greatest security concern.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 对于外部连接的设备，问题不仅在于软件超出了你的控制范围，还在于你的解决方案与这些设备连接的物理介质。也许你的解决方案是为了控制或维护外部工业机器。你的解决方案与这些机器的连接方式以及使用的协议是最大的安全隐患。
- en: If the custom hardware or peripheral needs third-party support and software,
    your team must ensure that the life cycle and support cycle will align with what
    you project for your solution. If you’re building a solution that’s anticipated
    to last for approximately 5-10 years but the third-party software needed to maintain
    the functionality may not be supported after only a few years, there is a massive
    gap. Failure to plan for this is a security problem. If there’s a newly discovered
    vulnerability but your vendor is no longer providing support or updates, your
    solution is ultimately compromised.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 如果定制硬件或外设需要第三方支持和软件，你的团队必须确保生命周期和支持周期与你预计的解决方案的时间表一致。如果你正在构建一个预计会持续5-10年的解决方案，但所需的第三方软件可能在几年后就不再提供支持，那么这就会造成巨大的差距。没有做好这方面的规划是一个安全问题。如果发现了新的漏洞，但你的供应商不再提供支持或更新，你的解决方案最终将被妥协。
- en: The implications for your product might be substantial here, so I recommend
    having done a bit of due diligence in confirming the supportability of anything
    third party that you build into your solution. *The devil is in* *the details*.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 对你的产品而言，这里的影响可能非常重大，因此我建议在确认任何第三方构建的解决方案是否可支持之前，做好尽职调查。*关键在于* *细节*。
- en: Now, let’s move on to another crucial factor – encompassing the implications
    of how and where your solution may be deployed by your end-customers. This is
    the environment in which it will reside.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们进入另一个至关重要的因素——涉及到终端客户可能部署你的解决方案的方式和地点。这就是它将存在的环境。
- en: Are there any environmental limitations?
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 是否存在任何环境限制？
- en: In this section, we will cover a group of often overlapping concerns that will
    impact the design and physical security of your product. Not all hardware is capable
    of residing in challenging environments. Let’s face the facts here and acknowledge
    that most electronics need a pretty stable and safe environment in which to operate
    efficiently. Exposure to the elements, limited cooling, power availability, lack
    of internet, and physical security all are at play here (and more). These factors
    may greatly influence whether or not your team can leverage existing off-the-shelf
    hardware platforms or whether you must design and build a custom platform. There
    are many vendors worldwide that can assist you regardless, but it’s up to you
    and your team to make that call. Let’s look at the factors you must consider.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们将涵盖一组通常交织在一起的关注点，这些关注点将影响你产品的设计和物理安全性。并非所有硬件都能适应挑战性环境。让我们面对现实，承认大多数电子设备需要一个相当稳定和安全的环境才能高效运作。暴露在外部环境、冷却不足、电力供应、缺乏互联网连接和物理安全性等因素都在这里发挥作用（还有更多）。这些因素可能会极大地影响你的团队是否能够利用现有的现货硬件平台，或者是否需要设计并构建一个定制平台。无论如何，全球有许多供应商可以提供帮助，但最终决定权在于你和你的团队。让我们来看一下你必须考虑的因素。
- en: Power
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 电力
- en: Power consumption, which is directly correlated to cooling requirements, is
    yet another crucial calculation and requirement for your solution. Power consumption
    is rate-limited by the power supply in the hardware platform. These can vary vastly,
    depending on the scale of capacity and the components in your solution.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 电力消耗与冷却要求直接相关，另一个至关重要的计算和要求就是你的解决方案的电力消耗。电力消耗受到硬件平台电源的限制。根据容量的规模和解决方案中的组件，这些电力消耗可能会有很大差异。
- en: Another power consideration has to do with where and how it will be deployed.
    Let’s review some examples.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要考虑的电力因素与部署的位置和方式有关。让我们回顾一些例子。
- en: The average CPU doesn’t consume that much power. However, if you have built
    a solution that has incorporated one or more GPUs, then plan for additional power
    and aggressive amounts of cooling. This may entail additional components, such
    as additional fans, liquid cooling systems, or additional heat sinks.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 一般的CPU并不消耗太多电力。然而，如果你构建的解决方案中包含了一个或多个GPU，那么就需要为额外的电力和更强的冷却能力做好规划。这可能需要额外的组件，如额外的风扇、液体冷却系统或额外的散热片。
- en: Systems that run too hot don’t live long productive lives. They are much more
    likely to crash randomly and create situations where your solution is compromised
    or create negative customer experience issues. Heat is a key environmental factor.
    We will revisit environmental considerations later in this chapter and also discuss
    how some vendors counter them.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 运行过热的系统无法长时间保持高效工作。它们更容易随机崩溃，导致解决方案受到损害或造成负面的客户体验问题。热量是一个关键的环境因素。我们将在本章稍后再次讨论环境因素，并讨论一些供应商如何应对这些问题。
- en: Let’s move on to another set of impacting factors.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续讨论另一个影响因素。
- en: Offline/air-gapped
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 离线/隔离网络
- en: Albeit very common for embedded Linux systems appliances, being cut off from
    the internet is not a bad thing. Being shielded from exposure to external threats
    can be seen as a positive attribute for a system to have. Sadly, such protection
    also comes at a cost. Simplistic methods to provide device updates directly from
    web-based resources become untenable.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管对于嵌入式 Linux 系统设备来说，无法连接互联网是非常常见的，但这并不一定是坏事。被屏蔽在外部威胁之外可以被视为系统的一种积极特性。可悲的是，这种保护也有代价。通过基于网络的资源直接提供设备更新的简单方法变得不可行。
- en: These systems require additional coding for their interfaces and alternate methods
    for processing software updates. This can be as simple as creating a DNF repository
    behind the firewall for the devices to update or be as complex as having an interface
    that leverages the ingestion of an update via an encrypted tarball, ISO image,
    or binary file.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 这些系统需要为其接口编写额外的代码，并采用其他方法来处理软件更新。这可以像在防火墙后面为设备创建一个 DNF 仓库来更新一样简单，也可以像通过加密的 tarball、ISO
    镜像或二进制文件引入更新的接口一样复杂。
- en: It’s paramount for you to understand your target market so that you can plan
    for this requirement. For some industries, such as the government, this is considered
    a baseline standard to adhere to. However, there are exceptions, hence why we
    covered impact levels earlier in this book. Some agencies may allow systems that
    are not critical nor contain any sensitive data to get their updates from the
    internet. It happens, but this cannot be assumed to be the standard. Often, the
    standards are much less forgiving.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 你必须充分了解你的目标市场，以便为这一需求做好规划。对于一些行业，例如政府，这是被视为必须遵循的基础标准。然而，也有例外，这就是为什么我们在本书中早些时候提到影响级别的原因。一些机构可能会允许那些非关键且不包含任何敏感数据的系统通过互联网更新。虽然这种情况确实存在，但不能假设这是标准做法。通常，标准会更加严格。
- en: What if your appliance is a component in a vehicle? Let’s just assume this vehicle
    itself has no internet access and that its updates are only provided when the
    vehicles’ owners take them to the dealership for service. Sound futuristic? Not
    exactly. This situation is a reality today. In terms of some of the most advanced
    vehicles, maybe they can self-update when they are parked outside your home via
    your Wi-Fi connection. Some even have satellite connections. Can you see where
    this leads? But mostly, such updates are strictly controlled by the manufacturers.
    I honestly believe they’d prefer to be able to charge you money via the dealership
    for such services.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的设备是某辆车的组成部分呢？我们假设这辆车本身没有互联网接入，并且它的更新仅在车主将车辆送到经销商进行维修时提供。听起来像是未来的事情吗？其实不然。今天这种情况已经是现实。对于一些最先进的车辆来说，也许它们可以在停放在你家外面时通过你的
    Wi-Fi 连接自我更新。有些甚至有卫星连接。你能明白这会带来什么吗？但大多数情况下，这种更新是严格由制造商控制的。老实说，我认为他们更愿意通过经销商向你收费提供这些服务。
- en: Many appliances are deployed in areas that simply have no luxury of getting
    connected to a cellular network, Wi-Fi, or LAN. So, simply knowing your target
    audience and planning to serve them best is key.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 许多设备部署在那些无法连接到蜂窝网络、Wi-Fi 或局域网的地方。因此，了解你的目标用户并规划如何最好地为他们服务至关重要。
- en: We’ll talk more about this subject in upcoming chapters and dive deeper into
    this via practical exercises in future chapters (in which you’ll also have access
    to the resources via this book’s GitHub repository).
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在接下来的章节中进一步讨论这个话题，并通过实际练习深入探讨（你也可以通过本书的 GitHub 仓库访问相关资源）。
- en: I could go on about offline systems. I bet you’re thinking, *Please don’t!*.
    So, for now, let’s move on to the next critical factor we need to plan for.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 我本可以继续讲述离线系统的事情。我猜你现在在想，*请不要继续！*。所以暂时让我们继续讨论下一个我们需要规划的重要因素。
- en: Climate control
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 气候控制
- en: Where exactly will your solution be deployed? This is yet another key bit of
    information. Why? Brace for impact, because it truly matters. If your target audience
    works in a desert environment outdoors, for example, then standard off-the-shelf
    hardware will not suffice. You’ll need hardware that can survive in that environment
    and thrive. Such an example poses other system design concerns. Will this system
    be in sunlight and be exposed to the elements?
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 你的解决方案将部署在哪里？这是另一个关键的信息点。为什么？请做好准备，因为它真的很重要。如果你的目标用户在沙漠环境下工作，比如说，那么普通的现成硬件将无法满足需求。你需要能够在那种环境中生存并茁壮成长的硬件。这样的例子还会带来其他系统设计的考量。这个系统会暴露在阳光下并面临天气元素的侵蚀吗？
- en: Hopefully, you can see where I am going with this. But if you can’t yet, let’s
    take a look at another example situation. Let’s say that your appliance is targeting
    the agricultural industry and that it is mounted on very large tractors that service
    massive farmlands. Is your solution going to be able to withstand the vast differences
    in temperatures, humidity, and weather in that situation?
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 希望你能理解我想表达的意思。如果你还不明白，我们来看另一个示例情境。假设你的设备面向农业行业，并且安装在为广阔农田服务的巨大拖拉机上。在这种情况下，你的解决方案能否承受温度、湿度和天气的巨大变化？
- en: Now, let’s consider the ultimate extreme example that has existed for decades.
    What if your solution were to be a component of something traveling in outer space,
    such as a satellite or a deep space probe? Is your solution capable of enduring
    radiation, vast heating and freezing situations, and most of all the prospect
    of a piece of space dust or debris traveling at 100,000 km per hour?
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们考虑一个极端的例子，这种情况已经存在了几十年。如果你的解决方案是某个在外太空中运行的设备的组成部分，比如卫星或深空探测器呢？你的解决方案是否能承受辐射、极端的高温和低温情况，以及最重要的是，是否能抵御每小时时速达到10万公里的太空尘埃或碎片？
- en: 'Environmental conditions can easily compromise your solution if they are not
    planned for. However, there’s also another level of security you need to plan
    for if a machine is not in a protected location: the appliance’s physical security.
    Few platforms have tamper-proofing built in, so this also needs to be considered
    if your solution could be in a place outside or exposed to the public. Perhaps
    you need to ensure the solution has a locking enclosure or other protections.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有做好充分的规划，环境条件很容易会影响你的解决方案。然而，如果机器不在受保护的地方，还有一个额外的安全层级需要考虑：设备的物理安全。很少有平台内建防篡改功能，因此，如果你的解决方案可能位于户外或暴露在人群中，这一点也需要考虑。也许你需要确保解决方案有一个带锁的外壳或其他保护措施。
- en: Protect your solutions from their target environment. Protect your solutions
    from unauthorized access. Protect your solutions from the end-users themselves.
    Yes, I said it – protect your appliances from the end-users themselves. The overall
    environment in which your solutions could be deployed determines our next design
    factor. Taking all, you’ve gathered thus far, let’s move on to choosing to use
    off-the-shelf hardware or having something custom-built.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 保护你的解决方案免受目标环境的影响。保护你的解决方案免受未经授权的访问。保护你的解决方案免受最终用户的影响。是的，我说的没错——保护你的设备免受最终用户的影响。你的解决方案可能部署的整体环境决定了我们下一个设计因素。结合你至今收集到的所有信息，让我们继续选择使用现成硬件还是定制硬件。
- en: COTS versus custom-built hardware
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 现成硬件与定制硬件
- en: Yes, I saved this *little* section for last in this group as all the previous
    ones led to this. This is where I truly hope that you’ve been paying close attention
    to the treasure trove of circumstances that can impact your overall final design
    for your solution.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 是的，我把这一*小*部分留到了最后，因为之前的所有内容都引出了这一点。在这里，我真心希望你一直在关注那些可能影响你最终解决方案设计的各种情况。
- en: As part of my intense research for this book, I’ve reached out to a few of the
    most likely hardware vendors that impact the embedded Linux systems market here
    in North America and globally. I was shocked to see how several of them no longer
    offer fully customized solutions rather than custom bezels and covers, hence why
    I felt this review needed to be here.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在我为这本书进行深入研究的过程中，我联系了几家对嵌入式Linux系统市场有影响的硬件供应商，无论是在北美还是全球。我震惊地发现，几家公司不再提供完全定制的解决方案，只提供定制的外框和外壳，因此我觉得有必要在这里提到这一点。
- en: Some smaller or foreign shops will build you a system to specification but know
    that you will pay a premium for such services. I humbly acknowledge that based
    on your solutions’ needs, this may be your only recourse.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 一些较小的或国外的商店会根据规格为你定制系统，但你需要知道，选择这种服务，你将需要支付额外的费用。我谦虚地承认，根据你的解决方案的需求，这可能是你唯一的选择。
- en: Some of these global vendors, such as Dell, HPE, and Lenovo, are more than happy
    to create a rebranded version of the hardware they already build. Few, however,
    at least in the USA, will build a custom system from the motherboard up. Those
    that will create an entire custom build from the motherboard onwards will not
    be inexpensive unless the order of scale in the number of systems requested is
    astronomical.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 一些全球供应商，如戴尔、HPE 和联想，乐于创建他们已经生产的硬件的重新品牌版本。然而，至少在美国，很少有供应商会从主板开始为你定制系统。那些愿意从主板开始创建完整定制构建的供应商，除非你订单的系统数量达到天文数字，否则价格通常不会便宜。
- en: As customization is at such a premium cost, leveraging an existing form factor/build
    from a major vendor does have its advantages. Firstly, you know the system that
    will be delivered to you is supported, has a level of quality, and is easily repeated.
    The bigger factor in leveraging a vendor like this is to be able to get a system
    that meets your environmental and form factor needs.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 由于定制化成本非常高，因此利用大厂商现有的外形因子/构建确实有其优势。首先，你知道交付给你的系统是有支持的，具备一定的质量，并且可以轻松复制。更大的优势在于，通过这种方式你可以获得符合你环境需求和外形因子要求的系统。
- en: In this section, we’ll take a look at a couple of global companies that build
    good systems that can be leveraged as your platform for your embedded Linux system.
    My day job has empowered me with excellent access to these two companies (and
    several others) but I offer the disclaimer that there are more out there across
    the globe. Both have many excellent products and services that can assist your
    team in its journey to create the ultimate secure embedded Linux system.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将介绍几家全球公司，它们生产出色的系统，可以作为嵌入式Linux系统的基础平台。我在本职工作中得到了极好的机会与这两家公司（以及其他几家公司）进行接触，但我需要声明，全球范围内还有更多这样的公司。这两家公司都有许多优秀的产品和服务，可以帮助你的团队创建最终的安全嵌入式Linux系统。
- en: Dell
  id: totrans-152
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 戴尔
- en: So, who is Dell and what do they do in the embedded Linux systems space? As
    one of the largest OEM manufacturers of technology solutions in the world, Dell
    has advanced capabilities and services that can be tailored to assist their embedded
    partners in logistics, building, and providing key solutions’ life cycle services.
    In other words, they can help you build, design, and then actually do all the
    heavy lifting for your team. This means that once you’ve settled on a design specification,
    Dell’s services can build, ship to customers, and even provide end-customer updates
    and support. You can learn more at [www.dell.com](http://www.dell.com) or on YouTube
    at [https://www.youtube.com/channel/UC01FW5V9UVohbPtqKSmXX-w](https://www.youtube.com/channel/UC01FW5V9UVohbPtqKSmXX-w).
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，戴尔到底是谁，他们在嵌入式Linux系统领域做了什么呢？作为全球最大的OEM技术解决方案制造商之一，戴尔拥有先进的能力和服务，可以定制帮助其嵌入式合作伙伴在物流、构建和提供关键解决方案生命周期服务。换句话说，他们可以帮助你构建、设计，并为你的团队承担所有的重担。这意味着，一旦你确定了设计规格，戴尔的服务可以进行构建、发货给客户，甚至提供最终客户的更新和支持。你可以通过
    [www.dell.com](http://www.dell.com) 或在YouTube上通过 [https://www.youtube.com/channel/UC01FW5V9UVohbPtqKSmXX-w](https://www.youtube.com/channel/UC01FW5V9UVohbPtqKSmXX-w)
    了解更多信息。
- en: Dell makes a wide range of server and workstation products. Another thing that
    Dell is known for is being one of the world’s first major OEM vendors to ship
    Linux pre-installed on their systems.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 戴尔生产广泛的服务器和工作站产品。戴尔另一个著名的特点是，它是全球首批将Linux预装在其系统上的主要OEM供应商之一。
- en: OnLogic™
  id: totrans-155
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: OnLogic™
- en: So, who is OnLogic™ and what do they do in the embedded Linux systems space?
    As mentioned on the official website ([https://www.OnLogic.com/company/press/cl250/](https://www.OnLogic.com/company/press/cl250/)),
    *“OnLogic™ is a global industrial computer manufacturer who designs highly configurable,
    solution-focused computers engineered for reliability at the IoT edge. Their systems
    operate in the world’s harshest environments, empowering customers to solve their
    most complex computing challenges, no matter their industry. Founded in 2003,
    the company has offices in the US, the Netherlands, Taiwan, and Malaysia. OnLogic™
    has helped more than 70,000 customers worldwide advance their ideas with computers
    that are designed to last, built to order, and delivered in days.* Learn more
    at [www.OnLogic™.com](http://www.onlogic.com)or on YouTube at [www.youtube.com/](http://www.youtube.com/onlogic)OnLogic™*.”*
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，OnLogic™ 是谁？他们在嵌入式 Linux 系统领域做什么？正如官方网站上所述 ([https://www.OnLogic.com/company/press/cl250/](https://www.OnLogic.com/company/press/cl250/))，*“OnLogic™
    是一家全球性的工业计算机制造商，设计高度可配置、以解决方案为导向的计算机，专为物联网边缘可靠性而工程打造。它们的系统可在世界上最恶劣的环境中运行，帮助客户解决他们最复杂的计算挑战，无论所属行业如何。公司成立于2003年，拥有美国、荷兰、台湾和马来西亚的办事处。OnLogic™
    帮助了全球超过70,000名客户推进他们的创意，提供经久耐用、按需定制、并且在几天内交付的计算机。* 了解更多请访问 [www.OnLogic™.com](http://www.onlogic.com)
    或在 YouTube 上访问 [www.youtube.com/](http://www.youtube.com/onlogic)OnLogic™*。”*
- en: OnLogic makes a vast range of customizable systems for those creating solutions,
    ranging from very small ARM™-based systems, to a range of rugged PCs, and closing
    the loop with ruggedized modular small industrialized servers. Any of these systems
    are geared toward a wide range of environmental conditions. These resilient systems
    empower operations in climates and situations that would destroy lesser systems.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: OnLogic 提供多种可定制的系统，适用于创建解决方案的用户，涵盖从非常小的基于 ARM™ 的系统，到一系列坚固的 PC，再到坚固的模块化小型工业服务器。这些系统针对各种环境条件而设计，能够在极端气候和情境中进行操作，承受普通系统无法承受的挑战。
- en: 'Let’s consider an example of an OnLogic system being used in an industrial
    situation. The following figure shows an ARM-based OnLogic Factor 201™ system
    mounted in an electrical cabinet and being used as a **programmable logic controller**
    (**PLC**) that controls functions for machine controls within a factory environment:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一个 OnLogic 系统在工业环境中的应用示例。下图展示了一台基于 ARM 的 OnLogic Factor 201™ 系统，安装在电气柜中，作为
    **可编程逻辑控制器** (**PLC**) 控制工厂环境中的机器功能：
- en: '![](img/B22104_03_01.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B22104_03_01.jpg)'
- en: Figure 3.1 – OnLogic Factor 201
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.1 – OnLogic Factor 201
- en: For more information on the comprehensive line of OnLogic Factor 201 system
    solutions, please visit the OnLogic Factor 201 system website, a link to which
    was provided previously.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 关于 OnLogic Factor 201 系统解决方案的更多信息，请访问之前提供的 OnLogic Factor 201 系统网站链接。
- en: Now that we’ve reviewed a couple of examples of COTS systems, if you don’t believe
    they meet your needs, then it’s time to consider custom builds from the ground
    up. This is a herculean undertaking and not something I have any deep recommendations
    for.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经回顾了一些 COTS 系统的示例，如果你认为它们无法满足你的需求，那么是时候考虑从头开始定制构建。这是一项艰巨的任务，我没有任何深刻的建议。
- en: What mainstream CPU/hardware platforms are available?
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 目前有哪些主流的 CPU/硬件平台可用？
- en: Now, let’s take a quick tour of the most commonplace platforms (and some not-so-common)
    that can be found being used by companies building embedded Linux systems. Each
    of these platforms has a unique performance profile and costs. The following platforms
    have been used by partners that I have worked with in the past decade. Some of
    these are vastly more popular than others. Let’s dive in.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们快速了解一些最常见的平台（以及一些不那么常见的平台），这些平台通常被用于构建嵌入式 Linux 系统的公司。每个平台都有其独特的性能特征和成本。以下平台是我过去十年与合作伙伴一起使用过的。一些平台比其他平台更为流行。让我们深入了解。
- en: Xeon™
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Xeon™
- en: The Intel Xeon™ processor family has been the flagship of high-performance server
    and workstation solutions since its introduction in 1998\. These processors are
    commonly used in AI, HPC, database and analytics, and critical application workloads.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 英特尔 Xeon™ 处理器系列自1998年推出以来，一直是高性能服务器和工作站解决方案的旗舰。这些处理器通常用于 AI、HPC、数据库和分析，以及关键应用工作负载。
- en: For more information on choosing the right Xeon processor for your solution,
    visit the Intel® website at [https://www.intel.com/content/www/us/en/products/docs/processors/xeon/server-processor-overview.html](https://www.intel.com/content/www/us/en/products/docs/processors/xeon/server-processor-overview.html).
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 有关如何为你的解决方案选择合适的 Xeon 处理器的更多信息，请访问英特尔® 官网 [https://www.intel.com/content/www/us/en/products/docs/processors/xeon/server-processor-overview.html](https://www.intel.com/content/www/us/en/products/docs/processors/xeon/server-processor-overview.html)。
- en: Core™
  id: totrans-168
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Core™
- en: The Intel® Core™ family of processors covers a wide range of devices, from IoT
    devices to laptops to the highest-end gaming PCs (i3, i5, i7, and i9). This family
    of processors can effortlessly handle everything from edge computing to business
    applications to high-end gaming.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 英特尔® Core™ 系列处理器涵盖了从物联网设备到笔记本电脑，再到高端游戏 PC（i3、i5、i7 和 i9）等各种设备。这个处理器家族能够轻松应对从边缘计算到商业应用，再到高端游戏的所有需求。
- en: For more information on how to choose the right Core processor for your solution,
    visit the Intel website at [https://www.intel.com/content/www/us/en/products/details/processors/core.html](https://www.intel.com/content/www/us/en/products/details/processors/core.html).
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 有关如何为你的解决方案选择合适的 Core 处理器的更多信息，请访问英特尔官网 [https://www.intel.com/content/www/us/en/products/details/processors/core.html](https://www.intel.com/content/www/us/en/products/details/processors/core.html)。
- en: Atom™
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Atom™
- en: The Intel® Atom™ family of processors delivers a low-power consuming x64 platform
    that’s geared toward appliances and IoT devices. You might even think that these
    processors were tailor-made for the diverse environmental needs of most networking
    devices, edge appliances, and definitely for embedded Linux systems solutions.
    Don’t let their lightweight size and reduced power consumption fool you – these
    processors pack a punch in terms of processing capability. To learn more about
    Atom processors, visit the Intel website at [https://www.intel.com/content/www/us/en/products/details/processors/atom.html](https://www.intel.com/content/www/us/en/products/details/processors/atom.html).
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 英特尔® Atom™ 系列处理器提供低功耗的 x64 平台，专为家电和物联网设备设计。你甚至可能认为这些处理器是为大多数网络设备、边缘设备，尤其是嵌入式
    Linux 系统解决方案的多样化环境需求量身定做的。别让它们轻巧的体积和较低的功耗欺骗了你——这些处理器在处理能力方面表现不凡。要了解更多关于 Atom 处理器的信息，请访问英特尔官网
    [https://www.intel.com/content/www/us/en/products/details/processors/atom.html](https://www.intel.com/content/www/us/en/products/details/processors/atom.html)。
- en: Ryzen™
  id: totrans-173
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Ryzen™
- en: The AMD® Ryzen™ family of processors boasts onboard AI capabilities and Radeon
    GPU features on-chip. This empowers these chipsets to not just address the gaming
    PC market but readily provide the ability to process AI workloads within small
    form factors. AMD is also committed to maintaining the socket technology used
    by this family of processors for years to come. This is a pretty cool feature
    if you wish to future-proof your solution or be able to simply change the CPU
    itself for T-shirt sizing options. To learn more about the Ryzen™ family of processors,
    visit the AMD website at [https://www.amd.com/en/products/processors/business-systems/ryzen-ai.html](https://www.amd.com/en/products/processors/business-systems/ryzen-ai.html).
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: AMD® Ryzen™ 系列处理器具有内建的 AI 能力和 Radeon GPU 功能。它使这些芯片组不仅能够满足游戏 PC 市场的需求，还能在小型化设计中处理
    AI 工作负载。AMD 还承诺将继续支持这一系列处理器所使用的插槽技术多年。如果你希望为你的解决方案做好未来兼容性准备，或者希望简单地更换 CPU 本身，这无疑是一个非常酷的特点。要了解更多关于
    Ryzen™ 系列处理器的信息，请访问 AMD 官网 [https://www.amd.com/en/products/processors/business-systems/ryzen-ai.html](https://www.amd.com/en/products/processors/business-systems/ryzen-ai.html)。
- en: Advanced RISC Machine (ARM™)
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 高级精简指令集计算机（ARM™）
- en: '**ARM®** isn’t just a platform – it’s a licensed architecture and because of
    this, many manufacturers build custom variations of this architecture into their
    systems. In recent years, NVIDIA tried to buy the company that owns the rights
    and patent of the architecture. This didn’t happen as planned, but NVIDIA is now
    known for bringing the most advanced ARM-based solutions coupled with their industry-leading
    GPU technologies, and these are trending in the ever-growing AI/ML battlefield.'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**ARM®** 不仅仅是一个平台——它是一种授权架构，因此许多制造商将这一架构的定制变体集成到他们的系统中。近年来，NVIDIA 曾尝试收购拥有这一架构权利和专利的公司。虽然这一计划未能如愿以偿，但现在
    NVIDIA 因为结合其行业领先的 GPU 技术，推出最先进的基于 ARM 的解决方案而闻名，而这些解决方案正在快速占领日益增长的 AI/ML 战场。'
- en: 'The number of use cases where ARM is used as the platform is as vast as its
    ability to scale in terms of performance. This ranges from cellular phones to
    IoT devices and transcends to large-scale data center clusters of ARM with multiple
    onboard GPU-powered juggernaut servers. All of these require their manufacturers
    to pay license fees to the ARM corporation. If you’re interested in learning more
    about how this all works, I recommend taking a look at their website: [https://www.arm.com/](https://www.arm.com/).'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: ARM 作为平台的使用案例数量与其在性能方面的可扩展性一样广泛。从手机到物联网设备，再到搭载多个 GPU 驱动的 ARM 大规模数据中心集群，这一切都能跨越并适用于不同领域。这些都需要其制造商向
    ARM 公司支付许可费用。如果你有兴趣了解更多关于这一切是如何运作的，建议访问他们的网站：[https://www.arm.com/](https://www.arm.com/)。
- en: 'With all these different companies making their own version of the architecture,
    there have been hurdles in the Linux community in trying to support the platform
    as a whole. Many of these issues will be addressed in depth in the next chapter.
    So, if you’re looking for a hint of what’s to be discussed, I’ll offer a quick
    summary: UEFI BIOS compatibility, driver issues, and common tooling are the major
    hurdles in supporting this platform from a Linux perspective.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 随着众多公司推出自己版本的架构，Linux 社区在尝试支持整个平台时遇到了一些障碍。许多问题将在下一章中深入讨论。如果你想提前了解一些即将讨论的内容，我可以简要概述一下：UEFI
    BIOS 兼容性、驱动程序问题以及常见工具是支持这个平台时遇到的主要难题。
- en: Regardless of the perceived issues, some distributions of Linux thrive in this
    space, while others struggle to keep up and can only offer support for limited
    implementations of the ARM platform architecture. This platform and the next to
    be discussed are truly areas to keep your eyes on closely. Let’s move on.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 无论是感知到的问题还是实际情况，某些 Linux 发行版在这个领域蓬勃发展，而其他一些则在努力跟上进度，仅能支持 ARM 平台架构的有限实现。这一平台以及接下来要讨论的平台，确实是值得密切关注的领域。接下来我们继续。
- en: RISC-V®
  id: totrans-180
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: RISC-V®
- en: RISC-V® is a new international open standard architecture that provides a framework
    for anyone to build a solution upon. Licensing is similar to the Open Source Software
    models. I find this to be game-changing. There is very little out there for support
    on this emerging platform at the time of writing, but in the next year or so,
    I suspect that RISC-V may give ARM a significant amount of competition, if not
    overtake it in the marketplace. Recently, I started playing with this platform
    in my home lab. Many Linux distributions are rushing to add support for this game-changing
    platform. You should follow this one closely. Very, very close.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: RISC-V® 是一种新的国际开放标准架构，提供了一个框架，任何人都可以基于此构建解决方案。其许可模式类似于开源软件模式。我认为这是一次颠覆性的变革。在写这篇文章时，关于这一新兴平台的支持几乎没有，但在未来一年左右，我猜测
    RISC-V 可能会给 ARM 带来强有力的竞争，甚至在市场上超过 ARM。最近，我开始在我的家庭实验室中尝试这个平台。许多 Linux 发行版正急于为这一改变游戏规则的平台添加支持。你应该密切关注它。非常，非常密切。
- en: For more information on this open architecture, visit the RISC-V website at
    [https://riscv.org/](https://riscv.org/).
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 欲了解更多关于这一开放架构的信息，请访问 RISC-V 官网：[https://riscv.org/](https://riscv.org/)。
- en: Power® and IBM Z®
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Power® 和 IBM Z®
- en: These two IBM® platforms are generally known for their massive scale and resilience.
    IBM Z® is the mainframe platform that has been in production for longer than I
    can imagine and it’s still going strong in the Linux world. IBM® Power® systems
    haven’t been around as long but they too provide a certain niche environment that
    is still present in some industry verticals.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 这两款 IBM® 平台通常以其巨大的规模和弹性而闻名。IBM Z® 是一款主机平台，已经投入生产的时间比我能想象的还要久，而且它在 Linux 世界中仍然强劲运行。IBM®
    Power® 系统虽然问世的时间不如 Z 系列长，但它也提供了某种特定的环境，这在一些行业领域中仍然存在。
- en: These systems are the pillars of resilience and uptime. They are the cornerstone
    of taking damage and still going onward. That said, they are generally not the
    platform of choice for an embedded Linux systems appliance. They are large and
    require a very specific set of skills that are no longer prevalent in the IT industry.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 这些系统是弹性和持续运行的支柱。它们是承受损害后依然能够继续前行的基石。也就是说，它们通常不是嵌入式 Linux 系统设备的首选平台。它们体积庞大，需要一套在
    IT 行业中已不再普及的特殊技能。
- en: This is where my many years of experience come into play. Over the past decade,
    I’ve seen a couple of examples where these platforms are delivered as appliance
    solutions. Yes, I said it. These behemoths are delivered as appliances to their
    end-customers. These rare solutions generally focus on provisioning advanced storage
    and disaster recovery solutions for their end-customers, who need such advanced
    services but find them too complex in today’s X86-driven world.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是我多年经验发挥作用的地方。在过去十年里，我看到过几个例子，这些平台作为设备解决方案交付。是的，我说的就是它们。这些庞然大物作为设备交付给最终客户。这些稀有的解决方案通常专注于为需要此类高级服务的最终客户提供高级存储和灾难恢复解决方案，这些客户觉得在今天以X86为主的世界中，这些服务过于复杂。
- en: Designing, building, and supporting one of these solutions nowadays is considered
    a herculean effort. The skills required to master these platforms are becoming
    more and more rare as time progresses. For more information on the Power platform,
    visit the IBM website at [https://www.ibm.com/power](https://www.ibm.com/power).
    Additionally, for more information regarding the Z series platform, please visit
    the IBM website at [https://www.ibm.com/z](https://www.ibm.com/z). These systems
    are greatly resilient but require some deep, deep investments.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 如今，设计、构建和支持这些解决方案被认为是一项巨大的努力。随着时间的推移，掌握这些平台所需的技能变得越来越稀有。有关Power平台的更多信息，请访问IBM网站：[https://www.ibm.com/power](https://www.ibm.com/power)。此外，关于Z系列平台的更多信息，请访问IBM网站：[https://www.ibm.com/z](https://www.ibm.com/z)。这些系统非常有韧性，但需要进行深度投资。
- en: With that, we’ve come to the end of this chapter. So, let’s summarize what we’ve
    learned.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 到此为止，我们已经结束了这一章。那么，接下来让我们总结一下我们学到的内容。
- en: Summary
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we covered a myriad of selection criteria. All of the data
    that we have reviewed in this chapter will directly relate to what operating system
    we select in the next chapter. It’s codependent. The hardware you choose for your
    solution will limit your choices of what Linux distribution can support your hardware
    and requirements properly.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们涵盖了众多的选择标准。本章中回顾的所有数据将直接影响我们在下一章选择的操作系统。它们是相互依赖的。你为解决方案选择的硬件将限制能够正确支持你的硬件和需求的Linux发行版的选择。
- en: There is no *Easy Button* here for you to push and get answers. The platform
    you decide upon will be deeply tied to the options you have available for possible
    Linux distribution choices. This may not be a bad thing as there are many distributions
    of Linux to choose from. Any assistance in driving the selection may be useful.
    In this chapter, you learned how many of the complex hardware factors can impact
    the supportability of your system, limit the security profile, or simply become
    so complex that you may need to hire more specialized personnel to work with the
    platform.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 这里没有*简单按钮*，你不能按一下就得到答案。你决定的平台将与可用的Linux发行版选择深度相关。这可能不是坏事，因为有很多Linux发行版可以选择。任何有助于推动选择的帮助都可能是有用的。在本章中，你了解了许多复杂的硬件因素如何影响你系统的支持性、限制安全性配置，或者变得如此复杂，以至于你可能需要雇佣更多专门人员来处理该平台。
- en: The greatest advice I can offer here is that you do your research and be diligent
    in not limiting yourself in this selection process. Having more options is a good
    thing. I wish the best of luck to you in this endeavor.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 我在这里能给出的最重要建议是，做足功课，并且在选择过程中不要限制自己。拥有更多的选择是好事。我祝你在这项工作中好运。
- en: In the next chapter, we will take everything we’ve reviewed here and apply that
    knowledge to various selection criteria so that you have the most adequate Linux
    distribution for your company’s solution.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将把这里所回顾的所有内容应用到不同的选择标准上，以便你为公司的解决方案选择最合适的Linux发行版。
