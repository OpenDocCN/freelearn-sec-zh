- en: Introduction to Web Application Penetration Testing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web应用程序渗透测试简介
- en: In today's world, there are automated tools and SaaS solutions that can test
    the security of a system or application. Automation often fails at a logical level
    when an application needs to be tested for business-logic flaws. It is important
    to learn how the penetration tester can help organizations stay a step ahead of
    cyber attacks and why the organization needs to follow a strict patch-management
    cycle to secure their assets.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在今天的世界中，有自动化工具和SaaS解决方案可以测试系统或应用程序的安全性。当应用程序需要测试业务逻辑漏洞时，自动化通常在逻辑层面失败。重要的是要了解渗透测试人员如何帮助组织在网络攻击之前保持一步，并且为什么组织需要遵循严格的补丁管理周期来保护他们的资产。
- en: In this book, you will learn how to perform a penetration test on web applications
    that are built on different platforms using the famous Metasploit framework. As
    most of us have heard about this tool and its importance in regular penetration
    tests, this book will be focused on how we can perform penetration testing on
    a variety of web applications, such as **content management systems** (**CMSes**)
    and **content delivery** and **content integration** systems (**CD/CI**), using
    the Metasploit framework. To learn more about the tools and techniques, we first
    need to understand the basics of penetration testing.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您将学习如何使用著名的Metasploit框架对构建在不同平台上的Web应用程序进行渗透测试。由于我们大多数人都听说过这个工具及其在常规渗透测试中的重要性，本书将重点介绍如何使用Metasploit框架对各种Web应用程序进行渗透测试，如内容管理系统（CMS）和内容交付和内容集成系统（CD/CI）。要了解更多关于工具和技术的信息，我们首先需要了解渗透测试的基础知识。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: What is penetration testing?
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是渗透测试？
- en: Types of penetration testing
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渗透测试类型
- en: Stages of penetration testing
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渗透测试阶段
- en: Important terminologies
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重要术语
- en: Penetration testing methodologies
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渗透测试方法论
- en: '**Common weakness enumeration** (**CWE**)'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 常见弱点枚举（CWE）
- en: What is a penetration test?
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是渗透测试？
- en: Penetration testing, also known as pen testing, is an authorized attack on a
    computer system that is done to evaluate the security of the system/network. The
    test is performed to identify vulnerabilities and the risks they pose. A typical
    penetration test is a five-stage process that identifies the target systems, their
    vulnerabilities, and the exploitability of each vulnerability. The goal is to
    find as many vulnerabilities as possible and report back in a universally acceptable
    format for the client to understand. Let's look at the different types of penetration
    testing in the next section.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试，也称为pen测试，是对计算机系统进行的授权攻击，旨在评估系统/网络的安全性。测试旨在识别漏洞及其带来的风险。典型的渗透测试是一个五阶段的过程，识别目标系统、它们的漏洞以及每个漏洞的可利用性。目标是尽可能发现更多的漏洞，并以客户能够理解的普遍可接受的格式报告。让我们在下一节中看看不同类型的渗透测试。
- en: Types of penetration test
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试类型
- en: 'Depending upon the client''s requirement, penetration tests can be categorized
    into three types:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 根据客户的要求，渗透测试可以分为三种类型：
- en: White box
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 白盒
- en: Black box
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 黑盒
- en: Gray box
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 灰盒
- en: We will discuss each of these in the following sections.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在以下部分讨论每个阶段。
- en: White box penetration test
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 白盒渗透测试
- en: A **white box penetration test**, or a glass box or clear box penetration test,
    is a type of test in which the information and details regarding the target system,
    network, or application are fully shared by the client, such as the login credentials
    of the systems, the SSH/Telnet login for the network devices, and the application
    source code that needs to be tested. Since the information retrieved from the
    client regarding their system, network, or application is highly sensitive, it
    is recommended that you have all the information in an encrypted format.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 白盒渗透测试，又称玻璃盒或透明盒渗透测试，是一种测试类型，其中客户完全共享有关目标系统、网络或应用程序的信息和细节，例如系统的登录凭据、网络设备的SSH/Telnet登录以及需要测试的应用程序源代码。由于从客户那里获取的关于他们的系统、网络或应用程序的信息非常敏感，建议您将所有信息以加密格式保存。
- en: Black box penetration test
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 黑盒渗透测试
- en: A **black box penetration test** is an attacker-simulated test in which the
    penetration tester will act as a threat actor with no internal information regarding
    the targeted systems, networks, or applications. This type of testing really focuses
    on the first phase of penetration testing—reconnaissance. The more a pen tester
    can gain information about a target organization, the better the results will
    be. In this type of test, the pen tester is not provided with any architectural
    diagrams, layouts of the network, or any source code files.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 黑盒渗透测试是一种模拟攻击测试，渗透测试人员将扮演一个没有关于目标系统、网络或应用程序的内部信息的威胁行为者。这种类型的测试真正关注于渗透测试的第一阶段——侦察。渗透测试人员能够获取有关目标组织的信息越多，结果就会越好。在这种类型的测试中，渗透测试人员不会获得任何架构图、网络布局或任何源代码文件。
- en: Gray box penetration test
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 灰盒渗透测试
- en: A **gray box penetration test** is the halfway point between the white box and
    black box test. In a typical gray box test, the pen tester is provided with some knowledge
    of the applications, systems, or networks. Because of its nature, this type of
    test is quite efficient and more focused on an organization that has a deadline
    in place. Using the information provided by the client, the pen tester can focus
    on the systems with greater risks and save a lot of time performing their own
    recon.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 灰盒渗透测试是白盒和黑盒测试之间的中间点。在典型的灰盒测试中，渗透测试人员获得了一些关于应用程序、系统或网络的知识。由于其性质，这种类型的测试非常高效，并且更专注于有截止日期的组织。使用客户提供的信息，渗透测试人员可以专注于风险更大的系统，并节省大量时间进行自己的侦察。
- en: Now that we have a clear understanding of the types of pen tests that can be
    done, let's look at the stages of a penetration test.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们清楚了可以进行的渗透测试类型，让我们看看渗透测试的阶段。
- en: Stages of penetration testing
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试阶段
- en: 'To have a better understanding of penetration testing, let''s go through the
    stages of the process:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解渗透测试，让我们来看看这个过程的各个阶段：
- en: '**Stage 1: Reconnaissance **'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阶段1：侦察
- en: '**Stage 2: Enumeration**'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阶段2：枚举
- en: '**Stage 3: Vulnerability assessment and analysis**'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阶段3：漏洞评估和分析
- en: '**Stage 4: Exploitation (includes the post-exploitation period)**'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阶段4：利用（包括利用后期）
- en: '**Stage 5: Reporting**'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阶段5：报告
- en: 'This can be seen in the following diagram:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以在以下图表中看到：
- en: '![](img/34f2350e-4092-4606-83d9-57a2bb08e433.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](img/34f2350e-4092-4606-83d9-57a2bb08e433.png)'
- en: Each and every stage has its own set of tools and techniques that can be used
    to perform the testing efficiently.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 每个阶段都有自己的一套工具和技术，可以用来高效地进行测试。
- en: Reconnaissance and information gathering
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 侦察和信息收集
- en: Reconnaissance is the very first stage of performing a penetration test. In
    this stage, a pen tester will try to identify the system or application in question
    and find as much information as they can about it. This is the most crucial stage
    of testing as this step defines the attack surface. In white box testing, the
    recon may not be important because all the information regarding the in-scope
    target is already provided by the client.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 侦察是进行渗透测试的第一个阶段。在这个阶段，渗透测试人员将尽力识别所涉及的系统或应用程序，并尽可能多地获取有关它的信息。这是测试的最关键阶段，因为这一步骤定义了攻击面。在白盒测试中，侦察可能并不重要，因为客户已经提供了有关范围内目标的所有信息。
- en: The black box test heavily relies on this stage as no information is given to
    the tester. In the context of a web application penetration test, we will be focusing
    on identifying the technology used by the web application, the domain/subdomain
    information, the HTTP protocol recon and enumeration, and any other details that
    could help us increase our efficiency. The scope for the target and the goal are
    generally defined at this stage.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 黑盒测试在很大程度上依赖于这个阶段，因为测试人员没有得到任何信息。在Web应用程序渗透测试的情况下，我们将专注于识别Web应用程序使用的技术、域/子域信息、HTTP协议侦察和枚举，以及任何其他可能帮助我们提高效率的细节。在这个阶段通常会定义目标和目标。
- en: 'The following is the list of tools that can be used to perform recon on a web
    application:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是可以用来对Web应用程序执行侦察的工具列表：
- en: '**Identifying applications running on a ****nonstandard port (user-defined
    custom ports)**: Amap, Nmap, and so on'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别运行在非标准端口（用户自定义自定义端口）上的应用程序：Amap，Nmap等
- en: '**Identifying the DNS and subdomains**: dnsenum, dnsmap, dnswalk, dnsrecon,
    dnstracer, Fierce, dnscan, Sublist3r, and so on'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别DNS和子域：dnsenum，dnsmap，dnswalk，dnsrecon，dnstracer，Fierce，dnscan，Sublist3r等
- en: '**Identifying technological platforms**: BlindElephant, Wappalyzer, WhatWeb,
    and so on'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别技术平台：BlindElephant，Wappalyzer，WhatWeb等
- en: '**Identifying content management systems**: WPScan, Joomscan, CMScan, Drupscan,
    and so on'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别内容管理系统：WPScan，Joomscan，CMScan，Drupscan等
- en: Now, let's look at enumeration.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来看看枚举。
- en: Enumeration
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 枚举
- en: In the enumeration stage, each and every application, system, or network identified
    in the previous stage (recon) will be scanned for different attack surfaces—for
    example, files and directory enumeration in the case of a web application, and
    ports and services in the case of a network device. This stage will help the tester
    to identify the attack vectors. An attack vector is a path or method for the attacker
    to gain access or penetrate the target system; in this case, the pen tester. The
    most common attack vectors used are phishing emails, malware, and unpatched vulnerabilities.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在枚举阶段，前一个阶段（侦察）中识别的每个应用程序、系统或网络都将被扫描以寻找不同的攻击面，例如，在Web应用程序的情况下进行文件和目录枚举，在网络设备的情况下进行端口和服务枚举。这个阶段将帮助测试人员识别攻击向量。攻击向量是攻击者获取访问或渗透目标系统的路径或方法；在这种情况下，是渗透测试人员。最常用的攻击向量包括钓鱼邮件、恶意软件和未打补丁的漏洞。
- en: A pen tester can perform file and directory enumeration, HTTP method enumerations,
    host enumeration, and a few other enumeration methods to find an insertion point
    where vulnerabilities might exist. In a white box test, this stage doesn't really
    play an important role as all the information and details are already given to
    the tester, but it doesn't mean that you should not go through with this stage.
    It's always a good practice to perform enumeration and scanning, even when all
    the details are provided. This will help the tester to find obsolete attack paths
    that are not supported by the application but may help the tester to penetrate
    the network.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试人员可以执行文件和目录枚举、HTTP方法枚举、主机枚举和其他一些枚举方法，以找到可能存在漏洞的插入点。在白盒测试中，这个阶段并不真正起到重要作用，因为所有的信息和细节都已经提供给了测试人员，但这并不意味着你不应该进行这个阶段。即使所有的细节都已经提供，进行枚举和扫描也是一种良好的实践。这将帮助测试人员找到过时的攻击路径，这些攻击路径可能不受应用程序支持，但可能帮助测试人员渗透网络。
- en: This stage is very crucial for the black box and gray box test as all the information
    that was retrieved by performing reconnaissance on the target system or application
    is identified by the pen tester. Enumeration could become a tedious process if
    done manually, so there are publicly available tools and some Metasploit modules
    that can be used to enumerate applications quickly.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 这个阶段对于黑盒测试和灰盒测试非常关键，因为通过对目标系统或应用程序进行侦察所检索到的所有信息都被渗透测试人员识别出来。如果手动进行枚举，这个过程可能会变得很繁琐，因此有一些公开可用的工具和一些Metasploit模块可以用来快速枚举应用程序。
- en: 'The following is a list of tools that can be used to perform enumeration on
    a web application:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是可以用来对Web应用程序执行枚举的工具列表：
- en: '**F****iles and directory enumeration**: Dirsearch, dirb, dirbuster, Metasploit
    Framework, BurpSuite, gobuster, and so on'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件和目录枚举：Dirsearch，dirb，dirbuster，Metasploit Framework，BurpSuite，gobuster等
- en: '**HTTP protocol supported methods enumeration**: Nmap, BurpSuite, Metasploit
    Framework, wfuzz, and so on'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTTP协议支持的方法枚举：Nmap，BurpSuite，Metasploit Framework，wfuzz等
- en: '**Testing for r****ate limiting**: BurpSuite, ffuf, wfuzz, and so on'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**限制速率测试**：BurpSuite、ffuf、wfuzz等'
- en: Let's now look at vulnerability assessment.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看看漏洞评估。
- en: Vulnerability assessment and analysis
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 漏洞评估和分析
- en: Once we have identified an attack vector, we need to perform vulnerability scanning,
    which occurs in this stage of penetration testing. A vulnerability assessment
    is done on the web application to identify vulnerabilities on a web page, directory,
    HTTP protocol method, HTTP headers, and so on. The Scanning can be done using
    publicly available tools or paid-for licensed tools. All types of testing—white
    box, black box, and gray box— rely heavily on this stage.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们确定了攻击向量，我们需要进行漏洞扫描，这发生在渗透测试的这个阶段。对Web应用程序进行漏洞评估，以识别网页、目录、HTTP协议方法、HTTP标头等的漏洞。扫描可以使用公开可用的工具或付费许可的工具进行。所有类型的测试——白盒、黑盒和灰盒——都严重依赖于这个阶段。
- en: Once a vulnerability scan has been done, we need to assess and analyze each
    vulnerability that is found and then filter out the false positives. Filtering
    out the false positives helps the pen tester to work on the vulnerabilities that
    actually exist and not the ones that were found because of time delay or the scanner's
    error. All the vulnerability filtration happens at this stage.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦进行了漏洞扫描，我们需要评估和分析找到的每个漏洞，然后过滤掉虚假阳性。过滤掉虚假阳性有助于渗透测试人员处理实际存在的漏洞，而不是因为时间延迟或扫描器错误而发现的漏洞。所有的漏洞过滤都发生在这个阶段。
- en: 'The following is the list of tools that can be used to perform vulnerability
    assessment and scanning on a web application:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是可以用于对Web应用程序进行漏洞评估和扫描的工具列表：
- en: '**System and network vulnerability assessment**: Nessus, OpenVAS, and so on'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统和网络漏洞评估**：Nessus、OpenVAS等'
- en: '**Web application vulnerability assessment**: Nikto, Acunetix, BurpSuite, Nessus,
    and so on'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web应用程序漏洞评估**：Nikto、Acunetix、BurpSuite、Nessus等'
- en: Exploitation
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用
- en: The exploitation stage is the second most crucial stage after the reconnaissance
    stage. This stage proves whether a certain vulnerability found in the previous
    stage is exploitable. A pen tester can always identify the success of penetration
    testing projects if they can exploit the vulnerabilities that are found. Exploitation
    can be done automatically using certain tools, such as Metasploit Framework and
    Canvas. This is because we don't know how a certain web application or system
    will behave when we use our payloads.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 利用阶段是侦察阶段之后的第二个最关键的阶段。这个阶段证明了前一阶段发现的某个漏洞是否可利用。渗透测试人员可以通过利用发现的漏洞来确定渗透测试项目的成功。利用可以使用特定工具自动完成，例如Metasploit
    Framework和Canvas。这是因为我们不知道某个Web应用程序或系统在使用有效载荷时会有怎样的行为。
- en: Generally, in all types of tests, we need to confirm from the client whether
    we are authorized to perform memory-based exploitation, such as exploiting buffer/heap
    overflows and running memory corruption exploits. The advantage of doing this
    is that we can have access to the target system by running a specific exploit
    (this only works if the target system is vulnerable to this specific exploit).
    The issue with using such exploits is that the system/server/web application may
    crash, which could cause a business continuity issue.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，在所有类型的测试中，我们需要向客户确认是否被授权执行基于内存的利用，例如利用缓冲区/堆溢出和运行内存破坏利用。这样做的优势是，通过运行特定的利用，我们可以访问目标系统（只有在目标系统对这个特定的利用存在漏洞时才有效）。使用这种利用的问题是，系统/服务器/Web应用程序可能会崩溃，这可能会导致业务连续性问题。
- en: Once we have exploited a system or web application, we can either stop at that
    or we can perform post-exploitation work (if authorized by the client) to move
    inside the network (pivoting) and locate business-critical servers.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们利用了系统或Web应用程序，我们可以选择停止，或者（如果得到客户授权）进行利用后工作，以进入网络（枢纽）并找到业务关键服务器。
- en: Please make sure that all the payloads, web shells, files, and scripts are uploaded
    to the target system for exploitation so that they can be cleaned up after taking
    proper **proof-of-concept** (**PoC**) screenshots. This should be done at all
    times; otherwise, a genuine attacker can find the web shells and easily use them
    to attack the organization.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 请确保所有有效载荷、Web shell、文件和脚本都上传到目标系统以进行利用，以便在拍摄适当的**概念证明**（**PoC**）截图后进行清理。这应该始终如此；否则，真正的攻击者可能会找到Web
    shell并轻松使用它们来攻击组织。
- en: Reporting
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 报告
- en: The reporting stage is the final stage of the penetration testing process and
    involves reporting each and every vulnerability found on the target (in-scope).
    The reported vulnerabilities will be listed according to the severity level defined
    by the **Common Vulnerability Scoring System** (**CVSS**), which is a free and
    open standard that is used to assess the vulnerabilities.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 报告阶段是渗透测试过程的最后阶段，涉及报告在目标（范围内）发现的每一个漏洞。报告的漏洞将根据**通用漏洞评分系统**（**CVSS**）定义的严重程度级别进行列出，这是一个用于评估漏洞的免费开放标准。
- en: As pen testers, we need to understand how important this stage really is for
    the client. All the work that has been done by the testers on the client system
    should be reported in a structured format. The report should include a short introduction
    to the test, the scope of work, the rules of engagement, a short and crisp summary,
    the vulnerabilities found, and the proof of concept for each vulnerability, with
    some recommendations and patching techniques from the reference links.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员，我们需要了解这个阶段对客户来说有多么重要。测试人员在客户系统上所做的所有工作都应该以结构化的格式报告。报告应包括测试的简短介绍、工作范围、参与规则、简短而简洁的摘要、发现的漏洞以及每个漏洞的概念证明，以及一些推荐和来自参考链接的修补技术。
- en: There are some publicly available tools, such as Serpico, Magic Tree, BurpSuite,
    and Acunetix that can be used to ease the process of reporting. As this is an
    important stage of pen testing, all the details that were found during the test
    should be included in the report.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些公开可用的工具，如Serpico、Magic Tree、BurpSuite和Acunetix，可以用来简化报告过程。由于这是渗透测试的重要阶段，测试期间发现的所有细节都应包含在报告中。
- en: 'We can provide two different kinds of report: an **executive report** for management
    and a **technical report** for the technical team in place. This could help both
    the management and the technical team of an organization to understand and fix
    the vulnerabilities found by the penetration testers.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以提供两种不同类型的报告：一份供管理层使用的**执行报告**和一份供技术团队使用的**技术报告**。这可以帮助组织的管理层和技术团队了解并修复渗透测试人员发现的漏洞。
- en: Important terminologies
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 重要术语
- en: 'Now that we are familiar with the standards, let''s now cover the important
    terminology that we will be using a lot in the upcoming chapters:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们熟悉了标准，现在让我们来介绍一下我们在接下来的章节中将经常使用的重要术语：
- en: '**Vulnerability**: A weakness in a system that may allow an attacker to gain
    unauthorized access to it.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**漏洞**：系统中可能允许攻击者未经授权访问的弱点。'
- en: '**Spoofing**: A situation where an individual or program successfully masks
    data as something else in order to obtain an unlawful advantage.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**欺骗**：一个个体或程序成功地将数据伪装成其他东西，以获取不法利益的情况。'
- en: '**Exploit**: A piece of code, a program, a method, or a sequence of commands
    that takes advantage of a vulnerability to gain unauthorized access to a system/application.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**利用**：利用漏洞获取未经授权的系统/应用程序访问权限的代码片段、程序、方法或一系列命令。'
- en: '**Payload**: The actual code that is executed on the system after/during exploitation
    to perform the desired task.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**有效载荷**：在利用过程中/之后在系统上执行的实际代码，以执行所需的任务。'
- en: '**Risk**: Anything that can affect the confidentiality, integrity, and availability
    of data. Unpatched software, misconfigured servers, unsafe internet surfing habits,
    and so on all contribute to risk.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**风险**：任何可能影响数据的机密性、完整性和可用性的事物。未打补丁的软件、配置错误的服务器、不安全的互联网浏览习惯等都会增加风险。'
- en: '**Threat**: Anything that may have the potential to cause serious harm to a
    computer system, network, or application.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**威胁**：任何可能对计算机系统、网络或应用程序造成严重危害的事物。'
- en: '**Black box**: A method of testing during which the tester has no information
    about the internal structure or functioning of a system.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**黑盒**：测试方法，测试人员对系统的内部结构或功能没有任何信息。'
- en: '**White box**: A method of testing during which the tester has complete knowledge
    of the internal structure and functioning of a system.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**白盒**：测试方法，测试人员完全了解系统的内部结构和功能。'
- en: '**Bug bounty**: A bug bounty program is a deal that is offered by many websites
    and developers that allows individuals to be honored and rewarded for reporting
    bugs, particularly those linked to exploits and vulnerabilities.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**漏洞赏金**：漏洞赏金计划是许多网站和开发者提供的一项协议，允许个人因报告漏洞而受到荣誉和奖励，特别是与利用和漏洞相关的漏洞。'
- en: '**SAST**: **Static application security testing** (**SAST**) is a form of security
    testing that relies on the inspection of an application''s source code.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SAST**：**静态应用安全测试**（**SAST**）是一种依赖于检查应用程序源代码的安全测试形式。'
- en: '**DAST**: **Dynamic application security testing** (**DAST**) is a technique
    that is used to detect security vulnerabilities in an application in its running
    state.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**DAST**：**动态应用安全测试**（**DAST**）是一种用于检测应用程序在运行状态下的安全漏洞的技术。'
- en: '**Fuzzing**: An automated testing technique in which invalid, unexpected, or
    random data is provided as input to an application.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模糊测试**：一种自动化测试技术，将无效、意外或随机数据提供为应用程序的输入。'
- en: Now that we are aware of this important terminology, let's go ahead and learn
    about testing methodologies.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经了解了这个重要的术语，让我们继续学习测试方法。
- en: Penetration testing methodologies
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试方法
- en: As we all know, there are no official penetration testing standards defined;
    however, our security community has introduced a few standards for all security
    personnel to follow. Some of the commonly known standards are the **Open Source
    Security Testing Methodology Manual** (**OSSTMM**), the **Penetration Testing
    Execution Standard** (**PTES**), and the **Information Systems Security Assessment
    Framework** (**ISSAF**). Most of them follow the same methodology, but their phases
    have been named differently. We will take a look at each of them in the following
    sections and cover PTES in detail.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 众所周知，没有明确定义的官方渗透测试标准；然而，我们的安全社区已经为所有安全人员引入了一些标准。一些常见的标准包括**开放源代码安全测试方法手册**（**OSSTMM**）、**渗透测试执行标准**（**PTES**）和**信息系统安全评估框架**（**ISSAF**）。它们大多遵循相同的方法，但它们的阶段名称不同。我们将在接下来的章节中逐个查看它们，并详细介绍PTES。
- en: Open Source Security Testing Methodology Manual (OSSTMM)
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开放源代码安全测试方法手册（OSSTMM）
- en: 'The definition of the OSSTMM is mentioned on their official website, at [https://www.isecom.org/OSSTMM.3.pdf](https://www.isecom.org/OSSTMM.3.pdf):'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: OSSTMM的定义在它们的官方网站上提到，网址为[https://www.isecom.org/OSSTMM.3.pdf](https://www.isecom.org/OSSTMM.3.pdf)：
- en: It is a peer-reviewed manual of security testing and analysis that results in
    verified facts. These facts provide actionable information that can measurably
    improve your operational security.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个经过同行评审的安全测试和分析手册，其结果是经过验证的事实。这些事实提供了可操作的信息，可以显著改善您的运营安全。
- en: Using the OSSTMM, an audit will provide a precise estimation of security at
    an operational level that clears out assumptions and unreliable evidence. It is
    used for thorough security testing and is designed to be consistent and repeatable.
    As an open source project, it is open to contributions from all security testers,
    encouraging increasingly accurate, actionable, and productive security tests.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 使用OSSTMM，审计将提供对操作层面安全的精确估计，清除假设和不可靠的证据。它用于彻底的安全测试，并旨在保持一致和可重复。作为一个开源项目，它向所有安全测试人员开放，鼓励越来越准确、可操作和高效的安全测试。
- en: 'OSSTMM includes the following key sections:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: OSSTMM包括以下关键部分：
- en: Operational security metrics
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运营安全指标
- en: Trust analysis
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信任分析
- en: Human security testing
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 人员安全测试
- en: Physical security testing
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理安全测试
- en: Wireless security testing
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线安全测试
- en: Telecommunications security testing
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电信安全测试
- en: Data network security testing
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据网络安全测试
- en: Compliance regulations
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合规法规
- en: Reporting with the **Security Test Audit Report** (**STAR**)
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全测试审计报告**（STAR）的报告'
- en: Operational security metrics
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 运营安全指标
- en: This part of the OSSTMM section deals with what needs to be protected and how
    much the attack surface is exposed. This can be measured by creating an RAV (an
    unbiased factual description of the attack surface).
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: OSSTMM的这一部分涉及需要保护的内容以及攻击面的暴露程度。这可以通过创建RAV（攻击面的公正事实描述）来衡量。
- en: Trust analysis
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 信任分析
- en: In operational security, trust is measured as the interactions between targets
    within the scope that can be exploited by any person with malicious intent. To
    quantify trust, we need to understand and perform analysis to make more rational
    and logical decisions.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在运营安全中，信任是指在范围内目标之间的互动，可以被任何恶意人士利用。为了量化信任，我们需要理解并进行分析，以做出更加理性和合乎逻辑的决策。
- en: Human security testing
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 人员安全测试
- en: '**Human Security** (**HUMSEC**) is a subsection of **Physical Security** (**PHYSSEC**)
    and incorporates **Psychological Operations** (**PSYOPS**). Testing this aspect
    of security requires communication with individuals who have physical access to
    the protected assets—for example, a gatekeeper.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**人员安全**（HUMSEC）是**物理安全**（PHYSSEC）的一个子部分，包括**心理操作**（PSYOPS）。测试安全的这一方面需要与能够访问受保护资产的个人进行沟通，例如门卫。'
- en: Physical security testing
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物理安全测试
- en: '**Physical Security** (**PHYSSEC**) refers to material security inside the
    physical domain. Testing this channel requires noncommunicative interaction with
    barriers and humans (gatekeepers) placed within the assets.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**物理安全**（PHYSSEC）指的是物理领域内的物质安全。测试这个通道需要与障碍物和人类（门卫）进行非沟通式互动。'
- en: Wireless security testing
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线安全测试
- en: '**Spectrum Security** (**SPECSEC**) is the security classification that includes
    **Electronics Security** (**ELSEC**), **Signals Security** (**SIGSEC**), and **Emanations
    Security** (**EMSEC**). Testing this channel requires the analyst to be within
    the vicinity of the target.'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '**频谱安全**（SPECSEC）是包括**电子安全**（ELSEC）、**信号安全**（SIGSEC）和**辐射安全**（EMSEC）的安全分类。测试这个通道需要分析师在目标附近。'
- en: Telecommunications security testing
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电信安全测试
- en: '**Telecommunications Security** is a subset of ELSEC, which describes the organization''s
    telecommunication over wires. Testing this channel covers the interaction between
    the analyst and the targets.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**电信安全**是ELSEC的一个子集，描述了组织在有线电信上的通信。测试这个通道涵盖了分析师和目标之间的互动。'
- en: Data network security testing
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据网络安全测试
- en: Tests regarding the **Data Network Security** (Communications Security [**COMSEC**])
    aspect of security requires interaction with the individuals who have access to
    the operational data that is used to control access to the property.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 关于**数据网络安全**（通信安全[**COMSEC**]）方面的测试需要与能够访问用于控制对财产的访问的运营数据的个人进行互动。
- en: Compliance regulations
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 合规法规
- en: The kind of compliance required depends on the locale and currently ruling government,
    industry and business types, and supporting legislation. In a nutshell, compliance
    is a set of general policies that are defined by the legislation or the industry,
    and these policies are compulsory.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 所需的合规性类型取决于所在地区和当前执政政府、行业和业务类型，以及支持的立法。简而言之，合规性是由立法或行业定义的一组通用政策，这些政策是强制性的。
- en: Reporting with the STAR
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用STAR进行报告
- en: The purpose of a **Security Test Audit Report** (**STAR**) is to serve as an
    executive summary, stating the attack surface of the targets tested within a particular
    scope.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**安全测试审计报告**（STAR）的目的是作为执行摘要，陈述在特定范围内测试的目标的攻击面。'
- en: OSSTMM test types
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OSSTMM测试类型
- en: 'OSSTMM divides the testing types into six broad categories based on the amount
    of information known to the tester:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: OSSTMM根据测试者所知信息的多少将测试类型分为六大类：
- en: '**Blind**:In this test, the analyst has no knowledge of the target, but the
    target knows about the audit and has all the details of the analyst. This can
    be considered a test of the analyst''s knowledge.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**盲测**：在这种测试中，分析师对目标一无所知，但目标知道审计并拥有分析师的所有细节。这可以被视为对分析师知识的测试。'
- en: '**Double-Blind**:In this test, the analyst has no knowledge of the target,
    its defenses, assets, and so on. The target is also not notified of the audit.
    This test is used to check the knowledge and skills of the analyst as well as
    the preparedness of the target against unknown threats. This is also known as
    a black box test.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 双盲测试：在这种测试中，分析师对目标、其防御、资产等一无所知。目标也不会被通知审计。这种测试用于检查分析师的知识和技能，以及目标对未知威胁的准备情况。这也被称为黑盒测试。
- en: '**Gray Box**:In this test, the analyst has limited knowledge of the defenses
    of the target, but has complete knowledge of the assets and workings of the target.
    The target, in this case, is fully prepared for the audit and knows its full details.
    This test is also referred to as a **Vulnerability Test**.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**灰盒**：在这个测试中，分析员对目标的防御措施了解有限，但对目标的资产和运作有完全的了解。目标方在这种情况下已经为审计做好了充分的准备，并且知道其全部细节。这个测试也被称为**漏洞测试**。'
- en: '**Double Gray Box**:This is also known as the white box test. The target has
    advance knowledge of the scope and timeframe but has no knowledge of the payloads
    and test vectors.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**双灰盒**：也被称为白盒测试。目标方对范围和时间有先进的了解，但对有效载荷和测试向量一无所知。'
- en: '**Tandem**:This is also referred to as an in-house audit or crystal ball test.
    In this test, both the target and the analyst know the full details of the audit,
    but this test does not check the preparedness of the target against unknown variables
    or vectors.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**串联**：也被称为内部审计或水晶球测试。在这个测试中，目标方和分析员都知道审计的全部细节，但这个测试不检查目标方对未知变量或向量的准备情况。'
- en: '**Reversal**:In this test, an attacker engages with full knowledge of its target''s
    processes and operational security, but the target doesn''t know anything about
    when or how the audit will happen. This is also referred to as a red team exercise.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**逆向**：在这个测试中，攻击者全面了解目标的流程和运营安全，但目标方对审计何时以及如何进行一无所知。这也被称为红队演习。'
- en: 'Here are these types represented in a graph:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 这些类型在图中表示如下：
- en: '![](img/7cbe0d07-7c6c-4846-a8b5-9ddda23c776e.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7cbe0d07-7c6c-4846-a8b5-9ddda23c776e.png)'
- en: 'Source: https://www.isecom.org/OSSTMM.3.pdf'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：https://www.isecom.org/OSSTMM.3.pdf
- en: License: https://creativecommons.org/licenses/by/3.0/
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 许可：https://creativecommons.org/licenses/by/3.0/
- en: Now that we have read through the different OSSTMM test types, let's look at
    ISSAF.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经阅读了不同的OSSTMM测试类型，让我们来看看ISSAF。
- en: Information Systems Security Assessment Framework (ISSAF)
  id: totrans-131
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 信息系统安全评估框架（ISSAF）
- en: The ISSAF is not very active, but the guide they have provided is quite comprehensive.
    It aims to evaluate information security policy and an organization's compliance
    with IT industry standards, laws, and regulatory requirements. The current version
    of ISSAF is 0.2.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: ISSAF并不是非常活跃，但他们提供的指南非常全面。它旨在评估信息安全政策以及组织对IT行业标准、法律和监管要求的遵守情况。当前版本的ISSAF是0.2。
- en: 'It covers the following stages:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 它涵盖了以下阶段：
- en: Project management
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目管理
- en: Guidelines and best practices—pre-assessment, assessment, and post-assessment
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指南和最佳实践-预评估、评估和后评估
- en: Assessment methodology
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评估方法论
- en: Review of information security policy and security organization
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息安全政策和安全组织审查
- en: Evaluation of risk assessment methodology
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 风险评估方法论评估
- en: Technical control assessment
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术控制评估
- en: Technical control assessment—methodology
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术控制评估-方法论
- en: Password security
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密码安全
- en: Password cracking strategies
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密码破解策略
- en: Unix /Linux system security assessment
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Unix /Linux系统安全评估
- en: Windows system security assessment
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows系统安全评估
- en: Novell netware security assessment
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Novell netware安全评估
- en: Database security assessment
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据库安全评估
- en: Wireless security assessment
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线安全评估
- en: Switch security assessment
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交换机安全评估
- en: Router security assessment
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路由器安全评估
- en: Firewall security assessment
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 防火墙安全评估
- en: Intrusion detection system security assessment
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 入侵检测系统安全评估
- en: VPN security assessment
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VPN安全评估
- en: Anti-virus system security assessment and management strategy
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 反病毒系统安全评估和管理策略
- en: Web application security assessment
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web应用安全评估
- en: '**Storage area network** (**SAN**) security'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**存储区域网络**（**SAN**）安全'
- en: Internet user security
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 互联网用户安全
- en: As 400 security
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: As 400安全
- en: Source code auditing
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 源代码审计
- en: Binary auditing
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 二进制审计
- en: Social engineering
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社会工程
- en: Physical security assessment
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理安全评估
- en: Incident analysis
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件分析
- en: Review of logging/monitoring and auditing processes
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日志/监控和审计流程审查
- en: Business continuity planning and disaster recovery
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 业务连续性规划和灾难恢复
- en: Security awareness and training
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全意识和培训
- en: Outsourcing security concerns
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 外包安全问题
- en: Knowledge base
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知识库
- en: Legal aspects of security assessment projects
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全评估项目的法律方面
- en: '**Non-disclosure agreement** (**NDA**)'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**保密协议**（**NDA**）'
- en: Security assessment contract
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全评估合同
- en: Request for Proposal Template
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请求提案模板
- en: Desktop security checklist—windows
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 桌面安全检查表-窗口
- en: Linux security checklist
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linux安全检查表
- en: Solaris operating system security checklist
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Solaris操作系统安全检查表
- en: Default ports—firewall
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认端口-防火墙
- en: Default ports—IDS/IPS
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认端口-IDS/IPS
- en: Penetration Testing Execution Standard (PTES)
  id: totrans-177
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试执行标准（PTES）
- en: This standard is the most widely used standard and covers almost everything
    related to the pen test.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这个标准是最广泛使用的标准，几乎涵盖了与渗透测试相关的一切。
- en: 'PTES is divided into seven phases:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: PTES分为七个阶段：
- en: Pre-engagement interactions
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预先互动
- en: Intelligence gathering
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 情报收集
- en: Threat modeling
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 威胁建模
- en: Vulnerability analysis
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 漏洞分析
- en: Exploitation
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用
- en: Post exploitation
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 后期利用
- en: Reporting
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告
- en: Let’s take a brief look at what each of these phases involves.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们简要了解一下每个阶段涉及的内容。
- en: Pre-engagement interactions
  id: totrans-188
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预先互动
- en: Pre-engagement interactions are carried out before an activity kicks off, such
    as defining the scope of the activity, which usually involves mapping the network
    IPs, web applications, wireless networks, and so on.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 预先互动是在活动开始之前进行的，比如定义活动的范围，通常涉及映射网络IP、Web应用程序、无线网络等。
- en: Once the scoping is done, lines of communication are established across both
    the vendors and the incident reporting process is finalized. These interactions
    also include status updates, calls, legal processes, and the start and end date
    of the project.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦确定范围，就会建立供应商和事件报告流程之间的沟通渠道，并最终确定报告流程。这些互动还包括状态更新、电话、法律程序以及项目的开始和结束日期。
- en: Intelligence gathering
  id: totrans-191
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 情报收集
- en: Intelligence gathering is a process that is used to gather as much information
    as possible on the target. This is the most critical part of pen testing as the
    more information we have, the more attack vectors we can use to perform the activity.
    In case of a white box activity, all this information is already provided to the
    testing team.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 情报收集是一个过程，用于收集有关目标的尽可能多的信息。这是渗透测试最关键的部分，因为我们拥有的信息越多，我们就可以使用更多的攻击向量来执行活动。在白盒活动的情况下，所有这些信息已经提供给测试团队。
- en: Threat modeling
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 威胁建模
- en: Threat modeling is a process by which potential threats can be identified and
    enumerated and mitigations can be prioritized. Threat modeling depends on the
    amount and quality of information gathered; with this information, the activity
    can be broken down into stages and then performed using automated tools and logical
    attacks.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 威胁建模是一种识别和列举潜在威胁并对缓解措施进行优先排序的过程。威胁建模取决于收集的信息的数量和质量；有了这些信息，活动可以分解成阶段，然后使用自动化工具和逻辑攻击进行执行。
- en: 'The following is a mind map of a threat model:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是威胁模型的思维导图：
- en: '![](img/084e86a5-1f4f-40c5-a679-437d01a0d654.png)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: ！[](img/084e86a5-1f4f-40c5-a679-437d01a0d654.png)
- en: '(credits: [http://www.pentest-standard.org/index.php/Threat_Modelling ](http://www.pentest-standard.org/index.php/Threat_Modelling)'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: （来源：[http://www.pentest-standard.org/index.php/Threat_Modelling ](http://www.pentest-standard.org/index.php/Threat_Modelling)
- en: 'License: [GNU Free Documentation License 1.2](http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt) )'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 许可证：[GNU自由文档许可证1.2](http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt) ）
- en: Let's now have a look at vulnerability analysis.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看一下漏洞分析。
- en: Vulnerability analysis
  id: totrans-200
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 漏洞分析
- en: Vulnerability analysis is a process of discovering flaws that can be used by
    an attacker. These flaws can be anything ranging from open ports and service misconfigurations
    to an SQL injection. There are lots of tools available that can help in performing
    a vulnerability analysis—for example, Nmap, Acunetix, and Burp Suite. New tools
    are currently being released every few weeks.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞分析是发现攻击者可以利用的缺陷的过程。这些缺陷可以是从开放端口和服务配置错误到SQL注入的任何东西。有很多可用的工具可以帮助进行漏洞分析，例如Nmap、Acunetix和Burp
    Suite。每隔几周就会发布新工具。
- en: Exploitation
  id: totrans-202
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用
- en: Exploitation is the process of gaining access to the system by evading the protection
    mechanism based on the vulnerability assessment. Exploits can be public or zero-day.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 利用是通过规避基于漏洞评估的保护机制来获得对系统的访问的过程。利用可以是公开的或零日的。
- en: Post-exploitation
  id: totrans-204
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 后期利用
- en: Post-exploitation is the stage where the goal is to determine the criticality
    of the compromise and then maintain access for future use. This phase must always
    follow the rules of engagement that protect the client and protect ourselves (covering
    the tracks as per the requirements of the activity).
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 后期利用是确定妥协的重要性，然后保持访问以供将来使用的阶段。这个阶段必须始终遵循保护客户和保护自己的规则（根据活动的要求覆盖踪迹）。
- en: Reporting
  id: totrans-206
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 报告
- en: 'Reporting is one of the most important phases, as patching all the issues wholly
    depends on the details presented in your report. The report must contain three
    key elements:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 报告是最重要的阶段之一，因为修补所有问题完全取决于报告中呈现的细节。报告必须包含三个关键元素：
- en: The criticality of the bug
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 漏洞的重要性
- en: The steps needed to reproduce the bug
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重现错误所需的步骤
- en: Patch suggestions
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 补丁建议
- en: 'In summary, the pen test life cycle phases can be presented in the following
    way:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，渗透测试生命周期阶段可以如下所示：
- en: '![](img/40854475-a7b7-4ff9-b7a1-7559f670ffab.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: ！[](img/40854475-a7b7-4ff9-b7a1-7559f670ffab.png)
- en: In the next section, we will talk about the Common Weakness Enumeration (CWE)
    and the two top CWEs.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将讨论通用弱点枚举（CWE）和两个顶级CWE。
- en: Common Weakness Enumeration (CWE)
  id: totrans-214
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通用弱点枚举（CWE）
- en: In this section, we will talk about the **Common Weakness Enumeration **(**CWE**).
    The CWE is a universal online dictionary of weaknesses that have been found in
    computer software. In this section, we will cover two well-known CWEs—the OWASP
    Top 10 and the SANS Top 25.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论**通用弱点枚举**（**CWE**）。CWE是计算机软件中发现的弱点的通用在线词典。在本节中，我们将介绍两个著名的CWE——OWASP十大和SANS
    25强。
- en: OWASP Top 10
  id: totrans-216
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OWASP十大
- en: '**Open Web Application Security Project** (**OWASP**) is an organization that
    provides computer and internet applications with impartial, realistic, and cost-effective
    information.'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '**开放式Web应用程序安全项目**（**OWASP**）是一个为计算机和互联网应用程序提供公正、实际和具有成本效益的信息的组织。'
- en: 'The current list for 2020 contains the following bugs:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 2020年的当前列表包含以下错误：
- en: Injection
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注入
- en: Broken authentication
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 破损的身份验证
- en: Sensitive data exposure
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 敏感数据暴露
- en: '**XML external entities** (**XXE**)'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**XML外部实体**（**XXE**）'
- en: Broken access control
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 破损的访问控制
- en: Security misconfigurations
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全配置错误
- en: '**Cross-site scripting** (**XSS**)'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**跨站脚本**（**XSS**）'
- en: Insecure deserialization
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不安全的反序列化
- en: Using components with known vulnerabilities
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用已知漏洞的组件
- en: Insufficient logging and monitoring
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日志记录和监控不足
- en: SANS TOP 25
  id: totrans-229
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SANS TOP 25
- en: 'The SANS Top 25 list is a collaboration between the SANS Institute, MITRE,
    and many top software security experts in the US and Europe. It consists of the
    following vulnerabilities:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: SANS 25强列表是SANS研究所、MITRE和美国和欧洲许多顶级软件安全专家之间的合作。它包括以下漏洞：
- en: Improper neutralization of special elements used in a SQL command ('SQL injection')
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在网页生成期间未对特殊元素进行适当中和（'SQL注入'）
- en: Improper neutralization of special elements used in an OS command ('OS command
    injection')
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在操作系统命令中未对特殊元素进行适当中和（'操作系统命令注入'）
- en: Buffer copy without checking the size of the input ('classic buffer overflow')
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在检查输入的大小时进行缓冲区复制（'经典缓冲区溢出'）
- en: Improper neutralization of the input during web page generation ('cross-site
    scripting')
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在网页生成期间未对输入进行适当中和（'跨站脚本'）
- en: Missing authentication for a critical function
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关键功能缺少身份验证
- en: Missing authorization
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 授权缺失
- en: Use of hardcoded credentials
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用硬编码凭据
- en: Missing encryption of sensitive data
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 敏感数据加密缺失
- en: Unrestricted upload of a file of a dangerous type
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不受限制地上传危险类型的文件
- en: Reliance on untrusted inputs in a security decision
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在安全决策中依赖不受信任的输入
- en: Execution with unnecessary privileges
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以不必要的权限执行
- en: '**Cross-site request forgery** (**CSRF**)'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**跨站请求伪造**（**CSRF**）'
- en: Improper limitation of a pathname to a restricted directory ('path traversal')
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将路径名限制不当到受限目录（'路径遍历'）
- en: The downloading of code without an integrity check
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在没有完整性检查的情况下下载代码
- en: Incorrect authorization
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不正确的授权
- en: Inclusion of a functionality from an untrusted control sphere
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含来自不受信任控制领域的功能
- en: Incorrect permission assignment for a critical resource
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对关键资源的权限分配不正确
- en: Use of a potentially dangerous function
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用潜在危险的函数
- en: Use of a broken or risky cryptographic algorithm
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用破损或风险的加密算法
- en: Incorrect calculation of buffer size
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 缓冲区大小的错误计算
- en: Improper restriction of excessive authentication attempts
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不正确限制过多的身份验证尝试
- en: URL redirection to an untrusted site ('open redirect')
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将URL重定向到不受信任的站点（'开放重定向'）
- en: Uncontrolled format string
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 未受控制的格式字符串
- en: Integer overflow or wraparound
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整数溢出或环绕
- en: Use of a one-way hash without a salt
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不带盐的单向哈希
- en: We will cover some of these vulnerabilities in detail in later chapters of this
    book.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在本书的后面章节详细介绍其中一些漏洞。
- en: Summary
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we started with the introduction to penetration testing and
    its types and stages. We covered the pen testing methodologies and life cycle
    and we looked at some important terminology. Then, we looked at the OWASP Top
    10 and SANS Top 25.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们从渗透测试及其类型和阶段的介绍开始。我们介绍了渗透测试方法和生命周期，并了解了一些重要术语。然后，我们看了OWASP十大和SANS二十五强。
- en: In the next chapter, we will learn about the essentials of Metasploit including
    the Metasploit framework, installation, and setup.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将学习Metasploit的基本知识，包括Metasploit框架、安装和设置。
- en: Questions
  id: totrans-260
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Is there a database that maintains the **Common Weakness Enumeration** (**CWE**)
    list?
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 是否有一个维护**通用弱点枚举**（**CWE**）列表的数据库？
- en: Where can I find the OWASP Top 10 and SANS Top 25 lists?
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我在哪里可以找到OWASP十大和SANS二十五强列表？
- en: Are the tools required to perform a penetration test free?
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行渗透测试所需的工具是否免费？
- en: How do the OSSTMM- and PTES-based penetration tests differ?
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: OSSTMM和PTES基础的渗透测试有何不同？
- en: Further reading
  id: totrans-265
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: '**The Institute for Security and Open Methodologies** (**ISECOM**): [http://www.isecom.org/](http://www.isecom.org/)'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全和开放方法研究所**（**ISECOM**）：[http://www.isecom.org/](http://www.isecom.org/)'
- en: 'The pen test standard website: [http://www.pentest-standard.org/index.php/Main_Page](http://www.pentest-standard.org/index.php/Main_Page)'
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渗透测试标准网站：[http://www.pentest-standard.org/index.php/Main_Page](http://www.pentest-standard.org/index.php/Main_Page)
