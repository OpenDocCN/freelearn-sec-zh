- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3'
- en: Key Concepts for Pentesting Today’s Cloud Networks
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试当今云网络的关键概念
- en: Before you perform your first cloud pentest or red team engagement, there are
    some concepts you need to learn.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行第一次云渗透测试或红队任务之前，您需要学习一些概念。
- en: Cloud platforms have policies for pentesting that you and your organization
    must abide by. It’s also important to understand and verify network performance
    with benchmark checks. Services enumeration is a way an attacker can learn things
    about your organization’s public cloud services that can help them cyber-attack
    it.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 云平台有针对渗透测试的政策，您和您的组织必须遵守。了解并通过基准检查验证网络性能也非常重要。服务枚举是攻击者了解您组织的公共云服务的一种方式，可以帮助他们发起网络攻击。
- en: Assure that your organization’s public cloud has performed vulnerability assessments
    and that common cloud misconfigurations are addressed before you pentest.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您的组织的公共云已进行漏洞评估，并在渗透测试前处理了常见的云配置错误。
- en: Resources provided by MITRE’s **Common Vulnerabilities and Exposures** (**CVE**)
    database, the **National Institute of Standards and Technology’s** (**NIST’s**)
    **National Vulnerability Database** (**NVD**) database, and the **Forum of Incident
    Response and Security Teams’** (**FIRST’s**) **Exploit Prediction Scoring System**
    (**EPSS**) database help pentesters and red teamers define and understand specific
    known vulnerabilities.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: MITRE的**常见漏洞和暴露**（**CVE**）数据库、**国家标准与技术研究院**（**NIST**）的**国家漏洞数据库**（**NVD**）和**事件响应与安全团队论坛**（**FIRST**）的**漏洞预测评分系统**（**EPSS**）数据库提供的资源可以帮助渗透测试人员和红队成员定义并理解特定的已知漏洞。
- en: You also must understand how to communicate and cooperate with your organization’s
    defensive security specialists effectively.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 您还必须了解如何有效地与组织的防御安全专家沟通与合作。
- en: 'In this chapter, we’ll cover the following main topics:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将介绍以下主要主题：
- en: Cloud platform policies, benchmark checks, and services enumeration
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 云平台政策、基准检查与服务枚举
- en: Exposed services, permissions, and integrations
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 暴露的服务、权限和集成
- en: CVE, the **Common Vulnerability Scoring System** (**CVSS**), and vulnerabilities
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CVE、**常见漏洞评分系统**（**CVSS**）和漏洞
- en: Purple teaming and writing pentest reports
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 紫队合作与编写渗透测试报告
- en: Let’s get started!
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！
- en: Cloud platform policies, benchmark checks, and services enumeration
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云平台政策、基准检查与服务枚举
- en: Pentesting cloud networks on public cloud platforms is fundamentally different
    from pentesting on your organization’s own premises and its own infrastructure.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在公共云平台上进行云网络渗透测试与在您组织自有场地和基础设施上进行渗透测试有根本性的不同。
- en: If your organization owns the premises and infrastructure, it has the legal
    right to determine everything you’re allowed and forbidden to do to its network
    for your pentest. If I buy a house, as long as the laws in my municipality and
    country don’t forbid it, I could allow building contractors to replace walls,
    redo my roof, install new doors, and so on.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的组织拥有场地和基础设施，那么它有权决定在渗透测试中允许和禁止您对其网络进行的所有操作。如果我购买了一栋房子，只要我所在的市政和国家的法律没有禁止，我可以允许建筑承包商更换墙壁、重做屋顶、安装新门等等。
- en: If I rent my house from a landlord, I don’t own my house. I would need my landlord’s
    permission if I wanted to pay building contractors to make those sorts of modifications
    to my house.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我从房东那里租房子，我就不拥有房子。如果我想支付建筑承包商对房屋进行类似修改，我需要房东的许可。
- en: On **Amazon Web Services** (**AWS**), Azure, and **Google Cloud Platform** (**GCP**),
    your organization is “renting its house” from its “landlord”—Amazon, Microsoft,
    or Google. Amazon, Microsoft, and Google make the rules for what you’re allowed
    to do as a pentester.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在**Amazon Web Services**（**AWS**）、Azure和**Google Cloud Platform**（**GCP**）上，您的组织是从“房东”——Amazon、Microsoft或Google租用其“房子”。Amazon、Microsoft和Google制定了渗透测试人员可以做的事情的规则。
- en: 'If the organization you work for asks you to do something in its AWS-, Azure-,
    and GCP-hosted networks that Amazon, Microsoft, and Google forbid in their policies,
    you absolutely shouldn’t do it. It is important to locate the penetration testing
    policies for cloud providers on their respective websites and share them with
    your employer to clarify any restrictions or limitations on conducting penetration
    testing. We list them here:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您所在的组织要求您在其AWS、Azure和GCP托管的网络上做一些Amazon、Microsoft和Google在其政策中禁止的事情，您绝对不应该去做。定位云服务提供商的渗透测试政策，并在各自的网站上查看这些政策，向您的雇主分享这些信息，以明确进行渗透测试的任何限制或限制是非常重要的。我们在这里列出了它们：
- en: '*AWS Customer Support Policy for Penetration* *Testing*: [https://aws.amazon.com/security/penetration-testing/](https://aws.amazon.com/security/penetration-testing/'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*AWS 客户支持渗透测试* *政策*: [https://aws.amazon.com/security/penetration-testing/](https://aws.amazon.com/security/penetration-testing/)'
- en: )
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*Amazon EC2 Testing* *Policy*: [https://aws.amazon.com/ec2/testing/](https://aws.amazon.com/ec2/testing/'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Amazon EC2 测试* *政策*: [https://aws.amazon.com/ec2/testing/](https://aws.amazon.com/ec2/testing/)'
- en: )
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*AWS DDoS Simulation Testing* *Policy*: [https://aws.amazon.com/security/ddos-simulation-testing/](https://aws.amazon.com/security/ddos-simulation-testing/'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*AWS DDoS 模拟测试* *政策*: [https://aws.amazon.com/security/ddos-simulation-testing/](https://aws.amazon.com/security/ddos-simulation-testing/)'
- en: )
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*Microsoft Online Subscription* *Agreement*: [https://azure.microsoft.com/en-us/support/legal/subscription-agreement/](https://azure.microsoft.com/en-us/support/legal/subscription-agreement/'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Microsoft 在线订阅* *协议*: [https://azure.microsoft.com/en-us/support/legal/subscription-agreement/](https://azure.microsoft.com/en-us/support/legal/subscription-agreement/)'
- en: )
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*Microsoft Cloud Penetration Testing Rules of* *Engagement*: [https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement](https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Microsoft 云渗透测试参与规则* *指南*: [https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement](https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement)'
- en: )
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*Google Cloud Platform Terms of* *Service*: [https://cloud.google.com/terms/](https://cloud.google.com/terms/'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Google 云平台服务条款*: [https://cloud.google.com/terms/](https://cloud.google.com/terms/)'
- en: )
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*Google Cloud Platform Acceptable Use* *Policy*: [https://cloud.google.com/terms/aup](https://cloud.google.com/terms/aup'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Google 云平台可接受使用* *政策*: [https://cloud.google.com/terms/aup](https://cloud.google.com/terms/aup)'
- en: )
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: I recommend reading the cloud provider’s policies carefully before your organization
    proposes a pentest or red team engagement of its public cloud networks. Then,
    read your organization’s proposal and pentesting scope to verify that what you
    are being asked to do is compliant with Amazon’s, Microsoft’s, or Google’s policies.
    Depending on what your organization is asking you to do, you might only have to
    make minor modifications to your scope and simulated cyber attacks in order to
    be policy-compliant.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在组织提出公共云网络的渗透测试或红队参与之前，我建议仔细阅读云服务提供商的政策。然后，阅读你所在组织的提案和渗透测试范围，确保你被要求执行的任务符合 Amazon、Microsoft
    或 Google 的政策。根据你组织要求的内容，你可能只需要对你的测试范围和模拟网络攻击进行一些小的调整，以符合政策要求。
- en: I mentioned AWS, Azure, and GCP pentesting policies in [*Chapter 1*](B18672_01.xhtml#_idTextAnchor014).
    But for your reference, here are links to official policies and a brief summary
    of each. That’s how important it is!
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我在[*第1章*](B18672_01.xhtml#_idTextAnchor014)中提到过 AWS、Azure 和 GCP 的渗透测试政策。但为了你的参考，以下是官方政策链接以及每项政策的简要总结。这足以证明它们的重要性！
- en: '**AWS**: General pentesting is permitted on most AWS services. DNS zone walking,
    DNS hijacking, and DNS pharming are forbidden on Route 53\. Most **Denial-of-Service**
    (**DoS**) and **Distributed Denial-of-Service** (**DDoS**) simulations are forbidden.
    Protocol flooding and request flooding are forbidden. Pentesting with **Command
    and Control** (**C2**) servers requires direct approval from Amazon. You must
    also ask Amazon for approval for network stress testing, using the iPerf tool,
    simulated phishing, and using malware in your pentesting. See [https://aws.amazon.com/security/penetration-testing/](https://aws.amazon.com/security/penetration-testing/).'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AWS**: 大多数 AWS 服务允许进行一般渗透测试。禁止在 Route 53 上进行 DNS 区域遍历、DNS 劫持和 DNS 欺骗。大多数**拒绝服务**（**DoS**）和**分布式拒绝服务**（**DDoS**）模拟是禁止的。协议洪泛和请求洪泛也是禁止的。使用**命令与控制**（**C2**）服务器进行渗透测试需要获得
    Amazon 的直接批准。你还需要向 Amazon 请求批准网络压力测试、使用 iPerf 工具、模拟钓鱼和在渗透测试中使用恶意软件的许可。详情请见 [https://aws.amazon.com/security/penetration-testing/](https://aws.amazon.com/security/penetration-testing/)。'
- en: '**Azure and Microsoft Cloud in general**: Most pentesting without prior authorization
    is permitted. However, scanning and testing other customers’ assets and accessing
    their data is forbidden. Automated testing that generates too much traffic is
    forbidden. All DoS and DDoS simulations are forbidden. Network-intensive fuzzing
    against anything but your organization’s own Azure Virtual Machines is forbidden.
    Moving beyond **proof-of-concept** (**PoC**) reproduction steps for infrastructure
    execution issues is forbidden. Attempting social engineering against Microsoft
    employees is forbidden.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure和微软云整体**：大多数未经授权的渗透测试是允许的。然而，扫描和测试其他客户的资产并访问其数据是被禁止的。生成过多流量的自动化测试是禁止的。所有的DoS和DDoS模拟都是禁止的。针对除您组织自有Azure虚拟机外的任何设备进行网络密集型模糊测试是禁止的。超越**概念验证**（**PoC**）执行基础设施问题的步骤是禁止的。尝试对微软员工进行社交工程攻击是禁止的。'
- en: '**GCP**: Pentesting the GCP infrastructure your organization uses is subject
    to Google’s Acceptable Use Policy ([https://cloud.google.com/terms/aup](https://cloud.google.com/terms/aup)
    and [https://cloud.google.com/terms/](https://cloud.google.com/terms/)).'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GCP**：对您的组织使用的GCP基础设施进行渗透测试必须遵循Google的可接受使用政策（[https://cloud.google.com/terms/aup](https://cloud.google.com/terms/aup)
    和 [https://cloud.google.com/terms/](https://cloud.google.com/terms/)）。'
- en: Now, let’s get into benchmark checks!
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们进入基准检查的内容！
- en: A benchmark is defined as a standard with which to measure performance. Your
    organization may have certain expectations for how its public cloud networks perform
    on a day-to-day or hour-to-hour basis. In the cloud, benchmarks are often based
    on application and server availability defined as uptime, responsiveness from
    application slowdowns, and how long it may take to remediate network functionality
    problems.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 基准被定义为用来衡量性能的标准。您的组织可能对其公共云网络在日常或每小时的表现有一定的期望。在云环境中，基准通常基于应用程序和服务器的可用性，定义为正常运行时间、应用程序的响应性、以及修复网络功能问题可能需要的时间。
- en: If your organization wants to conduct benchmark checks on its public cloud networks,
    I recommend basing them on AWS, Azure, or GCP’s **service-level agreements** (**SLAs**).
    Those are the network and infrastructure-related performance standards that the
    cloud providers guaranteed your organization when you signed up for their services.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的组织希望对其公共云网络进行基准测试，我建议将其基于AWS、Azure或GCP的**服务水平协议**（**SLA**）。这些是云服务提供商在您注册其服务时，保证您的组织所遵循的网络和基础设施性能标准。
- en: For AWS services, Amazon guarantees a certain amount of monthly uptime. If these
    benchmarks aren’t met, your organization may be entitled to a 10%, 25%, or 100%
    Service Credit.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 对于AWS服务，亚马逊保证一定的每月正常运行时间。如果未达到这些基准，您的组织可能有权获得10%、25%或100%的服务信用。
- en: For Azure and Microsoft Online Services in general, their SLAs are conceptually
    similar to AWS. If certain monthly uptime benchmarks aren’t met, your organization
    may be entitled to a 10%, 25%, or 100% Service Credit. Microsoft’s SLAs are updated
    at least a couple of times per year.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Azure和微软在线服务，整体上它们的SLA与AWS在概念上类似。如果某些每月正常运行时间的基准未达到，您的组织可能有权获得10%、25%或100%的服务信用。微软的SLA每年至少更新几次。
- en: For GCP services, their SLAs are also similar. But they generally offer a 10%,
    25%, or 50% Service Credit for uptime benchmarks not met.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 对于GCP服务，其SLA也类似。但通常，如果未满足正常运行时间的基准，它们会提供10%、25%或50%的服务信用。
- en: 'Beyond benchmarking for uptime, your organization may also want to benchmark
    its public cloud networks for security. The **Center for Internet Security** (**CIS**)
    offers a set of cybersecurity benchmarks for AWS, Azure, and GCP, as follows:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 除了针对正常运行时间进行基准测试外，您的组织可能还希望对其公共云网络进行安全性基准测试。**互联网安全中心**（**CIS**）为AWS、Azure和GCP提供了一套网络安全基准，如下所示：
- en: '[https://www.cisecurity.org/benchmark/amazon_web_services](https://www.cisecurity.org/benchmark/amazon_web_services)'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.cisecurity.org/benchmark/amazon_web_services](https://www.cisecurity.org/benchmark/amazon_web_services)'
- en: '[https://www.cisecurity.org/benchmark/azure](https://www.cisecurity.org/benchmark/azure)'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.cisecurity.org/benchmark/azure](https://www.cisecurity.org/benchmark/azure)'
- en: '[https://www.cisecurity.org/benchmark/google_cloud_computing_platform](https://www.cisecurity.org/benchmark/google_cloud_computing_platform)'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.cisecurity.org/benchmark/google_cloud_computing_platform](https://www.cisecurity.org/benchmark/google_cloud_computing_platform)'
- en: Enumerating cloud services is a way for an outsider to determine which cloud
    services your organization has, how they’re used, their permissions, and which
    access tokens are for which service.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 枚举云服务是一种外部人员确定你组织所使用的云服务、它们的使用方式、权限以及每个服务对应的访问令牌的方法。
- en: 'MITRE ATT&CK defines cloud enumeration as follows ([https://attack.mitre.org/techniques/T1526/](https://attack.mitre.org/techniques/T1526/)):'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: MITRE ATT&CK将云枚举定义如下（[https://attack.mitre.org/techniques/T1526/](https://attack.mitre.org/techniques/T1526/)）：
- en: “An adversary may attempt to enumerate the cloud services running on a system
    after gaining access. These methods can differ from platform-as-a-service (PaaS),
    to infrastructure-as-a-service (IaaS), or software-as-a-service (SaaS). Many services
    exist throughout the various cloud providers and can include Continuous Integration
    and Continuous Delivery (CI/CD), Lambda Functions, Azure AD, etc.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: “在获得访问权限后，攻击者可能会尝试枚举系统中运行的云服务。这些方法可以从平台即服务（PaaS）到基础设施即服务（IaaS）或软件即服务（SaaS）有所不同。许多服务存在于不同的云提供商中，可能包括持续集成与持续交付（CI/CD）、Lambda
    函数、Azure AD 等。
- en: Adversaries may attempt to discover information about the services enabled throughout
    the environment. Azure tools and APIs, such as the Azure AD Graph API and Azure
    Resource Manager API, can enumerate resources and services, including applications,
    management groups, resources, and policy definitions, and their relationships
    that are accessible by an identity.”
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者可能会尝试发现整个环境中启用的服务信息。Azure工具和API，如Azure AD Graph API和Azure资源管理器API，可以枚举资源和服务，包括应用程序、管理组、资源、政策定义及其与身份的关系。”
- en: Now, let’s look at some of the more common security problems public cloud services
    can have.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来看看一些公共云服务中常见的安全问题。
- en: Exposed services, permissions, and integrations
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 曝露的服务、权限和集成
- en: Every network should undergo vulnerability assessments before they’re pentested.
    Make sure the organization whose cloud network you’re pentesting has had some
    vulnerability assessments conducted recently.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 每个网络在进行渗透测试前都应该进行漏洞评估。确保你进行渗透测试的云网络所属的组织近期已经进行过漏洞评估。
- en: A vulnerability assessment (sometimes called a vulnerability audit) is a systematic
    process where a checklist is used to identify common security weaknesses, misconfigurations,
    and other vulnerabilities pertaining to a type of computer system. A vulnerability
    assessment is a systematic process of identifying, analyzing, and prioritizing
    vulnerabilities in a system, network, or application. It involves scanning the
    system to identify existing weaknesses, flaws, or vulnerabilities that could be
    exploited by attackers. An old-fashioned vulnerability assessment may have a human
    network security specialist use a manual list of common vulnerabilities in a particular
    operating system or application and look through the software, hardware, and networking
    settings and configurations to make sure none of them makes the computer system
    more susceptible to cyber attacks. That can be tedious work, but relatively practical
    in a 20th-century on-premises network that doesn’t change very often.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞评估（有时称为漏洞审计）是一个系统化的过程，使用检查清单来识别与某种计算机系统相关的常见安全弱点、配置错误和其他漏洞。漏洞评估是一个识别、分析和优先处理系统、网络或应用程序中漏洞的系统化过程。它涉及扫描系统以识别现有的弱点、缺陷或可能被攻击者利用的漏洞。传统的漏洞评估可能会让一位人工网络安全专家使用特定操作系统或应用程序中常见漏洞的手动列表，检查软件、硬件和网络设置与配置，确保其中没有任何项使得计算机系统更容易受到网络攻击。这项工作可能繁琐，但在20世纪的本地网络中是相对实用的，因为这些网络变化不大。
- en: But 21st-century cloud networks change very frequently. This especially pertains
    to containerization through platforms such as Kubernetes and Docker where a single
    container (virtualized application or operating system) might only live for a
    few days. Modern cloud networks can also be a lot more complicated, with a lot
    greater variety of applications and services to be concerned about. Multi-cloud,
    hybrid cloud, and hybrid multi-cloud environments can be especially diverse and
    complex.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 但21世纪的云网络变化非常频繁。尤其是在像Kubernetes和Docker等平台上，容器化的环境中，单个容器（虚拟化应用程序或操作系统）可能只存在几天。现代云网络还可能更加复杂，涉及更多种类的应用程序和服务。多云、混合云和混合多云环境尤其可能非常多样化和复杂。
- en: So, it’s usually impractical to conduct old-fashioned manual vulnerability assessments
    in cloud networks. There’s no way a few human beings would be able to keep up
    with everything proper cloud vulnerability assessments entail. That’s why we use
    automated vulnerability scanners in the cloud.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在云网络中进行传统的手动漏洞评估通常是不切实际的。几个人无法跟上云漏洞评估所需要做的所有工作。这就是为什么我们在云中使用自动化漏洞扫描器的原因。
- en: There are a variety of different cloud vulnerability scanners that you can use.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用多种不同的云漏洞扫描器。
- en: AWS has its own Amazon Inspector ([https://aws.amazon.com/inspector/](https://aws.amazon.com/inspector/)).
    Microsoft recommends Microsoft Defender for Cloud ([https://www.microsoft.com/en-ca/security/business/cloud-security/microsoft-defender-cloud](https://www.microsoft.com/en-ca/security/business/cloud-security/microsoft-defender-cloud))
    (a component of Microsoft Defender for Servers) for Azure. Google recommends Rapid
    Vulnerability Detection ([https://cloud.google.com/security-command-center/docs/concepts-rapid-vulnerability-detection-overview](https://cloud.google.com/security-command-center/docs/concepts-rapid-vulnerability-detection-overview)),
    and for GCP, it depends on what kinds of service tiers your organization is subscribed
    to and which GCP services your organization uses.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 有自己的 Amazon Inspector ([https://aws.amazon.com/inspector/](https://aws.amazon.com/inspector/))。微软推荐用于
    Azure 的 Microsoft Defender for Cloud ([https://www.microsoft.com/en-ca/security/business/cloud-security/microsoft-defender-cloud](https://www.microsoft.com/en-ca/security/business/cloud-security/microsoft-defender-cloud))（这是
    Microsoft Defender for Servers 的一部分）。谷歌推荐使用快速漏洞检测（Rapid Vulnerability Detection）（[https://cloud.google.com/security-command-center/docs/concepts-rapid-vulnerability-detection-overview](https://cloud.google.com/security-command-center/docs/concepts-rapid-vulnerability-detection-overview)），对于
    GCP，则取决于你的组织订阅了哪些服务层级以及使用了哪些 GCP 服务。
- en: There are also some third-party vulnerability scanners you could use if they
    suit your needs. Some of the most popular ones are Astra Pentest, Qualys Cloud
    Platform, and Aqua Security.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如果符合你的需求，您还可以使用一些第三方漏洞扫描器。最受欢迎的一些包括 Astra Pentest、Qualys Cloud Platform 和 Aqua
    Security。
- en: Information
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 信息
- en: Astra Pentest automates vulnerability scanning and has tools to automate some
    of your pentesting work, but it shouldn’t replace your job as a cloud pentester.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: Astra Pentest 自动化漏洞扫描，并拥有一些工具来自动化部分渗透测试工作，但它不应取代你作为云渗透测试员的工作。
- en: Before you start your first cloud pentest, make sure your organization has used
    some cloud vulnerability scanners recently. Make sure it has fixed or remediated
    the problems the scanners detected, and make sure you can see the results of recent
    vulnerability scans. The reason for doing this is if your organization’s cloud
    networks have a lot of common vulnerabilities that can be detected by vulnerability
    scanners, then your pentest will probably be wasteful.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始你的第一次云渗透测试之前，确保你的组织最近使用了一些云漏洞扫描器。确保它已修复或解决了扫描器检测到的问题，并确保你能看到最近漏洞扫描的结果。这样做的原因是，如果你的组织的云网络中存在大量常见的漏洞，且这些漏洞可以被漏洞扫描器检测到，那么你的渗透测试可能会变得毫无意义。
- en: This section is about some of the most common types of cloud security problems—exposed
    services, permissions problems (ineffective **identity and access management**,
    or **IAM**), and poorly configured cloud integrations. These issues should be
    remediated as much as possible before you pentest!
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 本节内容涉及一些最常见的云安全问题——暴露的服务、权限问题（无效的**身份与访问管理**，或**IAM**）以及配置不当的云集成。在进行渗透测试之前，尽可能修复这些问题！
- en: First, let’s examine exposed services.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们来检查暴露的服务。
- en: Exposed services
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 暴露的服务
- en: An exposed service is a service in your cloud network that’s unguarded from
    unauthorized access. Think of all of the various types of services and protocols
    you can find in the cloud and on the internet—HTTPS web servers, FTP file servers,
    SSH-encrypted remote access servers, RDP Windows remote access services, SMB services
    such as Samba—the list goes on. All of these potential vectors in your cloud network
    should have strong authentication protection, and they should also be well monitored
    through your cloud network’s logs. It’s all too common for these connections from
    your cloud network to the public internet to be easy ways for a cyber attacker
    to break in.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 暴露的服务是指在你的云网络中，未受授权访问保护的服务。想想你可以在云端和互联网上找到的各种服务和协议——HTTPS 网络服务器、FTP 文件服务器、SSH
    加密的远程访问服务器、RDP Windows 远程访问服务、SMB 服务（如 Samba）——这类服务不胜枚举。你的云网络中的所有这些潜在通道应该具有强大的认证保护，并且应该通过云网络的日志进行良好的监控。从你的云网络到公共互联网的这些连接通常是网络攻击者入侵的便捷途径。
- en: Cloud vulnerability scanners are often very good at finding whichever exposed
    services your cloud network may have, so you can remediate the problem by either
    improving the encryption and authentication access on the service or disabling
    the service altogether if your organization doesn’t use it.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 云漏洞扫描器通常非常擅长发现你云网络中可能存在的暴露服务，因此你可以通过改善服务的加密和认证访问来修复这个问题，或者如果组织不使用该服务，干脆禁用它。
- en: Another way to find exposed services is to use Shodan. Shodan offers service
    plans with monthly fees to continuously monitor and scan your cloud network’s
    IP addresses for exposed services.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种发现暴露服务的方法是使用 Shodan。Shodan 提供月费服务计划，可以持续监控并扫描你的云网络 IP 地址，以查找暴露的服务。
- en: Security researchers have studied the immense problem of exposed services in
    cloud networks. In 2021, Palo Alto Networks’ Unit 42 conducted a research study.
    It deployed 320 honeypots into a cloud network. A honeypot is a computer or server
    that’s made to be deliberately insecure in order to tempt cyber threat actors
    to attack it. The purpose of using honeypots is usually to distract attackers
    away from the servers an organization must keep secure and to monitor cyber-attack
    activity in order to better understand it.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 安全研究人员研究了云网络中暴露服务带来的巨大问题。2021 年，Palo Alto Networks 的 Unit 42 进行了一个研究项目。它在云网络中部署了
    320 个蜜罐。蜜罐是故意设计为不安全的计算机或服务器，目的是吸引网络威胁行为者进行攻击。使用蜜罐的目的通常是转移攻击者对组织必须保持安全的服务器的注意力，并监控网络攻击活动以更好地理解攻击行为。
- en: 'The 320 honeypots Unit 42 deployed used a combination of SSH, Samba, Postgres,
    and RDP. It set up each honeypot with very weak credentials such as “**username:
    admin**, **password: admin**” and monitored the honeypots to see how often they’d
    be attacked. All of the honeypots were attacked in less than two days. Some of
    the honeypots were attacked within 30 seconds of deployment! Most of the honeypots
    were attacked multiple times per day; the most frequently attacked honeypot was
    compromised 169 times in a single day.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 'Unit 42 部署的 320 个蜜罐使用了 SSH、Samba、Postgres 和 RDP 的组合。它为每个蜜罐设置了非常弱的凭据，例如“**用户名:
    admin**，**密码: admin**”，并监控蜜罐，看看它们会被攻击多少次。所有的蜜罐在不到两天的时间内都遭到了攻击。一些蜜罐在部署后的 30 秒内就被攻击！大多数蜜罐每天都会被攻击多次；攻击最频繁的蜜罐在一天内被攻破了
    169 次。'
- en: This is why your organization must be very careful to avoid having any exposed
    services in your cloud network. One of the many kinds of cyber attacks exposed
    services can make your cloud network susceptible to is data breaches. According
    to IBM’s 2023 Cost of a Data Breach Report ([https://www.ibm.com/reports/data-breach](https://www.ibm.com/reports/data-breach)),
    data breaches cost an organization an average of $4.35 million per incident! And
    that’s just one of the kinds of cyber attacks that exposed services are vulnerable
    to.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是为什么你的组织必须非常小心，避免在云网络中暴露任何服务。暴露的服务可能会让你的云网络容易受到各种网络攻击，其中之一就是数据泄露。根据 IBM 2023
    年《数据泄露成本报告》([https://www.ibm.com/reports/data-breach](https://www.ibm.com/reports/data-breach))，数据泄露每次事件平均会让一个组织损失
    435 万美元！而这仅仅是暴露的服务可能遭遇的多种网络攻击中的一种。
- en: Now let’s explore permissions and IAM in the cloud.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来探讨云中的权限和身份与访问管理（IAM）。
- en: Permissions
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 权限
- en: In a secure computer system, all data assets are only accessible to authorized
    users and entities. According to Gartner ([https://www.gartner.com/en/information-technology/glossary/identity-and-access-management-iam](https://www.gartner.com/en/information-technology/glossary/identity-and-access-management-iam)),
    IAM is a “*security and business discipline that includes multiple technologies
    and business processes to help the right people or machines to access the right
    assets at the right times for the right reasons.*” Each entity that’s allowed
    at least some access to a computer system requires an identity and means of authentication
    such as passwords, biometrics, and access tokens.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个安全的计算机系统中，所有的数据资产只有授权的用户和实体才能访问。根据 Gartner 的定义（[https://www.gartner.com/en/information-technology/glossary/identity-and-access-management-iam](https://www.gartner.com/en/information-technology/glossary/identity-and-access-management-iam)），IAM
    是“*一项安全和商业学科，包含多种技术和业务流程，帮助合适的人或机器在合适的时间以合适的理由访问合适的资产。*”每个至少获得一些计算机系统访问权限的实体都需要一个身份和身份验证方式，如密码、生物识别和访问令牌。
- en: Permissions are what users are allowed to do within a computer system. For instance,
    on my own personal laptop, I have full administrative access in my Windows 11
    installation. I can install, uninstall, and configure all of my applications.
    I can create as many new user accounts as I want and give them whichever permissions
    I want. I can alter the Windows Registry. I can change all of the Windows settings.
    I can read, write, and access absolutely everything in my filesystem on my data
    storage. But when I log in to my employer’s cloud network, my permissions are
    a lot more limited. I can only access the applications that I need to use for
    my job. I cannot create new user accounts. I can only access data that I need
    to have in my role in the company. That’s because I own my laptop, but I don’t
    own my employer’s cloud network. As with many networks with good cybersecurity,
    my employer’s cloud network uses a **role-based access control** (**RBAC**) system.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 权限是用户在计算机系统中允许执行的操作。例如，在我个人的笔记本电脑上，我在我的 Windows 11 安装中拥有完全的管理员权限。我可以安装、卸载和配置所有应用程序。我可以创建任意数量的用户账户并给予他们任何权限。我可以更改
    Windows 注册表。我可以更改所有 Windows 设置。我可以读取、写入并访问我数据存储中所有的文件系统内容。但是，当我登录到我雇主的云网络时，我的权限要有限得多。我只能访问我工作所需的应用程序。我不能创建新的用户账户。我只能访问在公司角色中所需的数据。这是因为我拥有我的笔记本电脑，但我不拥有我雇主的云网络。与许多具备良好网络安全的网络一样，我雇主的云网络使用了**基于角色的访问控制**（**RBAC**）系统。
- en: In RBAC, permissions are assigned to user groups within a filesystem. The groups
    correlate with a user’s role in a company. There might be a payroll department
    group that has access to the company’s payroll servers and applications, a research
    and development group that has access to the company’s research and development
    data, a web administrators group that can make changes to the company’s web servers,
    and so on. Permissions aren’t directly assigned to users; permissions are assigned
    to groups. It’s a more streamlined access control system that avoids the tedium
    of managing permissions user by user.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在 RBAC 中，权限分配给文件系统中的用户组。这些组与用户在公司中的角色相关联。可能会有一个工资部门组，该组可以访问公司的工资服务器和应用程序；一个研发组，该组可以访问公司的研发数据；一个网站管理员组，该组可以对公司的网站服务器进行更改，等等。权限不是直接分配给用户的，而是分配给组的。这是一种更简化的访问控制系统，避免了逐个用户管理权限的繁琐。
- en: '**Mandatory Access Control** (**MAC**) is the strictest access control model.
    Resource objects in a system can be assigned a confidentiality level such as high,
    medium, low, and categories according to departments and specific projects. Then,
    permissions to those objects are very carefully configured for each user. It can
    be a tedious sort of access control model to maintain, which is why MAC is most
    often seen in use cases with highly classified data such as government agencies.'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '**强制访问控制**（**MAC**）是最严格的访问控制模型。系统中的资源对象可以根据保密等级（如高、中、低）以及部门和特定项目的类别进行分配。然后，针对每个用户，这些对象的权限会被非常仔细地配置。维护这种访问控制模型可能是繁琐的，这也是为什么
    MAC 通常用于处理高度机密数据的应用场景，例如政府机构。'
- en: In **Discretionary Access Control** (**DAC**), users assign permissions to the
    data objects they create. It’s the default access control system in the Windows
    operating system and other local operating systems on computers that people own
    themselves.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在**自主访问控制**（**DAC**）中，用户为他们创建的数据对象分配权限。这是Windows操作系统以及其他用户自己拥有的计算机上的本地操作系统中的默认访问控制系统。
- en: The major cloud providers have their own tools your organization can use to
    improve your IAM.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 主要的云服务提供商都有自己的工具，供你的组织用来改善IAM。
- en: Amazon recommends its own AWS Identity and Access Management for AWS. You can
    use it to manage **attribute-based access control** (**ABAC**), which is similar
    to RBAC. You can also use it to implement guardrails to prevent privilege escalation
    attacks and unauthorized access to user accounts. You can also manage user and
    machine identities across single or multiple AWS accounts.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊推荐使用其自家的AWS身份与访问管理（IAM）来管理AWS。你可以使用它来管理**基于属性的访问控制**（**ABAC**），这与RBAC类似。你还可以使用它来实施防护措施，以防止特权提升攻击和未经授权的用户账户访问。你还可以跨单一或多个AWS账户管理用户和机器身份。
- en: Microsoft recommends its own Microsoft Entra ID (formerly known as Azure Active
    Directory) for Azure, which is similar to Active Directory in Windows Server.
    Azure Active Directory has the advantage of also being able to control IAM in
    multi-cloud and hybrid-cloud environments. So, for instance, if your organization
    has a hybrid cloud with some Windows Server machines in your on-premises network,
    all of your IAM from your premises to your public cloud can be harmonized through
    the same Active Directory system.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 微软推荐其自家的Microsoft Entra ID（前身为Azure Active Directory）用于Azure，它类似于Windows Server中的Active
    Directory。Azure Active Directory的优势在于它还能够在多云和混合云环境中控制身份和访问管理（IAM）。举例来说，如果你的组织有一个混合云，且本地网络中有一些Windows
    Server机器，那么从本地到公有云的所有IAM都可以通过相同的Active Directory系统进行统一管理。
- en: Google also has its own GCP IAM. Some of its key features include automated
    access control recommendations, flexible roles, and context-aware access.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌也有自己的GCP IAM。它的一些关键功能包括自动化访问控制建议、灵活的角色和基于上下文的访问控制。
- en: Penetration testing can be used to ensure that the IAM in your organization’s
    cloud network is properly configured. That includes only assigning necessary permissions
    to each user (the **principle of least privilege**, or **PoLP**) and making sure
    users have strong passwords and multiple factors of authentication (such as one-time
    password multiple-factor authentication applications, biometrics, and access tokens).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试可以用来确保组织云网络中的IAM配置正确。这包括只为每个用户分配必要的权限（**最小权限原则**，或**PoLP**），并确保用户拥有强密码和多重认证（如一次性密码、多因素认证应用程序、生物识别和访问令牌）。
- en: Now, let’s look at cloud integrations. It’s essential that cloud integrations
    are configured and deployed securely because insecure integrations are a common
    cloud security problem.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来看看云集成。配置和部署云集成时，确保其安全性至关重要，因为不安全的集成是云安全中常见的问题。
- en: Cloud integration
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 云集成
- en: Cloud integration is all about connecting multiple cloud networks together.
    In a hybrid cloud network, integration also means connecting your on-premises
    servers to your cloud network. Unless your organization only has endpoints on-premises
    and a single public cloud, cloud integration is inevitable.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 云集成的核心就是将多个云网络连接在一起。在混合云网络中，集成还意味着将本地服务器与云网络连接起来。除非你的组织只有本地端点和一个公有云，否则云集成是不可避免的。
- en: Security problems with cloud integration occur when there’s poor network visibility,
    when security solutions are incompatible between cloud platforms, and when APIs
    between cloud applications are poorly secured.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 云集成中的安全问题通常发生在网络可见性差、安全解决方案在云平台间不兼容，或者云应用之间的API安全性差时。
- en: Your organization cannot secure what it cannot see. So, poor network visibility
    means parts of your hybrid-cloud or multi-cloud network could have vulnerabilities
    your organization is unaware of. To address this problem, it’s vital that as many
    applications and services are logged as possible and that security monitoring
    solutions are compatible and deployed throughout your integrated cloud environment.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 你的组织无法保护它无法看到的东西。因此，网络可见性差意味着你的混合云或多云网络中的某些部分可能存在安全漏洞，而你的组织对此并不知情。为了解决这个问题，至关重要的是尽可能多地记录应用程序和服务，并确保安全监控解决方案在你的集成云环境中兼容且部署到位。
- en: Poorly secured APIs between integrated cloud applications and services are especially
    susceptible to code injection (SQL injection, command injection) and query injection
    attacks, as well as malicious requests that exploit poor access control and outdated
    components. Just as it’s prudent to eliminate exposed services in general, it’s
    also prudent to eliminate exposed APIs.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 集成云应用程序和服务之间的API如果没有得到充分保护，特别容易受到代码注入（如SQL注入、命令注入）和查询注入攻击的影响，以及利用不当的访问控制和过时组件的恶意请求。正如消除暴露服务是明智的做法，消除暴露的API也是明智的做法。
- en: Vulnerability scanners may not detect visibility problems, but some vulnerability
    scanners are good at detecting insecure APIs.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞扫描器可能无法检测到可见性问题，但一些漏洞扫描器擅长检测不安全的API。
- en: Visibility problems can be mitigated by using data mapping solutions to maintain
    a thorough data asset inventory. It’s also crucial to have robust logging throughout
    your multi-cloud or hybrid cloud and to feed those logs into security monitoring
    applications.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 可见性问题可以通过使用数据映射解决方案来减轻，以保持全面的数据资产清单。对于你的多云或混合云环境，拥有强大的日志记录也是至关重要的，并且需要将这些日志输入到安全监控应用程序中。
- en: Now, let’s get into what your work as a cloud pentester is supposed to find—security
    vulnerabilities!
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来探讨一下作为云渗透测试员，你的工作应该发现什么——安全漏洞！
- en: CVE, CVSS, and vulnerabilities
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CVE、CVSS 和漏洞
- en: In cybersecurity, we have formal systems for classifying security vulnerabilities
    in networks and applications. Known vulnerabilities are recorded in MITRE’s Common
    Vulnerabilities and Exposures database, or CVE for short ([https://www.cve.org/](https://www.cve.org/)).
    CVE records are classified according to MITRE’s CVSS ([https://nvd.nist.gov/vuln-metrics/cvss](https://nvd.nist.gov/vuln-metrics/cvss)).
    Also, known exploits are classified with EPSS ([https://www.first.org/epss/](https://www.first.org/epss/)).
    MITRE ATT&CK is a database for classifying known exploits to computer systems
    and networks ([https://attack.mitre.org/](https://attack.mitre.org/)).
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络安全中，我们有正式的系统来分类网络和应用程序中的安全漏洞。已知的漏洞记录在MITRE的公共漏洞和暴露（CVE）数据库中，简称CVE（[https://www.cve.org/](https://www.cve.org/)）。CVE记录根据MITRE的CVSS（[https://nvd.nist.gov/vuln-metrics/cvss](https://nvd.nist.gov/vuln-metrics/cvss)）进行分类。此外，已知的漏洞利用会通过EPSS（[https://www.first.org/epss/](https://www.first.org/epss/)）进行分类。MITRE
    ATT&CK是一个用于分类已知计算机系统和网络漏洞利用的数据库（[https://attack.mitre.org/](https://attack.mitre.org/)）。
- en: So, MITRE is the organization that helps cybersecurity professionals of all
    kinds understand vulnerabilities and exploits. The knowledge in MITRE’s databases
    grows constantly, every day. MITRE’s databases are on the web, freely available
    for anyone to use as a reference. As a cloud pentester, your job is to discover
    vulnerabilities and exploits in the cloud networks you test so that the organization
    you work for can better understand how to improve the security of its networks
    and applications. Let’s explore MITRE and how it maintains knowledge that’s useful
    for pentesters and red teamers.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，MITRE是一个帮助各种网络安全专业人士理解漏洞和漏洞利用的组织。MITRE数据库中的知识每天都在不断增长。MITRE的数据库通过网络公开，任何人都可以作为参考使用。作为一名云渗透测试员，你的工作是发现你测试的云网络中的漏洞和漏洞利用，以便你工作的组织可以更好地了解如何提高其网络和应用程序的安全性。让我们深入了解MITRE及其如何维护对渗透测试员和红队人员有用的知识。
- en: Vulnerabilities
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 漏洞
- en: A vulnerability is a bug, flaw, or mistake in a computer system that cyber attackers
    can exploit to harm your organization’s data. For example, if someone from the
    general public can access customers’ credit card numbers through your organization’s
    cloud platform-hosted e-commerce web application by clicking on a button, that’s
    definitely a major security vulnerability. That would be a vulnerability to the
    confidentiality of sensitive data, according to the CIA Triad of cybersecurity.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞是计算机系统中的错误、缺陷或失误，网络攻击者可以利用它来危害组织的数据。例如，如果某个公众用户能够通过点击按钮访问你组织的云平台托管的电子商务应用程序中的客户信用卡号码，那绝对是一个重大的安全漏洞。这将是对敏感数据机密性的漏洞，符合网络安全中的CIA三原则。
- en: If no one in the cybersecurity community knows about a vulnerability and a cyber
    criminal exploits it in a cyber attack, we call it a zero-day vulnerability. If
    we’re lucky, a security researcher or bug bounty hunter discovers a previously
    unknown vulnerability before a cyber attacker gets to exploit it. That’s a zero-day
    vulnerability as well. If a vulnerability is recorded in MITRE’s CVE database,
    it’s not a zero-day vulnerability; it’s a known vulnerability.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 如果网络安全社区没有人知道某个漏洞，而网络犯罪分子在网络攻击中利用了它，我们称之为零日漏洞。如果我们幸运的话，安全研究人员或漏洞奖励猎人在网络攻击者利用该漏洞之前发现了这个以前未知的漏洞，这也是零日漏洞。如果某个漏洞已记录在MITRE的CVE数据库中，那么它就不是零日漏洞，而是已知漏洞。
- en: 'An exploit is a method or technique used to conduct a cyber attack. For example,
    here’s a description of an FTP exploit in MITRE’s ATT&CK database ([https://attack.mitre.org/techniques/T1071/002/](https://attack.mitre.org/techniques/T1071/002/)):'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞利用是一种用来进行网络攻击的方法或技术。例如，这里有一个MITRE ATT&CK数据库中关于FTP漏洞利用的描述（[https://attack.mitre.org/techniques/T1071/002/](https://attack.mitre.org/techniques/T1071/002/)）：
- en: “*Adversaries may communicate using application layer protocols associated with
    transferring files to avoid detection/network filtering by blending in with existing
    traffic. Commands to the remote system, and often the results of those commands,
    will be embedded within the protocol traffic between the client* *and server.*
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: “*对手可能通过使用与传输文件相关的应用层协议进行通信，以避免检测/网络过滤，通过与现有流量融合来掩盖自己。远程系统的命令，通常也包括这些命令的结果，将嵌入客户端*
    *和服务器* 之间的协议流量中。*
- en: '*Protocols such as FTP, FTPS, and TFTP that transfer files may be very common
    in environments. Packets produced from these protocols may have many fields and
    headers in which data can* *be concealed.*”'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '*像FTP、FTPS和TFTP这样的文件传输协议在某些环境中可能非常常见。由这些协议生成的数据包可能包含许多字段和头部，其中数据可能被* *隐藏。*”'
- en: When you conduct cloud pentests for your organization, you may find many vulnerabilities
    in its cloud network that are in MITRE’s CVE database. You might possibly discover
    a zero-day vulnerability, but that’s rare! Usually, zero-day vulnerabilities are
    discovered by bug bounty hunters, or by defensive security specialists once a
    cyber attacker has exploited it. Don’t be hard on yourself if you never discover
    a zero-day vulnerability as a red teamer or pentester. Your job is to find vulnerabilities
    in your organization’s computer systems, and those vulnerabilities will be known
    to the cybersecurity community most of the time.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 当你为你的组织进行云渗透测试时，你可能会在其云网络中发现许多存在于MITRE CVE数据库中的漏洞。你可能会发现一个零日漏洞，但这很少见！通常，零日漏洞是由漏洞奖励猎人发现的，或者是由防御性安全专家在网络攻击者利用该漏洞后发现的。如果你作为红队成员或渗透测试员从未发现过零日漏洞，不要太苛责自己。你的工作是发现组织计算机系统中的漏洞，这些漏洞大多数时候是网络安全社区已知的。
- en: And as a red teamer especially, you may be simulating cyber exploits according
    to what’s in MITRE ATT&CK.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 特别是作为红队成员，你可能会根据MITRE ATT&CK中的内容模拟网络攻击。
- en: So, looking stuff up in MITRE’s databases will certainly be a part of your job
    you’ll do quite frequently.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，查找MITRE数据库中的信息肯定是你工作的一部分，你会经常做这个。
- en: Let’s understand MITRE as an organization and how it maintains cybersecurity
    information for the public.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们了解MITRE作为一个组织，以及它如何为公众维护网络安全信息。
- en: The MITRE database
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MITRE数据库
- en: MITRE was founded in 1958 as a private, not-for-profit organization to work
    with the US Air Force. Decades before cloud networks and before the internet became
    a part of our everyday lives, MITRE collaborated with the US government through
    departments such as the **Federal Aviation Administration** (**FAA**) to develop
    air traffic control systems and conduct research and development in areas including
    computer programming and data processing. In the 1990s, MITRE helped the US government
    prepare for the “Y2K bug.” The “Y2K bug” was a problem many computer systems around
    the world had. Many databases, applications, and operating systems only had two
    characters for the year in computer timestamps and time-keeping. So, when the
    year 2000 came, those systems might think it was the year 1900, therefore causing
    serious operational problems. Many organizations, MITRE included, worked very
    hard in the 1990s to fix the “Y2K bug.” And that’s why there weren’t many problems
    when the year 2000 finally happened.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: MITRE成立于1958年，是一个私立非营利组织，与美国空军合作。在云网络和互联网成为日常生活一部分的几十年前，MITRE通过诸如**联邦航空管理局**（**FAA**）等部门与美国政府合作，开发空中交通管制系统，并在计算机编程和数据处理等领域进行研究和开发。在1990年代，MITRE帮助美国政府准备“Y2K问题”。
    “Y2K问题”是全球许多计算机系统面临的问题。许多数据库、应用程序和操作系统在计算机时间戳和时间保持中只有两个字符来表示年份。因此，当2000年到来时，这些系统可能会认为是1900年，从而引起严重的操作问题。许多组织，包括MITRE在内，努力修复了“Y2K问题”。这就是为什么当2000年终于到来时，并没有出现太多问题。
- en: MITRE started its CVE database in 1999\. In that year, only 321 vulnerabilities
    were recorded. However, the CVE database steadily grew, not only by adding more
    vulnerability records each year but also in terms of the rate at which vulnerabilities
    were recorded. The year 2003 added 1,223 records. The year 2008 added 5,673 records.
    14,645 records were added in 2017\. And a whopping 25,059 records were added in
    2022\. Applications might not be less secure these days. Maybe applications have
    gotten more complex and the routines the cybersecurity community engages in to
    find vulnerabilities have improved.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: MITRE于1999年启动了其CVE数据库。当年仅记录了321个漏洞。然而，CVE数据库不仅每年添加了更多的漏洞记录，而且漏洞记录的增长速度也在稳步增加。2003年增加了1,223条记录。2008年增加了5,673条记录。2017年增加了14,645条记录。而在2022年，竟然增加了惊人的25,059条记录。也许现今的应用程序并不比以前更安全。也许应用程序变得更加复杂，网络安全社区用来发现漏洞的例行程序也有所改进。
- en: In 2013, MITRE launched ATT&CK, their database for exploits that they describe
    as “*globally-accessible knowledge base of adversary tactics and techniques based
    on* *real-world observations*”([https://attack.mitre.org/](https://attack.mitre.org/)).
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 2013年，MITRE推出了ATT&CK，他们描述为“*基于实际观察的对手战术和技术的全球可访问知识库*”（[https://attack.mitre.org/](https://attack.mitre.org/)）。
- en: Let’s examine the CVE database.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看CVE数据库。
- en: How do vulnerabilities get recorded in the CVE database?
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 漏洞是如何记录在CVE数据库中的呢？
- en: 'MITRE works with a large number of **CVE Numbering Authorities** (**CNAs**).
    As of April 2023, there are 285 CNAs. The vast majority of CNAs are tech companies
    that produce software, hardware, and infrastructure that could have security vulnerabilities.
    Some examples of CNAs are Qualcomm (a producer of semiconductor chips), Airbus
    (an aircraft manufacturer), and FreeBSD (an operating system developer). Also,
    many of the big names most people are familiar with are CNAs: Microsoft, Apple,
    and Google, for example.'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: MITRE与大量的**CVE编号机构**（**CNAs**）合作。截至2023年4月，共有285个CVE编号机构。绝大多数CVE编号机构是生产软件、硬件和基础设施可能存在安全漏洞的科技公司。例如，高通（半导体芯片生产商）、空中客车（飞机制造商）和FreeBSD（操作系统开发者）都是一些CVE编号机构的例子。此外，许多人熟悉的大公司也是CVE编号机构，如微软、苹果和谷歌。
- en: Some large tech companies have bug bounty programs. A bug bounty program lets
    members of the general public (outsiders who don’t work for the tech company)
    report security vulnerabilities they’ve discovered. They must abide by the company’s
    responsible disclosure policies, which generally means they report their vulnerability
    discovery to a certain individual or department within the company, and they’re
    not supposed to make their discovery public knowledge. This gives the company
    an opportunity to fix the vulnerability without cybercriminals finding out and
    using that knowledge to conduct a cyber attack.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 一些大型科技公司拥有漏洞悬赏计划。漏洞悬赏计划允许公众成员（不属于该科技公司的人）报告他们发现的安全漏洞。他们必须遵守公司的负责任披露政策，这通常意味着他们将漏洞发现报告给公司内部的某个个人或部门，而且不应将其发现公开。这为公司提供了在黑客发现漏洞并利用这些信息进行网络攻击之前修复漏洞的机会。
- en: If the bug bounty hunter abides by the rules of the company’s bug bounty program
    and the company considers the bug bounty hunter’s discovery to be legitimate and
    useful, they may pay the bug bounty hunter anywhere from a few hundred dollars
    to over $100,000\. The payout depends on how much the company has decided to reward
    for vulnerabilities and how important they consider the vulnerability to be. *HackerOne*
    maintains a database of most of the bug bounty programs out there ([https://hackerone.com/bug-bounty-programs](https://hackerone.com/bug-bounty-programs)).
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如果漏洞悬赏猎人遵守公司的漏洞悬赏计划规则，且公司认为该猎人发现的漏洞是合法且有用的，他们可能会支付漏洞悬赏猎人几百美元到超过$100,000不等的奖励。奖励金额取决于公司为漏洞设定的奖励额度，以及他们认为漏洞的重要性。*HackerOne*维护着大多数漏洞悬赏计划的数据库
    ([https://hackerone.com/bug-bounty-programs](https://hackerone.com/bug-bounty-programs))。
- en: Being a bug bounty hunter is very different from being a pentester or a red
    teamer. Pentesters and red teamers are given specific pentesting assignments with
    well-defined scopes. Bug bounty hunters are outsiders who may find whatever kind
    of vulnerabilities they’re interested in or good at finding, as long as they work
    according to the rules of a company’s bug bounty program and don’t engage in any
    cyber attacks. Pentesting and red teaming is like being a chef in a restaurant;
    being a bug bounty hunter is like donating food to a food bank. And only bug bounty
    hunters have to find zero-day vulnerabilities, whereas pentesters and red teamers
    have to find whichever vulnerabilities they discover within the scope the organization
    they work for assigns them by simulating cyber attacks.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 成为一名漏洞悬赏猎人与成为渗透测试员或红队成员非常不同。渗透测试员和红队成员通常会被分配特定的渗透测试任务，任务范围明确。漏洞悬赏猎人则是外部人员，他们可以发现任何自己感兴趣或擅长发现的漏洞，只要他们按照公司漏洞悬赏计划的规则行事，且不参与任何网络攻击。渗透测试和红队工作就像是在餐厅里做厨师；而漏洞悬赏猎人则像是在向食品银行捐赠食物。而且，只有漏洞悬赏猎人需要寻找零日漏洞，而渗透测试员和红队成员则需要在他们所工作的组织指定的范围内，通过模拟网络攻击来发现漏洞。
- en: Quite often, records enter the CVE database through bug bounty programs. If,
    for example, a bug bounty hunter finds a vulnerability in Windows 11, the bug
    bounty hunter must abide by Microsoft’s bug bounty program. Then, Microsoft enters
    the vulnerability into the CVE database in its role as the CNA.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 很多时候，漏洞记录会通过漏洞悬赏计划进入CVE数据库。例如，如果一名漏洞悬赏猎人在Windows 11中发现一个漏洞，这名漏洞悬赏猎人必须遵守微软的漏洞悬赏计划。然后，微软作为CNA将该漏洞记录到CVE数据库中。
- en: Sometimes, employees and contractors for particular tech companies that are
    CNAs discover zero-day vulnerabilities. The tech company as a CNA will record
    the vulnerability in the CVE in the same way as if it came from a bug bounty hunter.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，某些特定科技公司的员工和承包商（这些公司是CNA）会发现零日漏洞。这些科技公司作为CNA，将以与漏洞悬赏猎人相同的方式将漏洞记录到CVE中。
- en: It’s the responsibility of the CNAs to make sure the vulnerabilities they discover
    in their products and services or the vulnerabilities in their products and services
    that are reported to them are recorded in the CVE database. CNAs usually won’t
    record vulnerabilities that don’t pertain to their own products and services.
    For instance, it’s not Apple’s responsibility to record vulnerabilities in the
    Android version of Mozilla Firefox, but it may be Apple’s responsibility to record
    vulnerabilities in the iOS version of Firefox. Or, it might be Mozilla’s responsibility.
    Or, it might be both Apple’s and Mozilla’s responsibility, depending on which
    parts of their products are affected.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: CNA有责任确保他们在产品和服务中发现的漏洞，或者由他们报告的漏洞，能够被记录在CVE数据库中。CNA通常不会记录那些与其自身产品和服务无关的漏洞。例如，记录Mozilla
    Firefox在Android版本中的漏洞并非苹果的责任，但记录Firefox在iOS版本中的漏洞可能是苹果的责任。也有可能是Mozilla的责任，或者是苹果和Mozilla共同的责任，这取决于哪个部分的产品受到了影响。
- en: CVE records usually aren’t made as soon as a CNA discovers a vulnerability.
    CVE records are public knowledge, and a tech company might need a few months or
    a year to address the vulnerability privately. When it’s safe to make the vulnerability
    public knowledge, that’s often when a CVE record is published.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: CVE记录通常在CNA发现漏洞后并不会立即创建。CVE记录是公开的，技术公司可能需要几个月甚至一年时间来私下解决漏洞。当漏洞可以公开披露时，通常会发布CVE记录。
- en: Quite often as a pentester, you might find that your organization’s network
    has vulnerabilities that are a few years old. For instance, you might find a vulnerability
    that has a CVE record from 2018\. The CNA may have a security patch for the vulnerability,
    but your organization hasn’t installed it, or the vulnerability might be public
    knowledge but very difficult to patch or mitigate. As a pentester, finding zero-day
    vulnerabilities isn’t really your job, and many of the vulnerabilities you discover
    may have been known by the technology vendor for years!
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名渗透测试员，你很可能会发现你所在组织的网络存在一些已经存在几年的漏洞。例如，你可能会发现一个2018年的CVE记录。CNA可能已经为这个漏洞提供了安全补丁，但你的组织尚未安装，或者这个漏洞虽然是公开的，但修复或缓解起来非常困难。作为渗透测试员，发现零日漏洞并不是你的工作，许多你发现的漏洞可能已经被技术厂商知晓多年！
- en: Here’s an example of a real-life CVE record.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一个真实的CVE记录示例。
- en: 'CVE-2022-3349 is a vulnerability in Sony’s PS4 and PS5 video game consoles.
    That’s the format each CVE record uses for identification: CVE, then a four-digit
    year, then a four-digit number that’s unique to the year.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: CVE-2022-3349是索尼PS4和PS5视频游戏主机中的一个漏洞。每个CVE记录的标识格式都是这样的：CVE，接着是四位数的年份，再接着是该年份唯一的四位数编号。
- en: 'The record contains a basic description of the vulnerability:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 该记录包含了漏洞的基本描述：
- en: “A vulnerability was found in Sony PS4 and PS5\. It has been classified as critical.
    This affects the function **UVFAT_readupcasetable** of the component **exFAT**
    Handler. The manipulation of the argument **dataLength** leads to heap-based buffer
    overflow. It is possible to launch the attack on the physical device. It is recommended
    to upgrade the affected component. The associated identifier of this vulnerability
    is VDB-209679.”
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: “在索尼PS4和PS5中发现了一个漏洞。该漏洞被分类为严重漏洞。它影响了组件**exFAT**处理器的**UVFAT_readupcasetable**功能。对参数**dataLength**的操控会导致堆栈溢出。可以在物理设备上发起攻击。建议升级受影响的组件。该漏洞的关联标识符为VDB-209679。”
- en: Then, a list of references to the vulnerability is shown, usually as web hyperlinks
    to published reports external to the CVE database.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，展示了该漏洞的参考列表，通常是指向发布的报告的网页超链接，这些报告来自CVE数据库以外的地方。
- en: Next, the assigning CNA is named. In this record, it’s VulDB. VulDB is a third-party
    vulnerability database. For whatever reason, Sony isn’t a CNA. So, third-party
    Sony trusts handle the responsibility of adding vulnerabilities in Sony products
    and services to the CVE database.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，列出了分配的CNA。在此记录中，CNA是VulDB。VulDB是一个第三方漏洞数据库。由于某些原因，索尼并不是CNA。因此，第三方的索尼信任的机构承担着将索尼产品和服务中的漏洞添加到CVE数据库中的责任。
- en: 'Next, the date the record was created is shown. In this record, it’s 20220928\.
    That means September 28th, 2022\. This disclaimer is mentioned: “*The record creation
    date may reflect when the CVE ID was allocated or reserved, and does not necessarily
    indicate when this vulnerability was discovered, shared with the affected vendor,
    publicly disclosed, or updated in CVE.*” As I mentioned, there may be a few months
    or a year or so between when the vulnerability was discovered and when it was
    added to the CVE database. That’s usually to give the vendor (the tech company
    the vulnerability impacts) time to address the vulnerability before it becomes
    public knowledge, in order to prevent cyber attacks.'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，显示了记录创建的日期。在此记录中，日期是20220928。这意味着2022年9月28日。这里有一个免责声明：“*记录创建日期可能反映了CVE ID的分配或保留时间，并不一定表示该漏洞被发现、与受影响供应商共享、公开披露或更新到CVE中的时间。*”正如我提到的，漏洞的发现与被添加到CVE数据库之间可能有几个月甚至一年的时间。这通常是为了给供应商（受漏洞影响的科技公司）一些时间来修复漏洞，以防止其被公开利用，防止网络攻击。
- en: For more information about *CVE-2022-3349* (and other CVE records), you need
    to go to NIST’s NVD. The NVD has web pages for most of CVE’s records. See [https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349)
    and  [https://nvd.nist.gov/vuln/detail/CVE-2022-3349](https://nvd.nist.gov/vuln/detail/CVE-2022-3349).
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 关于*CVE-2022-3349*（以及其他CVE记录）的更多信息，您需要访问NIST的NVD。NVD为大多数CVE记录提供网页。请见[https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349)和[https://nvd.nist.gov/vuln/detail/CVE-2022-3349](https://nvd.nist.gov/vuln/detail/CVE-2022-3349)。
- en: Here’s the information NVD has about CVE-2022-3349 ([https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349)).
    There’s a CVSS score. CVSS rates vulnerabilities between 0.0 and 10.0\. Lower
    numbers are less critical, which means the vulnerabilities are less dangerous
    if a cyber attacker exploits them. Higher numbers are more critical and more dangerous
    if a cyber attacker exploits them! *CVE-2022-3349* is rated 6.8 (medium) under
    the CVSS version 3.X rating scale.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这是NVD关于CVE-2022-3349的相关信息（[https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3349)）。它有一个CVSS评分。CVSS为漏洞评分，分值在0.0到10.0之间。较低的分数表示漏洞不那么严重，这意味着如果网络攻击者利用这些漏洞，其危害较小。较高的分数表示漏洞更加严重，若被攻击者利用，其危害较大！*CVE-2022-3349*在CVSS
    3.X版本的评分中为6.8（中等）。
- en: Then, NVD lists “*References to Advisories, Solutions, and Tools*.” This is
    similar to the web hyperlink references in CVE’s own database. In fact, CVE and
    NVD often cross-reference the references—they might be the same hyperlinks in
    both versions of the record.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，NVD列出了“*建议、解决方案和工具的参考资料*”。这类似于CVE自身数据库中的网页超链接引用。事实上，CVE和NVD经常交叉引用这些资料——它们可能在这两个记录版本中是相同的超链接。
- en: 'Finally, the NVD lists “*Weakness Enumeration*.” Those are links to MITRE’s
    **Common Weakness Enumeration** (**CWE**) database, what MITRE calls “*a community-developed
    list of software and hardware weakness types*.” Weaknesses are the types of flaws
    a vulnerability may have. NVD’s record for *CVE-2022-3349* lists these CWEs:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，NVD列出了“*弱点枚举*”。这些是指向MITRE的**通用弱点枚举**（**CWE**）数据库的链接，MITRE称之为“*一个由社区开发的软件和硬件弱点类型列表*。”弱点是漏洞可能具有的缺陷类型。NVD对于*CVE-2022-3349*的记录列出了以下CWE：
- en: CWE-787, Out-of-bounds Write
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-787, 越界写入
- en: CWE-122, Heap-based Buffer Overflow
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-122, 基于堆的缓冲区溢出
- en: CWE-119, Improper Restriction of Operations within the Bounds of a Memory Buffer
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-119, 内存缓冲区操作范围不当限制
- en: Let’s look at the two frequently used CVSS scoring scales.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看两个常用的CVSS评分标准。
- en: CVSS v2.0 is the older scale. Vulnerabilities scored 0.0 to 3.9 are classified
    as “low,” 4.0 to 6.9 are classified as “medium,” and 7.0 to 10.0 are classified
    as “high.” The newer CVSS v3.0 has more categories. 0.0 always means that a vulnerability
    isn’t at all dangerous. I don’t think any vulnerabilities have a CVSS v3.0 score
    of 0.0; the number just exists as a concept to help quantify the rest of the scale.
    Vulnerabilities rated 0.1 to 3.9 are “low,” 4.0 to 6.9 are “medium.” 7.0 to 8.9
    are “high,” and 9.0 to 10.0 are “critical.” Whichever CVSS version is used, higher
    numbers are more dangerous vulnerabilities and lower numbers are less dangerous
    vulnerabilities. You will be expected to help write pentest reports as a pentester
    or red teamer. You should mention CVSS scores in your report, and the CVSS scores
    will help your organization determine which vulnerabilities are most important
    to address first.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: CVSS v2.0是较旧的评分标准。漏洞得分0.0到3.9被归类为“低”，4.0到6.9被归类为“中”，7.0到10.0被归类为“高”。较新的CVSS
    v3.0有更多的分类。0.0始终意味着漏洞不具任何危险性。我认为没有漏洞会有CVSS v3.0得分为0.0；这个数字只是作为一个概念存在，用来帮助量化其他得分区间。得分为0.1到3.9的是“低”，4.0到6.9的是“中”，7.0到8.9的是“高”，9.0到10.0的是“关键”。无论使用哪个CVSS版本，较高的得分表示漏洞更危险，较低的得分表示漏洞较不危险。作为渗透测试人员或红队成员，你需要帮助编写渗透测试报告。你应该在报告中提到CVSS得分，而这些得分将帮助你的组织确定哪些漏洞最需要优先处理。
- en: Finally, there’s EPSS. The EPSS is maintained by FIRST. In its words, FIRST
    “*aspires to bring together incident response and security teams from every country
    across the world to ensure a safe internet* *for all.*”
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 最后是EPSS。EPSS由FIRST维护。根据FIRST的描述，FIRST“*旨在将全球各国的事件响应和安全团队聚集在一起，确保为所有人提供一个安全的互联网*”。
- en: FIRST uses EPSS to describe the likelihood or probability that a vulnerability
    will be exploited by cyber attackers. FIRST recognizes that there are too many
    vulnerabilities to fix immediately, and vulnerabilities are often recorded in
    the CVE database before a vulnerability is completely addressed. Some vulnerabilities
    are extremely difficult to fix completely. So, FIRST uses EPSS to determine whether
    a known vulnerability is likely to be exploited, and how likely it will be exploited.
    FIRST says that only 2% to 7% of known vulnerabilities are “*exploited in* *the
    wild*.”
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: FIRST使用EPSS来描述漏洞被网络攻击者利用的可能性或概率。FIRST认识到，漏洞太多，无法立即修复，且漏洞常常在完全修复之前就被记录到CVE数据库中。有些漏洞非常难以完全修复。因此，FIRST使用EPSS来确定已知漏洞是否可能被利用，以及被利用的可能性有多大。FIRST表示，只有2%到7%的已知漏洞会“*在*
    *实际环境中被利用*”。
- en: EPSS scores are given a percentage number, from 0% to 100%. 0% is a vulnerability
    that will never be exploited, and 100% is a vulnerability that will definitely
    be exploited and probably has been exploited lots of times already. According
    to FIRST, the vast majority of vulnerabilities score below 25%, and many below
    10%.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: EPSS得分是以百分比表示的，范围从0%到100%。0%表示该漏洞永远不会被利用，而100%表示该漏洞肯定会被利用，并且可能已经被利用了很多次。根据FIRST的说法，绝大多数漏洞的得分低于25%，其中许多低于10%。
- en: FIRST recommends that pentesters and defensive security specialists triage vulnerabilities
    according to both CVSS and EPSS. So, a vulnerability with a CVSS score of 9.8
    and EPSS score of 97% should definitely be addressed right away, as soon as possible,
    and given the absolute top priority. If a vulnerability has a CVSS score of 9.9
    but an EPSS score of 2%, you may want to wait until vulnerabilities with higher
    EPSS scores are addressed first, even though exploiting the vulnerability would
    be very dangerous.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: FIRST建议渗透测试人员和防御性安全专家根据CVSS和EPSS对漏洞进行分类。因此，CVSS得分为9.8且EPSS得分为97%的漏洞应当立刻处理，尽可能迅速，并给予绝对的优先级。如果一个漏洞的CVSS得分为9.9，但EPSS得分为2%，你可能需要等待EPSS得分更高的漏洞先被处理，尽管利用该漏洞的风险非常高。
- en: So, now that we know how information about vulnerabilities and exploits is recorded
    in public databases, we’re ready to understand how to write effective pentest
    reports and how to engage in purple teaming. Purple teaming is when the red team
    works with the blue team—the defensive security specialists.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道了如何在公共数据库中记录漏洞和利用情况的信息，我们准备好理解如何编写有效的渗透测试报告以及如何进行紫队合作。紫队合作是指红队与蓝队——防御性安全专家合作的过程。
- en: Purple teaming and writing pentest reports
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 紫队合作与编写渗透测试报告
- en: As a cloud pentester, you will spend anywhere from a few days to multiple months
    on a single engagement, whether you’re a third-party contractor to the organization
    you’re working for or a part of the organization’s internal red team. Your objective
    is to work within your organization’s contractually defined scope to find as many
    security vulnerabilities as you can while performing simulated cyber attacks your
    organization and the cloud providers (AWS, Azure, GCP) permit you to do.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名云渗透测试员，无论你是作为外部承包商为所在组织工作，还是作为组织内部红队的一员，你将在一个项目中投入从几天到几个月的时间。你的目标是在组织合同定义的范围内，尽可能发现更多的安全漏洞，同时执行组织和云服务提供商（AWS、Azure、GCP）允许的模拟网络攻击。
- en: So, over the course of those days, weeks, or months, you may have found several
    vulnerabilities. Most of them are vulnerabilities that the cybersecurity community
    is familiar with, with extensive records in the CVE database, NIST’s NVD, and
    in the security alerts and patch notes of the vendors (tech companies that provide
    products and services to your organization) to which the vulnerabilities you’ve
    found pertain. Maybe some of the vulnerabilities you’ve discovered are simply
    common examples of poor security configuration, such as leaving Windows’ RDP enabled
    when it’s never used. That should have been found in a vulnerability assessment.
    But at least you were able to catch it! Or, maybe you’ve found a number of other
    commonly found cybersecurity problems in the enterprise.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这些天、周或月的过程中，你可能发现了多个漏洞。大多数漏洞是网络安全社区所熟知的，且在CVE数据库、NIST的NVD以及与漏洞相关的厂商（向你的组织提供产品和服务的科技公司）的安全警报和补丁公告中都有广泛记录。也许你发现的一些漏洞只是常见的安全配置问题，例如在从未使用的情况下启用Windows的RDP。这本应该在漏洞评估中发现。但至少你能捕捉到它！或者，也许你还发现了其他在企业中常见的网络安全问题。
- en: That’s great! You’ve worked very hard over a period of time, and you and your
    team have found a bunch of terrible cybersecurity problems that can only be found
    by performing effective and appropriate penetration tests. (Well, except for the
    unnecessarily enabled RDP. Why didn’t your organization find that in a vulnerability
    assessment?)
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！你在一段时间内付出了很多努力，你和你的团队发现了一堆只有通过有效和适当的渗透测试才能发现的严重网络安全问题。（嗯，除了那个不必要启用的RDP。为什么你们的组织在漏洞评估中没发现这个？）
- en: Now, you can go back home, play some video games, or treat your romantic partner
    to a delicious gourmet meal to celebrate your accomplishments at work.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以回家，玩会儿视频游戏，或者请你的浪漫伴侣吃顿美味的美食，来庆祝你在工作上的成就。
- en: Hey, wait a second. What was the point of all that pentesting? Was it to show
    off your clever hacking skills? That’s great, and the company you work for was
    very impressed. You simulated cyber attacks that it thought only an APT could
    pull off. (**APT** stands for **advanced persistent threat**. It refers to a cybercrime
    group that can attack their targets for an extended period of time. They’re the
    most advanced type of cyber attackers, and they are persistent!)
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 等等，所有这些渗透测试到底是为了什么？是为了炫耀你聪明的黑客技巧吗？那很好，你工作的公司也非常印象深刻。你模拟了他们认为只有APT才能完成的网络攻击。（**APT**代表**高级持续性威胁**，指的是可以长期攻击目标的网络犯罪集团。他们是最先进的网络攻击者，并且非常持久！）
- en: But ultimately, the real reason why organizations hire pentesters and assemble
    red teams is that they need to find security vulnerabilities that a vulnerability
    assessment might miss so that they can *improve the security posture of* *their
    networks*.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 但归根结底，组织雇佣渗透测试员和组建红队的真正原因是，他们需要发现漏洞评估可能遗漏的安全漏洞，以便他们能够*改善* *其网络*的安全态势。
- en: In order for them to be able to use the information you’ve found to improve
    the security posture of their networks, you’ll need to be able to communicate
    the information you’ve found effectively. That means engaging in purple teaming
    and writing a pentest report that’s easy for the defensive security specialists
    in your organization to understand.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使他们能够利用你发现的信息来改善网络的安全态势，你需要能够有效地传达你发现的信息。这意味着要参与紫队协作并编写一份渗透测试报告，使得你组织中的防御安全专家能够轻松理解。
- en: Chances are that at some point in your life, you’ve seen a brilliant person
    trying to communicate their genius ideas in a way that no one around them could
    understand.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 很有可能，在你的一生中，你曾见过某个天才试图以别人无法理解的方式表达自己的创意。
- en: In order for your pentest to benefit the organization you work for, your goal
    should be to avoid being like that brilliant person who couldn’t communicate properly.
    You need to help the organization you work for understand the security problems
    that you’ve found, and perhaps even suggest some tips on how to fix them.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让你的渗透测试对你所工作的组织有益，你的目标应该是避免成为那种无法有效沟通的聪明人。你需要帮助你所工作的组织理解你发现的安全问题，并可能甚至提出一些建议来解决这些问题。
- en: I’ve worked with many other pentesters over the years. There are a lot of very
    knowledgeable and highly skilled professional hackers out there. But only a minority
    of those people can purple team effectively and write good quality pentest reports.
    Anecdotally, I’ve found that the pentesters who are effective communicators have
    had successful careers for decades, whereas the pentesters who were ineffective
    communicators were more likely to lose their jobs.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 多年来，我与许多其他渗透测试人员一起工作。有很多知识渊博、技能高超的专业黑客。但只有少数人能够有效地进行紫队合作并撰写高质量的渗透测试报告。据我所知，那些善于沟通的渗透测试人员已经成功地工作了几十年，而那些沟通效果不佳的渗透测试人员更有可能失去工作。
- en: If you can show your organization that you’ve found information about the security
    vulnerabilities in their network that they can use to measurably improve their
    security posture, you will be highly valued by them and you’ll probably have a
    successful career.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你能向你的组织展示你已经找到了关于他们网络安全漏洞的信息，这些信息可以帮助他们显著提升安全姿态，那么你将受到他们高度重视，并且很可能会有一个成功的职业生涯。
- en: This book has lots of knowledge about pentesting tools and techniques that are
    effective for pentesting AWS, Azure, and GCP, and being familiar with those tools
    and techniques is crucial to being a successful cloud pentester in your red team.
    But well-written pentest reports and effective purple teaming are just as important.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书涵盖了许多关于对AWS、Azure和GCP进行渗透测试的有效工具和技术的知识，熟悉这些工具和技术对于成为红队中成功的云渗透测试人员至关重要。但撰写良好的渗透测试报告和有效的紫队合作同样重要。
- en: First, let’s learn about purple teaming and why it’s a practice that your organization
    will require.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们了解一下紫队合作以及为什么这是你的组织需要的一种实践。
- en: Purple teaming
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 紫队合作
- en: Purple teaming is a relatively recent concept in cybersecurity.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 紫队合作是网络安全领域相对较新的概念。
- en: The red team is a group of *offensive* security specialists. Their job is to
    replicate the particular tools and techniques that specific threat actors may
    engage in, which they may use to attack your organization. Their engagements may
    last months at a time. They are engaging in offensive cybersecurity, playing the
    simulated cyber attacker role for the benefit of your organization. Unlike an
    ordinary pentest, they have to be particular to mimic a specific attacker, such
    as a recognized APT group.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 红队是一群*攻击性*安全专家。他们的工作是复制特定威胁行为者可能采取的特定工具和技术，这些工具和技术可能被用来攻击你的组织。他们的参与可能持续数月。他们从事攻击性网络安全，扮演模拟网络攻击者的角色，为你的组织带来好处。与普通的渗透测试不同，他们必须特别模仿特定的攻击者，比如一个公认的APT组织。
- en: The blue team is a group of *defensive* security specialists. Their job is to
    look for new ways to improve the security posture of their organization, each
    and every day that they work. **Security operations center** (**SOC**) analysts,
    digital forensics specialists, and the **incident response** (**IR**) group in
    general all work in areas of defensive cybersecurity. But a proper blue team is
    always curious about the latest cyber threats and techniques, and it designs its
    security hardening work according to what it learns that way.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 蓝队是一群*防御性*安全专家。他们的工作是寻找新的方法来提升组织的安全姿态，每天都在工作。**安全运营中心**（**SOC**）分析员、数字取证专家以及**事件响应**（**IR**）组等都在防御性网络安全领域工作。但一个合适的蓝队总是对最新的网络威胁和技术感兴趣，并根据所学到的内容设计其安全加固工作。
- en: If you’ve ever had fun with mixing paint and color theory, you know that mixing
    red and blue pigment makes purple. So, purple teaming is a combination of what
    the red team does and what the blue team does.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你曾经乐在混合颜料和色彩理论中，你会知道混合红色和蓝色颜料会得到紫色。因此，紫队是红队和蓝队所做的事情的结合。
- en: My friend Daniel Miessler is one of the top thought leaders in the area of purple
    teaming, and a pioneer of the concept. According to Miessler, a purple team is
    created when red team members and blue team members collaborate with each other
    effectively. Some organizations might consider creating a dedicated purple team
    as an alternative to encouraging their red teams and blue teams to communicate
    and cooperate better. That probably wouldn’t work very well.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 我的朋友Daniel Miessler是紫队领域的顶尖思想领袖之一，也是这一概念的先驱。根据Miessler的观点，紫队是在红队和蓝队成员之间有效合作时形成的。有些组织可能会考虑创建一个专门的紫队，作为鼓励他们的红队和蓝队更好地沟通和合作的替代方案。但这可能不会非常有效。
- en: Miessler’s analogies for why dedicated purple teams are a bad idea are based
    on a professional restaurant kitchen. If a restaurant finds its waitstaff has
    trouble getting food from the kitchen to its diners, the solution isn’t to hire
    a new team of “kitchen-to-table coordinators.” The solution is to find ways to
    get the waitstaff to serve food effectively. If a restaurant has an elite chef
    who thinks their meal creations are too exquisite for diners to appreciate, no
    amount of culinary skill will make the restaurant popular. The chef may keep their
    dishes in the kitchen, and restaurants fail if diners aren’t served. So, if you’re
    a red team member who doesn’t value cooperating with the blue team, your skill
    and talent will benefit no one.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: Miessler为什么认为专门的紫队是个坏主意的类比，基于一个专业的餐厅厨房。如果一家餐厅发现其服务员难以将食物从厨房送到顾客那里，解决方案不是雇佣一支新的“厨房到餐桌协调员”团队。解决方案是找到让服务员有效送餐的方法。如果一家餐厅有一位精英厨师认为他们的菜肴过于精致，顾客难以欣赏，那么再多的烹饪技巧也无法让餐厅受欢迎。厨师可能会把他们的菜肴留在厨房，而如果顾客没有得到食物，餐厅就会失败。所以，如果你是一个不重视与蓝队合作的红队成员，你的技能和才华将无人受益。
- en: So, the craft of purple teaming is all about effective teamwork and communication
    skills. These aren’t really technical skills; they’re people skills. It’s also
    crucial to be humble as a red team member and be willing to listen and learn from
    your blue team. I’ve seen a lot of huge egos in this industry—don’t become one
    of them!
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，紫队的技巧完全是关于有效的团队合作和沟通技巧。这些并不完全是技术技能；它们是人际交往技巧。作为红队成员，保持谦逊并愿意从蓝队中倾听和学习也至关重要。我见过很多行业中的巨大自负——不要成为其中之一！
- en: GitLab conducts a lot of purple teaming engagements. Their workflow goes like
    this.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: GitLab进行大量的紫队合作工作。它们的工作流程如下。
- en: First, there’s the attack planning phase, in which both the red team and the
    blue team have equal ownership. They have a brainstorming session where they propose
    and discuss a possible cyber threat, perhaps using **threat intelligence** (**TI**)
    or new threat detection capabilities for inspiration. Next, they’ll discuss the
    logistics of the operation (responsibilities, timelines, and so on) and profile
    the attacker they plan to replicate. What sort of C2 servers might they have?
    Which tactics and techniques might they use? What are the attacker’s goals? Then,
    they’ll conduct a tabletop scenario, which is a popular activity for defensive
    security specialists. It’s kind of like playing a tabletop roleplaying game, except
    they’ll use it to review real-world threat actor **tactics, techniques, and procedures**
    (**TTPs**). If the attacker uses those TTPs, how would the blue team react in
    IR? How could those TTPs harm their organization’s network and data?
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 首先是攻击规划阶段，在这一阶段，红队和蓝队拥有平等的责任。它们会进行头脑风暴，提出并讨论可能的网络威胁，或许会使用**威胁情报**（**TI**）或新的威胁检测能力作为灵感。接下来，他们将讨论行动的后勤安排（责任、时间表等），并概括他们计划模拟的攻击者。攻击者可能使用什么样的C2服务器？他们可能使用哪些战术和技术？攻击者的目标是什么？然后，他们将进行桌面演练，这是防御性安全专家的一项流行活动。这有点像玩桌面角色扮演游戏，但他们将用它来回顾真实世界的威胁行为者**战术、技术和程序**（**TTPs**）。如果攻击者使用这些TTP，蓝队在事件响应中会如何反应？这些TTP如何危害他们组织的网络和数据？
- en: The attack emulation phase is where the red teams and blue teams focus on their
    duties separately. The red team will test the infrastructure and tooling required
    to execute its TTPs. The red team will then simulate cyber attacks using those
    TTPs, like a targeted pentest. While the red team simulates attacks, the blue
    team will validate the expected outcomes of those (simulated) attacks.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击仿真阶段是红队和蓝队分别专注于各自职责的阶段。红队将测试执行其TTP（战术、技术和程序）所需的基础设施和工具。然后，红队将利用这些TTP模拟网络攻击，如定向渗透测试。在红队模拟攻击的同时，蓝队将验证这些（模拟的）攻击的预期结果。
- en: The final phase is the conclusion of the operation. The red team prepares and
    shares its pentest report. And then, the red team and blue team come together
    to discuss the details of what happened. What worked? What could’ve been done
    better?
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 最终阶段是操作的总结。红队准备并分享其渗透测试报告。然后，红队和蓝队聚集在一起讨论发生的细节。哪些方面有效？哪些方面可以做得更好？
- en: There are many ways to conduct purple teaming. GitLab’s workflow is one model.
    SCYTHE has publicly shared its own model, the **Purple Team Exercise** **Framework**
    (**PTEF**).
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 进行紫队合作的方式有很多种。GitLab的工作流程就是一种模式。SCYTHE公开分享了它自己的模式——**紫队演练** **框架**（**PTEF**）。
- en: The workflow of SCYTHE’s framework goes like this. Under the direction of an
    exercise coordinator, the red team and blue team come together to discuss a particular
    threat actor, the threat actor’s TTPs, and the associated technical details. Then,
    the red team and the blue team are equal collaborators in a tabletop simulation
    or discussion of the TTPs and your organization’s security controls. If the offensive
    side does something specific, how would the defensive side respond? Then, the
    red team simulates the attacker’s TTP while the blue team watches carefully. The
    blue team probably should be taking notes. Then, the blue team detects and responds
    to the red team’s TTP simulations; everything it’s doing should be viewable by
    the red team. The detection engineering step has the blue team tweaking its security
    controls and improving its network security event logging to increase its visibility
    of the simulated attack from the red team. Finally, the red team and blue team
    come together to repeat their procedure, record their results, and then move on
    to the next TTP simulation—a new purple team exercise.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: SCYTHE框架的工作流程是这样的。在演练协调员的指导下，红队和蓝队聚集在一起讨论特定的威胁行为者、该行为者的TTP（战术、技术与程序）以及相关的技术细节。接下来，红队和蓝队在桌面演练或讨论中作为平等的合作伙伴，讨论这些TTP以及你们组织的安全控制措施。如果进攻方做了某些特定的事情，防守方会如何回应？然后，红队模拟攻击者的TTP，而蓝队则仔细观察。蓝队可能应该做笔记。接下来，蓝队检测并响应红队的TTP模拟；它所做的一切应该对红队可见。检测工程步骤中，蓝队调整其安全控制并改善网络安全事件日志，以提高其对红队模拟攻击的可视性。最后，红队和蓝队再次聚集在一起，重复他们的流程，记录结果，然后进入下一个TTP模拟——一个新的紫队演练。
- en: If you’re simply working for your organization in the capacity of being a pentester,
    purple teaming workflows aren’t really relevant to you. However, you must still
    be mindful of respecting the needs of your organization’s defensive security specialists
    and communicating effectively with them.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你只是以渗透测试员的身份为组织工作，那么紫队的工作流程对你来说可能不太相关。然而，你仍然需要注意尊重组织防御安全专家的需求，并与他们有效沟通。
- en: If you are a part of a proper red team, those examples of how purple teaming
    is done in organizations can serve as a model for your work. If your company doesn’t
    already have purple teaming procedures in place and agreed upon with the blue
    team, encourage purple teaming procedures to become established. If you can explain
    the importance of effective collaboration with the defensive security group with
    the leaders of your security team, your efforts will be well worth it. You may
    need to make a strong case about the importance of proper purple teaming to your
    supervisors, but your initiative will probably be rewarded.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是一个正式红队的一员，组织中如何进行紫队合作的这些例子可以作为你工作的范例。如果你的公司还没有与蓝队达成一致的紫队合作流程，建议推动紫队合作流程的建立。如果你能向安全团队的领导解释与防御安全组有效协作的重要性，你的努力一定是值得的。你可能需要在上级面前充分阐述正确紫队合作的重要性，但你的主动性可能会得到奖励。
- en: Now, on to something you’ll probably be expected to do, whether or not you’re
    part of a red team. Let’s learn about writing effective pentest reports!
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来学习你可能被期望做的事情——无论你是否是红队的一员，那就是编写有效的渗透测试报告！
- en: Writing pentest reports
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 编写渗透测试报告
- en: If you’re not good at creative writing, your pentesting team will be okay if
    at least one of your pentesting colleagues is good at it. As long as everyone
    in your pentesting team can communicate with each other effectively in other ways,
    you can simply delegate the task of writing the pentest report to the best writer
    on your team. Of course, if you’re pentesting as a team, your pentest report is
    a group effort. Findings from everyone should be included in the report. The writer
    of your pentest report will need all of your findings, and you’ll need to be able
    to explain what you did and what happened when the writer asks you about it. You
    should also take good care of the logs from whatever tools you used during your
    pentest because you’ll need to use them as a reference in your report.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不擅长创意写作，你的渗透测试团队至少需要有一位擅长此项技能的同事。只要你的渗透测试团队中的每个人能够以其他方式有效地相互沟通，你就可以将编写渗透测试报告的任务简单地委托给团队中最擅长写作的人。当然，如果你是作为团队进行渗透测试，那么你的渗透测试报告是一个团队的努力。每个人的发现都应该包含在报告中。你的渗透测试报告的撰写者将需要你所有的发现，当撰写者询问时，你需要能够解释你做了什么以及发生了什么。你还应该妥善保管你在渗透测试期间使用的任何工具的日志，因为你将需要将它们作为报告的参考。
- en: But if you’re a solo pentester, then the responsibility for writing the pentest
    report is entirely yours! This is an example of how pentesters need more than
    technical skills; they also need creative and communications skills.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 但如果你是独立的渗透测试人员，那么编写渗透测试报告的责任完全由你承担！这是渗透测试人员需要不仅具备技术技能，还需要具备创意和沟通技能的一个例子。
- en: So, let’s examine what your organization will expect from your pentest report.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，让我们看看你的组织对你的渗透测试报告有什么期望。
- en: 'All good pentest reports must include the following:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 所有优秀的渗透测试报告必须包括以下内容：
- en: An executive summary at the beginning of the report.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告开头的执行摘要。
- en: A definition of the scope of your pentest. This is the “what” of your test.
    What exactly was the subject of your test?
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渗透测试范围的定义。这是你测试的“什么”。你的测试的主题究竟是什么？
- en: A thorough and detailed explanation of the methodology of your pentest. This
    is the “how” of your test.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对你的渗透测试方法论进行彻底和详细的解释。这是你测试的“如何”。
- en: A list of the vulnerabilities your pentest discovered. These should probably
    be triaged with the most critical vulnerabilities at the beginning and the least
    critical vulnerabilities at the end.
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的渗透测试发现的漏洞清单。这些漏洞可能需要按照最关键的漏洞在前，最不关键的漏洞在后进行分类。
- en: An analysis of the impact the vulnerabilities you discovered could have on your
    organization if they’re exploited. This part is absolutely crucial, because if
    your organization doesn’t understand the harm that could occur if the vulnerabilities
    aren’t addressed, then why should they care?
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对你发现的漏洞可能对组织造成的影响进行分析。这部分非常关键，因为如果你的组织不了解如果不解决漏洞可能会造成的危害，那么他们为什么要在意呢？
- en: Advice for how to remediate the specific vulnerabilities your pentest discovered.
    Go one by one, vulnerability by vulnerability.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何纠正你的渗透测试发现的具体漏洞的建议。逐个漏洞进行处理。
- en: Recommend how your organization’s security strategies can be improved. This
    goes beyond remediating specific vulnerabilities. You need to make recommendations
    for how your organization can improve its security posture as a whole. For instance,
    if most of the vulnerabilities you successfully exploited have been in the CVE
    database for more than a decade, you could recommend that it improves its patch
    management and works on replacing legacy tech with more modern hardware and software.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 建议如何改进组织的安全策略。这超出了纠正特定漏洞的范围。你需要提出建议，说明组织如何全面提升其安全姿态。例如，如果你成功利用的大多数漏洞在 CVE 数据库中已经存在超过十年，你可以建议改进其补丁管理，并努力用更现代的硬件和软件替换传统技术。
- en: There’s a good reason why the executive summary should be at the beginning of
    your report rather than the end. The executive summary is for the *executives*.
    They’re usually people with a lot of power and influence in your organization,
    but they aren’t particularly technical.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 执行摘要应该在报告的开头而不是结尾。执行摘要是给*高管*看的。他们通常是组织中具有很大权力和影响力的人，但并不特别擅长技术方面。
- en: They’re also very busy people. On their list of priorities, reading your pentest
    report is probably number 27 for the day. They’re not going to spend hours reading
    your report. If you’re lucky, they’ll give it 5 minutes. Therefore, the executive
    summary needs to be at the beginning, and it needs to be concise. The executive
    summary should be a page or two, and that’s it. If you go by word count, aim for
    300 to 600 words. It’s unlikely the executives will read more than that.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 他们也是非常忙碌的人。在他们的优先事项清单中，阅读你的渗透测试报告可能排在当天的第27位。他们不会花几个小时阅读你的报告。如果你幸运的话，他们可能会给你5分钟的时间。因此，执行摘要需要放在报告的开头，并且必须简明扼要。执行摘要应该是一到两页，最多就是这样。如果按字数计算，目标是300到600字。高层管理人员不太可能读超过这个字数。
- en: 'In your executive summary, just explain what you pentested and what patterns
    you found in the results of your pentest or what the most significant problems
    you discovered were. Here’s an example:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的执行摘要中，仅需解释你测试了哪些内容，发现了什么样的模式，或者你发现的最重要的问题是什么。下面是一个例子：
- en: “*We tried to see if we could access the organization’s microservices that are
    hosted on Amazon EC2 instances through code injection exploits in the e-commerce
    web interface. It worked and we acquired unauthorized access through these APIs
    and we were able to access sensitive data. This is how those vulnerabilities could
    harm the company if they’re exploited. And this is how much money the company
    could lose in a successful real-world* *cyber attack.*”
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: “*我们尝试通过代码注入漏洞来访问托管在Amazon EC2实例上的组织微服务，目标是电商网站的界面。结果成功了，我们通过这些API获得了未授权的访问权限，能够访问敏感数据。这些漏洞如果被利用，可能会对公司造成的损害就是这样。这是如果发生真实的网络攻击，可能会导致公司损失的金额。*”
- en: 'Replace each instance of “*this*” with some of your actual pentest findings.
    And I’m a strong believer in mentioning estimated dollar figures of the harm those
    cyber attacks could do to the company. That’s what your executives care about
    the most—money. Getting credible financial risk data is easier than you might
    think. For instance, if the likely impact of vulnerability exploitation is data
    breaches, you can get approximate dollar figures from IBM’s *Cost of a Data Breach
    Report* ([https://www.ibm.com/reports/data-breach](https://www.ibm.com/reports/data-breach)).
    For ransomware, you could cite the following report: [https://www.cybereason.com/ransomware-the-true-cost-to-business-2022](https://www.cybereason.com/ransomware-the-true-cost-to-business-2022).'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 将每个“*this*”替换为你实际的渗透测试发现。我坚信在报告中提到这些网络攻击可能对公司造成的估算财务损失。这正是你的高层管理人员最关心的——金钱。获得可信的财务风险数据比你想象的要容易。例如，如果漏洞利用可能导致数据泄露，你可以从IBM的《数据泄露成本报告》([https://www.ibm.com/reports/data-breach](https://www.ibm.com/reports/data-breach))中获得大致的损失金额。如果是勒索软件攻击，你可以引用以下报告：[https://www.cybereason.com/ransomware-the-true-cost-to-business-2022](https://www.cybereason.com/ransomware-the-true-cost-to-business-2022)。
- en: The rest of your report is for the cybersecurity specialists in your organization
    to read. As long as the executive summary is short, the rest of your report can
    be however long it needs to be in order to include all of the important technical
    details. The length of your report will vary depending on how much you did during
    your pentest. But pentest reports are rarely over 100 pages. Most are between
    20 and 70 pages.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 你报告的其余部分是供你公司内部的网络安全专家阅读的。只要执行摘要简短，其余的报告可以根据需要写得长一点，以便包含所有重要的技术细节。报告的长度会根据你在渗透测试过程中所做的工作量而有所不同。但渗透测试报告很少超过100页，大多数报告的页数在20到70页之间。
- en: Explain the scope of your pentest. “*We tested this particular DevOps network.*”
    “*We tested this particular web application.*” “*We tested this particular network
    segment.*” But of course, you’ll need to provide more detail for the scope of
    your test. Cite network addresses, IP addresses, or whichever identifiers are
    applicable so that the security team knows exactly what you tested.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 解释你的渗透测试范围。“*我们测试了这个特定的DevOps网络。*” “*我们测试了这个特定的Web应用程序。*” “*我们测试了这个特定的网络段。*”
    当然，你需要为测试范围提供更多的细节。列出网络地址、IP地址或任何适用的标识符，以便安全团队知道你具体测试了什么内容。
- en: The methodology section also should be detailed and specific. You should explain
    step by step the exact actions you conducted in your test in chronological order.
    Name the tools you used, the exploits you simulated, and the techniques you attempted.
    When in doubt, err on the side of being more detailed rather than less. You may
    want to cite MITRE’s ATT&CK database ([https://attack.mitre.org/](https://attack.mitre.org/))
    to name specific exploitation techniques. It’s a freely and publicly available
    resource on the web.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 方法论部分也应详细具体。你应该按时间顺序逐步解释你在测试中采取的确切行动。列出你使用的工具、模拟的漏洞利用以及尝试的技术。如果有疑问，宁可详细描述，也不要简略。你可能想引用MITRE的ATT&CK数据库（[https://attack.mitre.org/](https://attack.mitre.org/)）来命名具体的漏洞利用技术。这个资源在网上是免费的并且公开可用。
- en: Next, you need to present the vulnerabilities your pentest discovered. Every
    single vulnerability you discovered must be included. Cite specific CVEs wherever
    they’re applicable. I recommend presenting the vulnerabilities in order from most
    critical to least critical. Mention both CVSS scores and EPSS scores. Weigh the
    criticality of each vulnerability according to a combination of both CVSS and
    EPSS. For instance, if there are several vulnerabilities with CVSS scores of 7.0
    to 9.0, the ones with an EPSS of 30% should go first, and the ones with an EPSS
    of 10% should go after. MITRE’s CVE database ([https://cve.org](https://cve.org)),
    NIST’s NVD database ([https://nvd.nist.gov/](https://nvd.nist.gov/)), and FIRST’s
    EPSS database ([https://www.first.org/epss/](https://www.first.org/epss/)) are
    all freely and publicly available on the web for you to find CVE numbers, CVSS
    scores, and EPSS scores.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你需要展示你的渗透测试发现的漏洞。你发现的每一个漏洞都必须包括。无论何时适用，都要引用具体的CVE编号。我建议按照从最严重到最轻微的顺序展示漏洞。提到CVSS和EPSS分数。根据CVSS和EPSS的综合评分来权衡每个漏洞的严重性。例如，如果有几个漏洞的CVSS分数在7.0到9.0之间，那么EPSS为30%的漏洞应排在前面，EPSS为10%的漏洞应排在后面。MITRE的CVE数据库（[https://cve.org](https://cve.org)）、NIST的NVD数据库（[https://nvd.nist.gov/](https://nvd.nist.gov/)）以及FIRST的EPSS数据库（[https://www.first.org/epss/](https://www.first.org/epss/)）都是免费的公开资源，你可以通过它们查找CVE编号、CVSS分数和EPSS分数。
- en: Next, you need to provide remediation advice. Be specific. Mention patches that
    need to be installed, configurations and settings that need to be changed, and
    so on. This will vary according to the nature of the vulnerabilities.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你需要提供修复建议。要具体明确。提到需要安装的补丁、需要更改的配置和设置等。这些内容会根据漏洞的性质有所不同。
- en: You know the phrase “can’t see the forest for the trees”? It means someone is
    too focused on the details of a situation that they lose sight of the “big picture.”
    But in the case of your pentest report, your organization will have to see both
    the forest *and* the trees. The remediation advice section is the “trees,” and
    the security strategy improvement advice section is the “forest.” “*Upgrade and
    replace legacy tech.*” “*Hire a security operations center team.*” “*Improve your
    incident response plan.*” Those are the sorts of things that pertain to security
    strategy, but use details that apply to your particular organization and your
    particular pentest.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 你知道“看树不见森林”这句话吗？它意味着某人过于关注情况的细节，导致忽视了“全局视角”。但是在你的渗透测试报告中，你的组织必须同时看到森林*和*树木。修复建议部分是“树木”，而安全策略改进建议部分是“森林”。“*升级和更换过时的技术*。”“*雇佣安全运营中心团队*。”“*改善事件响应计划*。”这些都与安全策略相关，但要根据你特定的组织和渗透测试使用适当的细节。
- en: 'I recommend looking at some publicly available real-world pentest reports before
    you write one for the first time. Check out the collection of real pentest reports
    juliocesarfort maintains on GitHub ([https://github.com/juliocesarfort/public-pentesting-reports](https://github.com/juliocesarfort/public-pentesting-reports)).
    There’s also a large collection on the pentestreports.com website ([https://pentestreports.com/reports/](https://pentestreports.com/reports/)).
    If you want to go further than that, I gave a talk about writing effective pentest
    reports for *SANS Pen Test HackFest Summit 2021* titled *Writing Reports: The
    Overlooked Pen Testing Skill*. You can watch it on YouTube ([https://www.youtube.com/watch?v=r-6LBjlM14Y](https://www.youtube.com/watch?v=r-6LBjlM14Y)).'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '我建议在第一次编写渗透测试报告之前，查看一些公开的真实世界渗透测试报告。可以查看juliocesarfort在GitHub上维护的真实渗透测试报告集（[https://github.com/juliocesarfort/public-pentesting-reports](https://github.com/juliocesarfort/public-pentesting-reports)）。在pentestreports.com网站上也有一个大型报告集（[https://pentestreports.com/reports/](https://pentestreports.com/reports/)）。如果你想进一步了解，我曾在*SANS
    Pen Test HackFest Summit 2021*上做过一场关于编写有效渗透测试报告的演讲，演讲题目是*Writing Reports: The
    Overlooked Pen Testing Skill*。你可以在YouTube上观看这场演讲（[https://www.youtube.com/watch?v=r-6LBjlM14Y](https://www.youtube.com/watch?v=r-6LBjlM14Y)）。'
- en: And there you have it. That’s why your pentest is conducted in the first place.
    You do it to find security vulnerability information, recommend a course of action,
    and help the defensive security team improve your organization’s security posture.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 就是这样。这就是为什么要进行渗透测试的原因。你进行渗透测试是为了发现安全漏洞信息，推荐行动方案，并帮助防御安全团队提升你组织的安全态势。
- en: Summary
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: AWS, Azure, and GCP have pentesting policies that you and your organization
    must abide by. Benchmark checks verify the performance of your organization’s
    cloud services. Cloud provider SLAs are a good source of general benchmarks. CIS
    also has specific benchmarks for cybersecurity. Cloud service enumeration is a
    way that an attacker can find out information about how your organization uses
    cloud services. There are scripts you can execute to test your organization’s
    susceptibility to vulnerabilities.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: AWS、Azure和GCP有渗透测试政策，你和你的组织必须遵守。基准检查验证你组织云服务的性能。云服务商的SLA是一个很好的通用基准来源。CIS还为网络安全提供了具体的基准。云服务枚举是攻击者用来发现你组织如何使用云服务的一种方式。你可以执行一些脚本来测试你组织对漏洞的易受攻击性。
- en: Vulnerability assessments can be performed by vulnerability scanning applications.
    Before pentesting, it’s important to have a recent history of vulnerability assessments
    and mitigation for the findings of those assessments. Common security misconfigurations
    must be addressed first before your organization is ready to pentest.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞评估可以通过漏洞扫描应用程序进行。在渗透测试之前，重要的是要有漏洞评估的最新历史记录，并对这些评估发现的漏洞进行缓解。常见的安全配置错误必须首先解决，才能确保你的组织准备好进行渗透测试。
- en: Exposed services are internet services and ports in your organization’s cloud
    network that an attacker can use to cyber-attack it through the internet. It’s
    vital to make sure that proper access control measures are on all of these points
    in your public cloud so that no services are exposed. Permissions are an access
    control component—what are users and machines permitted to do in each application
    and service your organization has? Cloud integrations are when different cloud
    platforms in your network (AWS, Azure, GCP) connect with each other, or when any
    of those parts also connect with an on-premises network. It’s essential to secure
    cloud integrations because they can be especially vulnerable to cyber attacks.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 暴露的服务是你组织云网络中的互联网服务和端口，攻击者可以通过互联网利用这些服务进行网络攻击。确保你的公有云中所有这些点都采取了适当的访问控制措施，以防止服务暴露至关重要。权限是访问控制的组成部分——用户和机器在你组织的每个应用和服务中被允许执行什么操作？云集成是指你网络中不同的云平台（如AWS、Azure、GCP）相互连接，或它们中的任何一个部分与本地网络连接。确保云集成的安全非常重要，因为它们可能特别容易受到网络攻击。
- en: Publicly known security vulnerabilities are recorded in MITRE’s CVE database.
    NIST records the same CVEs in its NVD database and assigns CVSS scores to them
    that determine how critical they are. FIRST assigns EPSS ratings to those same
    CVEs that indicate how likely it is that an attacker may exploit them.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 公共已知的安全漏洞记录在MITRE的CVE数据库中。NIST将相同的CVE记录在其NVD数据库中，并为它们分配CVSS评分，确定它们的严重程度。FIRST为这些CVE分配EPSS评级，指示攻击者利用这些漏洞的可能性。
- en: As a pentester or red teamer, it’s essential for you to communicate and cooperate
    well with the defensive security team or blue team. Purple teaming is operations
    the red team and blue team perform together to find security vulnerabilities.
    Pentest reports should always be written for each and every pentest. They should
    effectively explain your vulnerability discoveries, their impact, and remediation
    advice for your organization’s executives and defensive security team.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名渗透测试人员或红队成员，与你的防守安全团队或蓝队团队进行良好的沟通和合作至关重要。紫队协作是红队和蓝队共同执行的操作，旨在发现安全漏洞。每次渗透测试后都应编写渗透测试报告，报告应有效地解释你发现的漏洞、其影响以及为组织的高层和防守安全团队提供的修复建议。
- en: In the next chapter, I’ll introduce you to AWS, Amazon’s cloud platform. You’ll
    learn about various AWS applications and services and why they’re used. We’ll
    also explore Amazon’s own built-in AWS security tools, and some third-party tools
    as well.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我将介绍AWS，亚马逊的云平台。你将了解各种AWS应用程序和服务，以及它们的使用原因。我们还将探索亚马逊自带的AWS安全工具，以及一些第三方工具。
- en: AWS is one of the most popular cloud platforms around. You may be surprised
    by how many different use cases AWS can support. AWS also has many very useful
    security controls that are important for cloud pentesters to understand.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: AWS是目前最受欢迎的云平台之一。你可能会对AWS能够支持的多种不同使用场景感到惊讶。AWS还拥有许多对云渗透测试者至关重要的安全控制功能，值得深入理解。
- en: Further reading
  id: totrans-207
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 延伸阅读
- en: 'To learn more on the topics covered in this chapter, you can visit the following
    links:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解更多本章内容，你可以访问以下链接：
- en: '*Official AWS penetration testing* *policies*: [https://aws.amazon.com/security/penetration-testing/](https://aws.amazon.com/security/penetration-testing/)'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*AWS官方渗透测试* *政策*：[https://aws.amazon.com/security/penetration-testing/](https://aws.amazon.com/security/penetration-testing/)'
- en: '*Official Microsoft pentesting rules of* *engagement*: [https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement](https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement)'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*微软官方渗透测试参与规则*：[https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement](https://www.microsoft.com/en-us/msrc/pentest-rules-of-engagement)'
- en: '*Official Google pentesting* *policies*: [https://cloud.google.com/terms/aup](https://cloud.google.com/terms/aup)'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Google官方渗透测试* *政策*：[https://cloud.google.com/terms/aup](https://cloud.google.com/terms/aup)'
- en: '*MITRE’s* *CVE database*:'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*MITRE的* *CVE数据库*：'
- en: '[https://cve.mitre.org/cve/](https://cve.mitre.org/cve/)'
  id: totrans-213
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://cve.mitre.org/cve/](https://cve.mitre.org/cve/)'
- en: '[https://www.cve.org/](https://www.cve.org/)'
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.cve.org/](https://www.cve.org/)'
- en: '*A full list of bug bounty programs through* *HackerOne*: [https://hackerone.com/bug-bounty-programs](https://hackerone.com/bug-bounty-programs)'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*通过HackerOne的完整漏洞悬赏计划列表*：[https://hackerone.com/bug-bounty-programs](https://hackerone.com/bug-bounty-programs)'
- en: '*NIST’s CVSS* *system*: [https://nvd.nist.gov/vuln-metrics/cvss](https://nvd.nist.gov/vuln-metrics/cvss)'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NIST的CVSS* *系统*：[https://nvd.nist.gov/vuln-metrics/cvss](https://nvd.nist.gov/vuln-metrics/cvss)'
- en: '*FIRST’s EPSS* *system*: [https://www.first.org/epss/](https://www.first.org/epss/)'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*FIRST的EPSS* *系统*：[https://www.first.org/epss/](https://www.first.org/epss/)'
- en: Part 2:Pentesting AWS
  id: totrans-218
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第二部分：渗透测试AWS
- en: Amazon’s AWS is one of the most popular cloud platforms. In this part, we will
    learn about AWS’s various software-as-a-service, platform-as-a-service, and infrastructure-as-a-service
    applications. We will deploy our own AWS instance in which to test our pentesting
    skills. We will use AWS Security Hub to check the security posture of our AWS
    deployment. We will also try out some pentesting tools in AWS, step by step. Then,
    we’ll deploy Docker and Kubernetes containers and test those as well.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊的AWS是最受欢迎的云平台之一。在本部分中，我们将学习AWS的各种软件即服务（SaaS）、平台即服务（PaaS）和基础设施即服务（IaaS）应用程序。我们将部署自己的AWS实例，用于测试我们的渗透测试技能。我们将使用AWS安全中心检查我们AWS部署的安全状况。我们还将逐步尝试一些在AWS中的渗透测试工具。然后，我们将部署Docker和Kubernetes容器并进行测试。
- en: 'This section has the following chapters:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分包含以下章节：
- en: '[*Chapter 4*](B18672_04.xhtml#_idTextAnchor067), *Security Features in AWS*'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第4章*](B18672_04.xhtml#_idTextAnchor067)，*AWS中的安全功能*'
- en: '[*Chapter 5*](B18672_05.xhtml#_idTextAnchor080), *Pentesting AWS Features through
    Serverless Applications and Tools*'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第5章*](B18672_05.xhtml#_idTextAnchor080)，*通过无服务器应用程序和工具进行AWS功能的渗透测试*'
- en: '[*Chapter 6*](B18672_06.xhtml#_idTextAnchor101), *Pentesting Containerized
    Applications in AWS*'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第6章*](B18672_06.xhtml#_idTextAnchor101)，*在AWS中进行容器化应用程序的渗透测试*'
