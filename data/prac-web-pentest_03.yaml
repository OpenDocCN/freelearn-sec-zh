- en: Delving Deep into the Usage of Kali Linux
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入探讨Kali Linux的使用
- en: I have been so excited to write this chapter and share all of the information
    that you will need to master the usage of Kali Linux. A lot of the content in
    this chapter will be common among Debian Linux distributions, and by the end of
    the chapter, you will be able to handle Kali Linux with ease, like a real hacker.
    Speaking of hackers, it's good to know that Kali Linux is used by both black hat
    hackers and professional penetration testers. I've always used it during my engagements,
    and I occasionally (but rarely) use Microsoft Windows OS.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 我非常兴奋能写下这一章，并分享你需要掌握Kali Linux使用的所有信息。本章中的很多内容在Debian Linux发行版中也很常见，到本章结束时，你将能够像真正的黑客一样轻松使用Kali
    Linux。说到黑客，值得一提的是，Kali Linux被黑帽黑客和专业渗透测试员广泛使用。我一直在我的任务中使用它，并且偶尔（但很少）使用Microsoft
    Windows操作系统。
- en: Kali Linux contains tons of tools dedicated to penetration testing, and it would
    be a big challenge to get used to all of them at once. In this chapter, I will
    show you my most often used commands. I keep them with me when I'm on an engagement,
    in order to manipulate the operating system of Kali Linux. You will see a lot
    of commands in this chapter; use them as a cheat sheet to help you achieve your
    goals. This is just the beginning of how to use Kali Linux as an operating system,and
    in upcoming chapters, you will learn about the penetration testing tools installed
    on Kali.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux包含大量专用于渗透测试的工具，一次性适应所有这些工具将是一个巨大的挑战。在本章中，我将向你展示我最常用的命令。我在执行任务时会随身携带它们，以便操作Kali
    Linux系统。你将看到本章中有很多命令；将它们作为备忘单，帮助你达成目标。这只是如何将Kali Linux用作操作系统的开始，在接下来的章节中，你将学习Kali中安装的渗透测试工具。
- en: Before you start reading this chapter, I want to emphasize the importance of
    using the **Terminal window**. If you want to be good at using Kali Linux, you
    should focus all of your efforts on mastering the ins and outs of the Terminal
    window. In fact, I never use the GUI, unless the tool is made for something like
    Burp, for example; and that is an exception, my friends.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始阅读本章之前，我想强调使用**终端窗口**的重要性。如果你想在使用Kali Linux方面表现出色，你应该把所有精力集中在掌握终端窗口的使用技巧上。实际上，除非某些工具是为像Burp这样的任务设计的，否则我几乎不使用GUI；那只是一个例外，朋友们。
- en: 'Are you thrilled? In this chapter, you will learn about the following:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你激动吗？在这一章中，你将学到以下内容：
- en: The Kali Linux filesystem structure
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux文件系统结构
- en: Handling applications and packages
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理应用程序和软件包
- en: Managing the filesystem in Kali
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Kali中管理文件系统
- en: Kali security management
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali安全管理
- en: Handling the secure shell
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理安全外壳
- en: Configuring the network services in Kali
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置Kali中的网络服务
- en: Process management commands
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进程管理命令
- en: System info commands
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统信息命令
- en: The Kali filesystem structure
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kali文件系统结构
- en: The first thing that you need to start to understand is the Kali Linux **filesystem
    structure**, which is based on the Debian distribution filesystem. If you have
    used Microsoft Windows OS before, then the Linux structure will be a bit similar to
    it. For example, Windows starts with the `C:\` directory, while the Linux OS starts
    with `**/**`, which is called the `root` directory.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 你首先需要理解的是Kali Linux的**文件系统结构**，它基于Debian发行版的文件系统。如果你以前使用过Microsoft Windows操作系统，那么Linux的结构会与之有些相似。例如，Windows从`C:\`目录开始，而Linux操作系统从`**/**`开始，这个目录被称为`root`目录。
- en: The `root` directory (`**/**`) and the root `home` directory (`/root`) that
    you use in Kali are not the same. The latter is used as a home directory for the
    root user.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在Kali中使用的`root`目录（`**/**`）和根`home`目录（`/root`）并不相同。后者是root用户的主目录。
- en: In Kali, we always use the root user to log in to our machine, and that means
    that you have no limits to what you can do in the OS. Every single piece in the Linux system
    is based on files; it's okay to look around, but be careful if you decide to change
    any of the configuration files.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在Kali中，我们始终使用root用户登录到我们的机器，这意味着你在操作系统中没有任何限制。Linux系统中的每个组件都是基于文件的；四处查看是可以的，但如果你决定更改任何配置文件，请小心。
- en: 'The directory structure in Kali is based on the Unix **Filesystem Hierarchy
    Standard** (**FHS**), which defines the Linux directories, and their contents,
    as well:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Kali中的目录结构基于Unix的**文件系统层次标准**（**FHS**），该标准定义了Linux的目录及其内容：
- en: '![](Images/edbe0eca-8c0f-4d3a-8613-4a93bfa65ffe.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/edbe0eca-8c0f-4d3a-8613-4a93bfa65ffe.png)'
- en: '| Directory | Contents description |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| 目录 | 内容描述 |'
- en: '| `/bin` | Essential system commands binaries for all users. (For example,
    `grep`, `ls`, `cat`. This is like `c:\Windows\System32` in Windows.) |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| `/bin` | 所有用户的基本系统命令二进制文件。（例如，`grep`，`ls`，`cat`。类似Windows中的`c:\Windows\System32`。）
    |'
- en: '| `/boot` | Contains the boot loader, Kernels, and `initrd` files. |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| `/boot` | 包含启动加载器、内核和`initrd`文件。 |'
- en: '| `/dev` | This directory contains the pointer locations to various devices.
    |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| `/dev` | 该目录包含指向各种设备的位置指针。 |'
- en: '| `/etc` | This folder contains all of the `administration`/`configuration`
    files and passwords. |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| `/etc` | 该文件夹包含所有的`管理`/`配置`文件和密码。 |'
- en: '| `/lib` | The libraries essential for the binaries in `/bin/` and `/sbin/`.
    |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| `/lib` | `/bin/` 和 `/sbin/` 中二进制文件所需的库。 |'
- en: '| `/lost+found` | Files that were recovered previously. |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| `/lost+found` | 之前恢复的文件。 |'
- en: '| `/mnt` | Contains temporarily mounted directories. |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| `/mnt` | 包含临时挂载的目录。 |'
- en: '| `/media` | Mount folder for removable media, such as CD-ROMs. |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| `/media` | 可移动媒体的挂载目录，如CD-ROM。 |'
- en: '| `/opt` | Add-on application software packages (pre-compiled, non-`.deb` binary
    distribution (tar''ed..) goes here). |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| `/opt` | 附加应用软件包（预编译的，非`.deb`二进制分发文件（压缩文件）存放在这里）。 |'
- en: '| `/proc` | Contains Kernel and processes status (as usual, in text files,
    for example, uptime and network). |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| `/proc` | 包含内核和进程状态（通常是文本文件，例如，系统运行时间和网络信息）。 |'
- en: '| `/root` | The root user home directory. |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| `/root` | 根用户的主目录。 |'
- en: '| `/sbin` | Contains system binaries that are dedicated to administrative commands
    (for example, `daemons`, `init`, `route`, and many more). |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| `/sbin` | 包含专用于管理命令的系统二进制文件（例如，`守护进程`，`init`，`route`等）。 |'
- en: '| `/tmp` | A temporary folder that contains files that are used for a short
    period of time. |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| `/tmp` | 一个临时文件夹，包含用于短时间内的文件。 |'
- en: '| `/srv` | Some specific data that is served by the system. |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| `/srv` | 系统提供的某些特定数据。 |'
- en: '| `/sys` | Very similar to `/proc`. |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| `/sys` | 与`/proc`非常相似。 |'
- en: '| `/home` | Contains the users'' home directories. |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| `/home` | 包含用户的主目录。 |'
- en: '| `/usr` | Contains read-only data (formerly from the UNIX source repository;
    now from UNIX system **r**esources):'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '| `/usr` | 包含只读数据（以前来自UNIX源代码库；现在来自UNIX系统**r**esources）：'
- en: '`/usr/bin/`: Same as for the top-level hierarchy'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/bin/`：与顶级层次相同'
- en: '`/usr/include/`: Standard include files'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/include/`：标准包含文件'
- en: '`/usr/lib/`: Same as for the top-level hierarchy'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/lib/`：与顶级层次相同'
- en: '`/usr/sbin/`: Same as for the top-level hierarchy'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/sbin/`：与顶级层次相同'
- en: '`/usr/share/`: Architecture-independent (shared) data'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/share/`：与架构无关（共享）数据'
- en: '`/usr/src/`: Source code (to build Debian packages - see `/usr/local/src/`)'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/src/`：源代码（用于构建Debian软件包 - 请参见`/usr/local/src/`）'
- en: '`/usr/X11R6/`: X Window System, Version 11, Release 6'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/X11R6/`：X Window系统，版本11，第6版'
- en: '`/usr/local/`: Tertiary hierarchy for local data installed by the system administrator'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/local/`：系统管理员安装的本地数据的三级层次'
- en: '`/usr/local/bin`: Locally compiled binaries, local shell script, and so on'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/local/bin`：本地编译的二进制文件、本地Shell脚本等'
- en: '`/usr/local/src`: Source code (place to extract and build non-Debianized stuff)'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/usr/local/src`：源代码（提取和构建非Debian化软件的地方）'
- en: '|'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `/var` | Contains variable data (for example, websites, logs, databases,
    and much more). |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| `/var` | 包含可变数据（例如，网站、日志、数据库等）。 |'
- en: Handling applications and packages
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理应用程序和软件包
- en: Kali Linux packages are stored in repositories and downloaded to the system
    to ensure the integrity of the package. Make sure to always update the system,
    as mentioned in the previous chapter. The repository configuration file is located
    at `/etc/apt/sources.list`.Make sure that this file is not empty (it will be if
    you didn't choose the network mirror option during the installation process);
    if it is, your Kali will not update.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux软件包存储在仓库中，并下载到系统中以确保软件包的完整性。请确保始终更新系统，如前一章所述。仓库配置文件位于`/etc/apt/sources.list`。确保该文件不为空（如果在安装过程中没有选择网络镜像选项，它会为空）；如果为空，你的Kali将无法更新。
- en: The Advanced Packaging Tool
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级打包工具
- en: 'The **Advanced Packaging Tool** (**APT**) is used for installing or upgrading
    packages, along with all of the required dependencies. The APT can also be used
    to upgrade a complete distribution of Kali:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**高级打包工具**（**APT**）用于安装或升级软件包，并处理所有必需的依赖项。APT还可以用于升级完整的Kali发行版：'
- en: '`apt-get update` or `apt update`: This command is used to synchronize the local
    package index files with their sources, as defined in `/etc/apt/sources.list`.
    The `update` command should always be used first, before performing an `upgrade`
    or `dist-upgrade`.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`apt-get update` 或 `apt update`：此命令用于将本地软件包索引文件与其源进行同步，源定义在`/etc/apt/sources.list`中。在执行`upgrade`或`dist-upgrade`之前，应始终先使用`update`命令。'
- en: '`apt-get upgrade` or `apt upgrade`: This command is used to install the newest
    versions of all packages installed on the system using `/etc/apt/sources.list`.
    The `upgrade` command will not change or delete packages that are not being upgraded,
    and it will not install packages that are not already installed. The `-y` switch
    is used, with this command, to automatically accept the prompt messages.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`apt-get upgrade` 或 `apt upgrade`：此命令用于安装系统上已安装的所有软件包的最新版本，使用`/etc/apt/sources.list`。`upgrade`命令不会更改或删除未升级的软件包，并且不会安装尚未安装的软件包。与此命令一起使用`-y`开关，以自动接受提示消息。'
- en: '`apt-get dist-upgrade` or `apt dist-upgrade`: This command upgrades all packages
    currently installed on the system, and their dependencies. It also removes obsolete
    packages from the system. The `-y` switch is used, along with this command, to
    automatically accept the prompt messages.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`apt-get dist-upgrade` 或 `apt dist-upgrade`：此命令升级系统上当前安装的所有软件包及其依赖项。它还会从系统中删除过时的软件包。与此命令一起使用`-y`开关，以自动接受提示消息。'
- en: 'To fully upgrade your Kali Linux OS, use the following commands:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 要完全升级您的Kali Linux操作系统，请使用以下命令：
- en: '[PRE0]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You can combine the three preceding commands into one command by using `&& apt
    update && apt dist-upgrade -y && reboot`.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过使用`&& apt update && apt dist-upgrade -y && reboot`将前面三个命令组合成一个命令。
- en: 'To show the full description of a package and identify its dependencies, use
    the following:'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示软件包的完整描述并识别其依赖项，请使用以下命令：
- en: '[PRE1]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'To remove a package from Kali, use the following:'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要从Kali中删除一个软件包，请使用以下命令：
- en: '[PRE2]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'To install an application from the repository, use the following:'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要从存储库安装应用程序，请使用以下命令：
- en: '[PRE3]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Sometimes, you will download applications from the web, and you will need to
    install them using the following command:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，您会从网络上下载应用程序，并且需要使用以下命令进行安装：
- en: '`./configure && make && make install`'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '`./configure && make && make install`'
- en: 'If you want to download a tool package from the GitHub repository, use the
    following command (to get the URL, on the repo homepage, click the Clone or download
    button, and the URL will be revealed):'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想从GitHub存储库下载一个工具包，请使用以下命令（要获取URL，在存储库主页上，点击克隆或下载按钮，URL将显示）：
- en: '[PRE4]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Debian's package management system
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Debian的软件包管理系统
- en: This packaging system uses the `dpkg` command to install, remove, and query
    packages.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 此打包系统使用`dpkg`命令来安装、删除和查询软件包。
- en: Using dpkg commands
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用dpkg命令
- en: 'The upcoming commands are the most frequent ones that I use, but if you are
    curious and want to know more about all of the commands, then execute the following
    commands in your Terminal:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的命令是我经常使用的最常见的命令，但如果您好奇并想了解更多关于所有命令的信息，那么在您的终端中执行以下命令：
- en: 'To get the `help` instructions for the `dpkg` command, use the following:'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要获取`dpkg`命令的`help`说明，请使用以下命令：
- en: '[PRE5]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'You can use `--help` to see the instructions of any command you like. Also,
    you have the option to use the manual command:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用`--help`查看您喜欢的任何命令的说明。此外，您还可以使用手册命令：
- en: '`man [application name]`'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '`man [应用程序名称]`'
- en: 'To list all of the packages installed on Kali, use the following:'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要列出Kali上安装的所有软件包，请使用以下命令：
- en: '[PRE6]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: You can use the `dpkg -l` command in your post-exploitation phase to list all
    of the applications installed on the compromised Linux box.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在后渗透阶段使用`dpkg -l`命令列出受损Linux系统上安装的所有应用程序。
- en: 'To find a specific application already installed on the system, use the following:'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要查找系统上已安装的特定应用程序，请使用以下命令：
- en: '[PRE7]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'To install a newly downloaded `.deb` application, use the following:'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要安装新下载的`.deb`应用程序，请使用以下命令：
- en: '[PRE8]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'To remove an installed application, use the following:'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要卸载已安装的应用程序，请使用以下命令：
- en: '[PRE9]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Handling the filesystem in Kali
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理Kali中的文件系统
- en: I could write a whole book for this section, but I will do my best to show you
    the commands that you're going to need in your arsenal as a penetration tester.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 我可以为这一部分写一本整书，但我会尽力向您展示作为渗透测试人员必备的命令。
- en: Before I start listing all of the commands, I would like to share a unique command-line
    utility that you'll need to master before starting with any of the utilities in
    this chapter. You can probably guess it; it's called the Help switch! This option
    will give you a handful of information regarding the command that you are going
    to execute.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始列出所有命令之前，我想分享一个独特的命令行工具，您需要在开始使用本章中的任何工具之前掌握它。您可能已经猜到了，它被称为帮助选项！这个选项将为您提供关于您即将执行的命令的有用信息。
- en: 'For example, if you want to list the contents of a directory and you''re not
    sure of the options for the command, all you need to do is append the `--help`
    switch, and you can visualize all of the possible functionalities of the command:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果您想列出目录的内容并且不确定命令的选项，只需附加`--help`选项，您就能查看命令的所有可能功能：
- en: '![](Images/ef990674-55b4-4876-ad71-85c986a8b631.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/ef990674-55b4-4876-ad71-85c986a8b631.png)'
- en: 'Are you ready? This is going to be a long list (a sort of cheat sheet). Let''s
    start:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 准备好了吗？这将是一个很长的列表（类似备忘单）。我们开始吧：
- en: 'To list the directory and files, use the following:'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要列出目录和文件，请使用以下命令：
- en: '[PRE10]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To list hidden items (`-a`) in a formatted way (`-l`), use the following:'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要以格式化方式（`-l`）列出隐藏项目（`-a`），请使用以下命令：
- en: '[PRE11]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'To list files and directories in a human-readable form, use the following:'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要以人类可读的格式列出文件和目录，请使用以下命令：
- en: '[PRE12]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'To change the current directory to a new one, use the following:'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要将当前目录更改为新目录，请使用以下命令：
- en: '[PRE13]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'To print the working directory, use the following:'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要打印当前工作目录，请使用以下命令：
- en: '[PRE14]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'To make a new directory, use the following:'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要创建新目录，请使用以下命令：
- en: '[PRE15]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'To remove (delete) a file, use the following:'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要删除文件，请使用以下命令：
- en: '[PRE16]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'To delete a directory, use the following:'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要删除目录，请使用以下命令：
- en: '[PRE17]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'To copy a file to a new location, use the following:'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要将文件复制到新位置，请使用以下命令：
- en: '[PRE18]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'To copy a directory to a new location, use the following:'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要将目录复制到新位置，请使用以下命令：
- en: '[PRE19]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'To move/rename a file or a directory, use the following:'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要移动/重命名文件或目录，请使用以下命令：
- en: '[PRE20]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'To create an empty file, use the following:'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要创建一个空文件，请使用以下命令：
- en: '[PRE21]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'To display the contents of a file, use the following:'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示文件内容，请使用以下命令：
- en: '[PRE22]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'To open a text file for editing, use the following:'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要打开文本文件进行编辑，请使用以下命令：
- en: '[PRE23]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'To find files on your Kali box, use the following:'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要在Kali系统上查找文件，请使用以下命令：
- en: '[PRE24]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The command that will list the drives (partitions) on the system (for example, `/dev/sda1
    or /dev/sda2`) is as follows:'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于列出系统上的驱动器（分区）（例如，`/dev/sda1 或 /dev/sda2`）的命令如下：
- en: '[PRE25]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'To mount an unmounted partition, use the following:'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要挂载一个未挂载的分区，请使用以下命令：
- en: '[PRE26]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'To check the type of a file, use the following:'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要检查文件类型，请使用以下命令：
- en: '[PRE27]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'To add the execute permission to a file (sometimes you will need it because
    by default you cannot execute it), use the following:'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要为文件添加执行权限（有时您需要此权限，因为默认情况下无法执行文件），请使用以下命令：
- en: '[PRE28]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'To redirect the output of the Terminal window to a file, use the following:'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要将终端窗口的输出重定向到文件，请使用以下命令：
- en: '[PRE29]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'To filter text in a text file or in a command Terminal output, use the following:'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要过滤文本文件或命令终端输出中的文本，请使用以下命令：
- en: '[PRE30]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The `grep` command is most frequently used with the `Pipe` symbol, `|`, to
    filter text coming out from the Terminal window. For example, to filter the word
    `password` in a text file called `config.txt`, you would use the following command:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '`grep`命令最常与`Pipe`符号`|`一起使用，用于过滤从终端窗口输出的文本。例如，要过滤名为`config.txt`的文本文件中的`password`，您可以使用以下命令：'
- en: '`cat config.txt | grep password`'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '`cat config.txt | grep password`'
- en: File compression commands
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 文件压缩命令
- en: 'You can use the following commands to manage your compressed files on any Linux Debian
    distribution:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用以下命令在任何Linux Debian发行版上管理压缩文件：
- en: 'The following creates `file.tar`, containing files:'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令创建`file.tar`，包含文件：
- en: '[PRE31]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'The following extracts files from a `tar`, `file.tar`:'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令从`tar`文件`file.tar`中提取文件：
- en: '[PRE32]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'The following creates a `tar` with Gzip compression:'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令创建带有Gzip压缩的`tar`文件：
- en: '[PRE33]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'The following extracts a `tar` using Gzip:'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令使用Gzip提取`tar`文件：
- en: '[PRE34]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'The following creates a `tar` with bzip2 compression:'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令创建一个带有bzip2压缩的`tar`文件：
- en: '[PRE35]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'The following extracts a bzip2 compressed file:'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令提取一个bzip2压缩的文件：
- en: '[PRE36]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The following compresses a file (or files) using `gzip` compression:'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令使用`gzip`压缩文件（或多个文件）：
- en: '[PRE37]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'The following decompresses a compressed `gz` file:'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令解压一个压缩的`gz`文件：
- en: '[PRE38]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'The following unzips a ZIP file:'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下命令解压一个ZIP文件：
- en: '[PRE39]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Security management
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全管理
- en: 'Managing users in Kali is not an everyday task, but you will probably use it
    occasionally. Personally, I rarely use the following commands, but sometimes,
    you might need to handle user management:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在Kali中管理用户不是日常任务，但你可能会偶尔使用它。就个人而言，我很少使用以下命令，但有时你可能需要处理用户管理：
- en: 'To `add` a user with `sudo` capabilities in Kali, use the following command:'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要在Kali中为用户`sudo`权限添加一个用户，使用以下命令：
- en: '[PRE40]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'If you''re logged in and you want to elevate your privilege to a root user,
    try this command:'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你已登录并想提升权限为root用户，尝试以下命令：
- en: '[PRE41]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'If you''re logged in and you want to `execute` a root command, use the following:'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你已登录并想执行root命令，使用以下命令：
- en: '[PRE42]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'To change the root (or any user''s) password, use the following:'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要更改root（或任何用户）的密码，使用以下命令：
- en: '[PRE43]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'The `shadow` file is important in Kali, because it stores the hashed passwords
    and some useful information about users. For example, I created a user called
    `gus` on Kali, so, to get his information, I should execute the following command:'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`shadow`文件在Kali中非常重要，因为它存储了哈希密码以及一些关于用户的有用信息。例如，我在Kali上创建了一个名为`gus`的用户，所以，要获取他的相关信息，我应该执行以下命令：'
- en: '[PRE44]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Let''s look at each field of the output that is separated by a `:` :'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 我们来看一下输出中每个以`:`分隔的字段：
- en: The first field is self-explanatory; it's the username (`gus`)
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一个字段显而易见；它是用户名（`gus`）
- en: The second field is the hashed password (the `$6` means it's using the SHA-512
    algorithm)
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二个字段是哈希后的密码（`$6`表示它使用的是SHA-512算法）
- en: The third field (`17515`) is the days in Unix time that the password was changed
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第三个字段（`17515`）是密码更改时的Unix时间（天数）
- en: Field number four (`0`) specifies the number of days that are required between
    password changes
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第四个字段（`0`）指定密码更改之间所需的天数
- en: Field five (`9999`) specifies the number of days after which it's necessary
    to change the password
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第五个字段（`9999`）指定需要更改密码后的天数
- en: The next field (`7`) is the number of days before the required password change,
    and that the user gets a warning
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下一个字段（`7`）表示在要求更改密码之前的天数，并且用户会收到警告
- en: Secure shell protocol
  id: totrans-175
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全外壳协议
- en: '**Secure shell** (**SSH**) protocol is a network protocol that is used to establish
    an encrypted communication between a server and a client, using the TCP protocol.
    The SSH service is TCP-based, and listens, by default, on port `22`. In general,
    a public-private key pair allows users to log in to a system without requiring
    a password. The public key is present on all systems that require a secure connection,
    while the user keeps the private key in a secure place. On the target systems,
    the public key is verified against a list of authorized keys that are allowed
    to remotely access the server. SSH can be compromised when the public key is not
    cryptographically strong enough, and can be guessed.'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**安全外壳协议** (**SSH**) 是一种网络协议，用于在服务器和客户端之间建立加密通信，使用TCP协议。SSH服务基于TCP，并默认监听`22`端口。一般来说，公私钥对允许用户在不需要密码的情况下登录系统。公钥存在于所有需要安全连接的系统中，而用户将私钥保存在安全的位置。在目标系统上，公钥会与被授权的密钥列表进行验证，以允许远程访问服务器。当公钥的加密强度不足时，SSH可能会受到威胁，并且有可能被猜测。'
- en: 'To start the ssh service, use the following:'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启动SSH服务，使用以下命令：
- en: '[PRE45]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'To check whether the service is running properly, use the following:'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要检查服务是否正常运行，使用以下命令：
- en: '[PRE46]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'To enable the service to start on boot, use the following:'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要启用服务在启动时自动启动，使用以下命令：
- en: '[PRE47]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'To stop the SSH service, use the following:'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要停止SSH服务，使用以下命令：
- en: '[PRE48]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'To connect to a remote SSH server, use the following:'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要连接到远程SSH服务器，使用以下命令：
- en: '[PRE49]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'To connect to an SSH server that is using a custom `port number` (not `22`),
    use the following:'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要连接到使用自定义`端口号`（而非`22`）的SSH服务器，使用以下命令：
- en: '[PRE50]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'To generate a new SSH key, use the following:'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要生成一个新的SSH密钥，使用以下命令：
- en: '[PRE51]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'To allow root remote login into SSH, perform the following:'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要允许root用户远程登录SSH，执行以下操作：
- en: Open the file, `/etc/ssh/sshd_config`
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开文件`/etc/ssh/sshd_config`
- en: Change the PermitRootLogin parameter to Yes, and restart the SSH server
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将PermitRootLogin参数改为Yes，并重启SSH服务器
- en: 'As you may have guessed, to manage any service, you can use the following commands:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所猜测的那样，要管理任何服务，你可以使用以下命令：
- en: '`service [service name] start (To start the service)`'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '`service [service name] start (启动服务)`'
- en: '`service [service name] stop (To stop the service)`'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '`service [service name] stop (停止服务)`'
- en: '`service [service name] restart (To restart the service)`'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '`service [service name] restart (重启服务)`'
- en: '`service [service name] status (To get the status of the service)`'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '`service [service name] status (获取服务状态)`'
- en: Configuring network services in Kali
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Kali 中配置网络服务
- en: I'm doing my best to show you the necessary commands in each section. You don't
    need to know all of the commands for managing network services in Kali, but you
    are surely going to use some of them. In this section, I will show you my favorite
    commands related to the network services in Kali Linux.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 我会尽力展示每个部分所需的命令。你不需要了解所有 Kali 中管理网络服务的命令，但你肯定会用到其中的一些命令。在本节中，我将向你展示我最喜欢的 Kali
    Linux 网络服务相关命令。
- en: To operate Kali properly, you need to ensure that it has connectivity to either
    a wired or a wireless network. You may need to obtain an IP address through **Dynamic
    Host Configuration Protocol** (**DHCP**), or assign one statically.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 为了正确操作 Kali，你需要确保它能连接到有线或无线网络。你可能需要通过 **动态主机配置协议**（**DHCP**）获取 IP 地址，或者静态分配一个地址。
- en: 'The first important command is `ifconfig`, which you will use to check the
    IP address on your Kali machine:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个重要的命令是 `ifconfig`，你将用它来检查 Kali 机器上的 IP 地址：
- en: '![](Images/37b3dbfe-b48e-4d45-bf4d-f2ab892d18a9.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/37b3dbfe-b48e-4d45-bf4d-f2ab892d18a9.png)'
- en: You can see my Kali IP address, `10.0.0.197`, after executing this command (in
    the preceding screenshot). Also, you need to pay attention to the network interface
    names—`eth0` represents the Ethernet cable, and the OS gives it a number (which
    is `0`, in this case). If you had another Ethernet cable connected to your Kali,
    you would probably see another interface, called `eth1`. If you connected a wireless
    adapter (or if you had it built in), Kali would show another interface, called
    `wlan0`.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行这个命令后，你可以看到我的 Kali IP 地址，`10.0.0.197`（在前面的截图中）。另外，你需要注意网络接口名称——`eth0` 代表以太网线，操作系统会为其分配一个编号（在这个例子中是
    `0`）。如果你连接了另一根以太网线，你可能会看到另一个接口，叫做 `eth1`。如果你连接了无线适配器（或者它是内置的），Kali 会显示另一个接口，叫做
    `wlan0`。
- en: 'In the preceding example, we received a dynamic IP address from the DHCP server.
    If, for any reason, you want to refresh the IP address, you can execute the following
    commands:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的示例中，我们从 DHCP 服务器获取了一个动态 IP 地址。如果由于某种原因你想刷新 IP 地址，可以执行以下命令：
- en: '[PRE52]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Setting a static IP on Kali
  id: totrans-207
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Kali 中设置静态 IP
- en: Sometimes, you need to have a dedicated static LAN IP address for your Kali
    Linux. A very practical scenario is when you're on duty and you want to go under
    the radar, by not communicating with the DHCP server of your client (or your employer).
    Another purpose for a static IP address is if you have a separate VLAN, and you
    want to join it manually.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，你需要为 Kali Linux 配置一个专用的静态局域网 IP 地址。一个非常实际的场景是，当你值班时，你想避免与客户端（或雇主）的 DHCP 服务器通信，保持低调。另一个静态
    IP 地址的用途是，如果你有一个独立的 VLAN，想手动加入它。
- en: 'Let''s look at the implementation of a static IP address:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何实现静态 IP 地址：
- en: 'First, open the file `/etc/network/interfaces` using your favorite text editor:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，使用你喜欢的文本编辑器打开文件 `/etc/network/interfaces`：
- en: '![](Images/e20de616-ce9a-435b-9fbf-1ca4e77c622a.png)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/e20de616-ce9a-435b-9fbf-1ca4e77c622a.png)'
- en: 'I will add a new static IP address, `10.0.0.99`, to the network `10.0.0.0/24`,
    at the end of the file. In your case, the network will probably be `192.168.0.0/24`.
    As for me, I use the `10.0.0.0` network addressing architecture:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 我将在文件末尾添加一个新的静态 IP 地址，`10.0.0.99`，属于 `10.0.0.0/24` 网络。在你的情况下，网络可能是 `192.168.0.0/24`。至于我，我使用的是
    `10.0.0.0` 网络架构：
- en: '[PRE53]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'Save the file (*Ctrl* + *S*), and restart your Kali machine. (Hint: I will
    use the `reboot` command in the Terminal window to restart my Kali.) After the
    reboot, execute the `ifconfig` command, and you should see your new IP address
    set. Then, you will be ready to go:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存文件（*Ctrl* + *S*），并重启 Kali 机器。（提示：我将在终端窗口使用 `reboot` 命令重启 Kali。）重启后，执行 `ifconfig`
    命令，你应该能看到设置的新 IP 地址。然后，你就可以开始使用了：
- en: '![](Images/cdbe9be3-0819-456e-8962-62cede42f6a6.png)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/cdbe9be3-0819-456e-8962-62cede42f6a6.png)'
- en: Checking active connections in Kali
  id: totrans-216
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查 Kali 中的活动连接
- en: '**Network statistics** (`netstat`) is a command-line tool that displays the
    active network connections on your Kali. It is used for finding problems (like
    Malware that are listening to incoming connections, for example, or malware that
    are trying to contact external (outgoing) servers). `netstat` can be used for
    many reasons. Most of the time, `netstat` is combined with the `grep` command,
    to filter the output results:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '**网络统计**（`netstat`）是一个命令行工具，用于显示 Kali 上的活动网络连接。它用于发现问题（例如，查找正在监听传入连接的恶意软件，或试图联系外部（外发）服务器的恶意软件）。`netstat`
    有很多用途。大多数情况下，`netstat` 会与 `grep` 命令结合使用，以过滤输出结果：'
- en: '[PRE54]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '`-a`: Shows both the listening and non-listening sockets.'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-a`：显示监听和非监听的套接字。'
- en: '`-n`: Shows numerical addresses, instead of trying to determine symbolic hosts,
    ports, or usernames.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-n`：显示数字地址，而不是尝试确定符号主机、端口或用户名。'
- en: '`-t`: Shows TCP connections.'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-t`：显示TCP连接。'
- en: '`-p`: Shows the **process identifier** (**PID**) and the name of the program
    to which each socket belongs:'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-p`：显示**进程标识符**（**PID**）和每个套接字所属程序的名称：'
- en: '![](Images/229ce190-a996-4ef8-931a-72b8e309475c.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/229ce190-a996-4ef8-931a-72b8e309475c.png)'
- en: As you can see in the preceding screenshot, my Kali host is listening on port
    `80`, because I already started the Apache web server service.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您在上面的截图中所看到的，我的Kali主机正在侦听端口`80`，因为我已经启动了Apache web服务器服务。
- en: To start the Apache web server on Kali, execute the command `service apache2
    start`.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Kali上启动Apache web服务器，请执行命令`service apache2 start`。
- en: Process management commands
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进程管理命令
- en: In general, Kali Linux is a stable system. However, things may occasionally
    go wrong, and sometimes, we will wish to tweak the system to better suit our needs.
    In this section, we will take a brief look at how we can manage processes on a
    Kali Linux system.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，Kali Linux是一个稳定的系统。然而，事情偶尔可能出错，有时，我们会希望调整系统以更好地满足我们的需求。在本节中，我们将简要介绍如何在Kali
    Linux系统上管理进程。
- en: Htop utility
  id: totrans-228
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Htop实用程序
- en: 'Before I start listing all of the built-in commands for managing the processes
    in Kali, there is a handy tool that I always use. Unfortunately, it''s not preinstalled
    on Kali. It''s called `htop`. This command-line tool lists all of the running
    processes in the Terminal window, in a nice, user-friendly layout:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在我开始列出Kali中管理进程的所有内置命令之前，有一个我总是使用的方便工具。不幸的是，它在Kali上没有预安装。它被称为`htop`。这个命令行工具在终端窗口中以一个漂亮、用户友好的布局列出所有正在运行的进程：
- en: '[PRE55]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '![](Images/1acfd970-a9fc-4138-bcf1-56acea7a2b36.png)Through using `htop`, I
    can see that I have a memory issue which is approximately full. This tells me
    that I should increase my memory settings for this VM.'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/1acfd970-a9fc-4138-bcf1-56acea7a2b36.png)通过使用`htop`，我可以看到我有一个几乎满的内存问题。这告诉我应该增加这个虚拟机的内存设置。'
- en: Popular commands for process management
  id: totrans-232
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进程管理的常用命令
- en: 'We''re not done yet; here are some more process management commands that can
    be very useful when using Kali Linux:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还没有完成；以下是在使用Kali Linux时非常有用的一些进程管理命令：
- en: 'To display all active processes, execute the following command:'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示所有活动进程，请执行以下命令：
- en: '[PRE56]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: The `ps` command is very useful if you have a remote shell to a Linux box, and
    you want to list all of the current processes for privilege escalation.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有一个远程shell连接到Linux主机，并且想要列出所有当前进程以进行权限提升，`ps`命令非常有用。
- en: 'To display all running processes, use the following:'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示所有正在运行的进程，请使用以下命令：
- en: '[PRE57]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'To kill a process with an ID (`PID`), use the following:'
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要终止具有ID（`PID`）的进程，请使用以下命令：
- en: '[PRE58]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'To kill all processes named `hello`, use the following:'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要终止所有名为`hello`的进程，请使用以下命令：
- en: '[PRE59]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'To force killing a process, use the following:'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要强制终止一个进程，请使用以下命令：
- en: '[PRE60]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: System info commands
  id: totrans-245
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 系统信息命令
- en: This section will be very useful in the post-exploitation phase.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分在后渗透阶段将非常有用。
- en: 'Suppose that you just escalated your privileges on a Linux box; how can you
    know if you''re really an admin? Just execute the `id` command, and you''ll get
    the results. Don''t underestimate this section! Review it carefully, and see the
    commands that you can take advantage of during the post-exploitation phase on
    a Linux machine:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您刚刚在Linux主机上提升了权限；您如何知道自己是否真的是管理员？只需执行`id`命令，您将得到结果。不要低估这一部分！仔细审查，并查看您可以在Linux机器后渗透阶段利用的命令：
- en: 'To show the current host `uptime`, use the following:'
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示当前主机的运行时间，请使用以下命令：
- en: '[PRE61]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'To show who''s logged in, use the following:'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示当前登录用户，请使用以下命令：
- en: '[PRE62]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'To show who you are (as a user), use the following:'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示您是谁（作为用户），请使用以下命令：
- en: '[PRE63]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'To display information about a user, use the following:'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示有关用户的信息，请使用以下命令：
- en: '[PRE64]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'To show kernel information, use the following:'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示内核信息，请使用以下命令：
- en: '[PRE65]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'To show CPU information, use the following:'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示CPU信息，请使用以下命令：
- en: '[PRE66]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'To show memory information, use the following:'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示内存信息，请使用以下命令：
- en: '[PRE67]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'To show disk usage, use the following:'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示磁盘使用情况，请使用以下命令：
- en: '[PRE68]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'To show memory and swap usage, use the following:'
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要显示内存和交换使用情况，请使用以下命令：
- en: '[PRE69]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'To search all of the commands that were previously executed, use the following:'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要搜索先前执行的所有命令，请使用以下命令：
- en: '[PRE70]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'To detect the GPU model, use the following:'
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要检测GPU型号，请使用以下命令：
- en: '[PRE71]'
  id: totrans-269
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: Summary
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Another chapter has been completed. You are now smarter than you were yesterday.
    So many commands, right? Don't worry; you don't need to memorize all of these
    commands. You can always come back to this chapter and use it as a reference for
    your Terminal window ninja skills.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 又一章已经完成。你现在比昨天更聪明了。命令那么多，对吧？别担心，你不需要记住所有这些命令。你随时可以回到这一章，并将其作为你终端窗口忍者技能的参考。
- en: As you may have realized, I get straight to the point, without wasting your
    time on useless information and nitty-gritty details that you will never use in
    your career. I hope that you enjoyed this chapter, and that you learned something
    new, so that you can start using your Kali Linux baby machine.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所察觉，我直接切入主题，不会浪费你时间去讲那些无用的信息和你在职业生涯中永远用不上的琐碎细节。希望你喜欢这一章，并学到了一些新知识，这样你就可以开始使用你的
    Kali Linux 小机器了。
