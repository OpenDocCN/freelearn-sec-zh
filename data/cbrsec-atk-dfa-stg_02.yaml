- en: Incident Response Process
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 事件响应流程
- en: In the last chapter, you learned about the three pillars that sustained your
    security posture, and two of them (detection and response) are directly correlated
    with the **Incident Response** (**IR**) process. To enhance the foundation of
    your security posture, you need to have a solid incident response process. This
    process will dictate how to handle security incidents and rapidly respond to them.
    Many companies do have an incident response process in place, but they fail to
    constantly review it to incorporate lessons learned from previous incidents, and
    on top of that, many are not prepared to handle security incidents in a cloud
    environment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，您了解了支撑您安全姿态的三大支柱，其中两个（检测和响应）与**事件响应**（**IR**）流程直接相关。为了增强您安全姿态的基础，您需要一个坚实的事件响应流程。这个流程将指导如何处理安全事件并迅速做出响应。许多公司确实有事件响应流程，但它们未能不断审查以吸取以往事件的教训，并且更重要的是，许多公司没有准备好在云环境中处理安全事件。
- en: 'In this chapter, we''re going to be covering the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: The incident response process
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件响应流程
- en: Handling an incident
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理事件
- en: Post-incident activity
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事后活动
- en: Incident response process
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 事件响应流程
- en: There are many industry standards, recommendations, and best practices that
    can help you to create your own incident response. You can still use those as
    a reference to make sure you cover all the relevant phases for your type of business.
    The one that we are going to use as a reference in this book is the **Computer
    Security Incident Response** (**CSIR**)—publication 800-61R2 from NIST(1).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多行业标准、建议和最佳实践可以帮助您创建自己的事件响应。您仍然可以将它们用作参考，以确保涵盖适合您业务类型的所有相关阶段。我们在本书中将用作参考的是**计算机安全事件响应**（**CSIR**）—NIST（1）的出版物800-61R2。
- en: Reasons to have an IR process in place
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设立IR流程的原因
- en: Before we dive into more details about the process itself, it is important to
    be aware of some of the terminology that is used, and also what the final goal
    is when using IR as part of enhancing your security posture. Why is it important?
    Let's use a fictitious company to illustrate why this is important.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入了解流程本身的更多细节之前，了解一些术语的使用以及在使用IR作为增强安全姿态的一部分时的最终目标是很重要的。为什么这很重要？让我们用一个虚构的公司来说明为什么这很重要。
- en: 'The following diagram has a timeline of events(2) that leads the help desk
    to escalate the issue and start the incident response process:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了事件时间轴(2)，引导帮助台升级问题并启动事件响应流程：
- en: '![](assets/7c22359f-1efd-4750-a2cd-a822cf495971.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/7c22359f-1efd-4750-a2cd-a822cf495971.jpg)'
- en: 'The following table has some considerations about each step in this scenario:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格列出了此场景中每个步骤的一些考虑事项：
- en: '| **Step** | **Description** | **Security considerations** |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '| **步骤** | **描述** | **安全考虑** |'
- en: '| 1 | While the diagram says that the system is working properly, it is important
    to learn from this event. | What is considered normal? Do you have a baseline
    that can give you evidence that the system was running properly? Are you sure
    there is no evidence of compromise before the email? |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 虽然图表显示系统正常运行，但从这个事件中学习很重要。 | 什么被认为是正常的？您是否有一个基线可以证明系统正常运行？您确定在电子邮件之前没有被入侵的证据吗？
    |'
- en: '| 2 | Phishing emails are still one of the most common methods used by cybercriminals
    to entice users to click on a link that leads to a malicious/compromised site.
    | While technical security controls must be in place to detect and filter these
    types of attack, the users must be taught how to identify a phishing email. |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 钓鱼邮件仍然是网络犯罪分子用来诱使用户点击导致恶意/被入侵网站的链接的最常见方法之一。 | 虽然必须有技术安全控制来检测和过滤这些类型的攻击，但用户必须学会如何识别钓鱼邮件。
    |'
- en: '| 3 | Many of the traditional sensors (IDS/IPS) used nowadays are not able
    to identify infiltration and lateral movement. | To enhance your security posture,
    you will need to improve your technical security controls and reduce the gap between
    infection and detection. |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 如今使用的许多传统传感器（IDS/IPS）无法识别渗透和横向移动。 | 为了增强您的安全姿态，您需要改进技术安全控制，并缩小感染和检测之间的差距。
    |'
- en: '| 4 | This is already part of the collateral damage done by this attack. Credentials
    were compromised, and the user was having trouble authenticating. | There should
    be technical security controls in place that enable IT to reset the user''s password
    and at the same time enforce multifactor authentication. |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 这已经是此次攻击造成的附带损害的一部分。凭证已被泄露，用户在进行身份验证时遇到了问题。 | 应该有技术安全控制措施，使IT能够重置用户的密码，并同时强制执行多因素身份验证。
    |'
- en: '| 5 | Not every single incident is security related; therefore, it is important
    for the help desk to perform their initial troubleshoot to isolate the issue.
    | If the technical security controls in place (step *3*) were able to identify
    the attack, or at least provide some evidence of suspicious activity, the help
    desk wouldn''t have to troubleshoot the issue—it could just directly follow the
    incident response process. |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 并非每一个事件都与安全有关；因此，对于帮助台来说，执行初始故障排除以隔离问题是很重要的。 | 如果已经存在的技术安全控制措施（步骤*3*）能够识别攻击，或者至少提供一些可疑活动的证据，帮助台就不必再排查问题了—它可以直接遵循事件响应流程。
    |'
- en: '| 6 | At this point in time, the help desk is doing what it is supposed to
    do, collecting evidence that the system was compromised and escalating the issue.
    | The help desk should obtain as much information as possible about the suspicious
    activity to justify the reason why they believe that this is a security-related
    incident. |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 此时，帮助台正在执行其应该做的事情，收集系统被入侵的证据并升级问题。 | 帮助台应尽可能多地获取有关可疑活动的信息，以证明他们认为这是一个与安全相关的事件的理由。
    |'
- en: '| 7 | At this point the IR process takes over and follows its own path, which
    may vary according to the company, industry segment, and standard. | It is important
    to document every single step of the process and, after the incident is resolved,
    incorporate the lessons learned with the aim of enhancing the overall security
    posture. |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 此时，事件响应流程接管并按照自己的路径进行，这可能会根据公司、行业领域和标准而有所不同。 | 很重要的是记录流程的每一个步骤，并在事件解决后，结合所学到的经验，以增强整体安全姿态。
    |'
- en: 'While there is much room for improvement in the previous scenario, there is
    something that exists in this fictitious company that many other companies around
    the world are missing: the incident response itself. If it were not for the incident
    response process in place, support professionals would exhaust their troubleshooting
    efforts by focusing on infrastructure-related issues. Companies that have a good
    security posture would have an incident response process in place.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在先前的情景中有很大的改进空间，但在这家虚构公司中存在着许多其他公司在世界各地都缺少的东西：事件响应本身。如果不是因为已经存在的事件响应流程，支持专业人员将通过专注于基础设施相关问题来耗尽他们的故障排除工作。拥有良好安全姿态的公司会有一个事件响应流程。
- en: 'They would also ensure that the following guidelines are adhered to:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 他们还应确保遵守以下准则：
- en: All IT personnel should be trained to know how to handle a security incident.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有IT人员都应该接受培训，了解如何处理安全事件。
- en: All users should be trained to know the core fundamentals about security in
    order to perform their job more safely, which will help avoid getting infected.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有用户都应该接受培训，了解安全的核心基本知识，以更安全地执行他们的工作，这将有助于避免感染。
- en: There should be integration between their help desk system and the incident
    response team for data sharing.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应该在他们的帮助台系统和事件响应团队之间进行集成，以实现数据共享。
- en: This scenario could have some variations that could introduce different challenges
    to overcome. One variation would be if no **indication of compromise** (**IoC**)
    was found in step *6*. In this case, the help desk would easily keep troubleshooting
    the issue. What if at some point things started to work normally again? Is this
    even possible? Yes, it is!
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这种情景可能会有一些变化，引入不同的挑战。一个变化可能是在步骤*6*中找不到**入侵指示**（**IoC**）。在这种情况下，帮助台将轻松地继续排查问题。如果在某个时候事情开始恢复正常呢？这种情况可能吗？是的，可能！
- en: When an attacker infiltrates the network, they usually wants to stay invisible,
    moving laterally from one host to another, compromising multiple systems and trying
    to escalate privileges by compromising an account with administrative-level privileges.
    That's the reason it is so important to have good sensors not only in the network,
    but also in the host itself. With good sensors in place, you would be able to
    not only detect the attack quickly, but also identify potential scenarios that
    could lead to an imminent threat of violation (3).
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当攻击者渗透到网络中时，他们通常希望保持隐形，在不同的主机之间横向移动，破坏多个系统并试图通过破坏具有管理员级权限的帐户来提升权限。这也是为什么不仅在网络中，而且在主机本身也需要部署良好的传感器如此重要的原因。有了好的传感器，不仅能够快速检测到攻击，还能识别出可能导致迫在眉睫的安全违规威胁的潜在场景（3）。
- en: In addition to all the factors that were just mentioned, some companies will
    soon realize that they must have an incident response process in place to be compliant
    with regulations that are applicable to the industry in which they belong. For
    example, FISMA requires federal agencies to have procedures in place to detect,
    report, and respond to a security incident.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除了刚才提到的所有因素外，一些公司很快会意识到，他们必须制定一个事件响应流程，以符合适用于其所属行业的法规。例如，FISMA要求联邦机构必须制定程序来检测、报告和响应安全事件。
- en: Creating an incident response process
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建一个事件响应流程
- en: Although the incident response process will vary according to the company and
    its needs, there are some fundamental aspects of it that will be the same across
    different industries.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然事件响应流程会根据公司及其需求有所不同，但其中一些基本方面在不同行业间是相同的。
- en: 'The following diagram shows the foundational areas of the incident response
    process:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图示展示了事件响应流程的基础领域：
- en: '![](assets/725bcd27-926a-4da2-9c00-c0863e74ae81.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/725bcd27-926a-4da2-9c00-c0863e74ae81.jpg)'
- en: 'The first step to create your incident response process is to establish the
    objective—in other words, to answer the question: What''s the purpose of this
    process? While this might look redundant, as the name seems to be self-explanatory,
    it is important that you are very clear as to the purpose of the process so that
    everyone is aware of what this process is trying to accomplish.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 创建事件响应流程的第一步是确立目标——换句话说，就是回答这个问题：这个流程的目的是什么？虽然这看起来有些多余，因为名称似乎不言自明，但明确流程的目的非常重要，以确保每个人都清楚这个流程的目标是什么。
- en: 'Once you have the objective defined, you need to work on the scope. Again,
    you start this by answering a question, which in this case is: To whom does this
    process apply?'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦目标定义清楚，接下来需要制定范围。再次提醒，你可以通过回答一个问题来开始这一过程，在这个情况下就是：这个流程适用于谁？
- en: Although the incident response process usually has a company-wide scope, it
    can also have a departmental scope in some scenarios. For this reason, it is important
    that you define whether this is a company-wide process or not.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管事件响应流程通常具有公司范围的覆盖，但在某些情况下，它也可以具有部门范围。因此，定义该流程是否为公司范围的流程非常重要。
- en: Each company may have a different perception of a security incident; therefore,
    it is imperative that you define what constitutes a security incident, and give
    examples.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 每个公司对安全事件的认知可能不同；因此，必须明确定义什么构成安全事件，并提供示例。
- en: Along with the definition, companies must create their own glossary with definitions
    of the terminology used. Different industries will have different sets of terminologies,
    and if these terminologies are relevant to a security incident, they must be documented.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 除了定义之外，公司还必须创建自己的术语表，列出所使用术语的定义。不同的行业会有不同的术语集合，如果这些术语与安全事件相关，必须进行文档化。
- en: In an incident response process, the roles and responsibilities are critical.
    Without the proper level of authority, the entire process is at risk.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在事件响应过程中，角色和责任至关重要。如果没有适当的权限级别，整个过程将面临风险。
- en: 'The importance of the level of authority in an incident response is evident
    when you consider the question: Who has the authority to confiscate a computer
    in order to perform further investigation? By defining the users or groups that
    have this level of authority, you are ensuring that the entire company is aware
    of this, and if an incident occurs, they will not question the group that is enforcing
    the policy.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理安全事件响应时，**权限级别**的重要性显而易见，当你考虑这个问题时：谁有权没收计算机以进行进一步调查？通过定义具有这种权限级别的用户或群体，确保整个公司都了解这一点，并且如果发生事件时，他们不会质疑执行该政策的团队。
- en: What defines a critical incident? How are you going to distribute your manpower
    when an incident occurs? Should you allocate more resources to incident "A" versus
    incident "B"? Why? These are only some examples of questions that should be answered
    to define the priorities and severity level.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 什么定义了关键事件？当事件发生时，你将如何分配人力资源？你是否应该为事件"A"分配比事件"B"更多的资源？为什么？这些只是一些示例问题，应该回答这些问题以明确优先级和严重性级别。
- en: 'To determine the priority and severity level, you will need to also take into
    consideration the following aspects of the business:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确定优先级和严重性级别，你还需要考虑以下商业方面：
- en: '**Functional impact of the incident in the business**: The importance of the
    affected system for the business will have a direct effect on the incident''s
    priority. All stakeholders for the affected system should be aware of the issue,
    and will have their input in the determination of priorities.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**事件对业务的功能性影响**：受影响系统对业务的重要性将直接影响事件的优先级。所有受影响系统的相关方都应该了解这个问题，并且在确定优先级时提供意见。'
- en: '**Type of information affected by the incident**: Every time you deal with
    PII, your incident will have high priority; therefore, this is one of the first
    elements to verify during an incident.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**事件影响的信息类型**：每次处理个人身份信息（PII）时，事件的优先级都会很高；因此，这是在事件处理中需要优先验证的首要元素。'
- en: '**Recoverability**: After the initial assessment, it is possible to give an
    estimate of how long it will take to recover from an incident. Depending on the
    amount of time to recover, combined with the criticality of the system, this could
    drive the priority of the incident to high severity.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可恢复性**：在初步评估之后，可以估算从事件中恢复所需的时间。根据恢复时间以及系统的关键性，这可能会将事件的优先级推高至高严重性。'
- en: In addition to these fundamental areas, an incident response process also needs
    to define how it will interact with third parties, partners, and customers.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些基本领域，事件响应过程还需要定义如何与第三方、合作伙伴和客户互动。
- en: For example, if an incident occurs and throughout the investigation process
    it was identified that a customer's **personal identifiable information** (**PII**)
    was leaked, how will the company communicate this to the media? In the incident
    response process, communication with the media should be aligned with the company's
    security policy for data disclosure. The legal department should also be involved
    prior to the press release to ensure that there is no legal issue with the statement.
    Procedures to engage law enforcement must also be documented in the incident response
    process. When documenting this, take into consideration the physical location—where
    the incident took place, where the server is located (if appropriate), and the
    state. By collecting this information, it will be easier to identify the jurisdiction
    and avoid conflicts.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果发生了一个事件，并且在调查过程中发现客户的**个人身份信息**（**PII**）被泄露，那么公司将如何将这一信息传达给媒体？在事件响应过程中，媒体沟通应与公司的数据披露安全政策一致。法律部门也应在发布新闻稿之前参与，以确保声明没有法律问题。与执法部门合作的程序也必须在事件响应过程中记录下来。在记录时，需要考虑事件发生的物理位置——事件发生地、服务器所在位置（如果适用），以及所在州。通过收集这些信息，能够更容易识别管辖权并避免冲突。
- en: Incident response team
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 事件响应团队
- en: Now that you have the fundamental areas covered, you need to put the incident
    response team together. The format of the team will vary according to the company
    size, budget, and purpose. A large company may want to use a distributed model,
    where there are multiple incident response teams with each one having specific
    attributes and responsibilities. This model can be very useful for organizations
    that are geodispersed, with computing resources located in multiple areas. Other
    companies may want to centralize the entire incident response team in a single
    entity. This team will handle incidents regardless of the location.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经涵盖了基本领域，接下来需要组建事件响应团队。团队的组成将根据公司规模、预算和目标有所不同。一家大公司可能希望采用分布式模型，其中有多个事件响应团队，每个团队都有特定的属性和责任。对于那些地理分散、计算资源分布在多个地区的组织来说，这种模型非常有用。其他公司可能希望将整个事件响应团队集中在一个实体中，由该团队处理所有地点的事件。
- en: After choosing the model that will be used, the company will start recruiting
    employees to be part of the team.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 选择好将要使用的模型后，公司将开始招聘员工，组成团队。
- en: The incident response process requires personnel with technically broad knowledge
    while also requiring deep knowledge in some other areas. The challenge is to find
    people with depth and breadth in this area, which sometimes leads to the conclusion
    that you need to hire external people to fulfill some positions, or even outsource
    part of the incident response team to a different company.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 事件响应过程需要具备广泛技术知识的人员，同时还需要在其他一些领域具有深入的知识。挑战在于找到在这一领域既有深度又有广度的人才，这有时会导致结论——你需要雇佣外部人员来填补某些岗位，甚至将部分事件响应团队外包给其他公司。
- en: The budget for the incident response team must also cover continuous improvement
    via education, the acquisition of proper tools (software), and hardware. As new
    threats arise, security professionals working with incident response must be ready,
    and trained to respond well. Many companies fail to keep their workforce up to
    date, which is not good practice. When outsourcing the incident response process,
    make sure the company that you are hiring is accountable for constantly training
    their employees in this field.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 事件响应团队的预算还必须涵盖通过教育进行的持续改进、获得适当的工具（软件）和硬件。随着新威胁的出现，参与事件响应的安全专业人员必须随时准备并经过培训，以便做出良好的响应。许多公司未能保持员工的持续更新，这是不良的做法。在外包事件响应过程中，确保你所雇佣的公司会对不断培训其员工负责。
- en: If you plan to outsource your incident response operations, make sure you have
    a well-defined **service-level agreement** (**SLA**) that meets the severity levels
    that were established previously. During this phase, you should also define the
    team coverage, assuming the need for 24-hour operations.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你计划外包事件响应操作，确保你有一个明确的**服务水平协议**（**SLA**），以满足之前设定的严重性级别。在此阶段，你还应定义团队的覆盖范围，假设需要进行24小时操作。
- en: 'Here, you will define:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你将定义：
- en: '**Shifts**: How many shifts will be available for 24-hour coverage?'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**班次**：将提供多少个班次以确保24小时覆盖？'
- en: '**Team allocation**: Based on this shift, who is going to work on each shift,
    including full-time employees and contractors?'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**团队分配**：根据这些班次，谁将负责每个班次的工作，包括全职员工和承包商？'
- en: '**On-call process**: It is recommended that you have on-call rotation for technical
    and management roles in case the issue needs to be escalated.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**值班流程**：建议对技术和管理角色进行值班轮换，以防问题需要升级处理。'
- en: Incident life cycle
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 事件生命周期
- en: Every incident that starts must have an end, and what happens in between the
    beginning and the end are different phases that will determine the outcome of
    the response process. This is an ongoing process that we call the incident life
    cycle. What we have described until now can be considered the preparation phase.
    However, this phase is broader than that—it also has the partial implementation
    of security controls that were created based on the initial risk assessment (this
    was supposedly done even before creating the incident response process).
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 每个开始的事件必须有一个结束，而在开始与结束之间发生的事情是不同的阶段，这些阶段将决定响应过程的结果。这是一个持续的过程，我们称之为事件生命周期。到目前为止，我们所描述的可以视为准备阶段。然而，这一阶段比这更为广泛——它还包括基于初步风险评估（这一评估应该在创建事件响应过程之前进行）所制定的安全控制措施的部分实施。
- en: 'Also included in the preparation phase is the implementation of other security
    controls, such as:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 准备阶段还包括实施其他安全控制措施，例如：
- en: Endpoint protection
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 终端保护
- en: Malware protection
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意软件保护
- en: Network security
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络安全
- en: The preparation phase is not static, and you can see in the following diagram
    that this phase will receive input from post-incident activity.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 准备阶段并非静态，您可以在下图中看到该阶段将接收来自事后活动的输入。
- en: 'The other phases of the life cycle and how they interact are also shown in
    this diagram:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 生命周期的其他阶段及其相互作用也在这个图表中显示：
- en: '![](assets/a066c675-4203-405d-aeef-16922236312d.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/a066c675-4203-405d-aeef-16922236312d.jpg)'
- en: The **DETECTION** and **CONTAINMENT** phase could have multiple interactions
    within the same incident. Once the loop is over, you will move on to the post-incident
    activity phase. The sections that follow will cover these last three phases in
    more detail.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**检测**和**遏制**阶段可能在同一事件中有多次交互。一旦循环结束，您将进入事后活动阶段。接下来的部分将更详细地介绍这三个阶段。'
- en: Handling an incident
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理事件
- en: Handling an incident in the context of the IR life cycle includes the detection
    and containment phases. In order to detect a threat, your detection system must
    be aware of the attack vectors, and since the threat landscape changes so rapidly,
    the detection system must be able to dynamically learn more about new threats
    and new behaviors, and trigger an alert if a suspicious activity is encountered.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在IR生命周期的背景下处理事件包括检测和遏制阶段。为了检测威胁，您的检测系统必须了解攻击向量，由于威胁形势变化如此迅速，检测系统必须能够动态学习更多关于新威胁和新行为的信息，并在遇到可疑活动时触发警报。
- en: While many attacks will be automatically detected by the detection system, the
    end user has an important role in identifying and reporting the issue in case
    they find a suspicious activity.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管许多攻击将被检测系统自动检测到，但最终用户在发现可疑活动时发挥着重要作用，应及时报告问题。
- en: For this reason, the end user should also be aware of the different types of
    attack and learn how to manually create an incident ticket to address such behavior.
    This is something that should be part of the security awareness training.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，最终用户还应了解不同类型的攻击，并学习如何手动创建事件工单以解决此类行为。这应该是安全意识培训的一部分。
- en: Even with users being diligent by closely watching for suspicious activities,
    and with sensors configured to send alerts when an attempt to compromise is detected,
    the most challenging part of an IR process is still the accuracy of detecting
    what is truly a security incident.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 即使用户通过密切关注可疑活动并配置传感器在检测到威胁时发送警报，IR过程中最具挑战性的部分仍然是准确检测真正的安全事件。
- en: Oftentimes, you will need to manually gather information from different sources
    to see if the alert that you received really reflects an attempt to exploit a
    vulnerability in the system. Keep in mind that data gathering must be done in
    compliance with the company's policy. In scenarios where you need to bring the
    data to a court of law, you need to guarantee the data's integrity.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，您需要手动从不同来源收集信息，以查看您收到的警报是否真实反映了对系统中漏洞的利用企图。请记住，数据收集必须符合公司政策。在需要将数据带到法庭的情况下，您需要保证数据的完整性。
- en: 'The following diagram shows an example where the combination and correlation
    of multiple logs is necessary in order to identify the attacker''s final mission:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了一个示例，其中需要组合和关联多个日志以识别攻击者的最终目标：
- en: '![](assets/2ed106fb-0a63-41a8-b7aa-259756039392.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/2ed106fb-0a63-41a8-b7aa-259756039392.jpg)'
- en: In this example, we have many IoCs, and when we put all the pieces together
    we can validate the attack.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们有许多IoC，当我们将所有要素组合在一起时，我们可以验证攻击。
- en: 'The following table explains the diagram in more detail:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格更详细地解释了图表内容：
- en: '| **Step** | **Log** | **Attack/Operation** |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| **步骤** | **日志** | **攻击/操作** |'
- en: '| 1 | Endpoint protection and operating system logs can help determine the
    IoC | Phishing email |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 端点保护和操作系统日志可帮助确定IoC | 钓鱼邮件 |'
- en: '| 2 | Endpoint protection and operating system logs can help determine the
    IoC | Lateral movement followed by privilege escalation |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 端点保护和操作系统日志可帮助确定IoC | 横向移动后特权升级 |'
- en: '| 3 | Server logs and network captures can help determine the IoC | Unauthorized
    or malicious process could read or modify the data |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 服务器日志和网络捕获可帮助确定IoC | 未经授权或恶意进程可能读取或修改数据 |'
- en: '| 4 | Assuming there is a firewall in between the cloud and on-premises resources,
    the firewall log and the network capture can help determine the IoC | Data extraction
    and submission to command and control |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 假设云端和本地资源之间存在防火墙，防火墙日志和网络抓包可以帮助确定攻击指示（IoC） | 数据提取并提交给指挥与控制中心 |'
- en: As you can see, there are many security controls in place that can help to determine
    the indication of compromise. However, putting them all together in an attack
    timeline and crossing the data can be even more powerful.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，已有许多安全控制措施可以帮助确定是否存在安全漏洞。然而，将它们整合到攻击时间线中，并交叉分析数据，可能会更具威力。
- en: This brings back a topic that we discussed in the previous chapter, that detection
    is becoming one of the most important security controls for a company. Sensors
    that are located across the network (on-premises and cloud) will play a big role
    in identifying suspicious activity and raising alerts. A growing trend in cybersecurity
    is the leveraging of security intelligence and advanced analytics to detect threats
    more quickly and reduce false positives. This can save time and enhance the overall
    accuracy.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 这再次提到我们在前一章中讨论的话题，即检测正成为公司最重要的安全控制之一。分布在网络各处（包括本地和云端）的传感器将在人为活动可疑性识别和警报生成中发挥重要作用。网络安全中一个日益增长的趋势是利用安全情报和先进分析技术来更快地检测威胁，并减少误报。这可以节省时间并提高整体准确性。
- en: Ideally, the monitoring system will be integrated with the sensors to allow
    you to visualize all events in a single dashboard. This might not be the case
    if you are using different platforms that don't allow interaction between one
    another.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，监控系统应该与传感器集成，以便你能够在一个仪表盘中可视化所有事件。如果你使用的是不同的平台，且它们之间无法互相互动，那么可能就无法实现这种集成。
- en: In a scenario similar to the one we looked at previously, the integration between
    the detection and monitoring system can help to connect the dots of multiple malicious
    actions that were performed in order to achieve the final mission—data extraction
    and submission to command and control.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个类似于我们之前讨论过的场景中，检测与监控系统之间的集成可以帮助连接多个恶意行为，这些行为的最终目的是为了完成最终任务——数据提取并提交给指挥与控制中心。
- en: Once the incident is detected and confirmed as a true positive, you need to
    either collect more data or analyze what you already have. If this is an ongoing
    issue, where the attack is taking place at that exact moment, you need to obtain
    live data from the attack and rapidly provide a remediation to stop the attack.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦事件被检测并确认是真实事件，你需要收集更多的数据或分析现有的数据。如果这是一个持续发生的问题，且攻击正发生在此时，你需要从攻击现场获取实时数据，并快速提供解决方案以阻止攻击。
- en: For this reason, detection and analysis are sometimes done almost in parallel
    to save time, and this time is then used to rapidly respond. Having said that,
    it is important to mention that there is a separate phase for containment eradication
    and recovery, which is something that is going to be covered in the next section
    of this chapter.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，检测与分析有时几乎是并行进行的，以节省时间，而这段时间则用于快速响应。话虽如此，需要提到的是，隔离、根除和恢复是一个单独的阶段，这部分内容将在本章的下一节中讲解。
- en: The biggest problem happens when you don't have enough evidence that there is
    a security incident taking place, and you need to keep capturing data in order
    to validate the veracity. Sometimes the incident is not detected by the detection
    system. Perhaps it is reported by an end user, but he can't reproduce the issue
    at that exact moment. There is no tangible data to analyze, and the issue is not
    happening at the time you arrive. In scenarios like this, you will need to set
    up the environment to capture data and instruct the user to contact support when
    the issue is currently happening.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 最大的问题出现在你没有足够证据证明存在安全事件时，且你需要持续捕获数据以验证事件的真实性。有时，事件并未被检测系统发现，可能是由终端用户报告的，但他无法在此时重现问题。没有可分析的具体数据，且问题发生时你也没有赶到现场。在这种情况下，你需要设置环境以捕获数据，并指示用户在问题发生时联系支持部门。
- en: Best practices to optimize incident handling
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 优化事件处理的最佳实践
- en: 'You can''t determine what''s abnormal if you don''t know what''s normal. In
    other words, if a user opens a new incident saying that the server''s performance
    is slow, you must know all the variables before you jump to a conclusion. To know
    if the server is slow, you must first know what''s considered to be a normal speed.
    This also applies to networks, appliances, and other devices. To mitigate scenarios
    like this, make sure you have the following in place:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不知道什么是正常的，就无法确定什么是异常的。换句话说，如果用户打开一个新的事件称服务器性能慢，您必须在下结论之前了解所有变量。要知道服务器是否慢，您必须首先知道什么被认为是正常速度。这也适用于网络、设备和其他设备。为了减轻这类情况，确保以下事项已就位：
- en: System profile
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统配置文件
- en: Network profile/baseline
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络配置文件/基线
- en: Log-retention policy
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日志保留策略
- en: Clock synchronization across all systems
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有系统的时钟同步
- en: Based on this, you will be able to establish what's normal across all systems
    and networks. This will be very useful when an incident occurs and you need to
    determine what's normal before starting to troubleshoot the issue from a security
    perspective.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这一点，您将能够确定所有系统和网络中的正常情况。当发生事故并且需要从安全角度开始排查问题之前，这将非常有用。
- en: Post-incident activity
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 事后活动
- en: The incident priority may dictate the containment strategy—for example, if you
    are dealing with a DDoS attack that was opened as a high-priority incident, the
    containment strategy must be treated with the same level of criticality. It is
    rare that the situations where the incident is opened as high severity are prescribed
    medium-priority containment measures, unless the issue was somehow resolved in
    between phases.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 事件优先级可能会决定遏制策略——例如，如果您正在处理一种作为高优先级事件打开的DDoS攻击，那么遏制策略必须以同等的重要性对待。除非问题在阶段之间某种方式解决，否则很少会出现事件以高严重性打开但采取中优先级遏制措施的情况。
- en: Real-world scenario
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 现实世界的场景
- en: Let's use the WannaCry outbreak as a real-world example, using the fictitious
    company Diogenes & Ozkaya Inc. to demonstrate the end-to-end incident response
    process.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以WannaCry疫情为例，使用虚构的公司Diogenes & Ozkaya Inc.来演示端到端的事件响应过程。
- en: 'On May 12, 2017, some users called the help desk saying that they were receiving
    the following screen:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在2017年5月12日，一些用户打电话给帮助台，称他们收到了以下屏幕：
- en: '![](assets/5734f4b8-17e8-441e-9662-3d88a1e0d3a2.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/5734f4b8-17e8-441e-9662-3d88a1e0d3a2.png)'
- en: After an initial assessment and confirmation of the issue (detection phase),
    the security team was engaged and an incident was created. Since many systems
    were experiencing the same issue, they raised the severity of this incident to
    high. They used their threat intelligence to rapidly identify that this was a
    ransomware outbreak, and to prevent other systems from getting infected, they
    had to apply the MS17-00(3) patch.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在初步评估和问题确认后（检测阶段），安全团队介入并创建了一个事件。由于许多系统都遇到了同样的问题，他们将此事件的严重性提升到了高级别。他们利用威胁情报迅速确认这是勒索软件爆发，并为防止其他系统感染，必须应用MS17-00(3)补丁。
- en: 'At this point, the incident response team was working on three different fronts:
    one to try to break the ransomware encryption, another to try to identify other
    systems that were vulnerable to this type of attack, and another one working to
    communicate the issue to the press.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在此时，事件响应团队正在三个不同的前线工作：一个试图打破勒索软件加密，另一个试图识别其他易受此类攻击影响的系统，还有一个在努力向新闻界传达问题。
- en: They consulted their vulnerability management system and identified many other
    systems that were missing this update. They started the change management process
    and raised the priority of this change to critical. The management system team
    deployed this patch to the remaining systems.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 他们咨询了他们的漏洞管理系统，并识别出许多其他系统缺少此更新。他们启动了变更管理过程，并将此变更的优先级提升到了关键级别。管理系统团队将此补丁部署到其余系统中。
- en: The incident response team worked with their antimalware vendor to break the
    encryption and gain access to the data again. At this point, all other systems
    were patched and running without any problems. This concluded the containment
    eradication and recovery phase.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 事件响应团队与他们的反恶意软件供应商合作，成功打破加密并重新获得对数据的访问权限。此时，所有其他系统都已打补丁并且正常运行，这标志着遏制、根除和恢复阶段的结束。
- en: Lessons learned
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 吸取的教训
- en: After reading this scenario, you can see examples of many areas that were covered
    throughout this chapter and that will come together during an incident. But an
    incident is not finished when the issue is resolved. In fact, this is just the
    beginning of a whole different level of work that needs to be done for every single
    incident—document the lessons learned.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读完这个场景后，您可以看到本章涵盖的许多领域示例，并且它们将在事件中汇聚。但是，当问题解决后，事件并没有结束。事实上，这仅仅是每个事件需要完成的另一个不同层次的工作的开始——记录教训。
- en: One of the most valuable pieces of information that you have in the post-incident
    activity phase is the lessons learned. This will help you to keep refining the
    process through the identification of gaps in the process and areas of improvement.
    When an incident is fully closed, it will be documented, and this documentation
    must be very detailed, with the full timeline of the incident, the steps that
    were taken to resolve the problem, what happened during each step, and how the
    issue was finally resolved outlined in depth.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在事件后活动阶段，您拥有的最宝贵的信息之一就是从中吸取的教训。这将帮助您通过识别流程中的差距和改进领域来不断完善流程。当一个事件完全关闭时，它将被文档化，这份文档必须非常详细，包含事件的完整时间线，解决问题所采取的步骤、每一步发生了什么，以及如何最终解决问题的深入说明。
- en: 'This documentation will be used as a base to answer the following questions:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这份文档将作为回答以下问题的基础：
- en: Who identified the security issue? A user or the detection system?
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谁识别出了安全问题？是用户还是检测系统？
- en: Was the incident opened with the right priority?
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件是否以正确的优先级开启？
- en: Did the security operations team perform the initial assessment correctly?
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全运营团队是否正确地执行了初步评估？
- en: Is there anything that could be improved at this point?
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目前有没有什么可以改进的地方？
- en: Was the data analysis done correctly?
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据分析是否正确进行？
- en: Was the containment done correctly?
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隔离措施是否正确实施？
- en: Is there anything that could be improved at this point?
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目前有没有什么可以改进的地方？
- en: How long did it take to resolve this incident?
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决此事件花费了多长时间？
- en: The answers to these questions will help refine the incident response process
    and also enrich the incident database. The incident management system should have
    all incidents fully documented and searchable. The goal is to create a knowledge
    base that can be used for future incidents. Oftentimes, an incident can be resolved
    using the same steps that were used in the previous incident.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 这些问题的答案将有助于完善事件响应流程，并丰富事件数据库。事件管理系统应该能够对所有事件进行完整记录和检索。目标是创建一个可以用于未来事件的知识库。很多时候，事件可以通过与上次事件相同的步骤来解决。
- en: Another important point to cover is evidence retention. All the artifacts that
    were captured during the incident should be stored according to the company's
    retention policy, unless there are specific guidelines evidence retention. Keep
    in mind that if the attacker needs to be prosecuted, the evidence must be kept
    intact until legal actions are completely settled.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要关注的重要点是证据保留。在事件中捕获的所有证据应根据公司的保留政策存储，除非有特定的证据保留指南。请记住，如果需要起诉攻击者，证据必须保持完整，直到法律程序完全结案。
- en: Incident response in the cloud
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云中的事件响应
- en: 'When we speak about cloud computing, we are talking about a shared responsibility
    (4) between the cloud provider and the company that is contracting the service.
    The level of responsibility will vary according to the service model, as shown
    in the following diagram:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们谈论云计算时，我们在谈论云服务提供商与承接服务的公司之间的共享责任（4）。责任的程度将根据服务模型的不同而有所不同，如下图所示：
- en: '![](assets/eeb480e3-20ab-4c55-a81b-dd97d3da8654.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/eeb480e3-20ab-4c55-a81b-dd97d3da8654.jpg)'
- en: For **Software as a Service** (**SaaS**), most of the responsibility is on the
    **Cloud Provider**; in fact, the customer's responsibility is basically to keep
    his or her infrastructure on premises protected (including the endpoint that is
    accessing the cloud resource). For **Infrastructure as a Service** (**IaaS**),
    most of the responsibility lies on the customer's side, including vulnerability
    and patch management.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**软件即服务**（**SaaS**），大部分责任在于**云服务提供商**；事实上，客户的责任基本上是保持其本地基础设施的保护（包括访问云资源的终端）。对于**基础设施即服务**（**IaaS**），大部分责任在客户一方，包括漏洞和补丁管理。
- en: Understanding the responsibilities is important in order to understand the data
    gathering boundaries for incident response purposes. In an IaaS environment, you
    have full control of the virtual machine and have complete access to all logs
    provided by the operating system. The only missing information in this model is
    the underlying network infrastructure and hypervisor logs. Each cloud provider
    (5) will have its own policy regarding data gathering for incident response purposes,
    so make sure that you review the cloud provider policy before requesting any data.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 了解责任是重要的，以便了解事件响应目的的数据收集边界。在IaaS环境中，您完全控制虚拟机，并完全访问操作系统提供的所有日志。在这种模型中唯一缺失的信息是底层网络基础设施和hypervisor日志。每个云服务提供商（5）都将有其关于为事件响应目的收集数据的政策，因此在请求任何数据之前，请确保您审查云服务提供商的政策。
- en: For the SaaS model, the vast majority of the information relevant to an incident
    response is in possession of the cloud provider. If suspicious activities are
    identified in a SaaS service, you should contact the cloud provider directly,
    or open an incident via a portal (6). Make sure that you review your SLA to better
    understand the rules of engagement in an incident response scenario.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 对于SaaS模型，与事件响应相关的绝大多数信息都由云服务提供商持有。如果在SaaS服务中识别出可疑活动，您应直接联系云服务提供商，或通过门户打开一个事件（6）。确保您审查SLA以更好地了解事件响应场景中的参与规则。
- en: Updating your IR process to include cloud
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更新您的IR流程以包括云
- en: Ideally, you should have one single incident response process that covers both
    major scenarios—on-premises and cloud. This means you will need to update your
    current process to include all relevant information related to the cloud.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，您应该有一个涵盖本地和云两种主要场景的单一事件响应流程。这意味着您需要更新当前流程，以包括与云相关的所有相关信息。
- en: 'Make sure that you review the entire IR life cycle to include cloud-computing-related
    aspects. For example, during the preparation, you need to update the contact list
    to include the cloud provider contact information, on-call process, and so on.
    The same applies to other phases:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您审查整个IR生命周期，包括与云计算相关的方面。例如，在准备阶段，您需要更新联系人列表，包括云服务提供商的联系信息，值班流程等。其他阶段也适用：
- en: '**Detection**: Depending on the cloud model that you are using, you want to
    include the cloud provider solution for detection in order to assist you during
    the investigation (7).'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**检测**：根据您使用的云模型，您希望包括云服务提供商的检测解决方案，以协助您进行调查（7）。'
- en: '**Containment**: Revisit the cloud provider capabilities to isolate an incident
    in case it occurs, which will also vary according to the cloud model that you
    are using. For example, if you have a compromised VM in the cloud, you may want
    to isolate this VM from others in a different virtual network and temporarily
    block access from outside.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**遏制**：重新审查云服务提供商的能力，以隔离发生的事件，这也会根据您使用的云模型而有所不同。例如，如果您在云中有一个受损的虚拟机，您可能希望将此虚拟机与其他虚拟网络中的虚拟机隔离，并临时阻止外部访问。'
- en: For more information about incident response in the cloud, we recommend that
    you read *Domain 9* of the *Cloud Security Alliance Guidance* (8).
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 有关云中事件响应的更多信息，我们建议您阅读*云安全联盟指南*的*第9域*（8）。
- en: References
  id: totrans-132
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考资料
- en: You can download this publication at [http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf](http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf)
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以在[http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf](http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf)下载此出版物
- en: According to Computer Security Incident Response (CSIR)—Publication 800-61R2
    from NIST, an event is "any observable occurrence in a system or network". More
    information at [http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf](http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf)
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据NIST的《计算机安全事件响应（CSIR）—出版物800-61R2》，事件是“系统或网络中的任何可观察发生”。更多信息请访问[http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf](http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf)
- en: More information about this patch at [https://technet.microsoft.com/en-us/library/security/ms17-010.aspx](https://technet.microsoft.com/en-us/library/security/ms17-010.aspx)
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有关此补丁的更多信息，请访问[https://technet.microsoft.com/en-us/library/security/ms17-010.aspx](https://technet.microsoft.com/en-us/library/security/ms17-010.aspx)
- en: More information about this subject at [https://blog.cloudsecurityalliance.org/2014/11/24/shared-responsibilities-for-security-in-the-cloud-part-1/](https://blog.cloudsecurityalliance.org/2014/11/24/shared-responsibilities-for-security-in-the-cloud-part-1/)
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该主题的更多信息，请参见[https://blog.cloudsecurityalliance.org/2014/11/24/shared-responsibilities-for-security-in-the-cloud-part-1/](https://blog.cloudsecurityalliance.org/2014/11/24/shared-responsibilities-for-security-in-the-cloud-part-1/)
- en: For Microsoft Azure, read this paper for more information about incident response
    in the cloud [https://gallery.technet.microsoft.com/Azure-Security-Response-in-dd18c678](https://gallery.technet.microsoft.com/Azure-Security-Response-in-dd18c678)
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关于Microsoft Azure，请阅读这篇文章以获取有关云端事件响应的更多信息：[https://gallery.technet.microsoft.com/Azure-Security-Response-in-dd18c678](https://gallery.technet.microsoft.com/Azure-Security-Response-in-dd18c678)
- en: For Microsoft Online Service you can use this form [https://cert.microsoft.com/report.aspx](https://cert.microsoft.com/report.aspx)
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于Microsoft在线服务，您可以使用此表单：[https://cert.microsoft.com/report.aspx](https://cert.microsoft.com/report.aspx)
- en: Watch the author Yuri Diogenes demonstrating how to use Azure Security Center
    to investigate a cloud incident [https://channel9.msdn.com/Blogs/Azure-Security-Videos/Azure-Security-Center-in-Incident-Response](https://channel9.msdn.com/Blogs/Azure-Security-Videos/Azure-Security-Center-in-Incident-Response)
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 观看作者尤里·迪奥根尼斯（Yuri Diogenes）演示如何使用Azure安全中心调查云安全事件，[https://channel9.msdn.com/Blogs/Azure-Security-Videos/Azure-Security-Center-in-Incident-Response](https://channel9.msdn.com/Blogs/Azure-Security-Videos/Azure-Security-Center-in-Incident-Response)
- en: You can download this document from [https://cloudsecurityalliance.org/document/incident-response/](https://cloudsecurityalliance.org/document/incident-response/)
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以从[https://cloudsecurityalliance.org/document/incident-response/](https://cloudsecurityalliance.org/document/incident-response/)下载此文档。
- en: Summary
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned about the incident response process, and how this
    fits into the overall purpose of enhancing your security posture. You also learned
    about the importance of having an incident response in place to rapidly identify
    and respond to security incidents. By planning each phase of the incident response
    life cycle, you create a cohesive process that can be applied to the entire organization.
    The foundation of the incident response plan is the same for different industries,
    and on top of this foundation you can include the customized areas that are relevant
    to your own business. You also came across the key aspects of handling an incident,
    and the importance of post-incident activity—which includes a full documentation
    of lessons learned—and using this information as input to improve the overall
    process. Lastly, you learned the basics of incident response in the cloud and
    how this can affect your current process.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您了解了事件响应流程，以及它如何融入增强安全态势的整体目标。您还了解了拥有事件响应机制的重要性，以便快速识别和应对安全事件。通过规划事件响应生命周期的每个阶段，您可以创建一个可以应用于整个组织的统一流程。事件响应计划的基础对于不同行业来说是相同的，在此基础上，您可以根据自身业务需求加入定制的部分。您还学习了处理事件的关键方面，以及事后活动的重要性——包括完整记录的经验教训——并利用这些信息作为改进整体流程的输入。最后，您了解了云端事件响应的基础知识，以及它如何影响您当前的流程。
- en: In the next chapter, you will understand the mindset of an attacker, the different
    stages of an attack, and what usually takes place in each one of these phases.
    This is an important concept for the rest of the book, considering that the attack
    and defense exercises will be using the cybersecurity kill chain as a foundation.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，您将了解攻击者的思维方式、攻击的不同阶段，以及每个阶段通常会发生的事情。这是本书余下部分的重要概念，因为攻击与防御的练习将以网络安全“杀链”作为基础。
