- en: '10'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '10'
- en: 'Childproofing the Solution: Protection from the End-User and Their Environment'
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 对解决方案进行儿童保护：防止最终用户及其环境的影响
- en: This chapter will give you a crash course on child-proofing your appliance while
    ensuring a positive customer experience. Yeah. Both must be done in parallel.
    Delivering a masterful UI is absolutely a challenge that will require a little
    extra effort in the solution’s development. Just know in advance that your efforts
    here will pay back in adoption rates exponentially.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将为您提供一个关于如何在确保积极客户体验的同时对设备进行儿童保护的速成课程。没错，这两者必须同时进行。提供一个出色的用户界面（UI）绝对是一个挑战，需要在解决方案开发中投入一些额外的努力。只需提前知道，您的付出将在采用率上获得指数级的回报。
- en: In this chapter, you will learn crucial information like why locking the end-user
    out of the operating system is crucial to security. Additionally, you will gain
    an understanding of some key security concerns at the hardware level. We shall
    also review where the hosted applications themselves are solely what the end-users
    really need to access. Finally, we’ll wrap up the chapter by providing you with
    a deeper understanding of UI design implications that can enhance your appliance’s
    chances for success.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将学习一些关键信息，比如为什么将最终用户锁定在操作系统之外对安全至关重要。此外，您还将了解硬件级别的一些关键安全问题。我们还将回顾托管的应用程序本身是否是最终用户真正需要访问的内容。最后，我们将通过提供对UI设计影响的更深入理解，帮助您提高设备成功的机会。
- en: 'This chapter has the following main headings:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章包含以下主要章节：
- en: Introduction to childproofing (i.e., protecting the appliance from the end-user)
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 儿童保护介绍（即，保护设备免受最终用户干扰）
- en: Ensuring hardware-level protections
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保硬件级别的保护
- en: Operating-system-level and application protections
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作系统级别和应用程序保护
- en: Building a UI to simplify configuration while providing a great User Experience
    (UX)
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建一个简化配置的UI，同时提供出色的用户体验（UX）
- en: Introduction to child-proofing (i.e., protecting the appliance from the end-user)
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 儿童保护介绍（即，保护设备免受最终用户干扰）
- en: How to perform **child-proofing** of an appliance prototype is definitely one
    of my favorite conversations to have with product teams. Please indulge me and
    allow me to elaborate. This process may be the single greatest factor in determining
    what meets the definition of an appliance. All efforts to keep the final solution
    secure and focused solely on its predetermined function are crucial. The end-users
    must be properly guided on the initial setup requirements and kept within your
    guardrails of what you choose to allow them to access beyond the application/function
    of the appliance.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 如何对设备原型进行**儿童保护**，绝对是我最喜欢与产品团队讨论的话题之一。请允许我详细阐述。这一过程可能是决定什么符合设备定义的最大因素。所有确保最终解决方案安全并专注于其预定功能的努力都是至关重要的。必须在初始设置要求上正确引导最终用户，并将其控制在您选择允许他们访问设备/功能之外的范围内。
- en: There are many efforts to be considered here. How will my product’s end-users
    actually access the solution? What can be done to minimize or prevent any end-user
    from obtaining unauthorized elevated or root access? What automation will need
    to be put in place and obscured via the appliance’s UI?
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这里需要考虑很多努力。我的产品最终用户将如何访问解决方案？我们可以做什么来最小化或防止任何最终用户获得未经授权的提升或root权限？需要通过设备的UI进行哪些自动化，并使其隐藏？
- en: A prime example of what I am describing here is preventing the end-user from
    leveraging an escape key sequence to *escape* from your application regardless
    of whether it is console-based or graphical. I call this *No Escape!* This is
    achieved through thoughtful modification of the general console settings or editing
    a keymap. Of all the possible guardrails we will cover in this chapter, I consider
    this a mandatory first step.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我在这里描述的一个典型例子是防止最终用户利用退出键序列*逃脱*您的应用程序，无论它是基于控制台的还是图形化的。我称之为*No Escape!* 这是通过巧妙地修改一般控制台设置或编辑键盘映射来实现的。在本章将讨论的所有可能的保护措施中，我认为这是一个必须采取的第一步。
- en: Let’s proceed onward to securing hardware access.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续进行硬件访问的安全保护。
- en: Ensuring hardware-level protections
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保硬件级别的保护
- en: Okay, I know that we’ve discussed this before, in [*Chapter 8*](B22104_08.xhtml#_idTextAnchor248)
    ... I feel that I must remind you that this is real. Ensuring that the end-user
    cannot change the configuration is key here. You have two main responsibilities
    in this realm. The first responsibility is the securing of the solution and the
    second responsibility is prevention of the end-user from controlling the operating
    system. By achieving both, you guarantee that your team controls the end-user
    experience.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，我知道我们在 [*第 8 章*](B22104_08.xhtml#_idTextAnchor248) 中已经讨论过这个问题……但我觉得我必须提醒你，这是真的。确保最终用户无法更改配置是关键。你在这方面有两个主要责任。第一个责任是保护解决方案，第二个责任是防止最终用户控制操作系统。通过实现这两点，你可以确保你的团队控制最终用户的体验。
- en: If you create a user interface that simplifies how your appliance can operate
    securely, ultimately the appliance will be easy to use yet the end-user need not
    know how it works. I implore you to consider all these factors. Remove the end-user
    from all access to the operating system.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你创建一个简化设备安全操作的用户界面，最终该设备将易于使用，而最终用户无需了解其工作原理。我恳请你考虑所有这些因素。将最终用户从操作系统的所有访问权限中剥离。
- en: Create an experience where the end-user can trust that you have achieved, above
    all else, a secure but user-friendly platform. This is truly the field of dreams.
    This is what we all aspire to create. This should be our legacy.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一种体验，让最终用户可以信任你已经实现了最重要的——一个安全且用户友好的平台。这才是真正的梦想之地。这是我们所有人都渴望创造的目标。这应该是我们的遗产。
- en: Hardware security is something we have covered in quite some depth. Yet still,
    I feel that we must revisit this conversation, if just briefly. So, let’s dive
    in. Forgive me in advance, but I will reiterate a few details in this chapter.
    This is meant to protect you and your solution. So, let’s now move on to how to
    properly configure your BIOS settings.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 硬件安全性是我们已经深入讨论过的内容。然而，我仍然觉得我们必须重新审视这个话题，哪怕只是简短地提及。所以，让我们深入探讨。请原谅我提前提醒，你会看到在这一章中我会重复一些细节。这是为了保护你和你的解决方案。所以，现在让我们继续讨论如何正确配置你的
    BIOS 设置。
- en: Tamper-proofing with BIOS security
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: BIOS 安全性防篡改
- en: In this section, I want to reinforce what I have been building upon for many
    chapters up to this point. Choose your security settings carefully. Please understand
    the pros and cons of each configuration option. Not every setting will offer the
    best outcome. Some, if not most, have caveats as we have reviewed and we shall
    continue to dive deeper.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我想要加强之前在许多章节中提到的内容。仔细选择你的安全设置。请了解每个配置选项的利弊。并不是每个设置都会提供最佳的结果。有些设置，甚至大多数，都有我们之前审查过的限制，我们将继续深入探讨。
- en: Choosing to lock down the BIOS admin password is a double-edged sword. Yes,
    you can completely ensure that the end-user cannot change anything in the BIOS…
    But… That also ensures that your support team is in the business of replacing
    a unit – not servicing it remotely. Feel free to revisit [*Chapter 8*](B22104_08.xhtml#_idTextAnchor248)
    if you need more ideas on BIOS and boot security functions.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 锁定 BIOS 管理员密码是把双刃剑。是的，你可以完全确保最终用户无法更改 BIOS 设置……但是……这也确保了你的支持团队必须更换设备——而不是远程维修。如果你需要更多关于
    BIOS 和启动安全功能的想法，随时可以重新查阅 [*第 8 章*](B22104_08.xhtml#_idTextAnchor248)。
- en: This is where your support plan is crucial. Know what it is and own it. Let’s
    move on to the next hardware security option.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这是你的支持计划至关重要的地方。知道它是什么，并拥有它。让我们继续讨论下一个硬件安全选项。
- en: USB disablement
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 禁用 USB
- en: I’m on the fence about this security precaution and method of tamper-proofing
    and I’ll elaborate why. Disabling the USB ports on a system, whether through a
    BIOS setting or via the operating system, can be an elaborate security measure
    or one that perpetually guarantees your support model is not one of troubleshooting
    but of direct replacement. Elimination of the ability to connect a device (like
    a USB thumb drive) adds another layer of security by preventing data transfer,
    unauthorized booting to a different OS, or the running of code on the device that
    your team has never authorized.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这种安全预防措施和防篡改方法，我持中立态度，我将解释为什么。禁用系统上的 USB 端口，无论是通过 BIOS 设置还是操作系统，都可以是一个复杂的安全措施，或者它会永久确保你的支持模式不是故障排除，而是直接更换。消除连接设备（如
    USB 闪存驱动器）的能力，通过防止数据传输、未经授权的系统启动或运行你团队未授权的代码，增加了另一层安全性。
- en: Choosing this level of security is a significant decision. Or… Maybe it’s not.
    For some solutions, the decision to disable USB is a no-brainer. Let’s use a couple
    of examples here to state a case for the disablement of any possible external
    USB ports on the chassis of the solution.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 选择这种级别的安全性是一个重要的决定。或者……也许并不是。对于某些解决方案，禁用USB端口是显而易见的。我们可以举几个例子，说明禁用任何可能的外部USB端口在解决方案机箱上的理由。
- en: The first example is a hypothetical mobile ventilator used by hospitals and
    ambulance crews and with other installations across the healthcare industry. It
    has an LED display and all of its controls are built into a touch screen. Disabling
    the USB ports is a pure tamper-proofing effort. As most of these ventilators might
    never be attached to a network or be left waiting in hallways and closets for
    that all-too-crucial moment when their services are needed, tamper-proofing is
    critical. These machines are subject to government scrutiny and certification.
    So, updates are left to trained personnel anyway.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个例子是一个假设的移动呼吸机，用于医院和救护车队以及医疗行业中的其他设备。它有一个LED显示屏，所有的控制都集成在触摸屏中。禁用USB端口是出于防篡改的目的。因为大多数这些呼吸机可能永远不会连接到网络，或者会被放置在走廊和储物间，直到在它们服务需要的那个关键时刻，防篡改至关重要。这些设备需要经过政府审查和认证。因此，更新操作仍然由经过培训的人员来执行。
- en: My second hypothetical example is a visual targeting system in a military vehicle.
    This appliance has its own display and custom hardwired controls. USB disablement
    is implied as this appliance will never be updated nor maintained in the field
    and will only receive service from trained engineers when the vehicle itself goes
    into the maintenance depot by those who work for the firm that built the solution.
    Field soldiers have no access, nor should they have access to the underlying system.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我的第二个假设例子是军用车辆中的视觉目标系统。这个设备有自己的显示屏和定制的硬接线控制。禁用USB是默认的，因为这个设备永远不会在现场进行更新或维护，只有当车辆本身送到维护厂时，才会由该解决方案的制造商派出的工程师进行服务。现场士兵无法接触，也不应该接触到底层系统。
- en: So that’s plenty of reasons in the *pro* bucket. Here’s a couple for the *con*
    bucket. I’ll use the example of a medical imaging system. It could be an MRI or
    a CAT scanner – one of those hypotheticals. These are complex yet very well-maintained
    systems. They must be. They are not maintained by the hospitals that own (or lease)
    them. Regular maintenance is part of the support agreement when one acquires such
    an expensive toy. On average, these complex solutions are maintained on a monthly
    or quarterly schedule by field engineers who are sent by the manufacturer. These
    support engineers will absolutely need USB access to run diagnostics, patching
    operations, etc. The hospital staff is not remotely involved in this and these
    systems are kept in secure rooms with limited access, so tampering is far less
    of a concern.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 这些理由足够支持“赞成”这一立场。接下来是一些“反对”的理由。我将以医疗成像系统为例。这可以是MRI或CT扫描仪——这些只是一些假设例子。这些系统复杂但维护良好，必须如此。它们并不是由拥有（或租赁）它们的医院维护。定期的维护是支持协议的一部分，尤其是当获取这些昂贵设备时。通常，这些复杂的系统由制造商派出的现场工程师按月或按季度进行维护。这些支持工程师绝对需要USB端口来运行诊断、修补操作等。医院的工作人员与此无关，这些系统都被保存在有严格限制访问的安全房间中，所以篡改的风险要小得多。
- en: My second example is a patient monitoring solution appliance for healthcare
    that requires a persistent connection with a keyboard, mouse, and, more importantly,
    a specified USB speaker that is used to alert the nurses at the nurses’ station.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我的第二个例子是一个医疗健康领域的病人监控解决方案设备，需要与键盘、鼠标保持持久连接，更重要的是，需要一个指定的USB扬声器，用于在护士站提醒护士。
- en: My final example against the disabling of USB ports applies to any physical
    appliance where perhaps the normal UI is delivered through a kiosk-like touch
    screen. If there is to be any support activity on said device, a physical keyboard
    and mouse may be needed to simply navigate the interface until help from support
    can remediate a situation. This is just an oversimplification of how I believe
    that, at a minimum, allowing for a keyboard and mouse to connect may always be
    necessary.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我最后一个关于禁用USB端口的例子适用于任何物理设备，其中可能通过类似自助终端的触摸屏提供正常的用户界面。如果需要对该设备进行任何支持活动，可能需要物理键盘和鼠标，仅仅是为了在等待支持人员帮助解决问题时能操作界面。这只是我认为的简化版示例，至少允许连接键盘和鼠标在任何情况下可能都是必要的。
- en: For this set of security precautions, I trust that you and your team will weigh
    the pros and cons. Let’s move on to the next tamper-proofing option.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这一套安全预防措施，我相信你和你的团队会权衡利弊。我们继续看下一个防篡改选项。
- en: Case tamper-proofing
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 外壳防篡改
- en: This is an option with limited value in the end game. Very few hardware manufacturers
    have enabled this level of detail. To determine if your end-user has actually
    opened a case without your permission or guidance is an effort in futility.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这在最终阶段是一个有限价值的选项。很少有硬件制造商启用了这种详细程度。要确定你的最终用户是否在没有你的允许或指导下打开了外壳，是一项徒劳的努力。
- en: I say, who cares if they open up the system’s case? If your team has properly
    locked down the operating system and the BIOS, there’s little, if anything, a
    malicious actor can do to break the system. They surely will not be able to add
    new hardware without your help. Nor should they ever be allowed to do so.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我说，谁在乎他们是否打开了系统外壳？如果你的团队正确地锁定了操作系统和BIOS，那么恶意行为者几乎无法做任何事来破坏系统。他们肯定无法在没有你帮助的情况下添加新硬件。也不应该允许他们这么做。
- en: At best, this will only be highlighted when the case has been *opened* by displaying
    a message at the system’s boot time (assuming one can even see the console) ...
    For this type of lockdown, if your hardware even supports it, you (and your team)
    wouldn’t know, and the end-user might have the ability to erase this altogether
    from any logs if, in fact, there is nothing preventing them from entering and
    altering the BIOS settings.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在最好的情况下，只有在外壳被*打开*时，才会通过在系统启动时显示消息来突出显示（假设能看到控制台）……对于这种类型的封锁，如果你的硬件甚至支持它，你（和你的团队）也无法得知，最终用户可能有能力从任何日志中完全删除此信息，前提是没有任何东西阻止他们进入并更改BIOS设置。
- en: Oddly enough, this is where technology vendors could take a hint from the transportation
    industry – more specifically, trucking and shipping. Your enclosure will require
    something like a lock or anti-tamper clamp or numbered tag to prevent the end-user
    from opening the case (somewhat). Some examples are easily obtained via Amazon.
    Anything like this could greatly enhance and protect your product from being tampered
    with. I would recommend having something like the examples custom-made. You should
    consider two pieces of information to be placed on the tag itself. First, place
    a serial number that you track internally that is bound to the hardware that you
    sold that customer. Secondly, have a warning that breaking the seal invalidates
    any warranties (for your protection).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 奇怪的是，技术供应商可以从运输行业获得一些启示——更具体来说，是卡车运输和航运。你的外壳将需要类似于锁或防篡改夹具或编号标签的东西，以防止最终用户打开外壳（在某种程度上）。一些示例可以通过亚马逊轻松获得。类似的设备可以大大增强并保护你的产品免受篡改。我建议像这些示例一样定制制作。你应该考虑在标签上放置两个信息。首先，放置一个序列号，你可以在内部追踪，它与销售给客户的硬件绑定。其次，放置一个警告，表示破坏封条将使任何保修失效（为了你的保护）。
- en: 'Examples from Amazon:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊的示例：
- en: 'Steel Security Cable Seal – Amazon: [https://www.amazon.com/dp/B0CTJZL4QX/ref=sspa_dk_detail_1?pd_rd_i=B0CTJZL4QX&pd_rd_w=2YM0o&content-id=amzn1.sym.8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_p=8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_r=TAADTD9FHXQ62YCV3V3W&pd_rd_wg=IKKNk&pd_rd_r=cf146379-ab39-49c5-bb8a-048e05de0a7b&s=office-products&sp_csd=d2lkZ2V0TmFtZT1zcF9kZXRhaWw&th=1](https://www.amazon.com/dp/B0CTJZL4QX/ref=sspa_dk_detail_1?pd_rd_i=B0CTJZL4QX&pd_rd_w=2YM0o&content-id=amzn1.sym.8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_p=8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_r=TAADTD9FHXQ62YCV3V3W&pd_rd_wg=IKKNk&pd_rd_r=cf146379-)'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 钢制安全电缆封条 – 亚马逊：[https://www.amazon.com/dp/B0CTJZL4QX/ref=sspa_dk_detail_1?pd_rd_i=B0CTJZL4QX&pd_rd_w=2YM0o&content-id=amzn1.sym.8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_p=8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_r=TAADTD9FHXQ62YCV3V3W&pd_rd_wg=IKKNk&pd_rd_r=cf146379-ab39-49c5-bb8a-048e05de0a7b&s=office-products&sp_csd=d2lkZ2V0TmFtZT1zcF9kZXRhaWw&th=1](https://www.amazon.com/dp/B0CTJZL4QX/ref=sspa_dk_detail_1?pd_rd_i=B0CTJZL4QX&pd_rd_w=2YM0o&content-id=amzn1.sym.8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_p=8c2f9165-8e93-42a1-8313-73d3809141a2&pf_rd_r=TAADTD9FHXQ62YCV3V3W&pd_rd_wg=IKKNk&pd_rd_r=cf146379-)
- en: 'Locking tags for Containers, Cargo... – Amazon: [https://www.amazon.com/Numbered-Security-Anti-Tamper-Self-Locking-Container/dp/B07QXWS9DV/ref=asc_df_B07QXWS9DV/?tag=hyprod-20&linkCode=df0&hvadid=693270340443&hvpos=&hvnetw=g&hvrand=8112534262958122670&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=9001911&hvtargid=pla-757440487320&mcid=3443569f9f6738f8a4a870639b788988&th=1](https://www.amazon.com/Numbered-Security-Anti-Tamper-Self-Locking-Container/dp/B07QXWS9DV/ref=asc_df_B07QXWS9DV/?tag=hyprod-20&linkCode=df0&hvadid=693270340443&hvpos=&hvnetw=g&hvrand=8112534262958122670&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&h)'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 容器、货物的标签锁定…… – 亚马逊：[https://www.amazon.com/Numbered-Security-Anti-Tamper-Self-Locking-Container/dp/B07QXWS9DV/ref=asc_df_B07QXWS9DV/?tag=hyprod-20&linkCode=df0&hvadid=693270340443&hvpos=&hvnetw=g&hvrand=8112534262958122670&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=9001911&hvtargid=pla-757440487320&mcid=3443569f9f6738f8a4a870639b788988&th=1](https://www.amazon.com/Numbered-Security-Anti-Tamper-Self-Locking-Container/dp/B07QXWS9DV/ref=asc_df_B07QXWS9DV/?tag=hyprod-20&linkCode=df0&hvadid=693270340443&hvpos=&hvnetw=g&hvrand=8112534262958122670&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hv)
- en: As there are a few ways of tamper-proofing your case and protecting the hardware
    itself, I will humbly acknowledge that not all methods may be appropriate for
    your solution. Choose wisely. Let’s now move forward to how you might look into
    locking down the operating system for your solution.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 由于有几种方法可以防篡改并保护硬件本身，我谦虚地承认，并非所有方法都适合你的解决方案。请明智地选择。现在，让我们继续探讨如何为你的解决方案锁定操作系统。
- en: Operating-system-level and application protections
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作系统级别和应用程序保护
- en: 'Right, here’s where things might get a wee bit complicated. I know you may
    feel a bit of apprehension when I make such a statement. So, with that in mind,
    I offer this disclaimer: I do not know your application. How could I? I (and you)
    must trust that your team does.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，这里事情可能会变得有些复杂。我知道你可能会对我这样的陈述感到一些担忧。所以考虑到这一点，我提供一下免责声明：我不了解你的应用程序。我怎么会知道呢？我（和你）必须相信你的团队了解它。
- en: In this section, I am going to challenge you and your team to build a comprehensive
    interface that isn’t just for your application but user access, updates, etc.
    The more that you can obscure with your application/user interface the more secure
    your appliance will be. This, along with the next few sections, are dedicated
    to how you can make that happen. This challenge I present to you may ultimately
    determine the success or failure of your product. The more effort you put forth
    in providing a rich and enjoyable user experience, the more likely the end customers
    are to applaud your product and adopt it wholesale.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我将挑战你和你的团队构建一个全面的界面，不仅仅是为你的应用程序，还包括用户访问、更新等。你能通过应用程序/用户界面隐藏的越多，你的设备就会越安全。这一部分以及接下来的几节内容，致力于帮助你实现这一目标。我给你的挑战最终可能决定你的产品是成功还是失败。你在提供丰富且愉悦的用户体验上投入的努力越多，最终客户就越有可能称赞你的产品并全面采纳它。
- en: These actions are not just for security but can absolutely create a rich and
    enjoyable end-user experience. Let’s dive into a few of these factors now.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这些措施不仅仅是为了安全，还能为最终用户创造丰富而愉悦的体验。现在让我们深入探讨其中的几个因素。
- en: Minimizing access to root
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 最小化对根目录的访问
- en: By definition, an appliance should be easy to use but not require the end-user
    to be vastly skilled in the intricacies of managing the application nor the operating
    system. These factors are implied. If the end-user’s organization had the skills
    (or the desire) to maintain such solutions, they ultimately would have built them
    themselves.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 从定义上讲，设备应该易于使用，但不要求最终用户具有深厚的应用程序管理或操作系统管理技能。这些因素是隐含的。如果最终用户的组织具备（或有意愿）维护这样的解决方案，他们最终会自己构建这些解决方案。
- en: Hence, my recommendations are brutally prescriptive in this thought process.
    I cringe as I write this, yet I feel that you should adopt this mentality as well.
    It will ultimately protect your support team from countless unnecessary calls.
    Tamper-proof your solution. Yes, I just said it. The more you prevent the end-user
    from directly accessing the operating system, the more secure your solution will
    be.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这一思维过程中，我的建议可能显得有些过于严苛。当我写下这些时，我不禁感到有些不安，但我觉得你也应该采纳这种心态。这将最终保护你的支持团队，免受无数不必要的电话困扰。防篡改你的解决方案。是的，我刚刚说了。你越是防止最终用户直接访问操作系统，你的解决方案就会越安全。
- en: Failing to do so and an end-user acquiring root access could create a significant
    emotional event for your appliance. At this point, they can do anything they want
    with your appliance. Shall I list some of the horrors that could be created? Oh,
    yes. I shall.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 如果不采取措施，最终用户获得 root 权限可能会给你的设备带来重大情绪性事件。此时，他们可以对设备做任何他们想做的事。我是不是该列出一些可能出现的恐怖情况？哦，是的，我会。
- en: 'If you have an end-user that has root access, they could possibly carry out
    any of the following acts with or without malicious intent:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的最终用户拥有 root 权限，他们可能会在有或没有恶意意图的情况下执行以下任何行为：
- en: Add or remove software
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加或删除软件
- en: Alter the system’s configuration
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改系统配置
- en: Add or remove users from the system or applications
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向系统或应用程序添加或删除用户
- en: Remove security precautions or configurations
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除安全预防措施或配置
- en: Alter or delete logs to cover their tracks (or delete logging altogether)
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改或删除日志以掩盖痕迹（或完全删除日志记录）
- en: Make a change in the system that renders your appliance unusable for the purpose
    it was procured for
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在系统中进行更改，使得设备无法实现其采购目的
- en: I haven’t even really mentioned the truly evil, malicious activities that could
    possibly occur. For those, I will allow your imagination to roam free. Enjoy!
    Perhaps now you understand why I implore you and your team to take every reasonable
    step to protect your solutions.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 我甚至没有提到那些可能发生的真正邪恶、恶意的活动。对于这些，我将允许你展开想象。尽情享受吧！也许现在你明白为什么我恳求你和你的团队采取一切合理步骤来保护你的解决方案了。
- en: Regardless of how your solution is accessed or interacted with, having these
    settings obscured from all end-users and handled behind the scenes will guarantee
    the security and stability (hopefully the longevity too) of your solution.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你的解决方案是如何访问或交互的，将这些设置从所有最终用户处隐藏并在后台处理，将确保你的解决方案的安全性和稳定性（希望还包括持久性）。
- en: SUDO and restricting console access
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SUDO 和限制控制台访问
- en: Depending on how exactly your solution is designed and implemented, this next
    recommendation may not be feasible. Well… at least as it might have been originally
    envisioned. Please open your mind. I’m trying to save you from future pain.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你的解决方案的具体设计和实现方式，接下来的建议可能并不可行。嗯……至少可能并不是最初设想的那样。请张开思维，我是为了帮你避免未来的麻烦。
- en: This is where I’m going to reiterate some best practices that I hope you already
    know. Minimize or totally eliminate end-user access directly to the operating
    system. An appliance *SHOULD* be a black box. The end-users should only have access
    to the services for which the solution was designed to create, along with any
    administrative tasks not already automated by the solution.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我将再次强调一些最佳实践，希望你已经知道。最小化或完全消除最终用户直接访问操作系统的权限。设备*应当*是一个黑箱。最终用户应该只能访问为解决方案设计的服务，以及解决方案未自动化的任何管理任务。
- en: For the administrative tasks, I feel it is paramount to obscure and remove the
    end-user from directly accessing operating system too. Giving your user base root
    access will literally ensure that, at some point, some malicious (or accidental)
    end-users will break something intentionally, reverse engineer the solution, or
    – even worse – reconfigure the system to do malicious activities.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 对于管理任务，我认为至关重要的是遮蔽并移除最终用户直接访问操作系统的能力。将 root 权限交给用户群体，实际上会确保在某个时刻，一些恶意（或意外）用户将故意破坏某些东西、逆向工程解决方案，或者——更糟糕的是——重新配置系统以执行恶意活动。
- en: So, how can we achieve this? It’s not difficult actually. Behind your graphical
    or web UI, have scripts that are run as a non-root user account that has restricted
    sudo capabilities. That’s the easiest way to keep the user out of the OS or the
    shell.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，我们如何实现这一点呢？其实并不难。在你的图形界面或 Web UI 背后，设置以非 root 用户身份运行的脚本，该用户具有受限的 sudo 权限。这是保持用户远离操作系统或
    shell 的最简单方法。
- en: But what if the end-user can log into the system and has terminal access...
    Limit what they can see. Limit what they can execute. Ensure that what they are
    allowed to execute is controlled by ACLs, SUID, SGID, and other mechanisms set
    within the files’ permissions. Furthermore, I would present a limited interface
    (even if shell-based) to any user who has access to the system, with the only
    exception being the access you have created for your support personnel (if any).
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，如果最终用户可以登录系统并有终端访问权限怎么办……限制他们能看到的内容，限制他们可以执行的操作。确保他们被允许执行的操作受到 ACL、SUID、SGID
    和其他文件权限设置的控制。此外，对于任何可以访问系统的用户，我建议提供一个受限的界面（即使是基于 shell 的），唯一的例外是你为支持人员（如果有的话）创建的访问权限。
- en: In this, the end-user can be seen as an enemy – willing or accidental. Hence,
    every effort that you can create within your interfaces to prevent direct operating
    systems access should be seen as mandatory. Let’s move on.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，最终用户可以被视为敌人——无论是有意还是无意。因此，您在界面中所能做的任何防止直接访问操作系统的努力都应该被视为强制性措施。让我们继续。
- en: Non-interactive LUKS encryption
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 非交互式 LUKS 加密
- en: We have covered several ways of ensuring disk encryption (without end-user interaction)
    extensively in *Chapters 6* and *7*; however, I would feel remiss in not mentioning
    it again, as this is also seen as another way to child-proof one’s solution.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在*第 6 章*和*第 7 章*中详细介绍了确保磁盘加密（无需最终用户交互）的方法；然而，我觉得如果不再提一次会显得疏忽，因为这也是确保解决方案“防儿童”的另一种方式。
- en: In using automated disk encryption, you take the responsibility out of the end-user’s
    hands, along with the access to alter it maliciously. Not automating this creates
    a poor end-user experience and leaves your solution vulnerable. As I know that
    you already understand my point, I’ll say let’s move on.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 使用自动化磁盘加密时，您将责任从最终用户手中移除，并且防止其恶意更改。不进行自动化会导致糟糕的最终用户体验，并使您的解决方案存在漏洞。既然我知道您已经理解我的意思，那么我们继续。
- en: Keeping users in the application space
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保持用户在应用程序空间中
- en: What does he mean by keeping the users in the application space? Good question.
    For that, I have a great recommendation. Please allow me to elaborate.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 他所说的“保持用户在应用程序空间中”是什么意思？这是个好问题。为此，我有一个很好的推荐，请允许我详细说明。
- en: Another great way of ultimately preventing your application or your end-users
    from compromising the operating system is to keep all the end-users as application-level
    users, not operating-system-level users. In doing this, your applications’ interface
    is all they can interact with – forever. By this, I mean the end-user only has
    a user account in your application stack, which is controlled by the application,
    not within Linux itself. This prevents the end-user from ever accessing a command-line
    shell.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种有效防止您的应用程序或最终用户破坏操作系统的方式是将所有最终用户保持为应用程序级别的用户，而非操作系统级别的用户。通过这种方式，您的应用程序界面将是用户唯一能够与之互动的地方——永远如此。我的意思是，最终用户在您的应用程序堆栈中只有一个用户帐户，该帐户由应用程序控制，而不是
    Linux 本身。这可以防止最终用户访问命令行界面。
- en: Think of this in the same manner as application sandboxing... but we’re doing
    it with the end-users... It’s a great layer of separation that adds a protective
    layer of security to your solution.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 可以将其视为应用程序沙箱化...但我们是将其应用于最终用户...这是一个很好的隔离层，能够为您的解决方案增加一层保护性安全。
- en: Application auto-launch at boot
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启动时自动启动应用程序
- en: Ensuring that your interface and applications automatically start up at boot
    is assumed, but I recommend taking it a step further. Run them with **systemd**
    as a non-root user.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您的界面和应用程序在启动时自动启动是理所当然的，但我建议再进一步。以非 root 用户身份使用**systemd**来运行它们。
- en: Here’s an example of how to set up systemd and `myapplication`. Enabling linger
    allows for the application or service to run appropriately under a non-root user’s
    login without interactions.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 这是如何设置 systemd 和 `myapplication` 的示例。启用 linger 允许应用程序或服务在非 root 用户登录时正确运行，无需交互。
- en: 'Start and enable your application:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 启动并启用您的应用程序：
- en: '[PRE0]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To ensure the service runs even when the `$USER` is not logged in, we’ll need
    to use `linger`. Remember that `$USER` is the user account you want to run your
    applications/services: as.'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保服务即使在`$USER`未登录时也能运行，我们需要使用`linger`。请记住，`$USER`是您希望运行应用程序/服务的用户帐户：作为。
- en: '[PRE1]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Now your application will run as the defined user at each startup sequence without
    any elevated or root access. By employing the customizations detailed in this
    section, we’ve taken more steps to ensure system security and stability. Now let’s
    move on and look into how we can provide a great user experience whilst ensuring
    security.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您的应用程序将在每次启动时以定义的用户身份运行，无需任何提升或 root 访问权限。通过采用本节中详细说明的定制，我们已采取更多措施确保系统安全性和稳定性。接下来，让我们继续探讨如何在确保安全性的同时提供良好的用户体验。
- en: Building a UI to simplify configuration while providing a great User Experience
    (UX)
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建一个用户界面以简化配置，同时提供出色的用户体验（UX）
- en: At some point, your prospective customers have made the executive decision to
    seek a commercially ready solution to a problem that they have encountered. This
    fateful decision was whether to build a solution in-house versus buying one built
    by someone else. This truly is an important fact to keep in mind. At some point
    – hopefully soon – someone will choose to buy your future product!
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在某个时刻，你的潜在客户已经做出了决策，决定寻求一个商业化解决方案来解决他们遇到的问题。这个决定是是否选择自行开发解决方案，还是购买别人已开发的解决方案。这确实是一个需要记住的重要事实。总有一天——希望尽快——有人会选择购买你的未来产品！
- en: 'Honor those who make that decision by giving them a positive and rewarding
    **User Experience** (**UX**). Delivering them a secure solution is simply implied.
    They have placed their trust in your company even more if your solution is a security-services-focused
    appliance. Trust, in this case, also equals responsibility. Your team is responsible
    for creating an appliance that doesn’t need the customers’ IT staff to be rocket
    scientists, or perhaps even an IT staff at all, to assist with the consumption
    of services from your solution. I challenge you to go beyond that and deliver
    to the end-customers an interface that goes above and beyond in the following
    areas:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 尊重那些做出这个决定的人，通过提供积极且有意义的**用户体验**（**UX**）来回馈他们。为他们提供一个安全的解决方案是显而易见的。如果你的解决方案是一个聚焦于安全服务的家电，他们对你公司的信任将更为深厚。在这种情况下，信任也意味着责任。你的团队需要负责创建一个不需要客户
    IT 员工是火箭科学家的家电，甚至不需要任何 IT 员工帮助他们使用你的解决方案。我要挑战你们超越这一点，向最终客户提供一个超出预期的界面，涵盖以下几个方面：
- en: Exceeds all expectations in terms of intuitiveness (i.e., the users can navigate
    with ease)
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在直观性方面超出所有预期（即，用户能够轻松导航）。
- en: Provides the proper number of details to the end-user and doesn’t over-burden
    them with administration concerns
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向最终用户提供适当数量的细节，并且不会让他们在管理问题上负担过重。
- en: Accounts for all support and configuration needs that could arise so as the
    end-user should never need to get direct access to the operating system
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑到所有可能出现的支持和配置需求，以确保最终用户永远不需要直接访问操作系统。
- en: Provides the end-users with the ability to consume the appliance’s functionality
    without extensive training
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为最终用户提供在无需大量培训的情况下使用家电功能的能力。
- en: A secure and successful appliance experience can be highlighted by how much
    planning and automation goes into its interface. These decisions are made early
    in the design phase and are implemented here. Regardless of how the user interacts
    with the appliance, obscuring or totally removing the operating system from the
    user base is crucial. Let’s explore some examples of both text and web UI’s.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 一个安全且成功的家电体验可以通过其界面中规划和自动化的程度来突出。这些决策在设计阶段早期就已做出，并在此得以实施。无论用户如何与家电交互，隐藏或完全移除操作系统对用户的可见性至关重要。让我们来探讨一些文本和网页
    UI 的例子。
- en: Initial config – text UI
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 初始配置 – 文本 UI
- en: For this set of example screens, I’ll be showing you a bare-bones text UI for
    an initial configuration of an appliance. For argument’s sake, let’s assume the
    end-user has a keyboard connected and has console access.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这一组示例界面，我将向你展示一个最基础的文本 UI，用于家电的初始配置。为了讨论的方便，我们假设最终用户已连接键盘并具有控制台访问权限。
- en: For this type of initial configuration UI, you’ll need to set, at minimum, a
    non-root user for them to log in as and, hopefully, upon the login as this user,
    they are given only the ability to run this simple setup utility.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这种类型的初始配置 UI，你至少需要为用户设置一个非 root 用户，以便他们能够登录，并且希望在登录后，这个用户只能运行这个简单的设置工具。
- en: Our first screenshot here simulates a welcome screen for the end-user. You may
    also want to add in other friendly messages like *Thank you for choosing us…*
    or something similar.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的第一张截图模拟了一个欢迎界面，供最终用户使用。你也可以添加一些其他友好的信息，比如*感谢选择我们……*或类似的内容。
- en: '![Figure 10.1 – Text UI – welcome screen](img/B22104_10_01.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.1 – 文本 UI – 欢迎界面](img/B22104_10_01.jpg)'
- en: Figure 10.1 – Text UI – welcome screen
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.1 – 文本 UI – 欢迎界面
- en: Once past the welcome screen, the end-user would be presented with a main menu
    of configuration options.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦通过欢迎界面，最终用户将看到一个配置选项的主菜单。
- en: '![Figure 10.2 – Text UI – main menu](img/B22104_10_02.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.2 – 文本 UI – 主菜单](img/B22104_10_02.jpg)'
- en: Figure 10.2 – Text UI – main menu
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.2 – 文本 UI – 主菜单
- en: Let’s also assume this appliance serves some function on a network. So, let’s
    help the end-user define the network settings. They will simply give the attribute
    values and your automation behind the scenes is what really makes the configuration
    changes, limiting what the end-user can access and do – no root access.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们也假设这个设备在网络中有一些功能。因此，让我们帮助最终用户定义网络设置。他们只需提供属性值，而你的后台自动化真正进行配置更改，限制最终用户可以访问和执行的内容
    – 没有 root 访问权限。
- en: So, these next few screens will show the interactions where the end-user defines
    the network settings and is eventually asked to confirm them so they can be saved
    and applied.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的几个界面将展示用户定义网络设置的交互过程，并最终要求确认以便保存和应用这些设置。
- en: The first setting the user may be prompted for is the appliance’s hostname.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 用户可能首先需要提示输入设备的主机名设置。
- en: '![Figure 10.3 – Text UI – network configuration – start](img/B22104_10_03.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![Figure 10.3 – 文本 UI – 网络配置 – 开始](img/B22104_10_03.jpg)'
- en: Figure 10.3 – Text UI – network configuration – start
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.3 – 文本 UI – 网络配置 – 开始
- en: 'As we continue further into the network configuration, IP addressing begins:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 随着我们继续进行网络配置，IP 地址分配开始：
- en: '![Figure 10.4 – Text UI – network configuration – in progress](img/B22104_10_04.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![Figure 10.4 – 文本 UI – 网络配置 – 进行中](img/B22104_10_04.jpg)'
- en: Figure 10.4 – Text UI – network configuration – in progress
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.4 – 文本 UI – 网络配置 – 进行中
- en: There are more network settings as we progress. Here, we are displaying a few
    more settings inward where netmask and DNS settings can be configured.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 随着我们的进展，还有更多的网络设置。在这里，我们展示了更多向内部的设置，其中可以配置子网掩码和 DNS 设置。
- en: '![Figure 10.5 – Text UI – network configuration – continued](img/B22104_10_05.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![Figure 10.5 – 文本 UI – 网络配置 – 继续](img/B22104_10_05.jpg)'
- en: Figure 10.5 – Text UI – network configuration – continued
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.5 – 文本 UI – 网络配置 – 继续
- en: Next, as best practice, we shall always prompt them to confirm (or cancel) at
    the end before the settings are committed to the running configuration.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 作为最佳实践，我们应该始终在最后提示用户确认（或取消）设置，然后再将其提交到运行配置中。
- en: '![Figure 10.6 – Text UI – network configuration – confirmation](img/B22104_10_06.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![Figure 10.6 – 文本 UI – 网络配置 – 确认](img/B22104_10_06.jpg)'
- en: Figure 10.6 – Text UI – network configuration – confirmation
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.6 – 文本 UI – 网络配置 – 确认
- en: Now your automation behind the scenes is doing the actual configuration work.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你的后台自动化正在进行实际的配置工作。
- en: '![Figure 10.7 – Text UI – network configuration – execution behind the scenes](img/B22104_10_07.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![Figure 10.7 – 文本 UI – 网络配置 – 后台执行](img/B22104_10_07.jpg)'
- en: Figure 10.7 – Text UI – network configuration – execution behind the scenes
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.7 – 文本 UI – 网络配置 – 后台执行
- en: So, there you have it – a simple network configuration for a text-based appliance.
    Try to keep things as simple as possible yet consider adding all facets of your
    appliance’s usage and configuration to such a menu system. Obscure all operating
    system operations, whilst protecting the system from the end-user as well.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，这就是简单的基于文本的设备网络配置。尽量保持尽可能简单，但考虑到所有设备用途和配置的方面添加到这样的菜单系统中。隐藏所有操作系统操作，同时保护系统免受最终用户的影响。
- en: Let’s move on to what a simulated minimal web configuration interface may look
    like.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续看看模拟的简化 Web 配置界面可能会是什么样子。
- en: Initial config – web UI
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 初始配置 – Web UI
- en: Web-based interfaces allow for a much more aesthetically pleasing experience
    but require more programming. You’ll still be collecting the same information
    as the text UI did but instead of instantly calling sudo scripts, the web UI will
    leverage sudo scripts called by `cgi-bin GET` or `POST` operations. I’m not remotely
    going to teach you how to program webpages as there are literally hundreds of
    books that could do a better job at that than I could.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 Web 的界面可以提供更美观的体验，但需要更多的编程。你仍然会收集与文本 UI 相同的信息，但是不是立即调用 sudo 脚本，而是通过 `cgi-bin
    GET` 或 `POST` 操作来执行 sudo 脚本。我不会远程教你如何编写网页，因为有成百上千本书可以比我做得更好。
- en: I will, however, mention that for the initial configuration, you should consider
    leveraging a pre-defined and documented IP address for the new end-user to access
    your initial setup pages.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，对于初始配置，你应该考虑利用预定义和文档化的 IP 地址，以便新的最终用户访问你的初始设置页面。
- en: In the new few screenshots, we’ll be looking at a simulated walk-through of
    a simplified web UI for the initial appliance configuration.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的几张截图中，我们将看到一个简化的 Web UI 初始设备配置的模拟演示。
- en: Let’s start with a welcome webpage. Greet your new customer and let them know
    the system is working! This page politely indicates that we will need to do some
    basic configuration work before the end-user can begin to consume the services
    this appliance provides.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从一个欢迎页面开始。欢迎您的新客户，并让他们知道系统正在正常工作！该页面礼貌地表明，我们需要进行一些基本的配置工作，才能让最终用户开始使用该设备提供的服务。
- en: '![Figure 10.8 – Web UI – welcome screen](img/B22104_10_08.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.8 – Web UI – 欢迎页面](img/B22104_10_08.jpg)'
- en: Figure 10.8 – Web UI – welcome screen
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.8 – Web UI – 欢迎页面
- en: From the welcome page, we select **Start Initial Configuration** and enter a
    simulated main menu with simple navigation selections available on a sidebar.
    From here, the end-user is presented with several obvious options that should
    also remain available beyond the initial configuration event.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 从欢迎页面开始，我们选择**开始初始配置**并进入一个模拟的主菜单，侧边栏中有简单的导航选项。此时，最终用户将看到一些明显的选项，这些选项在初始配置事件之后也应继续保持可用。
- en: In this main configuration menu, the end-user will have some key options that
    should be planned for accordingly – administrative access, user access, network
    configuration, factory reset, and, of course, a way to process updates.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个主要配置菜单中，最终用户将拥有一些关键选项，这些选项应根据需要进行规划——管理员访问、用户访问、网络配置、恢复出厂设置，当然，还有处理更新的方法。
- en: As the end-user is anxious to get started using this appliance, logical first
    steps include guiding the end-user to set an admin password and then configure
    the networking/hostname.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 由于最终用户急于开始使用该设备，逻辑的第一步包括引导最终用户设置管理员密码，然后配置网络/主机名。
- en: In this example, we’ll see what a simplified web-based UI for an appliance’s
    administration main menu should contain at a minimum.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我们将看到设备管理主菜单的简化基于 Web 的 UI 至少应包含哪些内容。
- en: '![Figure 10.9 – Web UI – main appliance configuration menu](img/B22104_10_09.jpg)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.9 – Web UI – 设备主配置菜单](img/B22104_10_09.jpg)'
- en: Figure 10.9 – Web UI – main appliance configuration menu
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.9 – Web UI – 设备主配置菜单
- en: Assume that we had selected **Network Configuration** here and we want to set
    up the basic networking settings for this appliance. Basic needs for this type
    of initial configuration should always include not just network configuration
    but also having the ability for the end-user to assign a proper hostname so that
    the system can also be referenced by their own DNS systems.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们在这里选择了**网络配置**，并希望为该设备设置基本的网络设置。此类初始配置的基本需求不仅应包括网络配置，还应允许最终用户分配适当的主机名，以便系统也能通过他们自己的
    DNS 系统进行引用。
- en: '![](img/B22104_10_10.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B22104_10_10.jpg)'
- en: Fig 10.10 – Web UI – network configuration
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.10 – Web UI – 网络配置
- en: Now that we’ve guided our new end-user through a crisp basic appliance configuration
    process, they can leverage your product for all the great services it provides
    them. Eventually, as with any computer system nowadays, the appliance will require
    patching and updates, which leads us to our next section.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经通过简洁的基础设备配置过程引导了新的最终用户，他们可以利用您的产品提供的所有出色服务。最终，和现在的任何计算机系统一样，该设备将需要打补丁和更新，这将引导我们进入下一部分。
- en: Update controls – text UI
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更新控制 – 文本 UI
- en: Your appliance’s end-user experience would not be complete unless you add in
    a method for the appliance to get updated. By updates, I refer to operating systems
    bug fixes and enhancements, application patches and enhancements, new features,
    and even firmware updates if your solution is physical.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 您设备的最终用户体验将不完整，除非您为设备添加一个获取更新的方法。所谓更新，指的是操作系统的错误修复和增强、应用程序的补丁和增强、新功能，甚至如果您的解决方案是物理设备，还包括固件更新。
- en: Creating this type of interface also creates a boundary layer from what the
    end-user can do and what the appliance can do for itself. We must remove any possible
    need or excuse for any end-user to demand access directly to the operating system
    itself.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 创建这种类型的界面还创建了一个边界层，将最终用户能够做的事情与设备可以为自己做的事情区分开来。我们必须消除任何可能导致最终用户直接访问操作系统本身的需求或借口。
- en: Depending on the use case and deployment methodology, the interface should account
    for how updates are to be presented. Air-gapped systems will not be able to go
    out to the internet and check for their updates, so the interface should be able
    to ingest updates alternatively. USB thumb drives, tarballs, and ISO images are
    all examples of ways that one could deliver updates to the end-user, however,
    the end-user would then need to deliver them to the interface and the appliance
    should process them without the end-user having access to the operating system.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 根据使用场景和部署方法，界面应考虑如何呈现更新。由于隔离的系统无法连接互联网检查更新，因此界面应能够以其他方式接收更新。USB 闪存盘、tar 包和 ISO
    镜像都是可以将更新传递给最终用户的方式，然而，最终用户需要将它们传送到界面，并且设备应处理这些更新，而不让最终用户访问操作系统。
- en: Here’s an example of what appliance update controls may look like in a text
    UI, where the appliance has access to the internet to check for its updates.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个文本 UI 中的设备更新控制示例，其中设备可以访问互联网检查更新。
- en: '![Figure 10.11 – Text UI update menu](img/B22104_10_11.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.11 – 文本 UI 更新菜单](img/B22104_10_11.jpg)'
- en: Figure 10.11 – Text UI update menu
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.11 – 文本 UI 更新菜单
- en: 'Now that we’ve addressed the fundamental needs of being able to provide updates
    to our appliances, we can move on to our next crucial end-user function: appliance
    resets.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经解决了为设备提供更新的基本需求，接下来我们可以讨论另一个关键的最终用户功能：设备重置。
- en: Factory reset controls
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 恢复出厂设置控制
- en: Every good appliance should have a way of resetting itself back to its factory-new
    persona. Creating this experience for the end-users will also make it much simpler
    for them to reprovision an appliance onto a different network or location within
    their organization, by removing any stored application data or previous configuration.
    This type of functionality also gives the customers peace of mind that their possibly
    sensitive data has been erased if they are shipping a unit back to your company.
    The next screenshots will show examples of what this could look like on a text
    UI and webpage.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 每个好的设备都应有一种将其恢复到出厂新状态的方法。为最终用户创建这个体验，还可以简化他们将设备重新配置到公司不同网络或位置的过程，通过删除任何存储的应用数据或以前的配置。这种功能还可以让客户放心，如果他们将设备寄回公司，可能敏感的数据已经被擦除。接下来的截图将展示这在文本
    UI 和网页上的示例。
- en: Let’s start with an example web UI reset function page. This page would present
    a two-step process that ensures they really know that the machine will go back
    to a brand-new state (all data and configuration erased). To achieve this state,
    they would first have to check the checkbox in the interface and then press the
    **RESET** button.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从一个网页 UI 重置功能页面开始。这个页面将呈现一个两步流程，确保他们确实知道机器将恢复到全新状态（所有数据和配置已被擦除）。为了实现这一状态，他们首先需要在界面中勾选复选框，然后按下**重置**按钮。
- en: Important note
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: I would also recommend having a pop-up window asking them to confirm that yet
    again if you really want to be user-friendly.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 我还建议弹出窗口询问他们是否再次确认是否真的想恢复出厂设置，如果你想做得更人性化的话。
- en: '![Figure 10.12 – Webpage factory reset example](img/B22104_10_12.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.12 – 网页恢复出厂设置示例](img/B22104_10_12.jpg)'
- en: Figure 10.12 – Webpage factory reset example
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.12 – 网页恢复出厂设置示例
- en: And here’s an example reset in a text UI. The end-user is presented with a prompt
    to confirm that they really want to reset the appliance back to its factory-new
    configuration and erase all data. Just like with the web example shown previously,
    they always have the ability to simply cancel the operation.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个文本 UI 中的恢复示例。最终用户会看到一个提示，确认他们是否真的要将设备恢复到出厂新配置并擦除所有数据。就像之前展示的网页示例一样，他们始终可以选择取消操作。
- en: '![Figure 10.13 – Example factory reset in text UI](img/B22104_10_13.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.13 – 文本 UI 中的示例恢复出厂设置](img/B22104_10_13.jpg)'
- en: Figure 10.13 – Example factory reset in text UI
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.13 – 文本 UI 中的示例恢复出厂设置
- en: I trust that these simulations of functions needed in your future UI have been
    insightful. Yours, of course, will obviously look far more refined and be well
    in line with your company’s branding guidelines for your products. By establishing
    a secure UI/end-user environment, you’ve ensured another factor of security for
    your solution – tamper-proofing. Let’s now move on to our end-of-chapter summary.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 我相信这些针对您未来UI所需功能的模拟已经为您提供了有价值的见解。当然，您的UI将显得更加精致，并与贵公司产品的品牌指南保持一致。通过建立一个安全的UI/终端用户环境，您为您的解决方案确保了另一个安全因素——防篡改性。现在，让我们进入章节总结部分。
- en: Summary
  id: totrans-152
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: Thanks again for driving onward on this journey with me. In this chapter, we’ve
    reviewed why locking down our appliances is vital. We have recapped some hardware
    and storage security options to consider. Best of all, we’ve identified key ways
    of ensuring a great user experience while maintaining security by obscuring the
    operating system access away from the end-user.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 再次感谢你与我一同继续这段旅程。在本章中，我们回顾了为什么锁定我们的设备至关重要。我们总结了一些需要考虑的硬件和存储安全选项。最重要的是，我们已经确定了确保良好用户体验的关键方法，同时通过将操作系统的访问隐藏起来，保持安全性。
- en: In our next chapter, we’ll take a deep dive into all the available informational
    resources that can help you and your team stay ahead of the threat landscape.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将深入探讨所有可用的信息资源，帮助你和你的团队保持在威胁环境的前沿。
- en: 'Part 3: The Build Chain, Appliance Lifecycle, and Continuous Improvement'
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第三部分：构建链、设备生命周期与持续改进
- en: In this part, we’ll review additional hardening processes for your appliances
    and explore how to apply some crucial government security standards to systems
    and how best to capture information from all avenues to continuously improve your
    appliances throughout their lifecycle.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们将回顾您的设备的额外加固过程，探讨如何将一些关键的政府安全标准应用于系统，以及如何从各个方面收集信息，以便在设备生命周期内持续改进。
- en: 'This part has the following chapters:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分包括以下章节：
- en: '[*Chapter 11*](B22104_11.xhtml#_idTextAnchor339), *Knowing the Threat Landscape
    – Staying Informed*'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第11章*](B22104_11.xhtml#_idTextAnchor339)，*了解威胁环境——保持信息更新*'
- en: '[*Chapter 12*](B22104_12.xhtml#_idTextAnchor364), *Are My Devices’ Communications
    and Interactions Secure?*'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第12章*](B22104_12.xhtml#_idTextAnchor364)，*我的设备通信和交互安全吗？*'
- en: '[*Chapter 13*](B22104_13.xhtml#_idTextAnchor400), *Applying Government Security
    Standards – System Hardening*'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第13章*](B22104_13.xhtml#_idTextAnchor400)，*应用政府安全标准——系统加固*'
- en: '[*Chapter 14*](B22104_14.xhtml#_idTextAnchor430), *Customer and Community Feedback
    Loops*'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第14章*](B22104_14.xhtml#_idTextAnchor430)，*客户和社区反馈循环*'
