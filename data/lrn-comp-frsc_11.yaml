- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Networking Basics
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络基础
- en: Very rarely in your career will you have to investigate a single computer that
    has not connected to a network. When I say “computer,” this includes mobile devices.
    Desktops, laptops, and mobile devices are designed to share information through
    a network we refer to as the “Internet.” There are legitimate uses for such devices
    as well as illegitimate uses. For example, users of these devices have been known
    to record audio and video of themselves committing criminal acts. These same users
    will also use the Internet to research activities they plan on executing in the
    future; these activities will include criminal acts.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的职业生涯中，很少会遇到需要调查一台没有连接到网络的计算机。当我说“计算机”时，这包括了移动设备。台式机、笔记本电脑和移动设备都设计用来通过我们称之为“互联网”的网络共享信息。这样的设备有合法的用途，也有非法的用途。例如，使用这些设备的用户已知会录制自己实施犯罪行为的音频和视频。这些用户还会利用互联网研究他们未来计划执行的活动；这些活动包括犯罪行为。
- en: 'There may also come a time when you are called to investigate a crime where
    a device has been the target of a crime: a server may have been hacked, a user’s
    mobile device may have been compromised, or a user’s online storage may have been
    compromised. These acts require you to understand how devices communicate on the
    network. This chapter will discuss some of the essential information you need
    to understand about networks, from theoretical concepts right through to network
    topology, addressing, and some basic protocols, to increase your networking knowledge.
    I recommend that you study for the CompTIA Network+ exam and the Security+ exam.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 也可能会有某个时候，你被要求调查一起犯罪案件，设备成为犯罪目标：服务器可能被黑客攻击，用户的移动设备可能被入侵，或者用户的在线存储可能遭到泄露。这些行为要求你了解设备如何在网络上进行通信。本章将讨论一些你需要了解的关于网络的基本信息，从理论概念到网络拓扑、地址分配以及一些基本协议，以增加你对网络的了解。我建议你准备
    CompTIA Network+ 考试和 Security+ 考试。
- en: 'We will cover the following topics in this chapter:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: The OSI and DOD models
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OSI 和 DOD 模型
- en: Network hardware
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络硬件
- en: Common ports and protocols
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 常见的端口和协议
- en: A network is built on a set of standards and models. If the clients on the network
    do not adhere to a set standard, there will be a lack of communication. This ensures
    that all clients on the network can communicate with each other.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 网络是建立在一套标准和模型之上的。如果网络中的客户端不遵守某个标准，就会缺乏通信。这样可以确保网络中的所有客户端都能互相通信。
- en: The primary reference model used for the configuration of networks is the **Open
    Source Interconnection** (**OSI**) model. Developers use the OSI model to break
    communication into different layers; each layer has a specific role to play in
    how data is transmitted and received. (If you wish to read about the OSI standard
    in much greater detail, you can go to [https://www.iso.org/standard/20269.html](https://www.iso.org/standard/20269.html).)
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 配置网络的主要参考模型是**开放系统互联**（**OSI**）模型。开发人员使用 OSI 模型将通信拆分为不同的层，每一层在数据传输和接收中都有特定的角色。（如果你希望更详细地了解
    OSI 标准，可以访问 [https://www.iso.org/standard/20269.html](https://www.iso.org/standard/20269.html)。）
- en: The Open Source Interconnection (OSI) model
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开放系统互联（OSI）模型
- en: 'This reference model is just a reference for developers to utilize while they
    create the protocols and devices that users will use to connect to the network.
    This layered model has some advantages, such as these:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这个参考模型只是开发人员在创建用户连接到网络的协议和设备时使用的参考。这个分层模型有一些优点，比如：
- en: The communication process comprises components that allow for easier development
    and troubleshooting
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通信过程包括允许更容易开发和故障排除的组件
- en: By following standards, different types of equipment and software can communicate
    with each other
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过遵循标准，不同类型的设备和软件可以相互通信
- en: A change in one layer does not affect other layers
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一层的变化不会影响其他层
- en: The standardization of the components allows multiple organizations to develop
    and deploy components
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组件的标准化允许多个组织开发和部署组件
- en: 'By using the OSI model, you can have hosts from Microsoft, Apple, UNIX, and
    Linux connected and communicating to the same network. As shown in *Figure 11.1*,
    you can see that the OSI model is made up of seven different layers. The layers
    are as follows:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用 OSI 模型，你可以让来自 Microsoft、Apple、UNIX 和 Linux 的主机连接并相互通信到同一个网络。如*图 11.1*所示，你可以看到
    OSI 模型由七个不同的层组成。各层如下：
- en: '![Graphical user interface, text, application, chat or text message  Description
    automatically generated](img/B18329_11_01.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![图形用户界面、文本、应用程序、聊天或文本消息 描述自动生成](img/B18329_11_01.png)'
- en: 'Figure 11.1: OSI model'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.1：OSI模型
- en: You can use a mnemonic to remember the order from layer 1 to layer 7, such as
    “Please do not throw sausage pizza away.” From layer 7 to layer 1, use the mnemonic
    “All people seem to need data processing.”
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用助记符来记住从第一层到第七层的顺序，例如“Please do not throw sausage pizza away（请不要扔掉香肠披萨）。”从第七层到第一层，可以使用助记符“All
    people seem to need data processing（所有人似乎都需要数据处理）。”
- en: '![Table  Description automatically generated](img/B18329_11_02.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![表格 描述自动生成](img/B18329_11_02.png)'
- en: 'Figure 11.2: OSI model – layer functions'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.2：OSI模型 – 各层功能
- en: Physical (Layer 1)
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 物理层（第一层）
- en: The physical layer (Layer 1) is responsible for creating the path between the
    different hosts on the network. This can be the physical topology for the transmission
    of the data. The physical topology consists of an Ethernet network, where Ethernet
    cables are connected to the hosts and network devices; an example of data transmission
    could be a Wi-Fi network where data is transmitted via radio signal and not a
    physical medium. This layer takes responsibility for transmitting data and receiving
    data. Also controlled at this layer are the specifications for the physical medium
    and the connections used between the host and the physical/transmission medium.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 物理层（第一层）负责在网络上不同主机之间创建路径。这可以是用于数据传输的物理拓扑。物理拓扑包括以太网网络，其中以太网电缆连接到主机和网络设备；数据传输的一个例子是Wi-Fi网络，其中数据通过无线电信号而非物理介质传输。该层负责传输数据和接收数据。此层还控制物理介质的规格以及主机与物理/传输介质之间使用的连接。
- en: 'Some of the devices that you may encounter at this layer include:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在此层级，你可能会遇到的一些设备包括：
- en: Repeaters – electronic devices that receive and re-transmit data
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中继器 – 接收并重新传输数据的电子设备
- en: Hubs – networking devices used to connect multiple hosts and network devices
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集线器 – 用于连接多个主机和网络设备的网络设备
- en: Modems – networking devices used to encode and decode signals containing network
    data
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调制解调器 – 用于编码和解码包含网络数据的信号的网络设备
- en: Data link (Layer 2)
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据链路层（第二层）
- en: 'The data link layer (Layer 2) is responsible for data transfer. It provides
    for flow control, error notification, and network topology requirements between
    hosts and network devices connected to the same logical segment of the network.
    In addition, this layer is responsible for delivering data to the correct destination.
    This is done by using a physical address of the network interface device, which
    is also known as the MAC (Media Access Control) address. The data link layer contains
    two sub-layers:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 数据链路层（第二层）负责数据传输。它提供流量控制、错误通知以及连接到同一逻辑段的主机和网络设备之间的网络拓扑要求。此外，该层还负责将数据传递到正确的目的地。通过使用网络接口设备的物理地址（即MAC地址，媒体访问控制地址）来完成这一任务。数据链路层包含两个子层：
- en: Logical Link Control (LLC) – responsible for identifying network-layer protocols
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑链路控制（LLC）– 负责识别网络层协议
- en: Media Access Control (MAC) – responsible for the placement of the packets and
    physical addressing
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 媒体访问控制（MAC）– 负责数据包的定位和物理地址
- en: At this layer, the data is formatted into frames.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在此层，数据被格式化成帧。
- en: 'Some of the devices you may encounter at this layer include:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在此层级，你可能会遇到的一些设备包括：
- en: Network adapters – allow host(s) to connect to the network medium
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络适配器 – 允许主机连接到网络介质
- en: Bridge – a networking device used to connect two network segments
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 桥接器 – 用于连接两个网络段的网络设备
- en: Wireless access point – a networking device that is used to create a bridge
    between a wired and wireless network
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线接入点 – 用于创建有线网络和无线网络之间桥接的网络设备
- en: Network (Layer 3)
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络层（第三层）
- en: 'The network layer (Layer 3) is responsible for the logical addressing of the
    hosts and network devices, determining the best route for data transmission, and
    mapping the locations of all the devices connected to the network. The logical
    addressing used at this layer will depend on the network. The most common address
    you may be familiar with is the IP address assigned to your local host. There
    are currently two different versions of IP addressing available: IPv4 and IPv6\.
    At this layer, the data is formatted into packets.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 网络层（第3层）负责主机和网络设备的逻辑寻址，确定数据传输的最佳路径，并映射连接到网络的所有设备的位置。该层使用的逻辑寻址将取决于网络。你可能熟悉的最常见地址是分配给本地主机的IP地址。目前有两种不同版本的IP寻址可用：IPv4和IPv6。在此层，数据被格式化为数据包。
- en: 'Some devices you may encounter at this layer include:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 你在这一层可能遇到的一些设备包括：
- en: Routers – a network device responsible for the routing of data based on logical
    addressing (IP address)
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路由器——一种网络设备，负责根据逻辑寻址（IP地址）进行数据路由
- en: Switch – a network device that can forward data based on logical addressing
    (typically, switches are considered to be a Layer 2 device, but some do have the
    functionality to work at the network layer)
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交换机——一种可以根据逻辑寻址（通常，交换机被视为第2层设备，但某些交换机也具有在网络层工作的功能）的网络设备
- en: Transport (Layer 4)
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 传输层（第4层）
- en: The transport layer (Layer 4) is responsible for reliable data delivery, including
    establishing/closing virtual connections such as an HTTP connection between a
    host and a server. Multiplexing data streams are also addressed at this layer.
    The use of port numbers and network applications is a Layer 4 function; an example
    of this is web traffic being directed to port 80(HTTP) while email traffic is
    directed to port 25 (SMTP). At this layer, the data is formatted into segments.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 传输层（第4层）负责可靠的数据传输，包括建立/关闭虚拟连接，如主机和服务器之间的HTTP连接。多路复用数据流也在这一层进行处理。端口号和网络应用程序的使用是第4层的功能；一个例子是，网页流量被引导到端口80（HTTP），而电子邮件流量则被引导到端口25（SMTP）。在此层，数据被格式化为段。
- en: 'Some devices you may encounter at this layer include:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 你在这一层可能遇到的一些设备包括：
- en: Gateway – a network device that is responsible for connecting two networks that
    are using different protocols. The gateway will act as a translator between two
    dissimilar networks.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网关——一种网络设备，负责连接使用不同协议的两个网络。网关将充当两个不同网络之间的翻译器。
- en: Firewall – a networking device that is used to prevent unauthorized access to
    resources on the network.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 防火墙——一种网络设备，用于防止未经授权访问网络上的资源。
- en: Session (Layer 5)
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 会话层（第5层）
- en: 'The session layer (Layer 5) is responsible for creating, maintaining, and closing
    data sessions between hosts using presentation layer protocols. This layer will
    utilize the following modes to coordinate the data streams between hosts/servers
    on the network:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 会话层（第5层）负责创建、维护和关闭使用表示层协议的主机之间的数据会话。此层将利用以下模式协调网络中主机/服务器之间的数据流：
- en: Simplex – data can only be transmitted in one direction
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单工——数据只能单向传输
- en: Half duplex – data can be transmitted in both directions, but only in one direction
    at a time
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 半双工——数据可以双向传输，但一次只能在一个方向上传输
- en: Full duplex – data can be transmitted in both directions at the same time
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全双工——数据可以同时在两个方向上传输
- en: Presentation (Layer 6)
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 表示层（第6层）
- en: The presentation layer (Layer 6) is responsible for presenting data to applications
    and converting data from the format used by the application to the transmission
    format used by the network. This can include encoding schemes such as ASCII (American
    Standard Code for Information Interchange) and Unicode.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 表示层（第6层）负责将数据呈现给应用程序，并将应用程序使用的格式转换为网络传输格式。这可能包括编码方案，如ASCII（美国信息交换标准代码）和Unicode。
- en: Application (Layer 7)
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用层（第7层）
- en: The application layer (Layer 7) provides an interface for software applications
    and hosts on a network. An example of this is the transfer of files between systems.
    This allows applications using different operating systems and file systems to
    communicate and provide services to the user.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 应用层（第7层）为网络上的软件应用程序和主机提供接口。一个例子是系统之间的文件传输。这使得使用不同操作系统和文件系统的应用程序能够进行通信，并为用户提供服务。
- en: Encapsulation
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 封装
- en: As data traverses the different layers of the stack, each layer adds information
    that the corresponding layer at the destination will read. An example of this
    is shown in *Figure 11.3*. The host on the left is sending a request to the host
    on the right. As the data is transmitted and travels down the stack, each layer
    may add a “header” to the data, encapsulating the header and the data added by
    previous layers. When the data reaches the destination host, the data will now
    be de-encapsulated, like peeling the layers of an onion, until it reaches the
    destination. For example, if the request were an HTTP request, the application
    header would be added to the data. At the transport layer, a TCP header will be
    added, the network layer will add an IP header, while the data link layer will
    then create an Ethernet header turning the data into a frame. The frame would
    then be transmitted along the physical layer. At the destination, the process
    will be reversed, each layer opening and reading the information added by the
    corresponding layer.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 随着数据穿越协议栈的不同层次，每一层都会添加信息，目的地的相应层将读取这些信息。一个示例如*图11.3*所示。左侧的主机向右侧的主机发送请求。数据在传输并沿协议栈传递时，每一层可能会向数据添加一个“头部”，将头部和前一层添加的数据封装在一起。当数据到达目标主机时，数据将被解封装，就像剥洋葱一样，直到它到达目的地。例如，如果请求是HTTP请求，则会向数据添加应用层头部。在传输层，TCP头部会被添加，网络层会添加IP头部，而数据链路层则会创建以太网头部，将数据转换为帧。帧接着会沿物理层传输。在目的地，过程会被反转，每一层都会打开并读取相应层添加的信息。
- en: '![A picture containing table  Description automatically generated](img/B18329_11_03.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![包含表格的图片，描述自动生成](img/B18329_11_03.png)'
- en: 'Figure 11.3: Encapsulation'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.3：封装
- en: TCP/IP
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: TCP/IP
- en: 'While the OSI model is theoretical, TCP/IP is a practical implementation of
    a set of protocols that dominates the current networking environment. TCP/IP was
    created by the **United States Department of Defense** (**DoD**) with the intention
    of creating a protocol that would ensure the integrity of communications in the
    event of a catastrophe. Therefore, the TCP/IP is also referred to as the DoD model
    and is made up of the following four layers:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然OSI模型是理论性的，但TCP/IP是当前网络环境中主导的一套实际协议。TCP/IP是由**美国国防部**（**DoD**）创建的，目的是为了确保在灾难发生时通讯的完整性。因此，TCP/IP也被称为DoD模型，由以下四个层次组成：
- en: Application
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用
- en: Transport
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传输
- en: Internet
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 互联网
- en: Link/network access
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 链路/网络接入
- en: It can be mapped to the different OSI model layers as shown in *Figure 11.4*.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 它可以映射到不同的OSI模型层，如*图11.4*所示。
- en: '![Diagram  Description automatically generated](img/B18329_11_04.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![图示，描述自动生成](img/B18329_11_04.png)'
- en: 'Figure 11.4: The TCP/IP model compared to the OSI model'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.4：TCP/IP模型与OSI模型的对比
- en: The link/network access layer corresponds with the OSI model’s physical and
    data link layers. This layer defines how the networking device will connect to
    the network.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 链路/网络接入层对应于OSI模型中的物理层和数据链路层。此层定义了网络设备如何连接到网络。
- en: The Internet layer corresponds with the network layer of the OSI model. This
    layer is responsible for the logical addressing and routing of the data.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网层对应于OSI模型中的网络层。此层负责数据的逻辑寻址和路由。
- en: The transport layer corresponds with the transport layer of the OSI model. This
    layer is responsible for establishing connections between the source and destination.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 传输层对应于OSI模型中的传输层。此层负责在源和目的地之间建立连接。
- en: The application layer corresponds with the OSI model’s session, presentation,
    and application layers. This layer is responsible for administrating the data
    flow of the different applications on the system. Some of the services you may
    encounter include FTP and HTTP.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 应用层对应于OSI模型中的会话层、表示层和应用层。此层负责管理系统中不同应用的数据流。一些你可能遇到的服务包括FTP和HTTP。
- en: TCP/IP is a suite of protocols used by the host and network devices when connected.
    The main protocols of TCP/IP include TCP (Transmission Control Protocol), IP (Internet
    Protocol), and UDP (User Datagram Protocol).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: TCP/IP是一套用于主机和网络设备连接时使用的协议。TCP/IP的主要协议包括TCP（传输控制协议）、IP（互联网协议）和UDP（用户数据报协议）。
- en: TCP is a connection-orientated protocol, which means a connection between the
    host and server must be established before data can be sent/received. This is
    achieved through the use of the three-way handshake. When a host wants to communicate
    with the server, they will initiate the connection by sending an SYN packet to
    the server. If the server is available, it will respond with an SYN/ACK packet
    back to the host. The host will then respond with an ACK packet, and the connection
    can be established. This process is shown in *Figure 11.5*.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: TCP 是一种面向连接的协议，这意味着在发送/接收数据之前，主机和服务器之间必须建立连接。这是通过三次握手来实现的。当主机想要与服务器通信时，它们会通过发送一个
    SYN 数据包到服务器来发起连接。如果服务器可用，它会用一个 SYN/ACK 数据包响应主机。主机随后会用一个 ACK 数据包回应，连接就可以建立。这个过程如*图
    11.5*所示。
- en: '![Diagram  Description automatically generated with medium confidence](img/B18329_11_05.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![图示  描述自动生成，具有中等信心](img/B18329_11_05.png)'
- en: 'Figure 11.5: TCP three-way handshake'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.5：TCP 三次握手
- en: TCP is a transport layer protocol and is used for the accurate delivery of data.
    Each packet must be accounted for as data is sent from the source to the destination.
    If a packet gets lost in transmission, the destination will notify the source
    that the packet is missing and needs to be resent. As a result, TCP communication
    may experience delays and is not suitable as a communication channel where speed
    overrides the need for accuracy.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: TCP 是一种传输层协议，用于确保数据的准确传输。每个数据包在从源到目的地的传输过程中都必须得到确认。如果数据包在传输过程中丢失，目的地将通知源端该数据包丢失，需要重新发送。因此，TCP
    通信可能会经历延迟，并且不适合速度优先于准确性的通信通道。
- en: UDP is a connectionless oriented protocol. Whereas TCP requires a three-way
    handshake before the communication channel can be initiated, UDP does not. Therefore,
    when using UDP as a communication channel, the source will never know if there
    is packet loss because the destination does not have the means to track which
    data packets are being sent. An example of this can be video streaming; if there
    is packet loss, the user may never notice because it does not affect the quality
    of the video.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: UDP 是一种无连接的协议。TCP 需要在通信通道建立之前进行三次握手，而 UDP 不需要。因此，当使用 UDP 作为通信通道时，源端永远不会知道是否发生了数据包丢失，因为目的端没有追踪哪些数据包被发送的手段。一个例子是视频流媒体；如果发生数据包丢失，用户可能永远不会注意到，因为这不会影响视频的质量。
- en: IPv4
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: IPv4
- en: IP is responsible for the transmission and routing of data across a network.
    Currently, **IP version 4** (**IPv4**) is the predominant version of the protocol,
    but IPv6 is slowly coming out and being used by more and more organizations. IP
    is also responsible for the logical addressing used by hosts when connected to
    the network. IPv4 uses a 32-bit addressing scheme consisting of 4 octets separated
    by a period (`.`).
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: IP 负责数据在网络中的传输和路由。目前，**IP 第四版**（**IPv4**）是该协议的主流版本，但 IPv6 正在逐步推出并被越来越多的组织使用。IP
    还负责连接到网络时，主机使用的逻辑地址。IPv4 使用一个 32 位的地址方案，由 4 个字节组成，每个字节之间用点号（`.`）分隔。
- en: For example, `8.8.8.8` is a valid IPv4 address. IP addresses are assigned to
    a specific class. The class of the IP address will dictate how many hosts you
    can have on the network.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，`8.8.8.8` 是一个有效的 IPv4 地址。IP 地址会被分配到特定的类别。IP 地址的类别决定了网络上可以容纳多少个主机。
- en: '| **Class** | **Address Range** | **Max Number of Hosts** | **Private IP Range**
    |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| **类别** | **地址范围** | **最大主机数量** | **私有 IP 范围** |'
- en: '| Class A | `1.0.0.1` - `126.255.255.254` | 16,777,214 Hosts | `10.0.0.0` –
    `10.255.255.255` |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| A 类 | `1.0.0.1` - `126.255.255.254` | 16,777,214 主机 | `10.0.0.0` – `10.255.255.255`
    |'
- en: '| Class B | `128.1.0.1` - `191.255.255.254` | 65,532 Hosts | `176.16.0.0` –
    `172.31.255.255` |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| B 类 | `128.1.0.1` - `191.255.255.254` | 65,532 主机 | `176.16.0.0` – `172.31.255.255`
    |'
- en: '| Class C | `192.0.1.1` - `223.255.254.254` | 256 Hosts | `192.168.0.0` – `192.168.255.255`
    |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| C 类 | `192.0.1.1` - `223.255.254.254` | 256 主机 | `192.168.0.0` – `192.168.255.255`
    |'
- en: '| Class D | `224.0.0.0` - `239.255.255.255` | Reserved for Multicast |  |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| D 类 | `224.0.0.0` - `239.255.255.255` | 保留用于多播 |  |'
- en: '| Class E | `240.0.0.0` - `254.255.255.254` | Reserved for Research |  |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| E 类 | `240.0.0.0` - `254.255.255.254` | 保留用于研究 |  |'
- en: 'Table 11.1: IPv4 IP address classes'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 表 11.1：IPv4 IP 地址类别
- en: A Class A network will allocate the first octet to networks, with the remaining
    three octets being used for hosts on the network (`NNN.HHH.HHH.HHH`). A Class
    B network will reserve the first two octets for networks and the remaining two
    octets for hosts (`NNN.NNN.HHH.HHH`). A Class C network will have the first three
    octets for networks and the last octet for hosts (`NNN.NNN.NNN.HHH`). If you are
    running a Class C network, you can only have 256 hosts on the network at one time.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: A类网络将分配第一个八位字节给网络，其余三个八位字节用于网络上的主机（`NNN.HHH.HHH.HHH`）。B类网络将保留前两个八位字节用于网络，剩下两个八位字节用于主机（`NNN.NNN.HHH.HHH`）。C类网络将前面三个八位字节分配给网络，最后一个八位字节分配给主机（`NNN.NNN.NNN.HHH`）。如果你运行的是C类网络，网络上最多只能有256个主机。
- en: Each class also has a set of private IP addresses that can be used in an internal
    network but will not be able to send traffic through an external router. This
    range of IP addresses is to be used in a closed local network. You cannot communicate
    outside the local network using an IP address in these ranges. You will typically
    find that the local networks using this range of IP addresses are behind a router
    and that they are using **Network Address Translation** (**NAT**).
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 每个类别也有一组可以在内部网络中使用的私有IP地址，但不能通过外部路由器发送流量。这个IP地址范围用于封闭的本地网络。使用这些范围内的IP地址无法与本地网络以外的设备通信。通常，使用此IP地址范围的本地网络都位于路由器后面，并且正在使用**网络地址转换**（**NAT**）。
- en: NAT maps a private IP address(es) to a public IP address. The technique is used
    to conserve address space and avoid IPv4 address exhaustion. NAT allows the router
    to convert traffic from the hosts on the private network and then relays the traffic
    using a public IP address. When the traffic is returned, the router will then
    send the traffic back to the host. The only IP address that is exposed is the
    public IP address.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: NAT将私有IP地址映射到公共IP地址。这项技术用于节省地址空间，避免IPv4地址耗尽。NAT允许路由器转换来自私有网络主机的流量，然后使用公共IP地址转发流量。当流量返回时，路由器将流量发送回主机。唯一暴露的IP地址是公共IP地址。
- en: One public IP address using a NAT gateway can be used for an entire private
    network, as shown in *Figure 11.6*.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 使用NAT网关的一个公共IP地址可以为整个私有网络提供服务，如*图11.6*所示。
- en: '![A picture containing diagram  Description automatically generated](img/B18329_11_06.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![自动生成的描述包含图表的图片](img/B18329_11_06.png)'
- en: 'Figure 11.6: Example of NAT'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.6：NAT示例
- en: Port numbers
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 端口号
- en: A port is a 16-bit number attached to an IP address in computer networking.
    A port number is specified for each service (or protocol). The port number completes
    the data stream’s destination or origination network address. Some port numbers
    are reserved for specific services. Port numbers lower than 1024 are commonly
    referred to as “well-known” port numbers. Port numbers greater than 1024 are called
    ephemeral ports. The **Transmission Control Protocol** (**TCP**) and **User Datagram
    Protocol** (**UDP**) use port numbers.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 端口是附加到IP地址上的16位数字，在计算机网络中使用。每个服务（或协议）都会指定一个端口号。端口号完成数据流的目的地或源网络地址。有些端口号被保留用于特定服务。低于1024的端口号通常称为“知名”端口号。大于1024的端口号称为临时端口。**传输控制协议**（**TCP**）和**用户数据报协议**（**UDP**）使用端口号。
- en: IPv6
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: IPv6
- en: IPv6 was created to address the lack of available IP addresses when using IPv4\.
    When IPv4 was developed, the designers could not imagine the interconnected world
    we now occupy in the 21st century. While IPv4 can provide more than 4 billion
    IP addresses, eventually, that will not be enough due to the increasing demand
    and availability of network devices. IPv6 is a 128-bit addressing scheme and can
    provide each person on the planet with approximately 4,000 logical addresses.
    The designers of IPv6 anticipated the world of wireless connectivity between mobile
    devices and the **Internet of Things** (**IoT**). IPv6 is slowly being deployed
    to devices connected to the network but is still not the primary addressing scheme
    in the consumer world. IPv6 is based on the hexadecimal numbering system and consists
    of eight groups of four hexadecimal characters; a colon separates each group.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: IPv6的创建是为了应对使用IPv4时可用IP地址不足的问题。当IPv4被开发时，设计者无法预见到我们现在所处的互联世界。虽然IPv4可以提供超过40亿个IP地址，但由于网络设备的需求和可用性日益增加，最终这些地址将不够用。IPv6是一个128位的寻址方案，可以为地球上的每个人提供大约4000个逻辑地址。IPv6的设计者预见到了移动设备与**物联网**（**IoT**）之间的无线连接世界。IPv6正在逐渐部署到连接网络的设备上，但在消费者世界中，它仍然不是主要的寻址方案。IPv6基于十六进制编号系统，包含八组四个十六进制字符；每组之间用冒号分隔。
- en: Each group consists of four digits, with each digit representing four bits.
    Each segment can have a hexadecimal value of zero through FFFF. An example of
    an IPv6 address is shown in *Figure 11.7*.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 每组由四个数字组成，每个数字代表四位二进制位。每个段可以有从零到FFFF的十六进制值。一个IPv6地址的示例如*图11.7*所示。
- en: '![](img/B18329_11_07.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18329_11_07.png)'
- en: 'Figure 11.7: IPv6 address'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.7：IPv6地址
- en: An IPv6 address is divided into two 64-bit segments. The first segment is the
    network component, and the second segment is the node component, as shown in *Figure
    11.8*.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: IPv6地址被分为两个64位段。第一个段是网络部分，第二个段是节点部分，如*图11.8*所示。
- en: '![](img/B18329_11_08.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18329_11_08.png)'
- en: 'Figure 11.8: IPv6 address separated'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.8：分隔的IPv6地址
- en: The network component of the IPv6 address is used for the routing of data on
    the network. The node component identifies the network interface (node) of the
    host and is derived from the network adapter’s physical address (MAC address)
    that is connected to the network.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: IPv6地址的网络部分用于数据的路由。节点部分标识主机的网络接口（节点），并来自于连接到网络的网络适配器的物理地址（MAC地址）。
- en: The network component of the IPv6 address is separated into a 48-bit Global
    Unicast Address and a 16-bit Subnet ID, as shown in *Figure 11.9*.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: IPv6地址的网络部分被分为48位的全局单播地址和16位的子网ID，如*图11.9*所示。
- en: '![](img/B18329_11_09.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18329_11_09.png)'
- en: 'Figure 11.9: IPv6'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.9：IPv6
- en: 'There are three different classes of IPv6 addresses:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: IPv6地址有三种不同的类别：
- en: Global Unicast Address – this address is routable on the Internet (starts with
    2001)
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全局单播地址——该地址可以在互联网上路由（以2001开头）
- en: Unique Local – used for internal networks, not routable on the Internet
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 唯一本地——用于内部网络，不可在互联网上路由
- en: Link Local – not routable locally or on the Internet
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 链路本地——既不可在本地路由，也不可在互联网上路由
- en: 'IPv6 uses the following types of addressing schemes:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: IPv6使用以下类型的寻址方案：
- en: Unique Local Addresses – these addresses are used for non-routing purposes.
    They are nearly globally unique, so it’s unlikely you’ll ever have one of them
    overlap with any other address. In addition, they designed unique local addresses
    to replace site-local addresses; this allows communication throughout a site while
    being routable to multiple local networks. The difference between link local and
    unique local is that you can route unique local within your organization or company.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 唯一本地地址——这些地址用于非路由目的。它们几乎是全球唯一的，因此不太可能与其他任何地址重叠。此外，设计唯一本地地址是为了替代站点本地地址；这允许在整个站点内通信，同时可以路由到多个本地网络。链路本地地址和唯一本地地址的区别在于，唯一本地地址可以在你的组织或公司内部进行路由。
- en: Multicast – packets addressed to a multicast address are delivered to all interfaces
    identified by the multicast address. Sometimes people call them one-to-many addresses.
    Multicast addresses in IPv6 always start with FF.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多播——传递到多播地址的数据包会传递到由该多播地址标识的所有接口。有时人们称其为一对多地址。IPv6中的多播地址始终以FF开头。
- en: Anycast – like multicast addresses, an anycast address identifies multiple interfaces.
    An anycast packet is delivered to only one address.
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任播——类似于多播地址，任播地址标识多个接口。任播数据包只会传递到一个地址。
- en: IPv6 address can also be shortened. In IPv6, a group can consist of all zeros.
    You do not need to write all the zeros in the address in such a case. Instead,
    you can write one zero, which translates to four zeros in the group (as shown
    in *Figure 11.10*).
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: IPv6地址也可以缩短。在IPv6中，一个组可以由全零组成。在这种情况下，地址中不需要写出所有的零，而是可以写一个零，这个零表示该组中的四个零（如*图11.10*所示）。
- en: '![](img/B18329_11_10.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18329_11_10.png)'
- en: 'Figure 11.10: IPv6 shorthand example'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.10：IPv6简写示例
- en: The following are some protocols you may come across during your investigations.
    The protocols are sorted by layer in the TCP/IP suite.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些你在调查过程中可能遇到的协议。这些协议按TCP/IP协议栈的层次进行排序。
- en: Application layer protocols
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 应用层协议
- en: '**File Transfer Protocol (FTP) (TCP ports 20 and 21)**'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '**文件传输协议（FTP）（TCP端口20和21）**'
- en: This protocol allows the user to send and receive files across an IP-based network.
    FTP is also a program. When FTP is used as a protocol, applications are used to
    initiate the FTP process; when used as a program, the user initiates the FTP process.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议允许用户通过基于IP的网络发送和接收文件。FTP也是一个程序。当FTP作为协议使用时，应用程序用于启动FTP过程；当作为程序使用时，用户启动FTP过程。
- en: '**Secure Shell (SSH) (TCP port 22)**'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**安全外壳协议（SSH）（TCP端口22）**'
- en: This protocol allows the creation of a secure Telnet session between hosts on
    an IP-based network. Once an SSH connection has been made, the user can operate
    and issue commands as if they were physically present at the remote host. SSH
    uses encryption to create a secure tunnel between the source and destination hosts.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议允许在基于IP的网络中创建安全的Telnet会话。建立SSH连接后，用户可以像在远程主机前操作一样执行命令。SSH通过加密技术在源主机和目标主机之间创建一个安全的隧道。
- en: '**Telnet (TCP port 23)**'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**Telnet（TCP端口23）**'
- en: This protocol connects to a remote host, that is, a terminal. The user can then
    operate and issue commands as if they were physically present at the remote host.
    As a result, a Telnet connection is not secure and is vulnerable to a man-in-the-middle
    attack.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议连接到远程主机，即终端。用户可以像在远程主机前操作一样执行命令。由于Telnet连接不安全，容易受到中间人攻击。
- en: '**Simple Mail Transfer Protocol (SMTP) (TCP port 25)**'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**简单邮件传输协议（SMTP）（TCP端口25）**'
- en: This protocol is a communication protocol for e-mail transmission. Mail servers
    use SMTP to send and receive mail.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议是用于电子邮件传输的通信协议。邮件服务器使用SMTP发送和接收邮件。
- en: '**Domain Name Service (DNS) (TCP port 53, UDP port 53)**'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**域名服务（DNS）（TCP端口53，UDP端口53）**'
- en: This protocol is used to resolve a hostname to an IP address. For example, it
    is much easier for a user to type [https://www.packtpub.com](https://www.packtpub.com)
    than an IP address such as `104.22.1.175`.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议用于将主机名解析为IP地址。例如，用户输入[https://www.packtpub.com](https://www.packtpub.com)比输入类似`104.22.1.175`这样的IP地址要容易得多。
- en: '**Dynamic Host Configuration Protocol (DHCP) (UDP port 67)**'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '**动态主机配置协议（DHCP）（UDP端口67）**'
- en: This protocol automatically assigns an IP address when a host joins the network.
    This allows for the automatic administration of the network as hosts enter and
    leave the network. Some of the information that the DHCP server will provide includes
    the IP address, subnet mask, default gateway, and the IP address for the DNS server.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议在主机加入网络时自动分配IP地址。这允许网络的自动管理，当主机进入和离开网络时，相关信息会自动更新。DHCP服务器提供的信息包括IP地址、子网掩码、默认网关和DNS服务器的IP地址。
- en: '**Hypertext Transfer Protocol (HTTP) (TCP port 80)**'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**超文本传输协议（HTTP）（TCP端口80）**'
- en: This protocol is used for communication between a browser and a Web server.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议用于浏览器与Web服务器之间的通信。
- en: '**Hypertext Transfer Protocol Secure (HTTPS) (TCP port 443)**'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**安全超文本传输协议（HTTPS）（TCP端口443）**'
- en: This protocol is a secure version of HTTP. It creates a secure communication
    channel between the browser and server.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议是HTTP的安全版本。它在浏览器和服务器之间创建了一个安全的通信通道。
- en: '**Remote Desktop Protocol (RDP) (TCP port 3389)**'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**远程桌面协议（RDP）（TCP端口3389）**'
- en: This protocol is used to create a secure connection to another host. It is similar
    to Telnet and SSH, but the user has access to a GUI interface instead of the command
    line. This is a proprietary Microsoft protocol.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 该协议用于与另一个主机建立安全连接。它类似于Telnet和SSH，但用户可以访问图形用户界面，而不是命令行。这是一个专有的微软协议。
- en: Transport layer protocols
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 传输层协议
- en: '**Transmission Control Protocol (TCP)**'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '**传输控制协议（TCP）**'
- en: A connection-oriented protocol used for the reliable delivery of data.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 一种面向连接的协议，用于可靠的数据传输。
- en: '**User Datagram Protocol (UDP)**'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**用户数据报协议（UDP）**'
- en: A connectionless-oriented protocol used for the fast delivery of data; it does
    not require the reliable delivery of data.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 一种面向无连接的协议，用于快速传输数据；它不要求数据的可靠传输。
- en: Internet layer protocols
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 互联网层协议
- en: '**Internet Protocol (IP)**'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '**互联网协议（IP）**'
- en: The Internet protocol is the Internet layer of the TCP/IP stack, with the remaining
    Internet layer protocols supporting it. This protocol is responsible for the delivery
    of data packets. This is accomplished solely based on the logical address, also
    known as the IP address. IP is a connectionless-oriented protocol. There are currently
    two versions, IPv6 and IPv4.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网协议是TCP/IP栈中的互联网层，其他互联网层协议对其提供支持。该协议负责数据包的传输。其传输完全基于逻辑地址，也就是IP地址。IP是面向无连接的协议。目前有两个版本，IPv6和IPv4。
- en: '**Internet Control Message Protocol (ICMP)**'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '**互联网控制消息协议（ICMP）**'
- en: 'ICMP is the management protocol and messaging service for IP. ICMP can provide
    information about issues within the network, such as:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: ICMP是IP的管理协议和消息服务。ICMP可以提供有关网络问题的信息，例如：
- en: Destination unreachable – this error is generated when the datagram is unable
    to reach the final destination.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目标不可达——当数据报无法到达最终目的地时，会生成此错误。
- en: Echo request/reply – this is generated with the Ping command. It is used to
    test the network connection.
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回显请求/回显应答——这是通过Ping命令生成的，用于测试网络连接。
- en: Time exceeded (TTL) – when the packet fails to reach its destination within
    the specified number of hops. A hop is when the packet is sent from one router
    to another.
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 超时（TTL）——当数据包未能在指定的跳数内到达目的地时，产生该错误。跳数是指数据包从一台路由器发送到另一台路由器的次数。
- en: Redirect – if the router is able to determine a more efficient route, a redirect
    message will be generated and sent to the host to update its routing table.
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重定向——如果路由器能够确定更高效的路由，将生成重定向消息并发送给主机，以更新其路由表。
- en: Ping is a utility that is used to identify issues with the network. Ping will
    send a packet to the destination and then track how long it takes the destination
    server to respond. In the following example, I used the `ping` command to send
    packets to IP address `104.22.1.175`, and you can see that the server responded,
    which took anywhere between nine and 14 milliseconds.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Ping是一个用于识别网络问题的工具。Ping会向目标发送一个数据包，然后跟踪目标服务器响应所需的时间。在以下示例中，我使用了`ping`命令将数据包发送到IP地址`104.22.1.175`，你可以看到服务器有响应，响应时间在9到14毫秒之间。
- en: '[PRE0]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If the ping command were unsuccessful, there would be a message that the destination
    host was unreachable or that there was no reply in the request timed out. This
    does not mean there are conductivity issues; system administrators have the option
    of blocking ICMP traffic that originates from outside of their local network,
    as shown in the example below.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 如果ping命令不成功，将会显示“目标主机不可达”或“请求超时没有回复”的信息。这并不意味着存在连接问题；系统管理员可以选择阻止来自本地网络之外的ICMP流量，如下面的示例所示。
- en: '[PRE1]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Address Resolution Protocol (ARP)**'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '**地址解析协议（ARP）**'
- en: ARP is used to translate logical addresses to physical addresses. This is accomplished
    when ARP sends a broadcast message to the hosts on the same network segment. The
    broadcast message asks the network interface device if it has a specific IP address.
    If the network interface device is assigned that IP address, then the network
    interface device will reply with the MAC address. ARP is a broadcast protocol
    that will result in all hosts on the network segment being able to see the request
    and replies. ARP requests are not routable, which means the ARP packets will not
    be able to cross router boundaries.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: ARP用于将逻辑地址转换为物理地址。这是通过ARP向同一网络段上的主机发送广播消息来实现的。广播消息会询问网络接口设备是否具有特定的IP地址。如果网络接口设备分配了该IP地址，则它会回复MAC地址。ARP是一种广播协议，所有网络段上的主机都能看到请求和回复。ARP请求是不可路由的，这意味着ARP数据包无法跨越路由器边界。
- en: '**Internet Protocol Security (IPSec)**'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '**互联网协议安全（IPSec）**'
- en: IPSec is a security protocol that enhances security by providing end-to-end
    encryption and packet authentication. VPNs (Virtual Private Networks) utilize
    IPSec when creating their secure communication channels.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: IPSec是一种安全协议，通过提供端到端加密和数据包认证来增强安全性。虚拟私人网络（VPN）在建立安全通信通道时会利用IPSec。
- en: Summary
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概要
- en: In this chapter, we have discussed the fundamentals of a computer network. First,
    you learned about the differences between the OSI model and the TCP/IP (DoD) model.
    The OSI model is only theoretical and does not have a physical implementation.
    Don’t be confused when someone mentions the TCP/IP model when talking about the
    TCP/IP suite of protocols. We also looked at the different types of hardware you
    may find in a networking environment to understand the differences between a hub
    and a router. A router is a much more complex device responsible for sending data
    to the next hop. In contrast, a hub is only used to extend the network segment
    by giving additional hosts a location to connect to the network. A hub does not
    “do” anything; it merely creates an extension of the network.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中，我们讨论了计算机网络的基础知识。首先，你了解了OSI模型和TCP/IP（DoD）模型之间的区别。OSI模型只是理论性的，没有物理实现。不要在有人提到TCP/IP模型时感到困惑，因为那是在谈论TCP/IP协议套件。我们还看了在网络环境中可能找到的不同类型的硬件，以了解集线器和路由器之间的区别。路由器是一个更加复杂的设备，负责将数据发送到下一跳。相比之下，集线器仅用于通过为额外的主机提供连接到网络的位置来扩展网络段。集线器不“做”任何事；它仅仅是网络的扩展。
- en: You should be able to explain the differences between a connection-oriented
    protocol and a connectionless-oriented protocol and in what situations each protocol
    should be used. For example, it would not be good to utilize a connection-oriented
    protocol when the throughput of data is the primary concern. The current IP addressing
    scheme is still being used, but changes are slowly coming and IPv6 will become
    the dominant protocol.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该能够解释面向连接协议和无连接协议之间的区别，以及在什么情况下使用每种协议。例如，当数据吞吐量是主要考虑因素时，使用面向连接的协议可能不合适。目前的IP地址方案仍在使用中，但变化正在缓慢发生，IPv6将成为主流协议。
- en: 'An examiner should now be able to:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，考官应该能够：
- en: Determine the differences between OSI and TCP/IP (DoD) models
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定OSI模型和TCP/IP（DoD）模型之间的区别
- en: Determine which addressing scheme is being utilized on a network
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定网络上正在使用的地址方案
- en: Understand the differences between a public IP address and a private IP address
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解公有IP地址和私有IP地址之间的区别
- en: Understand the differences between a port number and an IP address
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解端口号和IP地址之间的区别
- en: Identify some of the commonly used protocols and ports
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别一些常用的协议和端口
- en: In the next chapter, we will cover report writing. The ability to draft a report
    so that the reader can understand a technical subject while using non-technical
    language is critical. If you cannot explain in writing how you did the exam file,
    it will affect your ability to be a successful investigator.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论报告写作。能够编写报告，使读者在使用非技术性语言的同时理解技术性主题，这一点至关重要。如果你不能书面解释你是如何完成考试文件的，这将影响你成为一名成功调查员的能力。
- en: Questions
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: How many layers are in the OSI model?
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: OSI模型有多少层？
- en: '5'
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '5'
- en: '6'
  id: totrans-175
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '6'
- en: '7'
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '7'
- en: '8'
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '8'
- en: How many layers are in the DoD model?
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: DoD模型中有多少层？
- en: '4'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '4'
- en: '5'
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '5'
- en: '6'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '6'
- en: '7'
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '7'
- en: What is layer 1 of the OSI model?
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: OSI模型的第1层是什么？
- en: Application
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用程序
- en: Session
  id: totrans-185
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 会话
- en: Network
  id: totrans-186
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 网络
- en: Physical
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 物理
- en: Which of the following is a layer 3 device?
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪个是第3层设备？
- en: Hub
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 集线器
- en: Router
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 路由器
- en: Switch
  id: totrans-191
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 交换机
- en: Printer
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印机
- en: How long is an IPv4 address (in bits)?
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IPv4地址有多长（以位为单位）？
- en: '16'
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '16'
- en: '32'
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '32'
- en: '64'
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '64'
- en: '128'
  id: totrans-197
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '128'
- en: How long is an IPv6 address (in bits)?
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IPv6地址有多长（以位为单位）？
- en: '16'
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '16'
- en: '32'
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '32'
- en: '64'
  id: totrans-201
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '64'
- en: '128'
  id: totrans-202
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '128'
- en: What is the following “2001:db8::8a2e:370:7334” an example of?
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: “2001:db8::8a2e:370:7334”是什么的例子？
- en: A MAC address
  id: totrans-204
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: MAC地址
- en: A physical address
  id: totrans-205
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 物理地址
- en: An IPv6 address
  id: totrans-206
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: IPv6地址
- en: An encryption key
  id: totrans-207
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加密密钥
- en: Which of the following is NOT a response for a successful ping command?
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪项不是成功的ping命令的响应？
- en: 64 bytes from `104.22.1.175`
  id: totrans-209
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 64字节来自`104.22.1.175`
- en: ttl=60
  id: totrans-210
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: ttl=60
- en: time=10.270 ms
  id: totrans-211
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: time=10.270 ms
- en: No route to host
  id: totrans-212
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 没有路由到主机
- en: What is the management protocol and messaging service for IP?
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IP的管理协议和消息服务是什么？
- en: ICMP
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: ICMP
- en: DHCP
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: DHCP
- en: TYFMS
  id: totrans-216
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: TYFMS
- en: ARP
  id: totrans-217
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: ARP
- en: What protocol allows the creation of a secure telnet session?
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪种协议允许创建一个安全的telnet会话？
- en: FTP
  id: totrans-219
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: FTP
- en: HTTPS
  id: totrans-220
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: HTTPS
- en: SSH
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: SSH
- en: IFYKYK
  id: totrans-222
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: IFYKYK
- en: Further reading
  id: totrans-223
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'Neil, I. (2018). *Comptia Security+ Certification Guide: Master It security
    essentials and exam topics for Comptia security+ sy0-501 certification*. Packt
    Publishing Ltd.'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: Neil, I. (2018). *CompTIA Security+认证指南：掌握CompTIA Security+ SY0-501认证的IT安全要点和考试主题*。Packt出版公司。
- en: 'Davies, G. (2019). *Networking fundamentals: Develop the networking skills
    required to pass the Microsoft Mta Networking Fundamentals Exam 98-366*. Packt
    Publishing Ltd.'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: Davies, G. (2019). *网络基础：培养通过微软 Mta 网络基础考试 98-366 所需的网络技能*。Packt Publishing
    Ltd.
- en: Join our community on Discord
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入我们在 Discord 的社区
- en: 'Join our community’s Discord space for discussions with the author and other
    readers:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 加入我们社区的 Discord 空间，与作者和其他读者讨论：
- en: '[https://packt.link/CyberSec](https://packt.link/CyberSec)'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/CyberSec](https://packt.link/CyberSec)'
- en: '![](img/QR_Code3852467292877112093.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![](img/QR_Code3852467292877112093.png)'
