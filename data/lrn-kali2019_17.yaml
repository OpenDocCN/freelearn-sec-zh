- en: Performing Website Penetration Testing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行网站渗透测试
- en: This chapter takes us away from the usual network devices that we're accustomed
    to exploiting and instead focuses on checking for vulnerabilities in web applications
    and servers.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 这一章使我们远离我们习惯于利用的常规网络设备，而是专注于检查Web应用程序和服务器中的漏洞。
- en: Being a penetration tester is a pretty cool job as you are being paid to hack
    or break into someone else's network and systems, but legally.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员是一份相当酷的工作，因为你被付钱来侵入或攻破别人的网络和系统，但是合法的。
- en: Being a penetration tester also means developing and expanding your skill set
    to various domains; there will always be situations where you'll be required to
    perform a vulnerability assessment or penetration test on a client's web server.
    This chapter will begin by teaching you how to discover the underlying technologies
    that are being used on a target website and how to discover other websites that
    are hosted on the same server. Furthermore, you will learn how to perform multiple
    exploitations on a target web server by uploading and executing a malicious file
    and leveraging **Local File Inclusion** (**LFI**) on a vulnerable server.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员还意味着开发和扩展你的技能范围到各种领域；总会有情况需要你对客户的Web服务器进行漏洞评估或渗透测试。本章将首先教你如何发现目标网站上正在使用的基础技术，以及如何发现同一服务器上托管的其他网站。此外，你还将学习如何在目标Web服务器上执行多个利用，包括上传和执行恶意文件以及利用**本地文件包含**（**LFI**）对一个有漏洞的服务器进行利用。
- en: 'In this chapter, we will be covering the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Information gathering
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息收集
- en: Cryptography
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密码学
- en: File upload and file inclusion vulnerabilities
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件上传和文件包含漏洞
- en: Exploiting file upload vulnerabilities
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用文件上传漏洞
- en: Exploiting code execution vulnerabilities
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用代码执行漏洞
- en: Exploiting LFI vulnerabilities
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用LFI漏洞
- en: Preventing vulnerabilities
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 防止漏洞
- en: Let's dive in!
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！
- en: Technical requirements
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The following are the technical requirements for this chapter:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的技术要求如下：
- en: '**Kali Linux**: [https://www.kali.org/](https://www.kali.org/)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kali Linux**: [https://www.kali.org/](https://www.kali.org/)'
- en: '**OWASP Broken Web Applications Project**: [https://sourceforge.net/projects/owaspbwa/](https://sourceforge.net/projects/owaspbwa/)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OWASP破碎的Web应用项目**：[https://sourceforge.net/projects/owaspbwa/](https://sourceforge.net/projects/owaspbwa/)'
- en: Information gathering
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 信息收集
- en: 'During the earlier parts of this book, specifically in [Chapter 5](474024a2-84fc-4fb6-b1b7-bd64ce91ef0c.xhtml),
    *Passive Information Gathering*, and [Chapter 6](a7554e9e-076d-45b8-b0fa-3b02ac270e24.xhtml),
    *Active Information Gathering*, we discussed the importance of performing extensive
    reconnaissance on a target, whether it''s a single system, network, or even a
    website. Each penetration test has a set of guidelines and stages. As you may
    recall, the following are the stages of penetration testing:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的早期部分，特别是[第5章](474024a2-84fc-4fb6-b1b7-bd64ce91ef0c.xhtml)中的*被动信息收集*和[第6章](a7554e9e-076d-45b8-b0fa-3b02ac270e24.xhtml)中的*主动信息收集*，我们讨论了对目标进行广泛侦察的重要性，无论是单个系统、网络，甚至是网站。每次渗透测试都有一套指南和阶段。正如你可能记得的那样，渗透测试的阶段包括：
- en: Reconnaissance (information gathering)
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 侦察（信息收集）
- en: Scanning (and enumeration)
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扫描（和枚举）
- en: Exploitation (gaining access)
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 利用（获取访问权限）
- en: Maintaining access
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持访问
- en: Covering tracks
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 覆盖踪迹
- en: Gathering as much information as possible about a target helps us to determine
    whether the target has any security vulnerabilities and whether it's possible
    to exploit them. In the following section, we will begin by learning how to discover
    technologies that are being used on a website.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 尽可能收集有关目标的信息有助于我们确定目标是否存在安全漏洞以及是否可能利用它们。在接下来的部分中，我们将首先学习如何发现网站上正在使用的技术。
- en: Discovering technologies that are being used on a website
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发现网站上正在使用的技术
- en: During the information-gathering phase of a website's penetration testing, it's
    important to determine the underlying technologies running on the actual web server.
    **Netcraft** ([www.netcraft.com](http://www.netcraft.com)) is an internet security
    and data mining website that can assist us in discovering web technologies on
    a web server for any given website.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在网站渗透测试的信息收集阶段，确定实际网页服务器上运行的基础技术是很重要的。**Netcraft** ([www.netcraft.com](http://www.netcraft.com))是一个互联网安全和数据挖掘网站，可以帮助我们发现任何给定网站上的网页技术。
- en: 'To get started with using **Netcraft**, follow these steps:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用**Netcraft**，请按照以下步骤进行：
- en: Head on over to [https://toolbar.netcraft.com/site_report](https://toolbar.netcraft.com/site_report).
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往[https://toolbar.netcraft.com/site_report](https://toolbar.netcraft.com/site_report)。
- en: On the website, enter the website's URL in the lookup field.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在网站上，输入查找字段中的网站URL。
- en: 'The following is the result that was retrieved for the [www.google.com](http://www.google.com)
    website:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是为[www.google.com](http://www.google.com)网站检索到的结果：
- en: '![](img/5d50c471-7237-434d-9eba-00f8a4754bd8.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d50c471-7237-434d-9eba-00f8a4754bd8.png)'
- en: 'Netcraft is able to provide a lot of details about the target website, including
    the following:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Netcraft能够提供有关目标网站的许多详细信息，包括以下内容：
- en: Domain name
  id: totrans-33
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名
- en: Public IP address
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公共IP地址
- en: Domain registrar
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名注册商
- en: Organization
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织
- en: Netblock owner
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Netblock所有者
- en: Nameservers
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名服务器
- en: DNS admin contact
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DNS管理员联系
- en: Web server types
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web服务器类型
- en: Web server operating systems
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web服务器操作系统
- en: Having retrieved the web server operating system and the running application,
    you can now narrow down your scope to searching for vulnerabilities and exploits
    that fit the target.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 已经获取了Web服务器操作系统和正在运行的应用程序，现在可以将范围缩小到搜索适合目标的漏洞和利用。
- en: 'Additionally, you can use the **Netcat** utility to perform **banner grabbing**.
    This technique is used to retrieve service versions of a running daemon or application
    on a target device. Using the following command, we can establish a connection
    between our machine (Kali Linux) and the target web server on port `80`:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，您可以使用**Netcat**实用程序执行**横幅抓取**。此技术用于检索目标设备上正在运行的守护程序或应用程序的服务版本。使用以下命令，我们可以在端口`80`上在我们的机器（Kali
    Linux）和目标Web服务器之间建立连接：
- en: '[PRE0]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Next, it''s time to retrieve the web server banner. Execute the following command:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，是时候检索Web服务器横幅了。执行以下命令：
- en: '[PRE1]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Hit *Enter* twice and the web server banner will be displayed at the top. The
    following is a snippet showing the server banner for the [www.google.com](http://www.google.com)
    address, along with its web server type:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按两次*Enter*，Web服务器横幅将显示在顶部。以下是显示[www.google.com](http://www.google.com)地址的服务器横幅的片段，以及其Web服务器类型：
- en: '![](img/cd337673-9af3-4013-8690-0d38e5f69e5a.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cd337673-9af3-4013-8690-0d38e5f69e5a.png)'
- en: Please remember that using the Netcat utility will establish a session between
    your attacker machine (Kali Linux) and the target. If the objective is to be stealthy
    (undetectable), this method is not recommended unless you are spoofing your IP
    address and MAC addresses.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，使用Netcat实用程序将在攻击者机器（Kali Linux）和目标之间建立会话。如果目标是隐蔽的（不可检测），则不建议使用此方法，除非您正在欺骗您的IP地址和MAC地址。
- en: Optionally, this technique can be performed using **Telnet**. Simply replace
    `nc` with `telnet` and you should get the same results on your Terminal window.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 可以选择使用**Telnet**执行此技术。只需用`telnet`替换`nc`，您应该在终端窗口上获得相同的结果。
- en: In the next section, we'll dive deep into discovering websites that are hosted
    on the same web server.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将深入探讨托管在同一Web服务器上的网站的发现。
- en: Discovering websites on the same server
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发现托管在同一服务器上的网站
- en: Over the years, organizations have moved away from hosting their company's website
    on their own on-premises server to using an online, cloud-based solution. There
    are many website hosting companies available in the e-commerce industry that provide
    solutions such as website hosting.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 多年来，组织已经摆脱了在自己的本地服务器上托管公司网站的做法，转而使用在线的基于云的解决方案。在电子商务行业有许多网站托管公司提供网站托管等解决方案。
- en: Hosting providers don't usually give customers a dedicated server to host their
    website; instead, a shared space is given. In other words, the server that is
    hosting your website is also hosting other people's websites as well. This is
    a benefit for both the service provider and the customer. The customer pays less
    as they are simply sharing the resources on a server with others and the server
    provider doesn't need to spin up a dedicated server per user, which would result
    in less power consumption and physical storage space in the data center.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 托管提供商通常不会为客户提供专用服务器来托管他们的网站；相反，他们会提供共享空间。换句话说，托管您网站的服务器也会托管其他人的网站。这对服务提供商和客户都是有利的。客户支付较少的费用，因为他们只是与其他人共享服务器上的资源，服务器提供商不需要为每个用户启动专用服务器，这将导致更少的功耗和数据中心中的物理存储空间。
- en: Due to service providers using this business and IT approach of providing shared
    space for their customers, security is a concern. It's like using the computers
    in a school lab; each person has their own user account but is still sharing a
    single system. If one user decides to perform malicious actions on the computer,
    they may be able to retrieve sensitive data from the other users' accounts/profiles.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 由于服务提供商使用这种为客户提供共享空间的业务和IT方法，安全性是一个问题。这就像在学校实验室使用计算机一样；每个人都有自己的用户帐户，但仍在共享一个系统。如果一个用户决定在计算机上执行恶意操作，他们可能能够从其他用户的帐户/配置文件中检索敏感数据。
- en: In [Chapter 5](474024a2-84fc-4fb6-b1b7-bd64ce91ef0c.xhtml), *Passive Information
    Gathering*, **Maltego** was introduced so that we could perform passive information
    gathering in relation to a target website. In this section, we are going to use
    Maltego once more to help us discover websites that are hosted on the same server.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第5章](474024a2-84fc-4fb6-b1b7-bd64ce91ef0c.xhtml)，*被动信息收集*中，引入了**Maltego**，以便我们可以对目标网站执行被动信息收集。在本节中，我们将再次使用Maltego来帮助我们发现托管在同一服务器上的网站。
- en: Before continuing, please ensure that you are comfortable with using **Maltego**
    to perform various information-gathering tasks. If you are having difficulty remembering
    how to use the essential tools within Maltego, please take a few minutes to review
    [Chapter 5](474024a2-84fc-4fb6-b1b7-bd64ce91ef0c.xhtml), *Passive Information
    Gathering*.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，请确保您熟悉使用**Maltego**执行各种信息收集任务。如果您在记住如何使用Maltego中的基本工具方面有困难，请花几分钟时间查看[第5章](474024a2-84fc-4fb6-b1b7-bd64ce91ef0c.xhtml)，*被动信息收集*。
- en: 'Observe the following steps to discover websites on the same server:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 观察以下步骤以发现同一服务器上的网站：
- en: Add a domain on Maltego. For this exercise, I have created a new domain using
    a free web hosting provider. You can do the same or use your existing domain name
    if you already own one.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Maltego上添加一个域。在这个练习中，我使用免费的网络托管提供商创建了一个新的域。您可以做同样的事情，或者如果您已经拥有一个现有的域名，也可以使用您现有的域名。
- en: You should **not** use someone else's domain without their knowledge and consent.
    For this exercise, I have created and own the target domain only.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在未经他们的知识和同意的情况下，您不应该使用其他人的域。在这个练习中，我只创建并拥有目标域。
- en: 'Right-click on the Domain entity and choose All Transforms | To DNS Name –
    NS (name server), as shown in the following screenshot:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击域实体，选择所有变换|到DNS名称-NS（名称服务器），如下面的屏幕截图所示：
- en: '![](img/eddd7c9c-74db-4259-b2d7-396346f05603.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/eddd7c9c-74db-4259-b2d7-396346f05603.png)'
- en: 'Maltego will take a few seconds to retrieve the nameservers for the target
    domain name:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: Maltego将花费几秒钟来检索目标域名的名称服务器：
- en: '![](img/f86224c5-3cb0-4f7b-b0d0-e510fdf34297.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f86224c5-3cb0-4f7b-b0d0-e510fdf34297.png)'
- en: The hosting provider for my custom domain is using two nameservers.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 我的自定义域的托管提供商正在使用两个名称服务器。
- en: 'Once the nameservers have been retrieved, it''s time to check whether there
    are other websites hosted on the same servers. Right-click on a nameserver and
    select All Transforms | To Domains (Sharing this NS), as shown in the following
    screenshot:'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦获取了域名服务器，就该检查是否有其他网站托管在同一台服务器上。右键单击一个域名服务器，然后选择所有转换 | 到域（共享此NS），如下面的屏幕截图所示：
- en: '![](img/b512b482-3de0-412f-b2e1-e47cbdf3a345.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b512b482-3de0-412f-b2e1-e47cbdf3a345.png)'
- en: 'This process usually takes a minute or two to complete. Once finished, Maltego
    will provide you with the results. As you can see in the following snippet, there
    are multiple websites hosted on the same server as my domain:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程通常需要一两分钟才能完成。完成后，Maltego将为您提供结果。如您在下面的片段中所见，有多个网站托管在与我的域相同的服务器上：
- en: '![](img/e6ef5cde-d24a-4a68-8da7-184db08ed8d4.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e6ef5cde-d24a-4a68-8da7-184db08ed8d4.png)'
- en: This technique is very useful when profiling a target organization's web server.
    Sometimes, you may encounter an organization hosting their website and other internal
    sites on the same server within the DMZ section of their network. Always attempt
    to perform enumeration techniques to extract any sites on web servers. Sometimes,
    organizations host their intranet site on the same web server as their public
    website. Gaining access to hidden sites can provide fruitful information.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 这种技术在对目标组织的Web服务器进行概要分析时非常有用。有时，您可能会遇到一个组织将他们的网站和其他内部网站托管在网络的DMZ部分的同一台服务器上。始终尝试执行枚举技术以提取Web服务器上的任何站点。有时，组织将其内部网站托管在与其公共网站相同的Web服务器上。访问隐藏站点可以提供有益的信息。
- en: '**Disclaimer**: To protect confidentiality, information related to the websites
    has been blurred as it belongs to other parties.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 免责声明：为了保护机密性，与网站相关的信息已经模糊处理，因为它属于其他方。
- en: In the next section, we will learn about the methods we can use to discover
    sensitive files on a website.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将学习如何在网站上发现敏感文件的方法。
- en: Discovering sensitive files
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发现敏感文件
- en: To continue our information-gathering phase in website penetration testing,
    we'll attempt to discover any sensitive files and directories on a target website.
    To perform this task, we will be using **DirBuster**. DirBuster is a brute force
    web application that was designed with the objective of revealing any sensitive
    directories and files on a target web server.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 为了继续我们的网站渗透测试中的信息收集阶段，我们将尝试发现目标网站上的任何敏感文件和目录。为了执行这项任务，我们将使用DirBuster。DirBuster是一个用于暴力破解Web应用程序的工具，旨在揭示目标Web服务器上的任何敏感目录和文件。
- en: For this exercise, we'll be using the **OWASP Broken Web Applications** (**BWA**)
    **Project** virtual machine as our target, and our **Kali Linux** machine as the
    attacker.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用OWASP Broken Web Applications（BWA）项目虚拟机作为目标，使用我们的Kali Linux机器作为攻击者。
- en: 'To discover sensitive files on a web server, follow these steps:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Web服务器上发现敏感文件，请按照以下步骤操作：
- en: Open DirBuster by navigating to Applications | 03 – Web Application Analysis
    | Web Crawlers & Directory Bruteforcing | DirBuster.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过导航到应用程序 | 03 - Web应用程序分析 | Web爬虫和目录暴力破解 | DirBuster 打开DirBuster。
- en: When DirBuster opens, enter the IP address of the OWASP BWA virtual machine
    in the Target URL field. The URL should be in the `http://192.168.56.101:80/`
    format.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当DirBuster打开时，在目标URL字段中输入OWASP BWA虚拟机的IP地址。URL应该是`http://192.168.56.101:80/`的格式。
- en: Optionally, you can increase the number of threads. Increasing the number of
    threads will apply more computing power to the application and will, therefore,
    speed up the process.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以选择增加线程的数量。增加线程的数量将为应用程序应用更多的计算能力，因此会加快进程速度。
- en: Click on Browse to add a wordlist that DirBuster will use to index and search
    on the target website. If you click on List Info, a new window will appear, providing
    a recommended wordlist.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击“浏览”以添加DirBuster将用于在目标网站上索引和搜索的单词列表。如果单击“列表信息”，将会出现一个新窗口，提供一个推荐的单词列表。
- en: Uncheck the box next to Be Recursive.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取消选中“递归”旁边的框。
- en: Click on Start to begin the process.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“开始”开始这个过程。
- en: 'The following screenshot shows the options that were used for this task:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 以下屏幕截图显示了此任务所使用的选项：
- en: '![](img/3382b38e-b1b3-46d3-91ba-828096cfe05c.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3382b38e-b1b3-46d3-91ba-828096cfe05c.png)'
- en: Additionally, you can use a wordlist from another location, such as **SecLists**.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还可以使用来自其他位置的单词列表，例如SecLists。
- en: The **file extensions** option can be customized and is a good way of finding
    hidden directories with files such as `.bak` and `.cfg`.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 文件扩展名选项可以自定义，并且是查找具有`.bak`和`.cfg`等文件的隐藏目录的好方法。
- en: 'While DirBuster is performing its brute force attack, the results window will
    appear. To view all the current directories and files, click on the Results –
    List View tab, as shown in the following screenshot:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在DirBuster执行暴力攻击时，结果窗口将出现。要查看所有当前目录和文件，请单击结果 - 列表视图选项卡，如下面的屏幕截图所示：
- en: '![](img/f6c26aff-96a2-4b4a-a542-8b693f27d779.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f6c26aff-96a2-4b4a-a542-8b693f27d779.png)'
- en: The **HTTP 200 Status** code indicates that this was successful. In other words,
    the attacker machine has successfully been able to communicate with a specific
    directory on the target website/server.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: HTTP 200状态代码表示操作成功。换句话说，攻击者机器已成功能够与目标网站/服务器上的特定目录进行通信。
- en: Additionally, other tools such as **Burp Suite** and **OWASP ZAP** can be used
    to discover hidden directories and sensitive files on a target web server and
    website.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还可以使用Burp Suite和OWASP ZAP等其他工具来发现目标Web服务器和网站上的隐藏目录和敏感文件。
- en: As seen in the previous snippet, the list of directories was found using DirBuster.
    Go through each directory as they may contain sensitive files and information
    about the target.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的片段所示，使用DirBuster找到了目录列表。浏览每个目录，因为它们可能包含有关目标的敏感文件和信息。
- en: In the next section, we will take a look at the importance of the `robots.txt`
    file.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将看一下`robots.txt`文件的重要性。
- en: robots.txt
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: robots.txt
- en: The `robots.txt` file contains a list of directories and files from a web server.
    The entries within the `robots.txt` file are created by the website owner or web
    administrator and are used to hide directory locations from web crawlers. In other
    words, it informs a search engine's crawlers to not index a certain directory
    of a website.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '`robots.txt`文件包含来自Web服务器的目录和文件列表。`robots.txt`文件中的条目由网站所有者或Web管理员创建，并用于隐藏Web爬虫的目录位置。换句话说，它通知搜索引擎的爬虫不要索引网站的某个目录。'
- en: 'Penetration testers add the `robots.txt` extension at the end of a domain name
    to access and view its content. The following are the entries for a `robots.txt`
    file of a reputable organization:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试人员在域名末尾添加`robots.txt`扩展名，以访问和查看其内容。以下是知名组织的`robots.txt`文件的条目：
- en: '![](img/f1057553-76e4-4574-b30b-4702767eb4c2.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f1057553-76e4-4574-b30b-4702767eb4c2.png)'
- en: 'As you can see, there are multiple directories. By simply combining each directory
    with the domain name, you''ll be able to access hidden areas on the target website.
    Let''s use the `/administrator/` directory:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，有多个目录。通过简单地将每个目录与域名结合，您将能够访问目标网站上的隐藏区域。让我们使用`/administrator/`目录：
- en: '![](img/5bfcabc5-8062-4c30-b176-5af022b7aa17.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5bfcabc5-8062-4c30-b176-5af022b7aa17.png)'
- en: We now have access to the login page of the site's control panel. Using the
    other directories may provide other fruitful information.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以访问站点控制面板的登录页面。使用其他目录可能会提供其他有益的信息。
- en: In the next section, we will take a deep dive into analyzing discovered files
    on a target server.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，我们将深入分析目标服务器上发现的文件。
- en: Analyzing discovered files
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析发现的文件
- en: Hidden directories usually contain sensitive files with important information.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 隐藏目录通常包含具有重要信息的敏感文件。
- en: 'Observe the following steps to get started with analyzing discovered files:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 观察以下步骤，开始分析发现的文件：
- en: 'Within the DirBuster results window, click on the Results – Tree View tab.
    This will provide you with a tree structure that allows you to expand each folder:'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在DirBuster结果窗口中，单击“结果-树视图”选项卡。这将为您提供一个树形结构，允许您展开每个文件夹：
- en: '![](img/47b5743a-fdcf-46e1-971a-be82f4fd5c68.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](img/47b5743a-fdcf-46e1-971a-be82f4fd5c68.png)'
- en: By expanding the `cgi-bin` folder, we can see two files, as shown in the preceding
    screenshot. Using the web browser, we can add the directory extension and the
    IP address of the server to create a URL.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 通过展开`cgi-bin`文件夹，我们可以看到两个文件，如前面的截图所示。使用Web浏览器，我们可以添加目录扩展名和服务器的IP地址，以创建URL。
- en: 'Entering the `http://192.168.56.101/cgi-bin/` address, the web browser shows
    us the files, last modification date, file size, and description:'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`http://192.168.56.101/cgi-bin/`地址，网页浏览器显示了文件、最后修改日期、文件大小和描述：
- en: '![](img/b96b07f6-ccaa-44c0-8b69-fcdf50c4ab9f.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b96b07f6-ccaa-44c0-8b69-fcdf50c4ab9f.png)'
- en: 'Additionally, we can use `dirb` to check for files and directories on a target
    web server. `dirb` allows us to perform a quick scan if we use the following syntax:'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，我们可以使用`dirb`来检查目标Web服务器上的文件和目录。如果我们使用以下语法，`dirb`允许我们执行快速扫描：
- en: '[PRE2]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Optionally, you can choose to use a custom wordlist as part of your command:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为命令的一部分，您可以选择使用自定义字典：
- en: '[PRE3]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The following screenshot is a quick scan that was performed by DirBuster. If
    you look closely, you''ll notice that DirBuster was able to discover hidden directories
    and files, along with their sizes:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图是DirBuster执行的快速扫描。如果您仔细观察，您会注意到DirBuster能够发现隐藏的目录和文件，以及它们的大小：
- en: '![](img/2c8bc6e2-8eb1-41ae-a1d8-81c3ce4bbfae.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2c8bc6e2-8eb1-41ae-a1d8-81c3ce4bbfae.png)'
- en: Performing such tasks can be a bit time-consuming and may take a few minutes,
    or even hours, to complete.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 执行这样的任务可能会耗费一些时间，可能需要几分钟，甚至几个小时才能完成。
- en: In the following section, we will take a dive into learning about cryptography.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将深入学习密码学知识。
- en: Cryptography
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 密码学
- en: 'Cryptography is the technique of protecting data from unauthorized persons
    on a system. This technique involves taking a message, passing it through an encryption
    cipher (algorithm), and providing an output known as ciphertext (an encrypted
    message):'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 密码学是一种保护系统上的数据免受未经授权的人员访问的技术。这种技术涉及将消息通过加密密码（算法），并提供一个称为密文的输出（加密消息）：
- en: '![](img/961356db-49f2-4efe-9697-2a691d494293.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![](img/961356db-49f2-4efe-9697-2a691d494293.png)'
- en: 'Cryptography has the following objectives:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 密码学有以下目标：
- en: Confidentiality
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机密性
- en: Integrity
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完整性
- en: Authentication
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 认证
- en: Non-repudiation
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不可否认性
- en: However, web applications can use poorly designed encryption code within their
    application to secure data being transferred between the end user's browser and
    the web application, and between the web application and the database server.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，Web应用程序可以在其应用程序中使用设计不良的加密代码，以保护最终用户浏览器和Web应用程序之间以及Web应用程序和数据库服务器之间传输的数据。
- en: Such security flaws can lead to an attacker stealing and/or modifying sensitive
    data on a web or database server.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 这样的安全漏洞可能导致攻击者窃取和/或修改Web或数据库服务器上的敏感数据。
- en: Next, we will learn about various web vulnerabilities and how to exploit file
    upload and file inclusion vulnerabilities on a target web server.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将学习有关各种Web漏洞以及如何在目标Web服务器上利用文件上传和文件包含漏洞。
- en: File upload and file inclusion vulnerabilities
  id: totrans-128
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 文件上传和文件包含漏洞
- en: In this section, we will discuss various security vulnerabilities that allow
    an attacker to perform file upload, code execution, and file inclusion attacks
    on a web server.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论各种安全漏洞，允许攻击者在Web服务器上执行文件上传、代码执行和文件包含攻击。
- en: 'In the following sections, we will cover the fundamentals of the following
    topics:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将介绍以下主题的基础知识：
- en: '**Cross-Site Scripting** (**XSS**)'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**跨站脚本**（**XSS**）'
- en: '**Cross-Site Request Forgery** (**CSRF**)'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**跨站请求伪造**（**CSRF**）'
- en: '**Structured Query Language injection** (**SQLi**)'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**结构化查询语言注入**（**SQLi**）'
- en: Insecure deserialization
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不安全的反序列化
- en: Common misconfigurations
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 常见的配置错误
- en: Vulnerable components
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 易受攻击的组件
- en: Insecure direct object reference
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不安全的直接对象引用
- en: Let's dive in!
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！
- en: XSS
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: XSS
- en: 'XSS attacks are carried out by exploiting vulnerabilities in a dynamically
    created web page. This allows an attacker to inject client-side scripts into a
    web page being viewed by other users. When an unsuspecting user visits a web page
    that contains XSS, the user''s browser will begin to execute the malicious script
    in the background while the victim is unaware:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: XSS攻击是通过利用动态创建的网页中的漏洞来进行的。这允许攻击者将客户端脚本注入到其他用户正在查看的网页中。当一个毫无戒心的用户访问包含XSS的网页时，用户的浏览器将在受害者不知情的情况下开始在后台执行恶意脚本：
- en: '![](img/52f9095b-8507-47b0-b46b-b2eea97139ab.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![](img/52f9095b-8507-47b0-b46b-b2eea97139ab.png)'
- en: An XSS attack usually focuses on redirecting a user to a malicious URL, data
    theft, manipulation, displaying hidden IFRAMES, and showing pop-up windows on
    a victim's web browser.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: XSS攻击通常专注于将用户重定向到恶意URL，数据窃取，操纵，显示隐藏的IFRAMES，并在受害者的Web浏览器上显示弹出窗口。
- en: The malicious script includes ActiveX, VBScript, JavaScript, or Flash.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 恶意脚本包括ActiveX、VBScript、JavaScript或Flash。
- en: 'There are two types of XSS attacks:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: XSS攻击有两种类型：
- en: Stored XSS
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储型XSS
- en: Reflected XSS
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 反射型XSS
- en: In the following section, we will discuss both in detail.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将详细讨论这两种攻击。
- en: Stored XSS
  id: totrans-148
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 存储型XSS
- en: Stored XSS is **persistent** on the web page. The attacker injects malicious
    code into the web application on a server. The code/script is permanently stored
    on the page. When a potential victim visits the compromised web page, the victim's
    browser will parse all the web code. However, in the background, the malicious
    script is being executed on the victim's web browser. This allows the attacker
    to retrieve any passwords, cookie information, and other sensitive information
    that is stored on the victim's web browser.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 存储型XSS在网页上是**持久**的。攻击者将恶意代码注入到服务器上的Web应用程序中。代码/脚本被永久存储在页面上。当潜在受害者访问受损的网页时，受害者的浏览器将解析所有的Web代码。然而，在后台，恶意脚本正在受害者的Web浏览器上执行。这使得攻击者能够检索存储在受害者的Web浏览器上的任何密码、cookie信息和其他敏感信息。
- en: Reflected XSS
  id: totrans-150
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 反射型XSS
- en: Reflected XSS is a **non-persistent** attack. In this form of XSS, the attacker
    usually sends a malicious link to a potential victim. If the victim clicks on
    the malicious link, it will open the default web browser (reflected) on the victim's
    computer. The web browser will automatically load the web page in which the malicious
    script will automatically execute, capturing passwords, cookie information, and
    other sensitive information.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 反射型XSS是一种**非持久**攻击。在这种形式的XSS中，攻击者通常向潜在受害者发送一个恶意链接。如果受害者点击恶意链接，它将在受害者的计算机上打开默认的Web浏览器（反射）。Web浏览器将自动加载包含恶意脚本的网页，恶意脚本将自动执行，捕获密码，cookie信息和其他敏感信息。
- en: Next, we will take a deep dive into CSRF.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将深入探讨CSRF。
- en: CSRF
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CSRF
- en: A CSRF attack is a bit similar to an XSS attack. Let's use an analogy to simplify
    our explanation of CSRF attacks. Imagine a user, Bob, who opens his web browser
    and logs in to his banking customer portal to perform some online transactions
    on his account. Bob has used his user credentials on his bank's web portal; the
    web application/server verifies that the user is Bob and automatically trusts
    his computer as the device communicating with the web server.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: CSRF攻击与XSS攻击有些相似。让我们用类比来简化对CSRF攻击的解释。想象一下，用户Bob打开他的Web浏览器并登录到他的银行客户门户，以在他的账户上进行一些在线交易。Bob已经在他的银行的Web门户上使用了他的用户凭据；Web应用程序/服务器验证用户是Bob，并自动信任他的计算机作为与Web服务器通信的设备。
- en: 'However, Bob also opens a new tab in the same browser to visit another website
    while maintaining an active session with the bank''s web portal (trusted site).
    Bob doesn''t suspect that the new website he visits contains malicious code, which
    is then executed in the background on Bob''s machine:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，Bob还在同一个浏览器中打开一个新标签页访问另一个网站，同时保持与银行的Web门户（受信任的站点）的活动会话。Bob并不怀疑他访问的新网站包含恶意代码，然后在Bob的计算机上后台执行：
- en: '![](img/d3a41ba0-af2a-4722-ba36-22e3a69a4419.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d3a41ba0-af2a-4722-ba36-22e3a69a4419.png)'
- en: The malicious code then injects an HTTP request into the trusted site from Bob's
    machine. In this way, the attacker is able to capture Bob's user credentials and
    session information. Additionally, the malicious link can cause Bob's machine
    to perform malicious actions on the trusted site as well.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，恶意代码将从Bob的计算机向受信任的站点注入HTTP请求。通过这种方式，攻击者能够捕获Bob的用户凭据和会话信息。此外，恶意链接还可以导致Bob的计算机在受信任的站点上执行恶意操作。
- en: In the next section, we will cover the essentials of **SQL injection** (**SQLi**)
    attacks.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将详细介绍**SQL注入**（SQLi）攻击的基本知识。
- en: SQLi
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SQLi
- en: 'SQLi allows an attacker to insert a series of malicious SQL code/queries directly
    into the backend database server. This allows the attacker to manipulate records
    such as add, remove, modify, and retrieve entries in a database:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: SQLi允许攻击者将一系列恶意的SQL代码/查询直接插入到后端数据库服务器中。这使得攻击者能够操纵记录，如添加、删除、修改和检索数据库中的条目：
- en: '![](img/95000a39-1ab0-4499-a8ee-3bc869b243fa.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/95000a39-1ab0-4499-a8ee-3bc869b243fa.png)'
- en: The attacker can leverage the vulnerability of web applications to bypass security
    controls and measures to gain entry to the database server/application. SQLi attacks
    are injected via the address bar on the web browser or the login portal of a website.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者可以利用Web应用程序的漏洞来绕过安全控制和措施，以进入数据库服务器/应用程序。SQLi攻击是通过Web浏览器的地址栏或网站的登录门户注入的。
- en: Next, we will discuss insecure deserialization.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将讨论不安全的反序列化。
- en: Insecure deserialization
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不安全的反序列化
- en: '**Serialization** is the process of converting an object into a smaller byte
    size to either transmit or store the object in a file, database, or even memory.
    This process allows the object to maintain its state in order to be assembled/recreated
    when needed. However, the opposite of serialization is called **deserialization**.
    This is the process of recreating an object from the stream of data (bytes) into
    its original form.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '**序列化**是将对象转换为较小字节大小的过程，以便传输或存储对象在文件、数据库甚至内存中。这个过程允许对象保持其状态，以便在需要时进行组装/重建。然而，序列化的反义词称为**反序列化**。这是将数据流（字节）重新创建为其原始形式的过程。'
- en: '**Insecure deserialization** happens when untrusted data is used to abuse the
    logic of an application, create a denial-of-service attack, or execute malicious
    code on the web application/page/server. In an insecure deserialization attack,
    the attacker can execute remote code on the target web server.'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '**不安全的反序列化**发生在不受信任的数据被用来滥用应用程序逻辑、创建拒绝服务攻击或在网页应用程序/服务器上执行恶意代码的情况下。在不安全的反序列化攻击中，攻击者可以在目标网页服务器上执行远程代码。'
- en: Further information on insecure deserialization can be found on the OWASP website
    at [https://www.owasp.org/index.php/Top_10-2017_A8-Insecure_Deserialization](https://www.owasp.org/index.php/Top_10-2017_A8-Insecure_Deserialization).
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 有关不安全的反序列化的更多信息可以在OWASP网站上找到，网址为[https://www.owasp.org/index.php/Top_10-2017_A8-Insecure_Deserialization](https://www.owasp.org/index.php/Top_10-2017_A8-Insecure_Deserialization)。
- en: Most of the time, system administrators and IT professionals don't take these
    vulnerabilities seriously until a cyberattack is at their front door. As penetration
    testers, it's our job to efficiently discover all the existing and hidden security
    vulnerabilities in a target organization and inform the company to help secure
    their assets.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数情况下，系统管理员和IT专业人员直到网络攻击来临时才会认真对待这些漏洞。作为渗透测试人员，我们的工作是高效地发现目标组织中所有现有和隐藏的安全漏洞，并通知公司以帮助保护他们的资产。
- en: In the following section, we will outline some common misconfigurations on web
    servers.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将概述一些网页服务器上常见的配置错误。
- en: Common misconfigurations
  id: totrans-170
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 常见的配置错误
- en: Misconfigurations on the web server can create vulnerabilities that can allow
    an attacker to gain unauthorized access to default user accounts, access hidden
    pages and directories, perform exploitation on any unpatched flaws, and perform
    read/write actions on insecure directories and files on the server.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 网页服务器上的配置错误可能会导致漏洞，允许攻击者未经授权访问默认用户帐户、访问隐藏页面和目录、对任何未修补的缺陷进行利用，以及在服务器上对不安全目录和文件执行读/写操作。
- en: Security misconfigurations are not specific to any level of the web application,
    but can affect any level of the web server and application, such as the operating
    system (Windows or Linux), the web server platform (Apache, IIS, and Nginx), framework
    (Django, Angular, Drupal, and so on), and even custom code hosted on the server.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 安全配置错误不仅限于网页应用程序的任何级别，还可能影响网页服务器和应用程序的任何级别，如操作系统（Windows或Linux）、网页服务器平台（Apache、IIS和Nginx）、框架（Django、Angular、Drupal等）甚至托管在服务器上的自定义代码。
- en: In the following section, we will discuss various vulnerable components that
    are found on web servers and platforms.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将讨论在网页服务器和平台上发现的各种易受攻击的组件。
- en: Vulnerable components
  id: totrans-174
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 易受攻击的组件
- en: 'The following are some of the commonly known vulnerable components in a web
    application:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是网页应用程序中一些常见的易受攻击的组件：
- en: '**Adobe Flash Player**: The Adobe Flash Player was commonly used as a multimedia
    player within a web browser. It supports application content such as online videos,
    audio, and games. However, over the years, many security vulnerabilities have
    been discovered and recorded, and users have been moving away from using this
    component on their web browsers. One recent vulnerability is **CVE-2018-15982**,
    which allows successful exploitations that lead to arbitrary code execution on
    a target system.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Adobe Flash Player**：Adobe Flash Player通常用作网页浏览器中的多媒体播放器。它支持在线视频、音频和游戏等应用内容。然而，多年来，已经发现并记录了许多安全漏洞，用户已经开始放弃在其网页浏览器上使用这个组件。最近的一个漏洞是**CVE-2018-15982**，它允许成功利用导致目标系统上的任意代码执行。'
- en: '**JBoss Application Server**: The JBoss Application Server is a Java web container
    that is both open source and able to operate cross-platform. At the time of writing
    this book, a severe vulnerability was found that enabled an attacker to remotely
    execute malicious code on a JBoss Application Server and therefore gain full control
    of the target.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**JBoss应用服务器**：JBoss应用服务器是一个Java网页容器，既是开源的，也能够跨平台操作。在撰写本书时，发现了一个严重漏洞，使攻击者能够在JBoss应用服务器上远程执行恶意代码，从而完全控制目标。'
- en: The vulnerability affected all JBoss Application Server versions 4.0 and prior.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 该漏洞影响了所有JBoss应用服务器版本4.0及之前的版本。
- en: '**Adobe ColdFusion**: Adobe ColdFusion is a commercial web application development
    platform. Its design was intended to allow developers to easily connect HTML pages
    to a database. However, in 2018, a critical vulnerability was discovered that
    allows an attacker to upload data onto a compromised system with any restrictions,
    further allowing the attacker to gain control of the server using web shells.
    This vulnerability was recorded as **CVE-2018-15961**.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Adobe ColdFusion**：Adobe ColdFusion是一个商业网页应用开发平台。其设计旨在允许开发人员轻松地将HTML页面连接到数据库。然而，在2018年，发现了一个关键漏洞，允许攻击者在没有任何限制的情况下将数据上传到受损系统，进而允许攻击者使用Web
    shell控制服务器。这个漏洞被记录为**CVE-2018-15961**。'
- en: Please note that these are only some of the many vulnerable components that
    can be found on a web server. Over time, security researchers will continue to
    discover and record new vulnerabilities.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，这些只是网页服务器上可以找到的许多易受攻击的组件之一。随着时间的推移，安全研究人员将继续发现和记录新的漏洞。
- en: In the following section, we will briefly discuss **Insecure Direct Object Reference**
    (**IDOR**).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将简要讨论**不安全的直接对象引用**（**IDOR**）。
- en: IDOR
  id: totrans-182
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IDOR
- en: According to OWASP ([www.owasp.org](http://www.owasp.org)), IDOR happens when
    access is provided to an object based on the input provided by the user. If a
    web application is found to be vulnerable, an attacker can attempt to bypass authorization
    and gain access to resources on the compromised system.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 根据OWASP（[www.owasp.org](http://www.owasp.org)）的说法，IDOR发生在基于用户提供的输入提供对对象的访问权限时。如果发现Web应用程序存在漏洞，攻击者可以尝试绕过授权并访问受损系统上的资源。
- en: Next, we will demonstrate how to exploit file upload vulnerabilities on a target
    machine.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将演示如何利用目标机器上的文件上传漏洞。
- en: Exploiting file upload vulnerabilities
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用文件上传漏洞
- en: 'In this exercise, we are going to use our OWASP BWA virtual machine to demonstrate
    a file upload vulnerability. Let''s get started:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用我们的OWASP BWA虚拟机来演示文件上传漏洞。让我们开始吧：
- en: 'First, create a payload on your Kali Linux (attacker) machine using `msfvenom`,
    which will later be uploaded to the target server. Using the following syntax,
    create a PHP-based payload for establishing a reverse connection:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，在Kali Linux（攻击者）机器上使用`msfvenom`创建有效载荷，稍后将上传到目标服务器。使用以下语法，创建一个基于PHP的有效载荷以建立反向连接：
- en: '[PRE4]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Copy the highlighted code, open a text editor, and save the file as `img.php`:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制突出显示的代码，打开文本编辑器，并将文件保存为`img.php`：
- en: '![](img/3515f8e8-4851-440d-8653-46e9b222a624.png)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3515f8e8-4851-440d-8653-46e9b222a624.png)'
- en: Using your web browser within Kali Linux, enter the IP address of OWASP BWA
    in the address bar and hit *Enter*.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Kali Linux中的Web浏览器中，输入OWASP BWA的IP地址并点击*Enter*。
- en: 'On the main page, click on **Damn Vulnerable Web Application**:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在主页上，单击**Damn Vulnerable Web Application**：
- en: '![](img/4c9eb84f-eccd-4a1c-bc70-04ce74a48e2c.png)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4c9eb84f-eccd-4a1c-bc70-04ce74a48e2c.png)'
- en: 'The DVWA login portal will appear. Log in with `admin`/`admin` as Username/Password:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: DVWA登录门户将出现。使用`admin`/`admin`作为用户名/密码登录：
- en: '![](img/a72d97a5-d315-4397-b695-4515e21e5566.png)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a72d97a5-d315-4397-b695-4515e21e5566.png)'
- en: 'Once logged in, you''ll see a menu on the left-hand side. Click on Upload to
    view the Vulnerability: File Upload page:'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录后，您将在左侧看到一个菜单。单击上传以查看漏洞：文件上传页面：
- en: '![](img/82c7950a-c57e-4d9d-bdd4-29873165967f.png)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![](img/82c7950a-c57e-4d9d-bdd4-29873165967f.png)'
- en: Click on Browse..., select the `img.php` file, and then click Upload on the
    page.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击浏览...，选择`img.php`文件，然后单击页面上的上传。
- en: 'Once the file has been uploaded, you will receive a message displaying the
    directory where the file is stored on the server:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦文件被上传，您将收到一条消息，显示文件在服务器上的存储目录：
- en: '![](img/185e6808-af63-4746-a6bf-853ed461c7ee.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![](img/185e6808-af63-4746-a6bf-853ed461c7ee.png)'
- en: 'Copy the file location, that is, `hackable/uploads/img.php`, and paste it into
    the URL to execute the payload (`img.php`). The following is the expected URL:'
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制文件位置，即`hackable/uploads/img.php`，并将其粘贴到URL中以执行有效载荷（`img.php`）。以下是预期的URL：
- en: '[PRE5]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Hit *Enter* to execute the payload.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 按*Enter*执行有效载荷。
- en: 'On Kali Linux, load Metasploit using the following commands:'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Kali Linux上，使用以下命令加载Metasploit：
- en: '[PRE6]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Enable the `multi/handler` module in Metasploit, set the reverse TCP payload,
    and execute the exploit using the following commands:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Metasploit中启用`multi/handler`模块，设置反向TCP有效载荷，并使用以下命令执行利用：
- en: '![](img/2bb249a6-8aa5-434d-8229-a5734cd83289.png)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2bb249a6-8aa5-434d-8229-a5734cd83289.png)'
- en: Please be sure to check the IP address of the Kali Linux machine and adjust
    the `LHOST` parameter accordingly.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 请确保检查Kali Linux机器的IP地址，并相应地调整`LHOST`参数。
- en: 'Having executed the `img.php` payload on the server and enabled the `multi/handler`
    on Metasploit, we are able to receive a reverse shell on our attacker machine,
    as shown in the following screenshot:'
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在服务器上执行了`img.php`有效载荷并在Metasploit上启用了`multi/handler`后，我们能够在攻击者机器上接收到一个反向shell，如下面的屏幕截图所示：
- en: '![](img/ed29642c-7be8-44cb-b0ab-08887b8d84f5.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ed29642c-7be8-44cb-b0ab-08887b8d84f5.png)'
- en: Using the `meterpreter` shell, you are now able to perform further actions on
    the compromised system.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`meterpreter` shell，您现在可以在受损系统上执行进一步的操作。
- en: In the following section, we will demonstrate how to exploit code execution
    vulnerabilities.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将演示如何利用代码执行漏洞。
- en: Exploiting code execution vulnerabilities
  id: totrans-213
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用代码执行漏洞
- en: When a device is vulnerable to code execution, an attacker or penetration tester
    is allowed to execute code remotely on the target server. Additionally, the penetration
    tester will be able to retrieve the source code that's stored on the target.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 当设备容易受到代码执行攻击时，攻击者或渗透测试人员被允许在目标服务器上远程执行代码。此外，渗透测试人员将能够检索存储在目标上的源代码。
- en: 'To complete this exercise, we will be using the following topology:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成这个练习，我们将使用以下拓扑结构：
- en: '![](img/739a76ec-d61e-429a-82ac-79a80fadd0aa.png)'
  id: totrans-216
  prefs: []
  type: TYPE_IMG
  zh: '![](img/739a76ec-d61e-429a-82ac-79a80fadd0aa.png)'
- en: 'To get started with code execution exploitation, follow these steps:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始执行代码执行利用，请按照以下步骤进行：
- en: 'We will attempt to discover whether the target is vulnerable to **CVE-2012-1823**.
    To discover whether a target is vulnerable, use the following commands with `nmap`:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将尝试发现目标是否容易受到**CVE-2012-1823**的攻击。要发现目标是否容易受到攻击，请使用以下命令与`nmap`：
- en: '[PRE7]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Nmap may not always return results that indicate that a vulnerability exists
    on a target. However, this should not stop you from determining whether a target
    is vulnerable to an exploit.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap可能并不总是返回结果，表明目标存在漏洞。然而，这不应该阻止您确定目标是否容易受到攻击。
- en: 'Next, within **Metasploit**, use the `search` command to find a suitable exploit
    module to help us take advantage of the vulnerability on the target:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**Metasploit**中，使用`search`命令查找一个适合的利用模块，以帮助我们利用目标上的漏洞：
- en: '![](img/89a269bf-78d5-495a-93e8-7db7dd151d1e.png)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![](img/89a269bf-78d5-495a-93e8-7db7dd151d1e.png)'
- en: 'Next, use the following command to use the module and set the remote target:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用以下命令使用模块并设置远程目标：
- en: '[PRE8]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Additionally, the following commands allow you to use a suitable payload for
    establishing a remote shell upon exploitation and setting your localhost IP address:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，以下命令允许您使用适当的有效载荷在利用后建立远程shell并设置您的本地主机IP地址：
- en: '[PRE9]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Use the `exploit` command to launch the exploit against the target. The following
    screenshot shows that the exploit was successful on the target:'
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`exploit`命令对目标发动攻击。以下截图显示了攻击成功的目标：
- en: '![](img/f85fcc3c-3a78-4c56-892d-c4d03baa8725.png)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f85fcc3c-3a78-4c56-892d-c4d03baa8725.png)'
- en: The payload has been sent across to the victim and we have a reverse shell.
    Having completed this section, you are now able to discover and perform code execution
    on a target server.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 有效载荷已发送到受害者，并且我们有了一个反向shell。完成了本节后，您现在可以发现并在目标服务器上执行代码执行。
- en: In the next section, we will demonstrate how to exploit LFI vulnerabilities.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将演示如何利用LFI漏洞。
- en: Exploiting LFI vulnerabilities
  id: totrans-231
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用LFI漏洞
- en: Servers that are vulnerable to LFI security flaws allow an attacker to display
    the content of files through the URL within a web browser. In an LFI attack, the
    penetration tester can read the content of any file from within its directory
    using either `../` or `/`.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 易受LFI安全漏洞影响的服务器允许攻击者通过Web浏览器中的URL显示文件的内容。在LFI攻击中，渗透测试人员可以使用`../`或`/`从其目录中读取任何文件的内容。
- en: 'To get started, let''s head back over to the **Damn Vulnerable Web Application**
    (**DVWA**) web interface within **OWASP BWA**:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，请返回到**OWASP BWA**中的**Damn Vulnerable Web Application**（**DVWA**）Web界面：
- en: 'On the DVWA web interface, on the left-hand side menu, click on File Inclusion:'
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在DVWA Web界面上，点击左侧菜单上的文件包含：
- en: '![](img/bb320a7c-f6bc-432c-abc0-73faaa6b52fe.png)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bb320a7c-f6bc-432c-abc0-73faaa6b52fe.png)'
- en: 'By repeating `../` a few times and inserting the directory of the `passwd`
    file, we are able to view the content of the `passwd` file on the target web server:'
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过重复使用`../`几次并插入`passwd`文件的目录，我们能够查看目标Web服务器上`passwd`文件的内容：
- en: '![](img/f9a7801d-8af2-4268-95ad-35a88a63fbb5.png)'
  id: totrans-237
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f9a7801d-8af2-4268-95ad-35a88a63fbb5.png)'
- en: This type of attack tests a system for directory transversal vulnerabilities.
    Directory transversal allows an attacker to access restricted locations and files,
    as well as execute commands on a target web server. This attacker can manipulate
    the variables by simply using the `dot-dot-slash (../)` syntax within the URL.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 这种类型的攻击测试系统的目录遍历漏洞。目录遍历允许攻击者访问受限制的位置和文件，并在目标Web服务器上执行命令。这个攻击者可以通过在URL中简单地使用`点-点-斜杠（../）`语法来操纵变量。
- en: Thus far, we have completed a few exercises to exploit the various weaknesses
    of a target system. In the next section, we'll take a look at preventing and mitigating
    security vulnerabilities.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经完成了一些练习，以利用目标系统的各种弱点。在下一节中，我们将看看如何预防和减轻安全漏洞。
- en: Preventing vulnerabilities
  id: totrans-240
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预防漏洞
- en: 'The following are countermeasures that can be used to prevent web server and
    web application attacks and remediate such vulnerabilities:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是可以用来防止Web服务器和Web应用程序攻击并纠正此类漏洞的对策：
- en: Apply the latest (stable) patches and updates to the operating system and web
    applications.
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对操作系统和Web应用程序应用最新（稳定）的补丁和更新。
- en: Disable any unnecessary services and protocols on web servers.
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Web服务器上禁用任何不必要的服务和协议。
- en: Use secure protocols, such as support data encryption, wherever possible.
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽可能使用安全协议，例如支持数据加密。
- en: If using insecure protocols, implement security controls to ensure that they
    are not exploited.
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果使用不安全的协议，实施安全控件以确保它们不被利用。
- en: Disable WebDAV if it's not being used by a web application.
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果Web应用程序没有使用WebDAV，则禁用WebDAV。
- en: Remove all unused modules and applications.
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除所有未使用的模块和应用程序。
- en: Disable all unused default accounts.
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用所有未使用的默认帐户。
- en: Change default passwords.
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更改默认密码。
- en: Implement security policies to prevent brute force attacks, such as lookout
    policies for a failed login attempt.
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实施安全策略以防止暴力破解攻击，例如对于登录尝试失败的警戒策略。
- en: Disable the serving of directory listings.
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用目录列表的服务。
- en: Monitor and check logs for any suspicious activity.
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 监视和检查日志以发现任何可疑活动。
- en: Implement digital certificates from trusted **Certificate Authorities** (**CAs**)
    and ensure that digital certificates are always up to date.
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从受信任的**证书颁发机构**（**CA**）实施数字证书，并确保数字证书始终是最新的。
- en: Ensure data input validation and sanitization is implemented and tested regularly.
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保数据输入验证和净化已实施并定期测试。
- en: Implement a **Web Application Firewall** (**WAF**).
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实施**Web应用程序防火墙**（**WAF**）。
- en: These items are simply a summary of preventative measures that an IT professional
    can adapt; however, additional research will be required since, each day, new
    and more sophisticated threats and attacks are developed.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 这些项目只是IT专业人员可以采用的预防措施的摘要；然而，由于每天都会出现新的更复杂的威胁和攻击，因此需要进行额外的研究。
- en: Summary
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: During the course of this chapter, we have discussed the techniques that we
    can use to determine web technologies on a web server and perform real-world simulation
    attacks on target web applications.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的课程中，我们已经讨论了我们可以使用的技术，以确定Web服务器上的Web技术，并对目标Web应用程序执行真实世界的模拟攻击。
- en: You are now able to discover the underlying web technologies that are used on
    a target web server and perform further enumeration to discover additional websites
    that are being hosted on a single web server. Furthermore, by completing the exercises
    in this chapter, you have the skills to discover any sensitive files and directories
    on a target server and perform website penetration testing to exploit file uploads
    and LFI vulnerabilities.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以发现目标Web服务器上使用的基础Web技术，并进行进一步的枚举，以发现单个Web服务器上托管的其他网站。此外，通过完成本章的练习，您具备了发现目标服务器上任何敏感文件和目录的技能，并进行网站渗透测试以利用文件上传和LFI漏洞。
- en: I hope this chapter has been helpful and informative in your studies and career.
    In the next chapter, [Chapter 15](43c90c88-f9b6-44da-81d0-fb0e07824b91.xhtml),
    *Website Penetration Testing – Gaining Access*, you'll be learning about using
    advanced web application penetration testing.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 希望本章对您的学习和职业有所帮助和启发。在下一章，[第15章](43c90c88-f9b6-44da-81d0-fb0e07824b91.xhtml)，*网站渗透测试-获取访问权限*，您将学习如何使用高级Web应用程序渗透测试。
- en: Questions
  id: totrans-261
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What are some web server platforms?
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有哪些Web服务器平台？
- en: What tool(s) can be used to discover hidden files on a web server?
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以用什么工具来发现Web服务器上的隐藏文件？
- en: What HTTP status code means successful?
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么HTTP状态代码表示成功？
- en: What type of attack allows an attacker to retrieve stored data from a victim's
    web browser?
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪种类型的攻击允许攻击者从受害者的Web浏览器中检索存储的数据？
- en: What type of attack allows a malicious user to manipulate a database?
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪种类型的攻击允许恶意用户操纵数据库？
- en: Further reading
  id: totrans-267
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'The following are a number of additional reading resources:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些额外的阅读资源：
- en: '**Vulnerable components**: [https://resources.infosecinstitute.com/exploring-commonly-used-yet-vulnerable-components/](https://resources.infosecinstitute.com/exploring-commonly-used-yet-vulnerable-components/)'
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**易受攻击的组件**：[https://resources.infosecinstitute.com/exploring-commonly-used-yet-vulnerable-components/](https://resources.infosecinstitute.com/exploring-commonly-used-yet-vulnerable-components/)'
- en: '**Testing for insecure direct object references**: [https://www.owasp.org/index.php/Testing_for_Insecure_Direct_Object_References_(OTG-AUTHZ-004)](https://www.owasp.org/index.php/Testing_for_Insecure_Direct_Object_References_(OTG-AUTHZ-004))'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**测试不安全的直接对象引用**：[https://www.owasp.org/index.php/Testing_for_Insecure_Direct_Object_References_(OTG-AUTHZ-004)](https://www.owasp.org/index.php/Testing_for_Insecure_Direct_Object_References_(OTG-AUTHZ-004))'
- en: '**Web server misconfiguration**: [https://www.owasp.org/index.php/Top_10-2017_A6-Security_Misconfiguration](https://www.owasp.org/index.php/Top_10-2017_A6-Security_Misconfiguration)'
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web服务器配置错误**：[https://www.owasp.org/index.php/Top_10-2017_A6-Security_Misconfiguration](https://www.owasp.org/index.php/Top_10-2017_A6-Security_Misconfiguration)'
