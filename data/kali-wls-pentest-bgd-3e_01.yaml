- en: Chapter 1. Wireless Lab Setup
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章 无线实验室设置
- en: '|   | *"If I had eight hours to chop down a tree, I''d spend six hours sharpening
    my axe."* |   |'
  id: totrans-1
  prefs: []
  type: TYPE_TB
  zh: '|   | *“如果我有八个小时来砍倒一棵树，我会花六个小时来磨利我的斧头。”* |   |'
- en: '|   | --*Abraham Lincoln, 16th US President* |'
  id: totrans-2
  prefs: []
  type: TYPE_TB
  zh: '|   | --*亚伯拉罕·林肯，第16任美国总统* |'
- en: '*Behind every successful execution is hours or days of preparation, and wireless
    penetration testing is no exception. In this chapter, we will create a wireless
    lab that we will use for our experiments in this book. Consider this lab as your
    preparation arena before you dive into real-world penetration testing!*'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '*每一次成功的执行背后都需要数小时或数天的准备工作，无线渗透测试也不例外。在这一章中，我们将创建一个无线实验室，供本书中的实验使用。把这个实验室当作你进入实际渗透测试前的准备场地吧！*'
- en: '*Wireless penetration testing is a practical subject, and it is important to
    first set up a lab, where we can try out all the different experiments in this
    book in a safe and controlled environment. It is important that you set up this
    lab first before moving on in this book.*'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '*无线渗透测试是一个实用的学科，首先设置一个实验室非常重要，在这里我们可以在安全、受控的环境中尝试本书中的所有不同实验。在继续本书之前，重要的是你首先要设置好这个实验室。*'
- en: 'In this chapter, we will take a look at the following:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将了解以下内容：
- en: Hardware and software requirements
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 硬件和软件要求
- en: Installing Kali
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Kali
- en: Setting up an access point and configuring it
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置一个接入点并进行配置
- en: Installing the wireless card
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装无线网卡
- en: Testing connectivity between the laptop and the access point
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试笔记本与接入点之间的连接
- en: So let the games begin!
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，让我们开始吧！
- en: Hardware requirements
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 硬件要求
- en: 'We will need the following hardware to set up the wireless lab:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要以下硬件来设置无线实验室：
- en: '**Two laptops with internal Wi-Fi cards**: We will use one of the laptops as
    the victim in our lab and the other as the penetration tester''s laptop. Though
    almost any laptop would fit this profile, laptops with at least 3 GB RAM are desirable.
    This is because we may be running a lot of memory-intensive software in our experiments.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**两台带内置Wi-Fi卡的笔记本电脑**：我们将把其中一台笔记本作为实验室中的“受害者”电脑，另一台作为渗透测试者的笔记本。虽然几乎任何一台笔记本都能满足这个要求，但至少需要3GB
    RAM的笔记本会更理想。因为我们在实验中可能会运行很多占用内存的软件。'
- en: '**One wireless adapter (optional)**: Depending on the wireless card of your
    laptop, we may need a USB Wi-Fi card that can support packet injection and packet
    sniffing, which is supported by Kali. The best choice seems to be the Alfa AWUS036H
    card from Alfa Networks, as Kali supports this out of the box. This is available
    on [www.amazon.com](http://www.amazon.com) for a retail price of £18 at the time
    of writing. An alternative option is the Edimax EW-7711UAN, which is smaller and,
    marginally, cheaper.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**一个无线适配器（可选）**：根据你笔记本的无线网卡，我们可能需要一个支持数据包注入和数据包嗅探的USB Wi-Fi卡，而Kali是支持这一功能的。最好的选择似乎是来自Alfa
    Networks的Alfa AWUS036H卡，因为Kali自带支持此卡。在撰写本书时，它在[www.amazon.com](http://www.amazon.com)上的零售价格为18英镑。另一个可选的选择是Edimax
    EW-7711UAN，它更小巧且略微便宜。'
- en: '**One access point**: Any access8 point that supports WEP/WPA/WPA2 encryption
    standards would fit the bill. I will be using a TP-LINK TL-WR841N Wireless router
    for the purpose of illustration in this book. You can purchase it from [www.amazon.com](http://www.amazon.com)
    for a retail price of around £20 at the time of writing.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**一个接入点**：任何支持WEP/WPA/WPA2加密标准的接入点都可以。为了说明本书中的内容，我将使用TP-LINK TL-WR841N无线路由器。你可以在[www.amazon.com](http://www.amazon.com)上购买，零售价格大约为20英镑（截至撰写时）。'
- en: '**An internet connection**: This will come in handy for performing research,
    downloading software, and for some of our experiments.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**互联网连接**：这对于进行研究、下载软件以及我们的某些实验将非常有用。'
- en: Software requirements
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 软件要求
- en: 'We will need the following software to set up the wireless lab:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要以下软件来设置无线实验室：
- en: '**Kali**: This software can be downloaded from the official website located
    at [http://www.kali.org](http://www.kali.org). The software is open source, and
    you should be able to download it directly from the website.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kali**：你可以从官方网站[http://www.kali.org](http://www.kali.org)下载此软件。该软件是开源的，你应该能够直接从网站下载。'
- en: '**Windows XP/Vista/7/10**: You will need any one of Windows XP, Windows Vista,
    Windows 7, or Windows 10 installed on one of the laptops. This laptop will be
    used as the victim machine for the rest of the book.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows XP/Vista/7/10**：你需要在其中一台笔记本上安装Windows XP、Windows Vista、Windows 7或Windows
    10中的任意一种。这台笔记本将作为本书余下章节中的“受害者”机器。'
- en: Note
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Important to note is that even though we are using a Windows-based OS for our
    tests, the techniques learnt can be applied to any Wi-Fi-capable devices, such
    as smartphones and tablets, among others.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，即使我们在测试中使用基于 Windows 的操作系统，所学到的技术也可以应用于任何支持 Wi-Fi 的设备，例如智能手机和平板电脑等。
- en: Installing Kali
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装 Kali
- en: Let's now quickly take a look at how to get up and running with Kali.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们快速看看如何快速上手并运行 Kali。
- en: Kali will be installed on the laptop that will serve as the penetration tester's
    machine for the rest of the book.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Kali 将安装在笔记本电脑上，作为本书中渗透测试人员的主要工具。
- en: Time for action – installing Kali
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间 - 安装 Kali
- en: Kali is relatively simple to install. We will run Kali by booting it as a live
    DVD, and then install it on the hard drive.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: Kali 的安装相对简单。我们将通过启动光盘来运行 Kali，并将其安装在硬盘上。
- en: 'Perform the following instructions step by step:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤逐步执行：
- en: Burn the Kali ISO (we are using the Kali 32-bit ISO) you downloaded, onto a
    bootable DVD.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将您下载的 Kali 32 位 ISO 刻录到可启动的 DVD 上。
- en: Boot the laptop with this DVD and select the option **Install** from **Boot
    menu**:![Time for action – installing Kali](graphics/B09903_01_01.jpg)
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用此 DVD 启动笔记本电脑，并从启动菜单中选择 **Install** 选项：![行动时间 - 安装 Kali](graphics/B09903_01_01.jpg)
- en: If booting was successful, then you should see an awesome retro screen as shown
    in the following screenshot:![Time for action – installing Kali](graphics/B09903_01_02.jpg)
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果启动成功，您将看到一个很棒的复古屏幕，如下面的截图所示：![行动时间 - 安装 Kali](graphics/B09903_01_02.jpg)
- en: This installer is similar to the GUI-based installers of most Linux systems
    and should be simple to follow. Select the appropriate options on every screen
    and start the installation process. Once the installation is done, restart the
    machine as prompted and remove the DVD.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此安装程序类似于大多数 Linux 系统的基于 GUI 的安装程序，应该很容易跟随。在每个屏幕上选择适当的选项并开始安装过程。安装完成后，按提示重新启动机器并移除光盘。
- en: Once the machine restarts, a login screen will be displayed. Log in as `root`
    and the password is whatever you set it to during the installation process. You
    should now be logged into your installed version of Kali. Congratulations!
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦机器重新启动，将显示登录屏幕。以 `root` 用户登录，密码是您在安装过程中设置的密码。现在您应该已经成功登录到安装好的 Kali 版本。恭喜！
- en: I will change the desktop theme and some settings for this book. Feel free to
    use your own themes and color settings!
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我将更改桌面主题和一些设置以适应本书。随意使用您自己的主题和颜色设置！
- en: '*What just happened?*'
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*刚刚发生了什么？*'
- en: We have successfully installed Kali on the laptop! We will use this laptop as
    the penetration tester's laptop for all other experiments in this book.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已成功在笔记本电脑上安装了 Kali！在本书的所有其他实验中，我们将使用这台笔记本电脑作为渗透测试人员的工作设备。
- en: Have a go hero – installing Kali on VirtualBox
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 挑战英雄 - 在 VirtualBox 上安装 Kali
- en: We can also install Kali within virtualization software such as VirtualBox.
    If you don't want to dedicate a full laptop to Kali, this is the best option.
    Kali's installation process in VirtualBox is exactly the same. The only difference
    is the pre-setup, which you will have to create in VirtualBox. Have a go at it!
    You can download VirtualBox from [http://www.virtualbox.org](http://www.virtualbox.org).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以在诸如 VirtualBox 等虚拟化软件中安装 Kali。如果您不想将整个笔记本专用于 Kali，这是最佳选择。在 VirtualBox 中，Kali
    的安装过程完全相同。唯一的区别是您需要在 VirtualBox 中进行预设置。试试看吧！您可以从 [http://www.virtualbox.org](http://www.virtualbox.org)
    下载 VirtualBox。
- en: One of the other ways in which we can install and use Kali is via USB drives.
    This is particularly useful if you do not want to install on the hard drive, but
    still want to store persistent data, such as scripts and new tools, on your Kali
    instance. We encourage you to try this out as well!
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以通过 USB 驱动器安装和使用 Kali。如果您不想在硬盘上安装，但仍想存储持久数据（如脚本和新工具），这将特别有用。我们也鼓励您尝试这种方法！
- en: Setting up the access point
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置访问点
- en: Now we will set up the access point. As mentioned earlier, we will be using
    the TP-LINK TL-WR841N Wireless router for all the experiments in this book. However,
    feel free to use any other access point. The basic principles of operation and
    usage remain the same.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将设置访问点。如前所述，我们将在本书的所有实验中使用 TP-LINK TL-WR841N 无线路由器。不过，您可以自由选择其他访问点。操作和使用的基本原理保持不变。
- en: Time for action – configuring the access point
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间 - 配置访问点
- en: Let's begin! We will set the access point up to use **Open Authentication**
    (**OAuth**) with an SSID of `Wireless Lab`.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！我们将配置接入点使用**开放认证**（**OAuth**），并将 SSID 设置为 `Wireless Lab`。
- en: 'Follow these instructions step by step:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤操作：
- en: Power on the access point, and use an Ethernet cable to connect your laptop
    to one of the access point's Ethernet ports.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开接入点，并使用以太网线将你的笔记本电脑连接到接入点的一个以太网端口。
- en: Enter the IP address of the access point configuration terminal in your browser.
    For TP-Link, it is by default `192.168.1.1`. You should consult your access point's
    setup guide to find its IP address. If you do not have the manuals for the access
    point, you can also find the IP address by running the `route –n` command. The
    gateway IP address is typically the access point's IP. Once you are connected,
    you should see a configuration portal that looks like the following **TP-LINK
    Wireless N Router WR841N** emblazoned screenshot:![Time for action – configuring
    the access point](graphics/B09903_01_03.jpg)
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在浏览器中输入接入点配置终端的 IP 地址。对于 TP-Link，默认地址是 `192.168.1.1`。你应查阅接入点的设置指南以找到其 IP 地址。如果没有接入点的手册，也可以通过运行
    `route –n` 命令来找到 IP 地址。网关 IP 地址通常就是接入点的 IP。连接后，你应该会看到一个配置门户，其界面类似于以下**TP-LINK
    无线路由器 WR841N**的截图：![行动时间——配置接入点](graphics/B09903_01_03.jpg)
- en: Explore the various settings in the portal after logging in, and find the settings
    related to configuring a new SSID.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录后，浏览门户中的各种设置，找到与配置新 SSID 相关的设置。
- en: Change the SSID to `Wireless Lab`. Depending on the access point, you may have
    to reboot it for the settings to change.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 SSID 更改为 `Wireless Lab`。根据接入点的不同，你可能需要重启它才能使设置生效。
- en: Similarly, find the settings related to **Wireless Security** and change the
    setting to **Disable Security**. **Disable Security** indicates that it is using
    the Open Authentication mode.![Time for action – configuring the access point](graphics/B09903_01_04.jpg)
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同样，找到与**无线安全**相关的设置，并将其更改为**禁用安全**。**禁用安全**表示它使用的是开放认证模式。![行动时间——配置接入点](graphics/B09903_01_04.jpg)
- en: Save the changes to the access point and reboot it, if required. Now your access
    point should be up-and-running with an SSID, `Wireless Lab`.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存接入点的更改并重新启动它（如果需要）。现在你的接入点应该已成功启动，SSID 为 `Wireless Lab`。
- en: 'An easy way to verify this is to use the wireless configuration utility in
    Windows and observe the available networks using the Windows laptop. You should
    find `Wireless Lab` as one of the networks in the listing:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 验证这一点的简单方法是使用 Windows 中的无线配置工具，并观察使用 Windows 笔记本电脑可用的网络。你应该能在列表中找到`Wireless
    Lab`作为其中一个网络：
- en: '![Time for action – configuring the access point](graphics/B09903_01_05.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![行动时间——配置接入点](graphics/B09903_01_05.jpg)'
- en: '*What just happened?*'
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*刚刚发生了什么？*'
- en: We have successfully set up our access point with an SSID, `Wireless Lab`. It
    is broadcasting its presence, and this is being picked up by our Windows laptop
    and others within the **Radio Frequency** (**RF**) range of the access point.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已成功设置接入点的 SSID 为 `Wireless Lab`。它正在广播其存在，并且 Windows 笔记本电脑及其他在接入点**无线频率**（**RF**）范围内的设备可以接收到它。
- en: Important to note is that we configured our access point in the **Open** mode,
    which is the least secure. It is advisable not to connect this access point to
    the internet for the time being, as anyone within the RF range will be able to
    use it to access the internet.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，我们将接入点配置为**开放**模式，这是最不安全的。建议暂时不要将此接入点连接到互联网，因为任何在无线频率范围内的人都可以利用它访问互联网。
- en: Have a go hero – configuring the access point to use WEP and WPA
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 英雄出击——配置接入点使用 WEP 和 WPA
- en: Play around with the configuration options of your access point. Try to get
    it up-and-running using encryption schemes such as WEP and WPA/WPA2\. We will
    use these modes in later chapters to illustrate attacks against them.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 玩弄接入点的配置选项。尝试使用加密方案，如 WEP 和 WPA/WPA2，使其正常运行。我们将在后续章节中使用这些模式来演示对它们的攻击。
- en: Setting up the wireless card
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置无线网卡
- en: Setting up our wireless adapter is much easier than the access point. The advantage
    is that Kali supports this card out of the box and ships with all requisite device
    drivers to enable packet injection and packet sniffing.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 设置无线适配器比配置接入点要简单得多。优势在于 Kali 开箱即用支持此卡，并且自带所有必要的设备驱动程序，可以启用数据包注入和数据包嗅探。
- en: Time for action – configuring your wireless card
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间——配置你的无线网卡
- en: We will be using the wireless adapter with the penetration tester's laptop.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用无线适配器与渗透测试人员的笔记本进行配合使用。
- en: 'Follow these instructions step by step to set up your card:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 请按照以下步骤逐步设置您的网卡：
- en: Plug in the card to one of the Kali laptop's USB ports and boot it. Once you
    log in, open a console terminal and type in `iwconfig`. Your screen should look
    as follows:![Time for action – configuring your wireless card](graphics/B09903_01_06.jpg)
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将网卡插入 Kali 笔记本的 USB 端口并启动它。登录后，打开终端窗口并输入 `iwconfig`。您的屏幕应该如下所示：![现在开始操作 – 配置您的无线网卡](graphics/B09903_01_06.jpg)
- en: As you can see, `wlan0` is the wireless interface created for the wireless adapter.
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如您所见，`wlan0` 是为无线适配器创建的无线接口。
- en: 'Type in `ifconfig wlan0 up` to bring the interface up. Then, type in `ifconfig
    wlan0` to see the current state of the interface:'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输入 `ifconfig wlan0 up` 来启用接口。然后，输入 `ifconfig wlan0` 来查看接口的当前状态：
- en: '![Time for action – configuring your wireless card](graphics/B09903_01_07.jpg)'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![现在开始操作 – 配置您的无线网卡](graphics/B09903_01_07.jpg)'
- en: The MAC address `00:c0:ca:3e:bd:93` should look like the MAC address written
    under your Alfa card. I am using the Edimax that gives me the preceding MAC address
    `80:1f:02:8f:34:d5`. This is a quick check to ensure that you have enabled the
    correct interface.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: MAC 地址 `00:c0:ca:3e:bd:93` 应该类似于您 Alfa 网卡下写的 MAC 地址。我使用的是 Edimax 网卡，给我提供了前面的
    MAC 地址 `80:1f:02:8f:34:d5`。这是一个快速检查，以确保您启用了正确的接口。
- en: '*What just happened?*'
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*刚刚发生了什么？*'
- en: Kali ships with all the required drivers for the Alfa and Edimax adapters out
    of the box. As soon as the machine booted, the adapter was recognized and was
    assigned the network interface `wlan0`. Now our wireless adapter is up and functional!
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: Kali 系统自带了 Alfa 和 Edimax 适配器所需的所有驱动程序。机器启动后，适配器被识别并分配了网络接口 `wlan0`。现在我们的无线适配器已经启动并正常工作了！
- en: Connecting to the access point
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到接入点
- en: Now we will take a look at how to connect to the access point using the wireless
    adapter. Our access point has an SSID, `Wireless Lab` and does not use any authentication.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来看看如何使用无线适配器连接到接入点。我们的接入点有一个 SSID，即 `Wireless Lab`，并且不使用任何认证方式。
- en: Time for action – configuring your wireless card
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 现在开始操作 – 配置您的无线网卡
- en: 'Here we go! Follow these steps to connect your wireless card to the access
    point:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！请按照以下步骤将您的无线网卡连接到接入点：
- en: Let's first see what wireless networks our adapter is currently detecting. Issue
    the `iwlist wlan0 scanning` command, and you will find a list of networks in your
    vicinity:![Time for action – configuring your wireless card](graphics/B09903_01_08.jpg)
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们先看看无线网卡当前检测到哪些无线网络。执行 `iwlist wlan0 scanning` 命令，您将看到您附近的网络列表：![现在开始操作 –
    配置您的无线网卡](graphics/B09903_01_08.jpg)
- en: Keep scrolling down and you should find the `Wireless Lab` network in this list.
    In my setup, it is detected as `Cell 05`; it may be different in yours. The `ESSID`
    field contains the network name.
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 继续向下滚动，您应该在此列表中找到 `Wireless Lab` 网络。在我的设置中，它被检测为 `Cell 05`，在您的设备中可能会有所不同。`ESSID`
    字段包含网络名称。
- en: As multiple access points can have the same SSID, verify that the MAC address
    mentioned in the preceding `Address` field matches your access point's MAC. A
    fast and easy way to get the MAC address is underneath the access point or using
    web-based GUI settings.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于多个接入点可能有相同的 SSID，请确保前面提到的 `Address` 字段中的 MAC 地址与接入点的 MAC 地址匹配。一个快速且简单的方法是查看接入点底部的
    MAC 地址，或者使用基于网页的 GUI 设置来查找。
- en: Now, issue the `iwconfig wlan0 essid "Wireless Lab"` command and then `iwconfig
    wlan0` to check the status. If you have successfully connected to the access point,
    you should see the MAC address of the access point in the `Access Point` field
    in the output of `iwconfig`.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，执行 `iwconfig wlan0 essid "Wireless Lab"` 命令，然后执行 `iwconfig wlan0` 来检查状态。如果您已成功连接到接入点，您应该在
    `iwconfig` 输出的 `Access Point` 字段中看到接入点的 MAC 地址。
- en: We know that the access point has a management interface IP address `192.168.0.1`
    from its manual. Alternately, this is the same as the default router IP address
    when we run the `route –n` command. Let's set our IP address in the same subnet
    by issuing the `ifconfig wlan0 192.168.0.2 netmask 255.255.255.0 up` command.
    Verify that the command succeeded by typing `ifconfig wlan0` and checking the
    output.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们知道接入点的管理界面 IP 地址是 `192.168.0.1`，这个信息可以从其手册中找到。或者，当我们运行 `route –n` 命令时，默认的路由器
    IP 地址也是这个。让我们通过执行 `ifconfig wlan0 192.168.0.2 netmask 255.255.255.0 up` 命令，将 IP
    地址设置在同一子网中。通过输入 `ifconfig wlan0` 并检查输出，验证命令是否成功执行。
- en: Now let's ping the access point by issuing the `ping 192.168.0.1` command. If
    the network connection has been set up properly, then you should see the responses
    from the access point. You can additionally issue an `arp –a` command to verify
    that the response is coming from the access point. You should see that the MAC
    address of the IP `192.168.0.1` is the access point's MAC address we noted earlier.
    It is important to note that some of the more recent access points might have
    responses to the **Internet Control Message Protocol** (**ICMP**) echo request
    packets disabled. This is typically done to make the access point secure out of
    the box with only minimal configuration settings available. In such a case, you
    can try to launch a browser and access the web interface to verify that the connection
    is up-and-running:![Time for action – configuring your wireless card](graphics/B09903_01_09.jpg)
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，让我们通过执行 `ping 192.168.0.1` 命令来 ping 接入点。如果网络连接设置正确，您应该看到来自接入点的响应。您还可以额外执行
    `arp –a` 命令来验证响应是否来自接入点。您应该会看到 IP `192.168.0.1` 的 MAC 地址是我们之前记录的接入点的 MAC 地址。需要注意的是，一些较新的接入点可能会禁用对
    **互联网控制消息协议** (**ICMP**) 回显请求包的响应。这通常是为了让接入点在最小配置设置下更安全。遇到这种情况，您可以尝试启动浏览器并访问 Web
    界面，验证连接是否正常：![操作时间 – 配置您的无线网卡](graphics/B09903_01_09.jpg)
- en: On the access point, we can verify connectivity by looking at the connection
    logs. As you can see in the following log, the MAC address of the wireless card
    `4C:0F:6E:70:BD:CB` has been logged making DHCP requests from the router:![Time
    for action – configuring your wireless card](graphics/B09903_01_10.jpg)
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在接入点上，我们可以通过查看连接日志来验证连接情况。正如您在以下日志中看到的，无线网卡的 MAC 地址 `4C:0F:6E:70:BD:CB` 已经记录了来自路由器的
    DHCP 请求：![操作时间 – 配置您的无线网卡](graphics/B09903_01_10.jpg)
- en: '*What just happened?*'
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*刚刚发生了什么？*'
- en: We just connected to our access point successfully from Kali using our wireless
    adapter as the wireless device. We also learned how to verify that a connection
    has been established at both the wireless client and the access point side.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚成功地通过 Kali 使用无线适配器连接到接入点。我们还学习了如何在无线客户端和接入点两侧验证连接是否已建立。
- en: Have a go hero – establishing a connection in a WEP configuration
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 英雄试试 – 在 WEP 配置中建立连接
- en: 'Here is a challenging exercise for you: set up the access point in a WEP configuration.
    For each of these, try establishing a connection with the access point using the
    wireless adapter. Hint: check the manual for the `iwconfig` command by typing
    `man iwconfig` to see how to configure the card to connect to WEP.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一个具有挑战性的练习：在 WEP 配置中设置接入点。对于每个设置，尝试使用无线适配器与接入点建立连接。提示：通过输入 `man iwconfig`
    查阅 `iwconfig` 命令的手册，查看如何配置网卡以连接到 WEP。
- en: Pop quiz – understanding the basics
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 快速测验 – 理解基础知识
- en: Q1\. After issuing the `ifconfig wlan0` command, how do you verify that the
    wireless card is up and functional?
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: Q1. 执行 `ifconfig wlan0` 命令后，如何验证无线网卡是否正常工作？
- en: Q2\. Can we run all our experiments using the Kali live CD alone? Can we not
    install the CD to the hard drive?
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: Q2. 我们能仅使用 Kali live CD 进行所有实验吗？我们不能将 CD 安装到硬盘上吗？
- en: Q3\. What does the `arp –a` command show?
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: Q3. `arp –a` 命令显示什么？
- en: Q4\. Which tool should we use in Kali to connect to WPA/WPA2 networks?
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Q4. 我们应该使用 Kali 中的哪个工具连接到 WPA/WPA2 网络？
- en: Summary
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: 'This chapter provided you with detailed instructions on how to set up your
    own wireless lab. Also, in the process, you learned the basic steps do the following:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 本章为您提供了如何设置自己的无线实验室的详细说明。此外，您还学习了执行以下基本步骤：
- en: Installing Kali on your hard drive and exploring other options such as virtual
    machines and USBs
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在硬盘上安装 Kali 并探索其他选项，如虚拟机和 USB。
- en: Configuring your access point over the web interface
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 Web 界面配置接入点
- en: Understanding and using several commands to configure and use your wireless
    card
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解并使用多个命令来配置和使用您的无线网卡
- en: Verifying the connection state between the wireless client and the access point
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证无线客户端与接入点之间的连接状态
- en: Gaining confidence in configuring the system is important for you. If you aren't
    confident, it is advisable that you repeat the preceding examples a couple of
    times. In later chapters, we will design more complicated scenarios.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 增强配置系统的信心对您很重要。如果您不自信，建议您多次重复前面的示例。在后续章节中，我们将设计更复杂的场景。
- en: In the next chapter, you will learn about inherent design-based insecurities
    in the WLANs design. We will use the network analyzer tool, Wireshark, to understand
    these concepts in a practical way.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将学习到 WLAN 设计中固有的基于设计的安全隐患。我们将使用网络分析工具 Wireshark，以一种实践的方式来理解这些概念。
