- en: VPN and WAN Encryption
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: VPN与WAN加密
- en: In the previous chapter, we discussed data protection and security techniques
    by looking at firewalls and firewall network design, as well as its placement.
    In this chapter, we will focus on protecting data before transmitting it over
    a public internet infrastructure or a network infrastructure shared by a service
    provider.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们通过研究防火墙和防火墙网络设计以及其部署方式来讨论了数据保护和安全技术。在本章中，我们将重点关注在通过公共互联网基础设施或服务提供商共享的网络基础设施传输数据之前保护数据。
- en: 'We are going to cover the following topics in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论以下主题：
- en: Overview
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 概述
- en: Classes of VPN
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VPN的分类
- en: Type of VPN protocol
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VPN协议类型
- en: VPN design
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VPN设计
- en: IKE V1 versus IKE V2
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IKE V1与IKE V2
- en: WAN encryption technique
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WAN加密技术
- en: Overview
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概述
- en: Data is the new currency or oil. It can be found in your shopping pattern, emails,
    online banking, food ordering and in many places besides. Every year, we continue
    to encounter issues such as cyber threats, illegal surveillance (Wikileaks), and
    anti-privacy advocacy that targets these areas. In a connected world like the
    internet, security and privacy is a must when it comes to protecting data. As
    an end user, it's impossible to have an end-to-end visibility on public internet
    infrastructure that we use day to day. Fortunately, we have **virtual private
    networks** (**VPN**), a type of shield which forms a secure tunnel between two
    or more VPN supported devices. VPN helps to protect data traffic from snooping
    or man-in-the-middle attacks. However, to pick the best VPN service out there,
    we first need to understand the different VPN types and their use cases.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 数据是新的货币或石油。它可以在你的购物模式、电子邮件、网上银行、订餐等许多地方找到。每年，我们都遇到像网络威胁、非法监视（维基解密）和反隐私倡导等问题，攻击这些领域。在像互联网这样的互联世界中，保护数据时，安全性和隐私至关重要。作为终端用户，我们无法全面了解我们每天使用的公共互联网基础设施。幸运的是，我们有**虚拟私人网络**（**VPN**），这是一种在两个或多个支持VPN的设备之间形成安全隧道的屏障。VPN有助于保护数据流量免受窥探或中间人攻击。然而，为了选择最好的VPN服务，我们首先需要了解不同类型的VPN及其使用场景。
- en: 'There are many use cases for VPNs.One very common reason why a VPN might be
    used for secure communication for mobile users or between branches and head offices
    is because it provides secure access for corporate IT resources:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: VPN有很多使用场景。一个非常常见的理由是，VPN可以用于移动用户或分支机构与总部之间的安全通信，因为它提供了对企业IT资源的安全访问：
- en: '![](Images/e38ea5f0-881c-4548-8038-ac77e8e09a4b.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/e38ea5f0-881c-4548-8038-ac77e8e09a4b.png)'
- en: 'Your local ISP acts as a gateway for internet access and your activity can
    be tracked via this. In the same way as when you attempt to access any resources,
    the resource provider can also track your location based on your IP address. This
    is going to be another use case where you hide your identity by using third-party
    VPNs. In the following diagram, you can see that a user sitting in Manila can
    connect to a global resource, that might be blocked for the local ISP in Manila:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 你的本地ISP作为互联网访问的网关，你的活动可以通过它被追踪。就像你尝试访问任何资源时，资源提供方也可以根据你的IP地址追踪你的所在位置。这将是另一种使用案例，在这种情况下你通过使用第三方VPN来隐藏自己的身份。在下面的示意图中，你可以看到一个坐在马尼拉的用户可以连接到一个全球资源，而这个资源可能会被马尼拉的本地ISP封锁：
- en: '![](Images/16453b90-b7c5-4d0a-a99c-beba5ec97391.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/16453b90-b7c5-4d0a-a99c-beba5ec97391.png)'
- en: These VPNs are available either in app format or are inbuilt within the browser.
    Some organizations also provide full tunnel capabilities. Here, once you are connected
    to a corporate VPN, your exit point to the internet would be your organization's
    internet gateway.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这些VPN可以以应用程序格式提供，或内置于浏览器中。一些组织还提供完整的隧道功能。在这种情况下，一旦你连接到企业VPN，你通向互联网的出口点将是你所在组织的互联网网关。
- en: Classes of VPN
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: VPN的分类
- en: VPN trusts a user to connect to private resources securely over public     
          infrastructure networks that we don't trust. VPN creates an encrypted connection
    (known as a secure VPN tunnel) and all data traffic passes through this secure
    tunnel.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: VPN信任用户通过公共基础设施网络安全地连接到私有资源，而这些公共基础设施网络是我们不信任的。VPN创建一个加密连接（称为安全VPN隧道），所有数据流量都通过这个安全隧道传输。
- en: 'Let’s consider several different VPNs and think about where they fit. We’ll
    look at two main classes of VPN, which I will refer to as remote access VPNs and
    network-based site-to-site VPNs:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑几种不同的VPN，并思考它们的适用场景。我们将重点讨论两大类VPN，我将其称为远程访问VPN和基于网络的站点到站点VPN：
- en: '**Remote access VPN**:This is aperfect solution for users who need to connect
    to a corporate network to gain access to IT resources remotely. For example, telecommuters,
    mobile users, and extranet users. The connection between the user and the corp
    network happens through the internet. VPNs might require users to install the
    VPN client firewall vendors'' specific software, or they may be required to use
    a web-based client. The VPN client software forms a secure tunnel with the VPN
    server and encapsulates and encrypts the information before sending it over the
    internet to the VPN server. IPSec or tunnelling protocols can be used to establish
    a tunnel between endpoints on a network. VPN technology offers IPSec and SSL,
    two of the most famous and widely deployed methods to deploy remote VPNs.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程访问VPN**：这是一个完美的解决方案，适用于需要连接到企业网络以远程访问IT资源的用户。例如，远程工作者、移动用户和外联网用户。用户与公司网络之间的连接通过互联网进行。VPN可能要求用户安装VPN客户端防火墙供应商的特定软件，或者可能要求使用基于网页的客户端。VPN客户端软件与VPN服务器形成一个安全隧道，并在将信息通过互联网发送到VPN服务器之前对其进行封装和加密。IPSec或隧道协议可以用来在网络的端点之间建立隧道。VPN技术提供了IPSec和SSL，这是部署远程VPN的两种最著名和广泛应用的方法。'
- en: A remote access VPN user must have an AAA profile to control access and authorization.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 远程访问VPN用户必须拥有AAA配置文件，以控制访问和授权。
- en: '**Site–to–Site VPN**:Site-to-site VPNs (often known as point-to-point VPNs)
    are mostly used in the corporate sector to provide IT resource access to branch
    offices and partners'' offices in different geographic locations. When remote
    offices of the same organization are connected using site-to-site VPNs, it is
    known as an intranet based VPN. If the purpose was to provide connectivity to
    a partner''s domain, then it would be known as an extranet VPN.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**站点到站点VPN**：站点到站点VPN（通常称为点对点VPN）主要用于企业领域，为不同地理位置的分支机构和合作伙伴的办公室提供IT资源访问。当同一组织的远程办公室通过站点到站点VPN连接时，它被称为基于内联网的VPN。如果目的是为合作伙伴的域提供连接，则被称为外联网VPN。'
- en: Type of VPN protocol
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: VPN协议类型
- en: VPN types are distinguished by the various tunnelling protocols, such as PPTP,
    and L2TP with IPSec. Each of these VPN protocols offer different features and
    levels of security.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: VPN类型通过各种隧道协议区分，如PPTP和L2TP与IPSec。每种VPN协议提供不同的功能和安全级别。
- en: Point-to-Point tunneling protocol
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 点对点隧道协议
- en: PPTP remains a popular network protocol – especially on Windows computers -
    and it is one of the oldest protocols still in use. This has been developed by
    Microsoft to encapsulate another protocol called point-to-point. PPTP uses underlying
    authentication protocols such as MS-CHAP (**Challenge Handshake Authentication
    Protocol** (**CHAP**))—v1/v2, which are subject to serious security vulnerabilities.
    PPTP VPN encrypts data using 128-bit encryption, which makes it the fastest, but
    the weakest in terms of security.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: PPTP仍然是一个流行的网络协议——特别是在Windows计算机上——它是最古老的仍在使用的协议之一。该协议由微软开发，用于封装另一种名为点对点的协议。PPTP使用底层认证协议，如MS-CHAP（**挑战握手认证协议**（**CHAP**））——v1/v2，但这些协议存在严重的安全漏洞。PPTP
    VPN使用128位加密来加密数据，这使其成为最快的，但在安全性方面是最弱的。
- en: Layer 2 Tunneling Protocol
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 层2隧道协议
- en: L2TP is developed by combining characteristics of the **Layer 2 Forwarding Protocol** (**L2F**),
    designed by Cisco, with those of  PPTP, designed by Microsoft. As L2TP does not
    offer confidentiality and encryption features on its own, another protocol called
    IPSec is used along with it to secure the connection. For end host clients, software
    installation is not required since almost all operating systems offer inbuilt
    VPN clients. 256 bit encryption is a mandatory addition to the L2TP VPN. L2TP
    is a CPU processor that is intensive due to double encapsulation. The first encapsulation
    takes place when the L2TP VPN functions and it is then topped off with the second
    IPSec encapsulation.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: L2TP是通过将**层2转发协议**（**L2F**）的特性（由思科设计）与PPTP的特性（由微软设计）结合开发的。由于L2TP本身不提供保密性和加密功能，因此需要与另一个协议——IPSec一起使用，以确保连接的安全性。对于终端主机客户端，不需要安装软件，因为几乎所有操作系统都提供内置的VPN客户端。256位加密是L2TP
    VPN的强制性附加项。由于双重封装，L2TP是一个CPU处理器密集型的协议。第一次封装发生在L2TP VPN工作时，然后再加上第二次IPSec封装。
- en: 'Let''s look at Windows 10 inbuilt VPN options: You have the option to use L2TP
    with pre-shared keys and certificates:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看Windows 10内置的VPN选项：您可以选择使用带有预共享密钥和证书的L2TP：
- en: '![](Images/4d175206-3c85-4099-ae5f-7d34660dd62e.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/4d175206-3c85-4099-ae5f-7d34660dd62e.png)'
- en: Secure Socket Tunneling protocol
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全套接字隧道协议
- en: Based on VPN, **Secure Socket Tunneling protocol** (**SSTP**) is best suited
    to VPN for highly confidential online activities, such as banking transactions,
    e-commerce transactions or business communications. SSTP VPN is Microsoft's SSL
    VPN, which worked on port `443`, and this port is likely not blocked by any ISP.
    SSTP comes with Integrated **Network Access Protection** (**NAP**) support for
    client health checks, including antivirus and firewall. Unlike other VPN protocols,
    SSTP establishes a single HTTPS channel from client to server, and also supports
    strong authentication smartcards, RSA secureID, and so on.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 基于VPN，**安全套接字隧道协议**（**SSTP**）最适合用于需要高度保密的在线活动，如银行交易、电子商务交易或商务通信。SSTP VPN是微软的SSL
    VPN，运行在`443`端口上，这个端口可能不会被任何ISP阻塞。SSTP带有集成的**网络访问保护**（**NAP**）支持，用于客户端健康检查，包括防病毒和防火墙。与其他VPN协议不同，SSTP从客户端到服务器建立一个单一的HTTPS通道，还支持强身份验证，例如智能卡、RSA
    SecureID等。
- en: The NAP platform is not available from Windows 10 onwards.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 从Windows 10开始，NAP平台不可用。
- en: Internet Protocol Security
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 互联网协议安全
- en: '**Internet Protocol Security** (**IPsec**) is a widely deployed open standard,multi-vendor
    supported framework design based on cryptography to achieve security and data
    protection for IPv4 and IPv6\. IPsec does support symmetric and asymmetric cryptography
    to secure communications. The asymmetric cryptography always requires more CPU
    processing power and higher performance. This is because the implementation uses
    asymmetric cryptography to share a shared secret and it then performs symmetric
    encryption.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**互联网协议安全**（**IPsec**）是一种广泛部署的开放标准，支持多厂商的框架设计，基于密码学实现IPv4和IPv6的安全性与数据保护。IPsec支持对称和非对称加密以保护通信。非对称加密总是需要更多的CPU处理能力和更高的性能。这是因为实施过程中，使用非对称加密共享一个共享密钥，然后进行对称加密。'
- en: 'The main components of IPSec are mentioned below:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: IPSec的主要组成部分如下：
- en: '**Authentication Header** (**AH**)'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**认证头部**（**AH**）'
- en: '**Encapsulating Security Payload** (**ESP**)'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**封装安全负载**（**ESP**）'
- en: '**Internet Key Exchange Protocols** (**IKE**)'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**互联网密钥交换协议**（**IKE**）'
- en: 'AH only provides message authentication. In other words, AH only lets the receiver
    verify that the message is intact and unaltered; it doesn''t encrypt data. The
    following diagram shows the packet format before and after AH encapsulation:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: AH仅提供消息认证。换句话说，AH只允许接收方验证消息是否完整且未被篡改；它并不加密数据。下图展示了AH封装前后数据包的格式：
- en: '![](Images/20759435-e606-4671-b8ed-18778406b8fc.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/20759435-e606-4671-b8ed-18778406b8fc.png)'
- en: The basic difference is that ESP provides actual encryption. It encrypts the
    payload of the packet and protects it from snooping and replay. The following
    diagram shows the packet
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 基本的区别是ESP提供了实际的加密。它加密数据包的有效载荷，防止被窃听和重放。下图展示了数据包
- en: '![](Images/7d0eb6fd-976f-4fe4-88a9-f1789ef366bd.png):No current deployment
    of IPsec uses AH.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/7d0eb6fd-976f-4fe4-88a9-f1789ef366bd.png)：目前没有IPsec部署使用AH。'
- en: 'There are two phases for IPsec communication:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: IPsec通信有两个阶段：
- en: In the first phase (marked in blue), IKE establishes a secure channel. In the
    second phase (marked in green), encrypted data is transmitted.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一阶段（用蓝色标记），IKE建立了一个安全通道。在第二阶段（用绿色标记），加密数据被传输。
- en: 'There are two versions of IKE: IKE V1 and IKE V2\. We will discuss the benefits
    of V2 in an upcoming section. For more details, you can refer to [https://tools.ietf.org/html/rfc6311](https://tools.ietf.org/html/rfc6311):'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: IKE有两个版本：IKE V1和IKE V2。我们将在后续章节讨论V2的优势。更多细节请参考[https://tools.ietf.org/html/rfc6311](https://tools.ietf.org/html/rfc6311)：
- en: '![](Images/2c8af39f-3da0-4f20-bb4f-a12f0e6541f5.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/2c8af39f-3da0-4f20-bb4f-a12f0e6541f5.png)'
- en: SSL VPN
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SSL VPN
- en: For remote access roaming users, SSL VPN is the best solution. The SSL protocol
    provides confidentiality and authenticity over the public internet. SSL uses TCP
    `443`, which is a non-blocking port for any ISP. To connect VPN, users need to
    type SSL VPN FQDN in the browser, for example, [https://vpn.corp.com](https://vpn.corp.com) .
    Upon successful authentication, users can communicate with corporate IT resources.
    SSL VPN doesn't require installation and configuration of client software at the
    user end.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 对于远程访问漫游用户，SSL VPN是最佳解决方案。SSL协议在公共互联网中提供机密性和真实性。SSL使用TCP `443`端口，这是一个不会被任何ISP阻塞的端口。用户需要在浏览器中输入SSL
    VPN的FQDN，例如，[https://vpn.corp.com](https://vpn.corp.com)。认证成功后，用户可以与公司IT资源进行通信。SSL
    VPN不需要在用户端安装和配置客户端软件。
- en: Let's try to understand the security of SSL VPN. Having VPN does not mean that
    everything is good and that data  transmission is safe. SSL VPN relies on SSL
    PKI cryptography. Using insecure or outdated weak encryption simply translates
    into putting corporate data at risk. Please refer to Chapter 9 for the latest
    SSL/TLS standard.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试了解 SSL VPN 的安全性。 拥有 VPN 并不意味着一切都很好，数据传输是安全的。 SSL VPN 依赖于 SSL PKI 加密。 使用不安全或过时的弱加密简单地意味着将企业数据置于风险之中。
    请参考第 9 章了解最新的 SSL/TLS 标准。
- en: Please keep in mind that an SSL secure channel is always built between a host
    and gateway, not to the end resources.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，SSL 安全通道始终在主机和网关之间建立，而不是到达终端资源。
- en: MPLS VPN
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MPLS VPN
- en: 'MPLS VPNs are the best use case for multi-site global connectivity to Enterprise
    Networks. Enterprises connect to the same MPLS service provider with two or more
    sites to form a VPN. MPLS L3VPN is the most commonly deployed application over
    **multi-protocol label switched** (**MPLS**) networks. MPLS allows service providers
    to virtualize their network resources on the service provider Edge, so customers
    can share the physical network but still maintain logical isolation. Enterprise
    customers use service providers such as MPLS infrastructures to connect to multiple
    global sites. Alternatively, large enterprises may use MPLS internally for their
    own global infrastructures. The **Provider Edge** (**PE**) router terminates customers''
    circuit into a **virtual route forwarding** (**VRF**) instance that is unique
    to every customer, and then forwards it to a provider core router, using MPLS
    to tag the traffic and identify the VRF the traffic belongs to:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: MPLS VPN 是实现企业网络多站点全球连接的最佳用例。企业连接到同一家 MPLS 服务提供商的两个或更多站点，形成 VPN。 MPLS L3VPN
    是在**多协议标签交换**（**MPLS**）网络上最常部署的应用程序。 MPLS 允许服务提供商在服务提供商边缘上虚拟化其网络资源，因此客户可以共享物理网络但仍保持逻辑隔离。
    企业客户使用诸如 MPLS 基础设施之类的服务提供商连接到多个全球站点。 或者，大型企业可能在其自己的全球基础设施内部使用 MPLS。 **提供者边缘**（**PE**）路由器将客户的电路终止到对每个客户唯一的**虚拟路由转发**（**VRF**）实例中，然后将其转发到提供者核心路由器，使用
    MPLS 对流量进行标记并识别流量所属的 VRF：
- en: '![](Images/7019faff-b1d2-4486-b34c-8292e4b81bc4.png)MPLS does not provide encryption
    by default.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/7019faff-b1d2-4486-b34c-8292e4b81bc4.png)MPLS 默认不提供加密。'
- en: For remote access VPNs, never choose PPTP unless you have no other option and
    are doing basic activities such as streaming Netflix, which doesn't require security
    or safety. Use L2TP/IPsec when you have to and keep in mind that SSTP is a good
    alternative for Windows devices that need stronger security. IKEv2 is the latest
    and greatest offering which is perfect because it won't drop a secure VPN connection
    when switching between a Wi-Fi network or cell connection. We will discuss the
    IKEv2 feature in our next section.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 对于远程访问 VPN，除非没有其他选择并且正在进行不需要安全性或安全性的基本活动（如流媒体 Netflix），否则永远不要选择 PPTP。 当必须使用时，请使用
    L2TP/IPsec，并牢记 SSTP 是 Windows 设备需要更强安全性的良好选择。 IKEv2 是最新和最好的选择，因为在 Wi-Fi 网络或蜂窝连接之间切换时不会中断安全
    VPN 连接。 我们将在下一节讨论 IKEv2 功能。
- en: VPN Design
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: VPN 设计
- en: Let's discuss design considerations for site-to-site firewall termination points.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们讨论站点到站点防火墙终止点的设计考虑。
- en: '**A Separate VPN Firewall**: You might have seen multiple scenarios for enterprise
    networks. Having a single firewall gives networks less flexibility and a single
    VPN termination point. However, most networks have at least a dual firewall layer
    from a security point of view. The first firewall is there to stop all unwanted
    data traffic and to control DMZ traffic, while the second firewall can be used
    to terminate a VPN connection, along with next generation firewall features such
    as URL filtering, and antivirus:'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**单独的 VPN 防火墙**：您可能已经看到了企业网络的多种情景。 仅有一个防火墙会使网络缺乏灵活性和单一的 VPN 终止点。 但是，从安全角度来看，大多数网络至少有一个双防火墙层。
    第一个防火墙用于阻止所有不需要的数据流量并控制 DMZ 流量，而第二个防火墙可用于终止 VPN 连接，以及具有 URL 过滤和防病毒等下一代防火墙功能：'
- en: '![](Images/3e6152d6-f614-4102-9c53-9b8387c97ea5.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/3e6152d6-f614-4102-9c53-9b8387c97ea5.png)'
- en: '**Remote Access VPN Tunnels—to split or not to split?**: Whenever an organization
    evaluates options to set up VPN for its remote workers and partners, one of the
    security considerations that arise is whether or not to support a split tunnel
    model. Let''s explore the pros and cons of this. A full tunnel translates a secure
    connection when all your traffic goes through the VPN. A split tunnel means that
    only corporate traffic goes through the tunnel. For the rest of the traffic, a
    local internet connection would be used.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程访问 VPN 隧道——分隔还是不分隔？**：每当一个组织评估为其远程工作者和合作伙伴设置 VPN 的选项时，一个安全考虑是是否支持分隔隧道模型。让我们探讨一下这种模式的利弊。完整隧道意味着当所有流量都通过
    VPN 时建立了一个安全连接。分隔隧道意味着只有公司流量通过隧道。对于其余流量，将使用本地互联网连接。'
- en: 'The following diagram shows a split tunnel: Red traffic goes through a local
    internet gateway.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了一个分隔隧道：红色流量通过本地互联网网关。
- en: '![](Images/74078736-56a5-4a4a-94ba-2941a6012018.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/74078736-56a5-4a4a-94ba-2941a6012018.png)'
- en: 'The following diagram shows a full tunnel: All traffic goes through the VPN.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了一个完整的隧道：所有流量都通过 VPN。
- en: '![](Images/48a31925-a649-48c8-a161-0ce20fed9dee.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/48a31925-a649-48c8-a161-0ce20fed9dee.png)'
- en: As we have seen, a split tunnel might make a faster internet connection via
    a local internet gateway, but direct connection bypasses all corporate control
    and security policies, such as URL filtering and malware protection. In a full
    tunnel, all traffic travels through a corporate gateway, providing great security.
    However, an extra hop to a network might cause slow network access. A full tunnel
    also helps you to hide your identity on the internet.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所见，分隧道可能通过本地互联网网关实现更快的互联网连接，但直接连接会绕过所有公司的控制和安全策略，如 URL 过滤和恶意软件保护。在完整隧道中，所有流量都通过公司网关传输，提供了很好的安全性。然而，额外的网络跳转可能导致网络访问缓慢。完整隧道还可以帮助您在互联网上隐藏身份。
- en: If your business has enough bandwidth to accommodate all remote users, then
    the network and security administrator must use a full tunnel. An organization
    with a large remote workforce can consume significant amounts of bandwidth.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的企业有足够的带宽来容纳所有远程用户，那么网络和安全管理员必须使用完整隧道。一个拥有大量远程员工的组织可能会消耗大量带宽。
- en: A common practice followed by most network administrators is to choose  pre-shared
    secrets for authentication, which is identical on both ends of the connection
    termination point. This would be done rather than setting up a **Certificate Authority**
    (**CA**) and issuing individual keys to each IPSec endpoint. Consequently, if
    one endpoint is compromised or physically stolen, the whole network becomes vulnerable.
    As IT staff keeps changing, the secrecy of that pre-shared key defeats the object
    over time. An SSL/TLS certificate based VPN works well, but that also brings device
    configuration overheads. However, if you still decide on using pre-shared keys
    then you should have a process in place for changing them after a certain amount
    of time, and you should use different pre-shared keys on different VPN connections.
    For approved and strong encryption, you must look at the **Federal Information
    Processing Standards** (**FIPS**), published by the National Institute of Standards
    and Technology.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数网络管理员遵循的常见做法是选择预共享密钥进行身份验证，这在连接终止点的两端是相同的。这样做是为了避免设置**证书颁发机构**（**CA**）并为每个
    IPSec 端点发放单独的密钥。因此，如果一个端点被破坏或被盗，整个网络就会变得脆弱。随着 IT 员工的变动，预共享密钥的保密性随着时间的推移而失去意义。基于
    SSL/TLS 证书的 VPN 运行良好，但这也带来了设备配置方面的开销。然而，如果您仍然决定使用预共享密钥，那么您应该制定一个在一定时间后更改它们的流程，并且您应该在不同的
    VPN 连接上使用不同的预共享密钥。对于经过批准和强大的加密，您必须查看由国家标准与技术研究所发布的**联邦信息处理标准**（**FIPS**）。
- en: IKE V1 versus IKE V2
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IKE V1 与 IKE V2
- en: In this section, we will go over what IKE is and what the differences are between
    IKEv1 and IKEv2.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将介绍 IKE 是什么，以及 IKEv1 和 IKEv2 之间的区别。
- en: 'IKE  is a protocol that belongs to the IPsec protocols suite and is responsible
    for setting up a security association (an agreement between both parties) that
    enables two end IPsec enabled devices to send data securely:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: IKE 是 IPsec 协议套件中的一个协议，负责建立一个安全关联（双方之间的协议），使两个启用 IPsec 的设备能够安全地发送数据：
- en: IKEv2 is faster and light on bandwidth, as a smaller number of messages are
    needed to establish a tunnel. With IKEv1, we had main mode (nine messages), and
    aggressive mode (six messages). In contrast, IKEv2 only has one mode that has
    only four messages.
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IKEv2 更快速且对带宽要求较轻，因为建立隧道时需要的消息较少。对于 IKEv1，我们有主模式（9 条消息）和攻击模式（6 条消息）。相比之下，IKEv2
    只有一种模式，且只需要 4 条消息。
- en: IKEv2 provides inbuilt NAT Traversal and, by default, IKEv1 does not provide
    this facility. It is a well-known fact that the IPSec protocol was not designed
    with **Network Address and Port Translation** (**NAPT**) in mind. The initial
    payload and, in particular, the headers are encrypted when using IPSec ESP mode.
    An intermediate NAT device cannot change these encrypted headers to its own address.
    During phase one negotiations, if NAT Traversal detection is on, one or both peers
    signify to each other that they are using NAT Traversal, then the IKE negotiations
    switch to using UDP port **4500**.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IKEv2 提供了内置的 NAT 穿越功能，而默认情况下，IKEv1 并不提供这一功能。大家普遍知道，IPSec 协议在设计时并没有考虑到**网络地址与端口转换**（**NAPT**）。在使用
    IPSec ESP 模式时，初始有效载荷，尤其是头部会被加密。中间的 NAT 设备无法更改这些加密头部为其自身的地址。在第一阶段协商期间，如果启用了 NAT
    穿越检测，那么双方或其中一方会向对方表明自己正在使用 NAT 穿越，随后 IKE 协商会切换到使用 UDP 端口**4500**。
- en: IKEv2 has inbuilt tunnel liveness status checks. If a tunnel is broken down,
    it has the facilities to detect and re-establish the tunnel. However, IKEv1 does
    not have this functionality. There are several workarounds for IKEv1, but these
    are not standardized.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IKEv2 内置了隧道存活状态检查。如果隧道断开，它具备检测和重新建立隧道的功能。然而，IKEv1 并没有这种功能。虽然有一些针对 IKEv1 的解决方法，但这些方法并没有标准化。
- en: IKEv1 supports authentication via pre-shared keys, digital signatures, and public
    key encryption. IKEv2 supports pre-shared keys, digital signatures and **Extensible**
    **Authentication Protocol** (**EAP**). IPSec peers in IKEv1 must use the same
    type of authentication - for example, both pre-shared keys or both digital signature.
    However, IKEv2 supports asymmetric authentication—one side can authenticate using
    pre-shared keys while the other side uses digital signatures.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IKEv1 支持通过预共享密钥、数字签名和公钥加密进行身份验证。IKEv2 支持预共享密钥、数字签名和**可扩展身份验证协议**（**EAP**）。在
    IKEv1 中，IPSec 对等体必须使用相同类型的身份验证——例如，双方都使用预共享密钥或双方都使用数字签名。然而，IKEv2 支持非对称身份验证——一方可以使用预共享密钥进行身份验证，而另一方则使用数字签名。
- en: IKEv2 Mobility and Multihoming Protocol RFC 4555 (MOBIKE) supports a remote
    access VPN user in moving from one IP address to another without reestablishing
    all security associations with the VPN gateway. The ability to move between IP
    addresses without performing cryptographic calculations and without the overhead
    of reconnecting to the VPN gateway improves the user experience. IKEv1 does not
    support any mechanism to do this, whereas IKEv2 does.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IKEv2 移动性和多宿主协议 RFC 4555（MOBIKE）支持远程访问 VPN 用户在不重新建立所有安全关联的情况下，从一个 IP 地址迁移到另一个
    IP 地址。通过无须进行加密计算且无需重新连接 VPN 网关的方式，IKEv2 提升了用户体验。而 IKEv1 并不支持这一机制。
- en: WAN Encryption technique
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 广域网加密技术
- en: In the internet and WAN connected environment of today, it is important to encrypt
    business-critical data in order to keep the data secure and reduce the risks of
    spying and snooping. Data breaches also include fiber tapping. With the continued
    increase of WAN bandwidth driven by video traffic, the online gaming industry
    and cloud services, we have seen  the speed grow from 1 GB to 10 GB, to 40 GB,
    and now to 100 GB. With growing link speeds and a demand for bandwidth to continually
    increase, the traditional layer-3 encryption will not be enough to meet requirements.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在今天的互联网和广域网连接环境中，为了确保数据安全并减少间谍窃听的风险，加密关键信息至关重要。数据泄露也包括光纤窃听。随着视频流量、在线游戏行业和云服务的不断发展，广域网带宽持续增加，我们已经看到网络速度从
    1GB 提升到 10GB，再到 40GB，现如今甚至达到 100GB。随着链路速度的不断提高以及对带宽需求的持续增加，传统的第三层加密将不足以满足需求。
- en: 'The three most common methods for implementing encryption are as follows:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 实现加密的三种最常见方法如下：
- en: IPsec, or Layer-3 (L3) encryption
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IPsec，或第三层（L3）加密
- en: MACsec, or Layer-2 (L2) encryption
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: MACsec 或第二层（L2）加密
- en: '**Optical Network** (**OTN**) or Layer-1 (L1) encryption'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**光网络**（**OTN**）或第一层（L1）加密'
- en: IPsec Layer-3 encryption
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IPsec 第三层加密
- en: We have already discussed IPsec in the previous section. Here, we will discuss
    how IPsec complements WAN technology. Layer-3 encryption is well-suited to environments
    where you have low-bandwidth connections and do not have the devices to support
    encryption at Layer-2 or Layer-1 levels. Organizations are running WAN technology
    in a different way, for example, with ATMs, Frame-Relay, Metro-Ethernet and MPLS-based
    solutions. The ultimate security question is: *Who do you trust with your business-critical
    data?* If your answer is the service provider, then you probably do not need to
    encrypt your data. However, if your answer is nobody, then you must transmit data
    to an encrypted service provider.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在前一节已经讨论了 IPsec。这里，我们将讨论 IPsec 如何与 WAN 技术互补。三层加密非常适合带宽较低且没有设备支持二层或一层加密的环境。组织正在以不同的方式运行
    WAN 技术，例如使用 ATM、Frame-Relay、Metro-Ethernet 和基于 MPLS 的解决方案。最终的安全问题是：*你信任谁来处理你业务关键数据？*
    如果您的回答是服务提供商，那么您可能不需要加密您的数据。然而，如果您的回答是没有人可信，那么您必须将数据传输到一个加密的服务提供商那里。
- en: Let's look at the MPLS VPN provider, which is widely deployed in WAN technology.
    The primary benefit of this service provider is faster transport techniques with
    proper isolation between customers. The terminology includes VPN, but this does
    not mean that your data is being encrypted by default.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看一下广泛部署在 WAN 技术中的 MPLS VPN 提供商。这种服务提供商的主要好处是更快的传输技术，同时在客户之间进行适当的隔离。术语中包括
    VPN，但这并不意味着您的数据默认情况下会被加密。
- en: 'As the following diagram shows, two customers can use the same subnet and connect
    to the same router of services provided with proper isolation:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，两个客户可以使用相同的子网，并通过适当的隔离连接到同一台路由器提供的服务：
- en: '![](Images/aafd3947-0235-4d25-82fa-2cb9bde02981.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/aafd3947-0235-4d25-82fa-2cb9bde02981.png)'
- en: To secure data transmission over MPLS, you can take an IPsec approach from CE
    to CE for securing the VPN customer's traffic across an untrusted infrastructure.
    Introducing IPsec prevents the insertion of bogus CE into the VPN and the leakage
    of traffic from the secured VPN to a non-trusted VPN. This added a complexity
    and scalability issue for large-scale deployment.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保 MPLS 上的数据传输安全，您可以采用从 CE 到 CE 的 IPsec 方法来保护 VPN 客户端的流量，避免通过不受信任的基础设施进行传输。引入
    IPsec 可防止虚假的 CE 被插入到 VPN 中，以及防止加密的 VPN 流量泄漏到不受信任的 VPN 中。这增加了大规模部署的复杂性和可扩展性问题。
- en: 'The **Dynamic Multi-point VPN** (**DMVPN**) model works with the principle
    of the **Next Hop Resolution Protocol** (**NHRP**). Every IPsec node holds information
    about how to reach the next hop server, which returns the address of the target
    IPsec node to the originating node. This is a very scalable way to dynamically
    establish IPsec tunnels on demand. This is  pretty much a scalable solution that
    is independent to underlying WAN infrastructures:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**动态多点 VPN**（**DMVPN**）模型基于**下一跳解析协议**（**NHRP**）的原理。每个 IPsec 节点都保存着如何到达下一跳服务器的信息，该服务器返回目标
    IPsec 节点的地址给源节点。这是一种非常可扩展的方式，可以根据需要动态建立 IPsec 隧道。这几乎是一种独立于底层 WAN 基础设施的可扩展解决方案：'
- en: '![](Images/59887547-82ba-48c0-af78-8ed17162bbc1.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/59887547-82ba-48c0-af78-8ed17162bbc1.png)'
- en: You must consider performance before leveraging IPSec for high-speed link encryption.
    The routers' throughput capabilities are restricted to the IPSec encryption engine
    limits, rather than using an encryption solution that can leverage the maximum
    aggregate throughput capabilities of the router. Using IPsec encryption adds 57
    bytes of overhead to encapsulate the IP header of the original packet and to add
    an additional authentication header and trailer. Using IPsec along with GRE adds
    an extra overhead of 76 bytes. More overhead directly translates into less bandwidth
    throughput.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在利用 IPSec 进行高速链路加密之前，必须考虑性能。路由器的吞吐能力受限于 IPSec 加密引擎的限制，而不是使用能够利用路由器最大聚合吞吐能力的加密解决方案。使用
    IPsec 加密会增加 57 字节的开销，以封装原始数据包的 IP 头并增加额外的认证头和尾部。将 IPsec 与 GRE 一起使用时，会增加 76 字节的额外开销。更多的开销直接导致更低的带宽吞吐量。
- en: MACsec—Layer-2 Encryption
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MACsec—二层加密
- en: As the name implies, MACsec is a MAC layer or link layer encryption that offers
    a simplified, line-rate, per port encryption option for secure next-generation
    high bandwidth deployments. Organizations that comply with FIPS, HIPAA, and PCI
    DSS have to implement strong cryptography to protect sensitive data during transmission.
    MACsec provides great hop-by-hop deployment flexibility. Whenever you feel the
    public infrastructure is not safe, you can implement MACsec between transport
    nodes.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 正如其名称所示，MACsec是一种MAC层或链路层加密，为安全的下一代高带宽部署提供了简化的、每端口加密选项。遵守FIPS、HIPAA和PCI DSS的组织必须实施强大的加密以保护传输过程中的敏感数据。MACsec提供了很好的逐跳部署灵活性。每当您觉得公共基础设施不安全时，您可以在传输节点之间实施MACsec。
- en: 'Use Cases: You can use MACsec encryption end-to-end using the following examples:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 用例：您可以使用以下示例端到端使用MACsec加密：
- en: Host-to-Switch
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主机到交换机
- en: Switch-to-Switch
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交换机到交换机
- en: Router-to-Switch
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路由器到交换机
- en: Router-to-Router Data center Interconnect
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路由器到路由器数据中心互连
- en: 'Let''s look at the 802.1 AE (MACsec) format: The actual Ether-type + Payload
    is encrypted as follows:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看802.1 AE（MACsec）格式：实际Ether-type + Payload如下加密：
- en: '![](Images/2a24f4ba-43f7-462c-bc0c-f75a459fb750.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/2a24f4ba-43f7-462c-bc0c-f75a459fb750.png)'
- en: 'Now let''s look at one Cisco example for data center interconnection using
    MACsec. Introducing Layer-2 devices between Layer-3  and any routing protocol
    can be run between Layer-3 devices. The DWDM WAN link would be encrypted; the
    main reason to encrypt this link is that it might be a shared infrastructure provided
    by a third party:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们看一个思科数据中心互连的MACsec示例。在Layer-3和任何路由协议之间引入Layer-2设备可以在Layer-3设备之间运行路由协议。DWDM
    WAN链路将被加密；加密此链路的主要原因是它可能是由第三方提供的共享基础设施：
- en: '![](Images/b3d5dc63-d38d-49c8-9d0e-124eb89c5fcf.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/b3d5dc63-d38d-49c8-9d0e-124eb89c5fcf.png)'
- en: Optical Network—Layer-1 Encryption
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 光网络—第1层加密
- en: 'There are multiple ways to access fiber. This includes:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种访问光纤的方式。包括：
- en: Tapping on street cabinet
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击街道柜
- en: Fiber coupling devices
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 光纤耦合器件
- en: Protocol analyzer and splice boxes.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 协议分析仪和拼接盒。
- en: 'A Layer-1 encryption solution supports applications such as secured data center
    connectivity for financial institutions, encrypted managed services for carriers,
    and secured networks for government institutions. Since it is done at the lowest
    layer possible in the OSI model, Layer 1 encryption technically provides the highest
    level of security. It also has fast speed and low latency, as well as 100% throughput
    with 0 bytes overhead:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 第1层加密解决方案支持金融机构的安全数据中心连接、运营商的加密托管服务以及政府机构的安全网络。由于它是在OSI模型中可能的最低层进行的，第1层加密在技术上提供了最高级别的安全性。它还具有快速速度和低延迟，以及100%的吞吐量和0字节的开销：
- en: '![](Images/712b8b8b-7987-49c1-86e6-c5453370213d.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/712b8b8b-7987-49c1-86e6-c5453370213d.png)'
- en: Summary
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: This chapter provides a very detailed overview of VPNs, with a focus on using
    IPSec as a VPN technology. It started by covering the various use cases for VPN
    and available options. It then covered the technicalities of different VPN protocols,
    such as PPTP, L2TP, SSTP, IPsec, and the components that make up IPSec.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 本章详细介绍了VPN，重点介绍了使用IPSec作为VPN技术。它从覆盖VPN的各种用例和可用选项开始。然后介绍了不同VPN协议的技术细节，如PPTP、L2TP、SSTP、IPsec以及组成IPSec的组件。
- en: The middle section of this chapter covered the design principle of corporate
    remote access VPNs by looking at full and split tunnel options and their benefits.
    The chapter finished by looking at WAN encryption techniques, from Enterprise
    to cloud services and financial organizations, in order to ensure security on
    different layers of the data communication model.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的中间部分通过查看全隧道和分隧道选项及其优势，介绍了企业远程访问VPN的设计原则。该章节最后查看了WAN加密技术，从企业到云服务和金融机构，以确保数据通信模型的不同层次上的安全性。
- en: Now that you have a basic knowledge of all layers from network to application
    security, the next chapter will look at an overall approach to infrastructure
    security and future technology.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您对从网络到应用安全的所有层有了基本了解，下一章将介绍基础设施安全和未来技术的整体方法。
- en: Questions
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Which of the following may be used as a terminating point for a site-to-site
    VPN tunnel?
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪项可能用作站点到站点VPN隧道的终止点？
- en: Firewall
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 防火墙
- en: Router
  id: totrans-115
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 路由器
- en: Concentrator
  id: totrans-116
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 集中器
- en: All of the above
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上所有内容
- en: Which of the following is not a Layer-2 tunneling protocol?
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪项不是Layer-2隧道协议？
- en: PPTP
  id: totrans-119
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: PPTP
- en: IPsec
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: IPsec
- en: L2TP
  id: totrans-121
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: L2TP
- en: .MPLS VPN
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: .MPLS VPN
- en: 'IKE creates SAs for:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IKE为以下内容创建SA：
- en: SSL
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: SSL
- en: PGP
  id: totrans-125
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: PGP
- en: IPSec
  id: totrans-126
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: IPSec
- en: VP
  id: totrans-127
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: VP
- en: 'IPSec defines two protocols: _______ and ________.'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IPSec定义了两个协议：_______ 和 ________。
- en: AH; SSL
  id: totrans-129
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AH；SSL
- en: PGP; ESP
  id: totrans-130
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: PGP；ESP
- en: AH; ESP
  id: totrans-131
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AH；ESP
- en: All of the above
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上所有
- en: ______ provides authentication at the IP level.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ______ 提供IP层级的认证。
- en: AH
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AH
- en: ESP
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: ESP
- en: PGP
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: PGP
- en: SSL
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: SSL
- en: Further Reading
  id: totrans-138
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入阅读
- en: 'For more information, visit the following links:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 欲了解更多信息，请访问以下链接：
- en: '[https://tools.ietf.org/html/rfc2409](https://tools.ietf.org/html/rfc2409)'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://tools.ietf.org/html/rfc2409](https://tools.ietf.org/html/rfc2409)'
- en: '[https://tools.ietf.org/html/rfc5996](https://tools.ietf.org/html/rfc5996)'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://tools.ietf.org/html/rfc5996](https://tools.ietf.org/html/rfc5996)'
- en: '[https://tools.ietf.org/html/rfc3031](https://tools.ietf.org/html/rfc3031)'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://tools.ietf.org/html/rfc3031](https://tools.ietf.org/html/rfc3031)'
- en: '[https://www.sans.org/reading-room/whitepapers/vpns/](https://www.sans.org/reading-room/whitepapers/vpns/)'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.sans.org/reading-room/whitepapers/vpns/](https://www.sans.org/reading-room/whitepapers/vpns/)'
