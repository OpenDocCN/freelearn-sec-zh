- en: Setting Up Your Test Lab
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 建立您的测试实验室
- en: In this chapter, we look at setting up a lab environment for our penetration
    tests. Many of the tests should first be performed in this confined lab environment
    before attempting them in a production environment. Remember that you must obtain
    written permission when working on a live environment, as well as following all
    local laws when carrying out any stage of the penetration test on a network. It
    may also be a good idea to have a lawyer review any contract and engagement details
    before you commence to avoid any issues that may arise during or after the exercise.
    Some insurance companies also offer coverage to penetration testers in the event
    of unexpected damages.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们将看看为我们的渗透测试建立实验室环境。在尝试在生产环境中进行测试之前，许多测试应该首先在这个有限的实验室环境中进行。请记住，在进行网络渗透测试的任何阶段时，您必须在实时环境中获得书面许可，并遵守所有当地法律。在开始之前，最好让律师审查任何合同和参与细节，以避免在练习期间或之后可能出现的任何问题。一些保险公司也会为渗透测试人员提供意外损害的保险。
- en: To avoid running into legal issues and unnecessary expenditure as a result of
    penetration testing, it's highly recommended that you build a test environment,
    whether physical or virtual, in an effort to familiarize yourself with the tests
    and their results, as well as understand the impact of the tests on hardware,
    software, and bandwidth, as many of these tests are disruptive to devices and
    organizations.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免由于渗透测试而遇到法律问题和不必要的支出，强烈建议您建立一个测试环境，无论是物理的还是虚拟的，以便熟悉测试及其结果，并了解测试对硬件、软件和带宽的影响，因为这些测试对设备和组织都具有破坏性。
- en: 'We will cover the following topics in detail:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将详细介绍以下主题：
- en: Setting up a Windows environment in a VM
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在虚拟机中设置Windows环境
- en: Installing vulnerable servers
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装易受攻击的服务器
- en: Installing additional tools in Kali Linux
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Kali Linux中安装额外的工具
- en: Network services in Kali Linux
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux中的网络服务
- en: Additional labs and resources
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 额外的实验室和资源
- en: Technical requirements
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'Minimal hardware requirements: 6 GB RAM, quad-core 2.4 GHz processor, 500 GB
    HDD'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最低硬件要求：6 GB RAM，四核2.4 GHz处理器，500 GB硬盘
- en: 'VirtualBox: [https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads)'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirtualBox：[https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads)
- en: 'Metasploitable 2: [https://sourceforge.net/projects/metasploitable/files/Metasploitable2/](https://sourceforge.net/projects/metasploitable/files/Metasploitable2/)'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Metasploitable 2: [https://sourceforge.net/projects/metasploitable/files/Metasploitable2/](https://sourceforge.net/projects/metasploitable/files/Metasploitable2/)'
- en: 'Packer: [https://www.packer.io/downloads.html](https://www.packer.io/downloads.html)'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Packer：[https://www.packer.io/downloads.html](https://www.packer.io/downloads.html)
- en: 'Vagrant: [https://www.vagrantup.com/downloads.html](https://www.vagrantup.com/downloads.html)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vagrant：[https://www.vagrantup.com/downloads.html](https://www.vagrantup.com/downloads.html)
- en: Metasploitble 3 (300 MB file)
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Metasploitble 3（300 MB文件）
- en: 'Metasploitable 3 (6 GB `.ova` file for VirtualBox): [https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI](https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Metasploitable 3（适用于VirtualBox的6 GB`.ova`文件）：[https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI](https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI)
- en: 'The BadStore vulnerable web server: [https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso](https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso.)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BadStore易受攻击的Web服务器：[https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso](https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso.)
- en: Physical or virtual?
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物理还是虚拟？
- en: Deciding whether to set up a physical or virtual lab (or a combination thereof)
    depends on your budget and available resources. Penetration testing can get quite
    expensive depending on the tools used, especially if opting for commercial tools,
    but it doesn't have to be, considering the many available open source tools in
    Kali Linux as well as those available on GitHub and GitLab.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 决定是建立物理实验室还是虚拟实验室（或两者兼而有之）取决于您的预算和可用资源。渗透测试可以根据所使用的工具而变得非常昂贵，特别是如果选择商业工具，但考虑到Kali
    Linux中许多可用的开源工具以及GitHub和GitLab上可用的工具，它并不一定非常昂贵。
- en: As a professional penetration tester, I use two physical machines. One is a
    laptop outfitted with a 1 TB hard drive, 16 GB of DDR4 RAM, an i7 processor, and
    an NVIDIA GeForce GTX 1050 graphics card, outfitted with three virtual machines
    including the main OS (Kali Linux 2018.2). The second machine is an older Tower
    workstation with 2 TB drives, 24 GB of DDR3  RAM, and an Intel Xeon 3500 processor
    with onboard graphics card with several VMs, including those used as part of my
    virtual lab environment.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 作为专业的渗透测试人员，我使用两台物理机器。一台是配备1 TB硬盘、16 GB DDR4 RAM、i7处理器和NVIDIA GeForce GTX 1050显卡的笔记本电脑，配备了三台虚拟机，包括主操作系统（Kali
    Linux 2018.2）。第二台机器是一台较旧的塔式工作站，配备2 TB硬盘、24 GB DDR3 RAM和Intel Xeon 3500处理器，带有几个虚拟机，包括作为我的虚拟实验室环境的一部分使用的虚拟机。
- en: When creating your lab environment, it’s crucial that you know the minimum and
    recommended resources required by each operating system, including the host and
    all VMs. While many Linux-based operating systems require as little as 2 GB of
    RAM, it's always a wise choice to assign more than the specified recommended RAM
    to allow your tools to run without lagging or insufficient memory errors. Again,
    though, this will all depend on your available budget or resources at hand.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建实验室环境时，至关重要的是您了解每个操作系统所需的最低和推荐资源，包括主机和所有虚拟机。虽然许多基于Linux的操作系统只需要2 GB的RAM，但将超过指定的推荐RAM分配给您的工具总是一个明智的选择，以确保您的工具能够运行而不会出现延迟或内存不足的错误。不过，这将取决于您手头的预算或资源。
- en: Setting up a Windows environment in a VM
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在虚拟机中设置Windows环境
- en: For the Windows environment test lab, I've chosen to install Microsoft Windows
    10 as it is currently the latest release by Microsoft. Many users with newer PCs
    and laptops may already be running Windows 10 but Windows 10, should also be installed
    as a virtual machine for testing purposes, thereby leaving the host OS untouched.
    This is also recommended for readers with older versions of Windows as well as
    Mac and Linux users, so they are able to work with the latest version of Windows
    as part of their penetration tests in the lab environment. In the real world,
    we will be seeing fewer Windows 7 machines as support for it has ended (making
    these systems highly vulnerable), although there will also be faithful users who
    are not open to upgrading just yet.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows环境测试实验室，我选择安装微软Windows 10，因为它目前是微软的最新版本。许多拥有更新PC和笔记本电脑的用户可能已经在运行Windows
    10，但是为了测试目的，Windows 10也应该安装为虚拟机，从而保持主机操作系统不受影响。这也建议给那些使用较旧版本Windows的读者，以及Mac和Linux用户，这样他们就能够在实验室环境中使用最新版本的Windows进行渗透测试。在现实世界中，我们将看到更少的Windows
    7机器，因为它的支持已经结束（使这些系统极易受到攻击），尽管也会有一些忠实的用户暂时不愿意升级。
- en: For this installation, we will be using an evaluation copy of Windows 10 Enterprise
    edition, available as a direct download from the Microsoft website. You can download
    your evaluation copy of Windows 10 Enterprise by visiting [https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise](https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise).
    Remember that unless you have or purchase a license, this version has a 90-day
    evaluation period.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在这次安装中，我们将使用微软网站上直接下载的Windows 10企业版评估副本。您可以通过访问[https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise](https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise)来下载Windows
    10企业版的评估副本。请记住，除非您有或购买了许可证，否则此版本有90天的评估期。
- en: Once at the download page, you should notice that there are two available versions,
    ISO and **Long-Term Servicing Branch** (**LSTB**). Choose ISO – Enterprise and
    click on Continue.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦到达下载页面，您应该注意到有两个可用版本，ISO和**长期服务分支**（**LSTB**）。选择ISO-企业版，然后点击继续。
- en: Complete the evaluation form details and click on Continue. Please remember
    the details entered as you will be required to authenticate via phone call or
    SMS later on during the installation.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 填写评估表格的详细信息，然后点击继续。请记住输入的详细信息，因为在安装过程中稍后您将需要通过电话或短信进行身份验证。
- en: Select your platform (32 bit or 64 bit) as well as your language, and click
    on Download to proceed.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 选择您的平台（32位或64位）以及您的语言，然后点击下载以继续。
- en: You can now begin creating your Windows 10 virtual machine. VirtualBox or VMware
    can be used for this but in this instance I will be using VirtualBox.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以开始创建Windows 10虚拟机。可以使用VirtualBox或VMware进行此操作，但在这种情况下，我将使用VirtualBox。
- en: Open VirtualBox and click on the New icon at the top left. Give your VM a name
    and choose the appropriate version (32, bit or 64, bit) depending on the version
    you previously downloaded. Click on Next to continue.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 打开VirtualBox，然后点击左上角的新建图标。为您的VM命名，并根据您之前下载的版本选择适当的版本（32位或64位）。点击下一步继续。
- en: 'Assign available RAM to the VM. The recommended memory is 2 GB, but I have
    assigned just over 6 GB as I have 24 GB of RAM on my machine. Remember to factor
    in the host usage, as well as other VMs such as Kali Linux, which may be running
    simultaneously:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 为虚拟机分配可用的RAM。推荐的内存为2 GB，但是我分配了略多于6 GB，因为我的机器上有24 GB的RAM。记得考虑主机的使用情况，以及其他可能同时运行的VM，比如Kali
    Linux：
- en: '![](img/241ca8c8-b65e-4c11-804c-178357b2830e.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](img/241ca8c8-b65e-4c11-804c-178357b2830e.jpg)'
- en: Add a new virtual hard disk by clicking on Create a virtual hard disk now and
    then clicking on Create.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 通过单击立即创建虚拟硬盘，然后单击创建来添加新的虚拟硬盘。
- en: For the hard disk file type, select **VirtualBox Disk Image** (**VDI**) and
    click on Next.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 对于硬盘文件类型，选择**VirtualBox磁盘映像**（**VDI**），然后点击下一步。
- en: Choose the Dynamically Allocated option under Storage on the physical disk.
    This option conserves hard drive space by using space on the physical disk only
    when it is used as opposed to creating a fixed size space on the disk that may
    not be used. Click Next to continue.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在物理磁盘的存储选项下选择动态分配。这个选项通过仅在使用时使用物理磁盘上的空间来节省硬盘空间，而不是创建一个可能不会被使用的固定大小空间。点击下一步继续。
- en: 'When choosing the size of the virtual disk, consider the recommended HDD space
    as well as the space of the applications you may wish to install (such as Metasploitable)
    in the VM. In this instance, I''ve allocated 64 GB of HDD space. Click on Create
    to continue:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择虚拟磁盘大小时，考虑推荐的硬盘空间以及您可能希望在VM中安装的应用程序的空间（如Metasploitable）。在这种情况下，我分配了64 GB的硬盘空间。点击创建继续：
- en: '![](img/96f5b4c7-2ea6-4e41-b55d-2a7670c3ec47.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/96f5b4c7-2ea6-4e41-b55d-2a7670c3ec47.jpg)'
- en: 'At this point, we must now point the ISO image to the VM. In the VirtualBox
    Manager, click on your newly created Windows 10 VM instance and click on the Start
    arrow. In the Select start-up disk box, click on the folder icon and browse the
    downloaded Windows 10 evaluation copy. Click on Start to continue:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，我们现在必须将ISO映像指向VM。在VirtualBox管理器中，点击您新创建的Windows 10 VM实例，然后点击启动箭头。在选择启动磁盘框中，点击文件夹图标，浏览下载的Windows
    10评估副本。点击开始继续：
- en: '![](img/880ea3cb-1f2c-4ace-bb87-bc02ac42e86a.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](img/880ea3cb-1f2c-4ace-bb87-bc02ac42e86a.jpg)'
- en: This brings us to the Windows Setup splash screen. Enter the relevant information
    for your setup and click on Next to continue.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 这将带我们到Windows设置启动画面。输入您设置的相关信息，然后点击下一步继续。
- en: Click on Install now to begin the installation process.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 点击立即安装以开始安装过程。
- en: 'Accept Microsoft''s license terms and click on Next to continue. Choose the
    Custom Installation option and then click on New and then Apply to format the
    VM hard disk:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 接受微软的许可条款，然后点击下一步继续。选择自定义安装选项，然后点击新建，然后点击应用以格式化VM硬盘：
- en: '![](img/8f2c3138-cac9-4272-ba7b-ff4d1bcb2714.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8f2c3138-cac9-4272-ba7b-ff4d1bcb2714.jpg)'
- en: 'Once formatted, ensure that the partition with the size you previously specified
    is selected and click on the Next button to continue:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 格式化后，确保选择了之前指定大小的分区，然后单击“下一步”继续：
- en: '![](img/a22d262d-b6d2-4a81-b203-df9b19f37827.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a22d262d-b6d2-4a81-b203-df9b19f37827.jpg)'
- en: The installation process will begin and will also take some time to complete.
    In the meantime, have a look at some of the other great titles on penetration
    testing at [https://www.packtpub.com/tech/Penetration-Testing](https://www.packtpub.com/tech/Penetration-Testing).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 安装过程将开始，并且也需要一些时间来完成。与此同时，您可以查看一些关于渗透测试的其他精彩标题，网址为[https://www.packtpub.com/tech/Penetration-Testing](https://www.packtpub.com/tech/Penetration-Testing)。
- en: Once the installation is complete as shown in the following screenshot, allow
    the OS to restart automatically.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，如下截图所示，允许操作系统自动重新启动。
- en: '![](img/6a064124-13c9-4460-9b48-1d6ef9722746.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6a064124-13c9-4460-9b48-1d6ef9722746.jpg)'
- en: You will then be prompted to choose your language and keyboard layout before
    continuing with the setup, after which you will then be prompted to enter a work
    or student email before choosing your privacy settings.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您将被提示选择语言和键盘布局，然后继续设置，在此之后，您将被提示输入工作或学生电子邮件，然后选择隐私设置。
- en: To set up your secure sign-in, click on Set up PIN. You may be first be required
    to verify your identity via phone call or SMS. Once verification is complete,
    you will be able to set up a pin. Be sure to remember this PIN (minimum six digits)
    as you will be required to use your pin to sign in.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 要设置安全登录，点击“设置PIN”。您可能首先需要通过电话或短信验证您的身份。验证完成后，您将能够设置PIN。请务必记住此PIN（至少六位数），因为您将需要使用PIN进行登录。
- en: 'Once setup is complete, you can now configure your network and install your
    apps. At the lower-right corner of the screen, you should see the details of your
    evaluation copy:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 设置完成后，您现在可以配置网络并安装应用程序。在屏幕右下角，您应该看到评估副本的详细信息：
- en: '![](img/3e02e2c7-f684-4497-a4cd-608d03be818f.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3e02e2c7-f684-4497-a4cd-608d03be818f.jpg)'
- en: You may want to save the machine state in the event you need to quickly restore
    the VM to a working state.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要快速恢复虚拟机到工作状态，您可能需要保存虚拟机状态。
- en: Installing vulnerable servers
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装易受攻击的服务器
- en: In this section, we will install a vulnerable virtual machine as a target virtual
    machine. This target will be used in several chapters of the book, when we explain
    particular topics. The reason we chose to set up a vulnerable server in our machine
    instead of using vulnerable servers available on the internet is because we don't
    want you to break any laws. We should emphasize that you should never pentest
    other servers without written permission. Another purpose of installing another
    virtual machine would be to improve your skills in a controlled manner. This way,
    it is easy to fix issues and understand what is going on in the target machine
    when attacks do not work.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将安装一个易受攻击的虚拟机作为目标虚拟机。在书的几个章节中，我们将使用此目标，解释特定主题。我们选择在我们的机器上设置易受攻击的服务器，而不是使用互联网上可用的易受攻击的服务器的原因是因为我们不希望您违反任何法律。我们应强调，您绝不应在没有书面许可的情况下对其他服务器进行渗透测试。安装另一个虚拟机的另一个目的是以受控的方式提高您的技能。这样，很容易修复问题，并了解在攻击不起作用时目标机器上发生了什么。
- en: In several countries, even port scanning a machine that you don't own can be
    considered a criminal act. Also, if something happens to the operating system
    using a virtual machine, we can repair it easily.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在一些国家，甚至对不是您拥有的机器进行端口扫描都可能被视为犯罪行为。此外，如果使用虚拟机的操作系统出现问题，我们可以很容易地修复它。
- en: In the following sections, we will be setting up the Metasploitable 2 and Metasploitable
    3 virtual machines as vulnerable servers. Metasploitable 2 is older but easier
    to install and configure. Metasploitable 3 is more recent and so has been updated
    to reflect updated vulnerabilities, but the installation is a bit different and
    sometimes problematic for new users. For this reason, we provide the readers with
    the option of Metasploitable 2 and 3, although we do recommend trying them both,
    should you have the available resources.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将设置Metasploitable 2和Metasploitable 3虚拟机作为易受攻击的服务器。Metasploitable
    2较旧，但更容易安装和配置。Metasploitable 3更新一些漏洞，但安装方式有些不同，对新用户来说有时会有问题。因此，我们为读者提供了Metasploitable
    2和3的选择，尽管我们建议您尝试两者，如果您有可用资源的话。
- en: Setting up Metasploitable 2 in a VM
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在虚拟机中设置Metasploitable 2
- en: The vulnerable virtual machine that we are going to use is Metasploitable 2\.
    The famous H.D. Moore of Rapid7 created this vulnerable system.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要使用的易受攻击的虚拟机是Metasploitable 2。Rapid7的著名H.D. Moore创建了这个易受攻击的系统。
- en: 'There are other deliberately vulnerable systems besides Metasploitable 2 that
    you can use for your penetration testing learning process, as can be seen at the
    following site: [https://www.vulnhub.com](https://www.vulnhub.com).'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 除了Metasploitable 2之外，还有其他故意易受攻击的系统，您可以用于渗透测试学习过程，可以在以下网站找到：[https://www.vulnhub.com](https://www.vulnhub.com)。
- en: Metasploitable 2 has many vulnerabilities in the operating system, network,
    and web application layers.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Metasploitable 2 在操作系统、网络和Web应用程序层面有许多漏洞。
- en: Information about the vulnerabilities contained in Metasploitable 2 can be found
    on the Rapid7 site at [https://community.rapid7.com/docs/DOC-1875](https://community.rapid7.com/docs/DOC-1875).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 有关Metasploitable 2中包含的漏洞的信息可以在Rapid7网站上找到，网址为[https://community.rapid7.com/docs/DOC-1875](https://community.rapid7.com/docs/DOC-1875)。
- en: 'To install Metasploitable 2 in VirtualBox, you can perform the following steps:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 要在VirtualBox中安装Metasploitable 2，您可以执行以下步骤：
- en: Download the Metasploitable 2 file from [http://sourceforge.net/projects/metasploitable/files/Metasploitable2/](http://sourceforge.net/projects/metasploitable/files/Metasploitable2/).
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[http://sourceforge.net/projects/metasploitable/files/Metasploitable2/](http://sourceforge.net/projects/metasploitable/files/Metasploitable2/)下载Metasploitable
    2文件。
- en: 'Extract the Metasploitable 2 ZIP file. After the extraction process is completed
    successfully, you will find five files:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解压Metasploitable 2 ZIP文件。成功完成解压过程后，您将找到五个文件：
- en: '[PRE0]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Create a new virtual machine in VirtualBox. Set the Name to `Metasploitable2`,
    the operating system to `Linux`, and the Version to `Ubuntu`.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在VirtualBox中创建一个新的虚拟机。将名称设置为`Metasploitable2`，操作系统设置为`Linux`，版本设置为`Ubuntu`。
- en: Set the memory to `1024MB`.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将内存设置为`1024MB`。
- en: In the Virtual Hard Disk setting, select Use existing hard disk. Choose the
    `Metasploitable` files that we have already extracted in the previous step.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在虚拟硬盘设置中，选择使用现有的硬盘。选择我们在上一步中已经提取的`Metasploitable`文件。
- en: Change the network setting to Host-only adapter to make sure that this server
    is accessible only from the host machine and the Kali Linux virtual machine. The
    Kali Linux virtual machine's network setting should also be set to Host-only adapter
    for pen testing local VMs.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将网络设置更改为仅主机适配器，以确保此服务器仅从主机机器和Kali Linux虚拟机访问。Kali Linux虚拟机的网络设置也应设置为仅主机适配器，以便对本地VM进行渗透测试。
- en: 'Start the `Metasploitable2` virtual machine. After the boot process is finished,
    you can log in to the `Metasploitable2` console using the following credentials:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`Metasploitable2`虚拟机。启动过程完成后，你可以使用以下凭据登录`Metasploitable2`控制台：
- en: 'Username: `msfadmin`'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户名：`msfadmin`
- en: 'Password: `msfadmin`'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密码：`msfadmin`
- en: 'The following is the Metasploitable 2 console after you have logged in successfully:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在你成功登录后，以下是Metasploitable 2控制台：
- en: '![](img/736d2a8f-fec1-461d-a6b9-472b928f51e5.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/736d2a8f-fec1-461d-a6b9-472b928f51e5.png)'
- en: Setting up Metasploitable 3 in a VM
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在VM中设置Metasploitable 3
- en: Released in 2016 by Rapid7, Metasploitable 3 is the latest updated version which
    comes with more vulnerabilities than its predecessor. Metasploitable 3, however,
    is not available as a downloadable virtual machine but requires several components,
    which must be installed and configured, requiring the user to build the virtual
    machine themselves.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 由Rapid7于2016年发布，Metasploitable 3是最新更新的版本，比其前身具有更多的漏洞。然而，Metasploitable 3并不是作为可下载的虚拟机提供的，而是需要安装和配置多个组件，用户需要自己构建虚拟机。
- en: 'In this example, I''ll be building the Metasploitable 3 VM on a Windows 10
    host machine. To do this, we will first need to download the following:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我将在Windows 10主机上构建Metasploitable 3 VM。为此，我们首先需要下载以下内容：
- en: VirtualBox or VMware (VirtualBox users have reported issues with version 5.2
    but have experienced good results using version 5.1.14, available on the VirtualBox
    page)
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirtualBox或VMware（VirtualBox用户报告了版本5.2的问题，但使用版本5.1.14则取得了良好的结果，该版本可在VirtualBox页面上找到）
- en: Packer
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Packer
- en: Vagrant
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vagrant
- en: Installing Packer
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Packer
- en: 'Packer by Hashicorp is used to easily build automates images such as Metasploitable
    3\. Visit [https://www.packer.io/downloads.html](https://www.packer.io/downloads.html)
    and download the version of Packer for your OS. In this instance, I''ve downloaded
    the Windows 64-bit version:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: Hashicorp的Packer用于轻松构建自动化镜像，如Metasploitable 3。访问[https://www.packer.io/downloads.html](https://www.packer.io/downloads.html)并下载适用于你的操作系统的Packer版本。在这个例子中，我下载了Windows
    64位版本：
- en: '![](img/b1b4fb03-0450-4b5f-a1dd-6ee358656201.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b1b4fb03-0450-4b5f-a1dd-6ee358656201.png)'
- en: Once downloaded, extract the contents of the file. There should be one file,
    in this case `packer.exe`.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 下载完成后，提取文件的内容。应该有一个文件，这里是`packer.exe`。
- en: 'From there, create a folder anywhere you like and name it packer. I''ve placed
    it on the `C:` drive of my system:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在任何你喜欢的地方创建一个文件夹，并将其命名为packer。我把它放在了我的系统的`C:`驱动器上：
- en: '![](img/bfb437ae-5348-4971-aa9c-bed7e7ca6187.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bfb437ae-5348-4971-aa9c-bed7e7ca6187.png)'
- en: At this point, you'll need to add the path to this folder in order to call the
    Packer application in the Command Prompt. Simply edit your environment variables
    and paste it into the path to `packer.exe`.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，你需要添加此文件夹的路径，以便在命令提示符中调用Packer应用程序。只需编辑你的环境变量并将其粘贴到`packer.exe`的路径中。
- en: 'Go to your Control Panel and click on Advanced system settings:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 打开控制面板，点击高级系统设置：
- en: '![](img/82137962-71c6-448b-885e-74ed656aefa9.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/82137962-71c6-448b-885e-74ed656aefa9.png)'
- en: 'In the System Properties window, under the Advanced tab, click on Environment
    Variables:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在系统属性窗口中，在高级选项卡下，点击环境变量：
- en: '![](img/897ad4af-66f9-4230-8596-63eb30e00cea.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](img/897ad4af-66f9-4230-8596-63eb30e00cea.png)'
- en: You should see the Path entry under User variables for admin. In the System
    variables box, you should also the Path variable with an entry of `C:\Program
    Files (x86)\Common Files\Oracle|Java\javapath:..`
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该在用户变量中看到路径条目。在系统变量框中，你还应该看到路径变量，其中包含一个条目`C:\Program Files (x86)\Common Files\Oracle|Java\javapath:..`
- en: 'Click on the `Edit` button to continue:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“编辑”按钮继续：
- en: '![](img/85399e59-d3e2-43db-8503-7acf0a67ef8e.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/85399e59-d3e2-43db-8503-7acf0a67ef8e.png)'
- en: In the Edit environment variable, click on the New button in the top-right corner
    and select `C:\packer` from the list in the main window. Click on OK.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在编辑环境变量中，点击右上角的“新建”按钮，并从主窗口的列表中选择`C:\packer`。然后点击“确定”。
- en: 'To test that the change was successful, launch the Command Prompt and type
    `packer`. You should return usage parameters and available commands if all is
    successful:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试更改是否成功，启动命令提示符并输入`packer`。如果一切顺利，你应该返回使用参数和可用命令：
- en: '![](img/6ded105f-d008-4697-9159-d519e9db6993.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6ded105f-d008-4697-9159-d519e9db6993.png)'
- en: Installing Vagrant
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Vagrant
- en: Vagrant, also by Hashicorp, is open source and used in simplifying workflows
    and configurations in virtual environments. Visit [https://www.vagrantup.com/downloads.html](https://www.vagrantup.com/downloads.html)
    and download the Windows version.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: Hashicorp的Vagrant也是开源的，用于简化虚拟环境中的工作流程和配置。访问[https://www.vagrantup.com/downloads.html](https://www.vagrantup.com/downloads.html)并下载Windows版本。
- en: Once the relevant downloader is installed (in this case, Windows), install Vagrant.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦相关的下载程序安装完成（在这种情况下是Windows），安装Vagrant。
- en: 'Assuming that you already have VirtualBox installed, download the Metasploitable
    3 source files from the GitHub repository at [https://github.com/rapid7/metasploitable3](https://github.com/rapid7/metasploitable3):'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你已经安装了VirtualBox，从GitHub存储库[https://github.com/rapid7/metasploitable3](https://github.com/rapid7/metasploitable3)下载Metasploitable
    3源文件：
- en: '![](img/9757e913-797f-411b-ad2f-6c3370476ded.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9757e913-797f-411b-ad2f-6c3370476ded.png)'
- en: Once the source files have been downloaded, extract the files to a location
    of your choice. Launch PowerShell in Windows 10, change directories until you
    arrive at the folder with the downloaded Metasploitable files, and enter the `./build_win2008`
    command.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦源文件已下载，将文件提取到您选择的位置。在Windows 10中启动PowerShell，更改目录直到到达包含下载的Metasploitable文件的文件夹，并输入`./build_win2008`命令。
- en: This should be enough to get you started with building your Metasploit 3 server.
    It is a very complex build for beginners but definitely worth a try.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该足以让您开始构建您的Metasploit 3服务器。对于初学者来说，这是一个非常复杂的构建，但绝对值得一试。
- en: Pre-built Metasploit 3
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预构建的Metasploit 3
- en: For those having difficulty with building their own Metasploitable 3 server,
    a pre-built version can be found and downloaded from GitHub at [https://github.com/brimstone/metasploitable3/releases](https://github.com/brimstone/metasploitable3/releases).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些在构建自己的Metasploitable 3服务器时遇到困难的人，可以在GitHub上找到并下载预构建版本：[https://github.com/brimstone/metasploitable3/releases](https://github.com/brimstone/metasploitable3/releases)。
- en: This version of Metasploitable 3 was built by Brimstone (Matt Robinson) and
    is downloadable as an `.ova` file (Metasploitable3-0.1.4.ova) at only 211 MB.
    Once downloaded, the .ova file can be opened in VirtualBox by clicking on File
    and Import Appliance. You may wish to change the preset RAM amount to something
    greater than 1 GB if available.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 这个版本的Metasploitable 3是由Brimstone（Matt Robinson）构建的，可以作为`.ova`文件（Metasploitable3-0.1.4.ova）下载，大小仅为211
    MB。下载后，可以通过单击“文件”和“导入虚拟设备”在VirtualBox中打开.ova文件。如果可用，您可能希望将预设的RAM量更改为1 GB以上。
- en: 'Although there is a lengthy setup process, the installer does everything automatically
    and presents you will a complete version of the Metasploitable 3 Windows 2008
    server in the end:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管设置过程很长，但安装程序会自动完成所有操作，并最终为您呈现完整版本的Metasploitable 3 Windows 2008服务器。
- en: '![](img/fe741713-0db6-44ab-895d-e342c12d2a57.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fe741713-0db6-44ab-895d-e342c12d2a57.jpg)'
- en: 'Another fully configured pre-built Metasploitable 3 server can also be downloaded
    here: [https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI](https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI).'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，还可以在此处下载另一个完全配置好的预构建Metasploitable 3服务器：[https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI](https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI)。
- en: Setting up BadStore in a VM
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在VM中设置BadStore
- en: The BadStore ISO is ancient compared to today's technology; however, unlike
    Metasploitable 3, it is incredibly easy to install and use. Readers with very
    limited knowledge and resources can use this ISO image as a starting point as
    it contains well-known exploits and is also under 15 MB in size.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 与Metasploitable 3相比，BadStore ISO已经过时；但是，与Metasploitable 3不同，它非常容易安装和使用。知识和资源非常有限的读者可以使用此ISO镜像作为起点，因为它包含众所周知的漏洞，并且大小不到15
    MB。
- en: The BadStore ISO image is no longer available in the official store as of writing
    this book, but there are several reputable links that can be used. As stated in
    a GitHub article at [https://github.com/jivoi/junk/blob/master/coursera_software-security/w3/project-2/info](https://github.com/jivoi/junk/blob/master/coursera_software-security/w3/project-2/info),
    the BadStore ISO can be downloaded from here: [https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso](https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 截至撰写本书时，BadStore ISO镜像不再在官方商店中提供，但可以使用几个信誉良好的链接。如GitHub文章所述，BadStore ISO可以从此处下载：[https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso](https://d396qusza40orc.cloudfront.net/softwaresec/virtual_machine/BadStore_212.iso)。
- en: The manual for the BadStore ISO should also be downloaded as it contains essential
    information about IP connectivity and vulnerabilities in the OS.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: BadStore ISO的手册也应下载，因为它包含有关IP连接和操作系统中的漏洞的重要信息。
- en: 'Once the file has been downloaded from the preceding link, open VirtualBox
    and click on File and New. Enter the details shown in the screenshot. Click on
    Next when finished:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 从上述链接下载文件后，打开VirtualBox，单击“文件”和“新建”。输入屏幕截图中显示的详细信息。完成后，单击“下一步”：
- en: '![](img/2e516748-d319-49f3-aa63-e4648b9f80c4.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2e516748-d319-49f3-aa63-e4648b9f80c4.png)'
- en: 'BadStore uses very little RAM. The default allocation can be used, but I''ve
    allocated 640 MB of RAM. Click Next to continue:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: BadStore使用的RAM很少。可以使用默认分配，但我已分配了640 MB的RAM。单击“下一步”继续：
- en: '![](img/d6ef949b-daca-417f-9d39-540cf852444e.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d6ef949b-daca-417f-9d39-540cf852444e.png)'
- en: 'Complete the following steps:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 完成以下步骤：
- en: Click on Create a virtual hard disk now and then click on the Create button
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单击“现在创建虚拟硬盘”，然后单击“创建”按钮
- en: Select **VirtualBox Disk Image** (**VDI**) as the hard disk file type and click
    on Next
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择**VirtualBox磁盘映像**（**VDI**）作为硬盘文件类型，然后单击“下一步”
- en: Select Dynamically Allocated when prompted to choose the physical storage option
    and click on Next
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在提示选择物理存储选项时选择动态分配，并单击“下一步”
- en: For the File Location and Size, leave the default file size of 4 GB as BadStore
    also requires very little disk space
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于文件位置和大小，保留默认的4 GB文件大小，因为BadStore也需要非常少的磁盘空间
- en: 'Before starting your BadStore VM, click on the Settings button in the Oracle
    VM VirtualBox Manager. Click on the Network category in the left pane and change
    your adapter setting to Bridged Adapter and click OK. This will enable the VM
    to receive an IP address via DHCP (if it is enabled on your network) thereby simplifying
    the connectivity process in later steps:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在启动BadStore VM之前，单击Oracle VM VirtualBox Manager中的“设置”按钮。单击左窗格中的“网络”类别，将适配器设置更改为“桥接适配器”，然后单击“确定”。这将使VM能够通过DHCP接收IP地址（如果在您的网络上启用了DHCP），从而简化后续步骤中的连接过程：
- en: '![](img/43ae07f6-721c-40b7-a382-8c5c68a67c38.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![](img/43ae07f6-721c-40b7-a382-8c5c68a67c38.png)'
- en: 'In the Oracle VM VirtualBox Manager, click on the BadStore entry and click
    on the Start button:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在Oracle VM VirtualBox Manager中，单击BadStore条目，然后单击“启动”按钮：
- en: '![](img/8cf744c8-6759-46a9-a669-b25b30294b2c.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8cf744c8-6759-46a9-a669-b25b30294b2c.png)'
- en: When prompted to select a startup disk, click on the Open Folder icon and browse
    to the `BadStore.iso` file, which you previously downloaded. Click Start to run
    the VM.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在提示选择启动磁盘时，单击打开文件夹图标，浏览到之前下载的`BadStore.iso`文件。单击“启动”以运行VM。
- en: 'Once BadStore is loaded, press Enter to activate the console:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 加载BadStore后，按Enter键激活控制台：
- en: '![](img/50fbdda1-7b73-4f5a-aedb-7dd6a866744f.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](img/50fbdda1-7b73-4f5a-aedb-7dd6a866744f.png)'
- en: 'After pressing *Enter*, enter the `ifconfig` command and press *Enter* to view
    your interface configurations. Note that in the following screenshot, in the `eth0`
    interface, the IP address (`inet addr`) is set to `192.168.3.136`. On your machine,
    it should be different, according to the IP scheme you are using. Take note of
    this IP as it will be required to connect to the BadStore VM via a browser:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 按下*Enter*后，输入`ifconfig`命令并按*Enter*查看你的接口配置。请注意，在下面的屏幕截图中，在`eth0`接口中，IP地址（`inet
    addr`）设置为`192.168.3.136`。在你的机器上，根据你使用的IP方案，它应该是不同的。记下这个IP，因为连接到BadStore VM需要用到它：
- en: '![](img/6e4b7884-00c7-41c4-b5e7-20f3d78ee18d.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6e4b7884-00c7-41c4-b5e7-20f3d78ee18d.png)'
- en: Open a browser of your choice and in the address bar, enter the IP address of
    the BadStore VM followed by this syntax: `cgi-bin/badstore.cgi`.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 打开你选择的浏览器，在地址栏中输入BadStore VM的IP地址，然后输入以下语法：`cgi-bin/badstore.cgi`。
- en: 'In this instance, I have entered the following URL in the address bar of my
    browser to access the BadStore VM: `http://192.168.3.136/cgi-bin/badstore.cgi`.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我已经在浏览器的地址栏中输入了以下URL，以访问BadStore VM：`http://192.168.3.136/cgi-bin/badstore.cgi`。
- en: 'Once you have entered the IP of your BadStore VM and appended the preceding
    path, press enter and you will be presented with the BadStore frontend, as seen
    in this screenshot:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你输入了BadStore VM的IP并附加了前面的路径，按Enter键，你将看到BadStore前端，就像在这个屏幕截图中看到的那样：
- en: '![](img/eadbe524-69a5-4de1-bfd8-3d789bf01bf8.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](img/eadbe524-69a5-4de1-bfd8-3d789bf01bf8.png)'
- en: As mentioned earlier, the BadStore VM is nothing short of ancient, as reflected
    by the design of the interface; however, for beginners it contains a variety of
    common vulnerabilities that can be easily found and exploited with tools from
    Kali Linux covered in the following chapters.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，BadStore VM在界面设计上非常古老；然而，对于初学者来说，它包含了Kali Linux中在后续章节中介绍的各种常见漏洞，可以很容易地找到并利用。
- en: Another similar and easy to set up VM that you can try is the **Damn Vulnerable
    Linux** (**DVL**) ISO. It can be downloaded from: [https://sourceforge.net/projects/virtualhacking/files/os/dvl/DVL_1.5_Infectious_Disease.iso/download](https://sourceforge.net/projects/virtualhacking/files/os/dvl/DVL_1.5_Infectious_Disease.iso/download).
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以尝试的另一个类似且易于设置的VM是**Damn Vulnerable Linux**（**DVL**）ISO。它可以从以下网址下载：[https://sourceforge.net/projects/virtualhacking/files/os/dvl/DVL_1.5_Infectious_Disease.iso/download](https://sourceforge.net/projects/virtualhacking/files/os/dvl/DVL_1.5_Infectious_Disease.iso/download)。
- en: Installing additional tools in Kali Linux
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Kali Linux中安装额外的工具
- en: Prior to or during a penetration test, it may be necessary to include other
    tools that are not commonly available with Kali Linux. The art of penetration
    testing has a great many individuals constantly creating tools that you can include.
    As a result, it may be necessary to install these tools in your Kali Linux setup.
    In other circumstances, it is generally a good idea to ensure that your tools
    are up to date prior to starting any penetration test.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在渗透测试之前或期间，可能需要包含Kali Linux中常见的其他工具。渗透测试的艺术有很多人不断创造可以包含的工具。因此，在你的Kali Linux设置中安装这些工具可能是必要的。在其他情况下，通常最好在开始任何渗透测试之前确保你的工具是最新的。
- en: When including additional penetration testing tools, it is advised to look within
    the Kali Linux repository first. If the package is available there, you can use
    the package and install it using the commands detailed next. Another option, if
    the tool is not available from the repository, is that the creator will often
    have a download option either on their website or through the software sharing
    and aggregation site [https://github.com/](https://github.com/).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在包含额外的渗透测试工具时，建议首先查看Kali Linux存储库。如果软件包在那里可用，你可以使用该软件包，并使用下面详细说明的命令进行安装。另一个选择是，如果该工具在存储库中不可用，创建者通常会在他们的网站上或通过软件共享和聚合站点[https://github.com/](https://github.com/)上提供下载选项。
- en: While there are a number of tools available outside the Kali Linux repository,
    you should not rely on those as it is easy to add them to your Kali Linux installation.
    Also, many of the packages that are not in the repository have dependencies on
    other software and may cause stability issues.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然Kali Linux存储库外有许多可用工具，但你不应该依赖它们，因为很容易将它们添加到你的Kali Linux安装中。此外，许多不在存储库中的软件包有其他软件的依赖关系，可能会导致稳定性问题。
- en: There are several package management tools that can be used to help you manage
    the software package in your system, such as `dpkg`, `apt`, and `aptitude`. Kali
    Linux comes with `dpkg` and `apt` installed by default.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种软件包管理工具可用于帮助你管理系统中的软件包，如`dpkg`、`apt`和`aptitude`。Kali Linux默认安装了`dpkg`和`apt`。
- en: 'If you want to find out more about the apt and `dpkg` commands, you can look
    at the following references: [https://help.ubuntu.com/community/AptGet/Howto/](https://help.ubuntu.com/community/AptGet/Howto/)
    and [http://www.debian.org/doc/manuals/debian-reference/ch02.en.html](http://www.debian.org/doc/manuals/debian-reference/ch02.en.html).'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想了解更多关于apt和`dpkg`命令的信息，你可以查看以下参考资料：[https://help.ubuntu.com/community/AptGet/Howto/](https://help.ubuntu.com/community/AptGet/Howto/)和[http://www.debian.org/doc/manuals/debian-reference/ch02.en.html](http://www.debian.org/doc/manuals/debian-reference/ch02.en.html)。
- en: In this section, we will briefly discuss the apt command in a practical way
    that is related to the software package installation process.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将简要讨论apt命令，这与软件包安装过程有关。
- en: 'To search for a package name in the repository, you can use the following command:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 要在存储库中搜索软件包名称，你可以使用以下命令：
- en: '[PRE1]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'This command will display the entire software package that has the name `package_name`.
    To search for a specific package, use the following command:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令将显示整个软件包，其名称为`package_name`。要搜索特定软件包，请使用以下命令：
- en: '[PRE2]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'If you have located the package but want more detailed information, use the
    following command:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已经找到软件包但想要更详细的信息，请使用以下命令：
- en: '[PRE3]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'To install a new package or to update an existing package, use the `apt-get`
    command. The following is the command:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装新软件包或更新现有软件包，请使用`apt-get`命令。以下是命令：
- en: '[PRE4]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: If the package is not available in the repository, you can search for and download
    it from the developer's site or through [www.github.com](http://www.github.com).
    Be sure to only include software from trusted sources. For developers who require
    a Debian package format (the package will have the file extension `.deb`), you
    can utilize the `dpkg` command. For other packages, you will often find that they
    are compressed using a compression program such as 7-Zip and will often have the
    extension `.zip` or `.tar`.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 如果软件包在存储库中不可用，您可以从开发者网站或通过[www.github.com](http://www.github.com)搜索并下载。请务必只包括来自可信来源的软件。对于需要Debian软件包格式（软件包将具有文件扩展名`.deb`）的开发人员，可以使用`dpkg`命令。对于其他软件包，您通常会发现它们使用诸如7-Zip之类的压缩程序进行压缩，并且通常具有扩展名`.zip`或`.tar`。
- en: Network services in Kali Linux
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kali Linux中的网络服务
- en: 'There are several network services available in Kali Linux; in this section,
    we will describe only some of them: the HTTP, MySQL, and SSH services. You can
    find the other services by navigating to Kali Linux | System Services.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux中有几种网络服务；在本节中，我们只描述其中一些：HTTP、MySQL和SSH服务。您可以通过导航到Kali Linux | 系统服务来找到其他服务。
- en: HTTP
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: HTTP
- en: If your penetration testing works, you may want to have a web server for various
    reasons, such as to serve malicious web application scripts. In Kali Linux, there
    is already an Apache web server installed; you just need to start the service.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的渗透测试有效，您可能希望有一个Web服务器，出于各种原因，例如提供恶意Web应用程序脚本。在Kali Linux中，已经安装了Apache Web服务器；您只需要启动服务。
- en: 'The following are the steps that are required to activate your HTTP server
    in Kali Linux:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是在Kali Linux中激活HTTP服务器所需的步骤：
- en: 'To start the Apache HTTP service, open a command line Terminal and type the
    following command to start the Apache server:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要启动Apache HTTP服务，请打开命令行终端并输入以下命令以启动Apache服务器：
- en: '[PRE5]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'After this, you can browse to the web page at `127.0.0.1`; it will display
    the It works! page by default:'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 之后，您可以浏览到`127.0.0.1`的网页；默认情况下，它将显示It works!页面：
- en: '![](img/a3d1dc34-82c0-4496-b411-9c2d1f913674.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a3d1dc34-82c0-4496-b411-9c2d1f913674.png)'
- en: 'To stop the Apache HTTP service, perform the following steps:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 要停止Apache HTTP服务，请执行以下步骤：
- en: 'Open a command-line Terminal and type the following command to stop the Apache
    server:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开命令行终端并输入以下命令以停止Apache服务器：
- en: '[PRE6]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Remember that the previous command will not survive boot up. After bootup, you
    need to give the command again. Fortunately, there is a way to start the Apache
    HTTP service automatically after the Kali Linux boots up by providing the `update-rc.d
    apache2 defaults` command.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，上一个命令不会在启动后生效。启动后，您需要再次输入命令。幸运的是，可以通过提供`update-rc.d apache2 defaults`命令在Kali
    Linux启动后自动启动Apache HTTP服务。
- en: The command will add the `apache2` service to be started on booting up.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该命令将添加`apache2`服务以在启动时启动。
- en: MySQL
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MySQL
- en: The second service that we will discuss is MySQL. It is a relational database
    system. MySQL is often used with the PHP programming language and an Apache web
    server to create a dynamic, web-based application. For the penetration testing
    process, you can use MySQL to store your penetration testing results, for example,
    the vulnerability information and network mapping result. Of course, you need
    to use the application to store those results.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将讨论的第二个服务是MySQL。它是一个关系型数据库系统。MySQL通常与PHP编程语言和Apache Web服务器一起使用，以创建动态的基于Web的应用程序。对于渗透测试过程，您可以使用MySQL来存储您的渗透测试结果，例如漏洞信息和网络映射结果。当然，您需要使用应用程序来存储这些结果。
- en: 'To start the MySQL service in Kali Linux, you can perform the following steps:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Kali Linux中启动MySQL服务，可以执行以下步骤：
- en: 'In a Terminal window, type the following:'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端窗口中，输入以下内容：
- en: '[PRE7]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'To test whether your MySQL has already started, you can use the MySQL client
    to connect to the server. We define the username (`root`) and the password to
    log in to the MySQL server:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要测试您的MySQL是否已经启动，您可以使用MySQL客户端连接到服务器。我们定义用户名（`root`）和密码以登录到MySQL服务器：
- en: '[PRE8]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The system will respond with the following:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 系统将回复以下内容：
- en: '[PRE9]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: After this MySQL prompt, you can provide any SQL commands. To exit from MySQL,
    just type `quit`.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此MySQL提示之后，您可以提供任何SQL命令。要退出MySQL，只需输入`quit`。
- en: By default, for security reasons, the MySQL service in Kali Linux can be accessed
    only from a local machine. You can change this configuration by editing the bind-address
    stanza in the MySQL configuration file located in `/etc/mysql/my.cnf`. We don't
    recommend that you change this behavior unless you want your MySQL to be accessed
    from elsewhere.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 出于安全原因，默认情况下，Kali Linux中的MySQL服务只能从本地机器访问。您可以通过编辑位于`/etc/mysql/my.cnf`中的MySQL配置文件中的bind-address段来更改此配置。我们不建议您更改此行为，除非您希望从其他地方访问您的MySQL。
- en: 'To stop the MySQL service, you can perform the following steps:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 要停止MySQL服务，您可以执行以下步骤：
- en: 'In a Terminal window, type the following:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端窗口中，输入以下内容：
- en: '[PRE10]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To start the MySQL service automatically after Kali Linux boots up, you can
    give the following command:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在Kali Linux启动后自动启动MySQL服务，可以使用以下命令：
- en: '[PRE11]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: This command will make the MySQL service start after the boot up.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将使MySQL服务在启动后启动。
- en: SSH
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SSH
- en: For the next service, we will look into **Secure Shell** (**SSH**). SSH can
    be used to log in to a remote machine securely; apart from that, there are several
    other uses of SSH, such as securely transferring a file between machines, executing
    a command in a remote machine, and X11 session forwarding.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个服务中，我们将研究**安全外壳**（**SSH**）。SSH可用于安全地登录到远程计算机；除此之外，SSH还有其他几种用途，如在两台计算机之间安全传输文件，执行远程计算机中的命令以及X11会话转发。
- en: 'To manage your SSH service in Kali Linux, perform the following steps:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Kali Linux中管理您的SSH服务，请执行以下步骤：
- en: 'To start the SSHD service from the command line, type the following:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要从命令行启动SSHD服务，请输入以下内容：
- en: '[PRE12]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: To test your SSH, you can log in to the Kali Linux server from another server
    using an SSH client such as Putty ([http://www.chiark.greenend.org.uk/~sgtatham/putty/](http://www.chiark.greenend.org.uk/~sgtatham/putty/)),
    if you are using the Microsoft Windows operating system.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要测试您的SSH，您可以使用SSH客户端（如Putty ([http://www.chiark.greenend.org.uk/~sgtatham/putty/](http://www.chiark.greenend.org.uk/~sgtatham/putty/)））从另一台服务器登录到Kali
    Linux服务器，如果您使用的是Microsoft Windows操作系统。
- en: 'To stop the SSHD service, from the command line, type the following:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要停止SSHD服务，请从命令行输入以下内容：
- en: '[PRE13]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'To start the SSH service automatically after Kali Linux boots up, you can give
    the following command:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在Kali Linux启动后自动启动SSH服务，可以使用以下命令：
- en: '[PRE14]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: This command will add the SSH service to be started on booting up.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将添加SSH服务以在启动时启动。
- en: Additional labs and resources
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 其他实验室和资源
- en: While our main focus has been on Windows 10, Metasploitable 2, and Metasploitable
    3, there are several other similar projects for exploring vulnerabilities and
    testing your skills. Seasoned security experts and penetration testers may remember
    a tiny vulnerable web server called BadStore. This vulnerable server was no larger
    than 15 MB (yes, megabytes) and contained several vulnerabilities from cross-site
    scripting to SQL injection. Although no longer available as a direct download
    on the official site, it can still be found around the web.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们的主要重点是Windows 10、Metasploitable 2和Metasploitable 3，但还有其他几个类似的项目可用于探索漏洞并测试您的技能。经验丰富的安全专家和渗透测试人员可能还记得一个名为BadStore的微小易受攻击的Web服务器。这个易受攻击的服务器不超过15MB（是的，兆字节），包含了从跨站脚本到SQL注入的几个漏洞。虽然官方网站上不再提供直接下载，但仍然可以在网络上找到。
- en: '[https://www.vulnhub.com/](https://www.vulnhub.com/) is exactly what its domain
    indicates: a hub for vulnerability projects. Several vulnerable VMs are listed
    on the site for download, which can be used for practice and **Capture the Flag **(**CTF**) scenarios
    and tournaments, including Damn Vulnerable Linux, Kioptrix, and others.'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.vulnhub.com/](https://www.vulnhub.com/) 正是其域名所指示的：一个漏洞项目的中心。该网站列出了几个易受攻击的虚拟机供下载，可用于练习和**夺旗赛**（**CTF**）场景和比赛，包括Damn
    Vulnerable Linux，Kioptrix等。'
- en: 'Several websites also exist for those interested in practicing their skills
    or learning within a contained environment:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一些网站专门为那些有兴趣在受控环境中练习技能或学习的人而存在：
- en: '**Wargames**: Wargames, located at [http://overthewire.org/wargames/](http://overthewire.org/wargames/),
    has basic to advanced levels and is free for practicing:'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**战争游戏**：位于[http://overthewire.org/wargames/](http://overthewire.org/wargames/)，有基本到高级级别，可免费练习：'
- en: '****![](img/e7537e08-41f5-4aeb-8d1a-c5d0b9abcdf7.png)****'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '****![](img/e7537e08-41f5-4aeb-8d1a-c5d0b9abcdf7.png)****'
- en: '**Hack this site**: [Hackthissite.org](http://www.hackthissite.org) also has
    many challenges (lower-left side) and offers missions for beginners as well as
    programmers. These challenges are free but signing up is required:'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Hack this site**：[Hackthissite.org](http://www.hackthissite.org)也有许多挑战（左下角），并为初学者和程序员提供任务。这些挑战是免费的，但需要注册：'
- en: '![](img/0f6976b9-2dff-4fdd-8a70-b9455cb133f7.png)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0f6976b9-2dff-4fdd-8a70-b9455cb133f7.png)'
- en: '**Hellbound Hackers**: As with Hack This Site, Hellbound Hackers ([https://www.hellboundhackers.org/](https://www.hellboundhackers.org/))
    also offers many challenges for free, including pen-testing challenges. Signing
    up is also required to access the challenges:'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Hellbound Hackers**：与Hack This Site一样，Hellbound Hackers ([https://www.hellboundhackers.org/](https://www.hellboundhackers.org/))也提供许多免费挑战，包括渗透测试挑战。还需要注册才能访问这些挑战：'
- en: '![](img/701f5082-517c-4a3e-a6ce-89e5840bd5f8.png)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![](img/701f5082-517c-4a3e-a6ce-89e5840bd5f8.png)'
- en: Summary
  id: totrans-207
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we looked at creating a lab environment for penetration testing.
    As explained, your lab setup will depend solely on the resources available to
    you, such as CPU, RAM, and HDD space. It's a good idea to experiment with as many
    different OSes as you can, including Windows, Linux, Mac, Android, and even ARM
    OSes (available at [https://www.vulnhub.com/](https://www.vulnhub.com/)) to be
    able to get yourself some experience in a controlled environment where you may
    legally carry out tests.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了为渗透测试创建实验室环境。正如所解释的，您的实验室设置将完全取决于您可用的资源，如CPU、RAM和HDD空间。最好尝试尽可能多地使用不同的操作系统，包括Windows、Linux、Mac、Android，甚至ARM操作系统（可在[https://www.vulnhub.com/](https://www.vulnhub.com/)上找到），以便在一个受控环境中获得一些经验，您可以在其中合法地进行测试。
- en: If using the Metasploitable server, we recommend that beginners, including professionals
    with limited time, use the Metasploitable 2 OS as the Metasploitable 3 OS setup
    is highly complicated—the builds can be built for specific host operating systems.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用Metasploitable服务器，我们建议初学者，包括时间有限的专业人士，使用Metasploitable 2 OS，因为Metasploitable
    3 OS的设置非常复杂——构建可以针对特定的主机操作系统。
- en: Users with limited resources can also use smaller vulnerable OSes such as BadStore
    and DVL which, like Metasploitable 2, come as pre-built servers available in ISO
    format and are ready to install with only minor setup.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 资源有限的用户也可以使用较小的易受攻击的操作系统，如BadStore和DVL，这些操作系统与Metasploitable 2一样，以ISO格式提供，并且只需进行少量设置即可安装。
- en: It's recommended to have at least one Windows and one Linux OS for your lab
    for testing and learning. Up next, we'll look at the various methodologies available
    for penetration testing.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 建议您的实验室至少有一个Windows和一个Linux操作系统用于测试和学习。接下来，我们将看看渗透测试可用的各种方法。
- en: Questions
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: 'Lets try to answer some questions based on the knowledge you grabbed from the
    chapter:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试根据你从本章中获取的知识来回答一些问题：
- en: What are two virtualization platforms that can be used to create and host virtual
    machines?
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有哪两个虚拟化平台可以用来创建和托管虚拟机？
- en: What does `.vmdk` stand for?
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`.vmdk`代表什么？'
- en: What are the default login credentials for Metasploitable 2?
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Metasploitable 2的默认登录凭据是什么？
- en: If building the Metasploitable 3 server from scratch, what other additional
    pieces of software are required?
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果从头开始构建Metasploitable 3服务器，还需要哪些额外的软件？
- en: What is the command used to install a new package or to update an existing package
    in Kali Linux?
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Kali Linux中用于安装新软件包或更新现有软件包的命令是什么？
- en: What command is used to start the MySQL service?
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于启动MySQL服务的命令是什么？
- en: What command is used to start the SSH service?
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于启动SSH服务的命令是什么？
- en: Further reading
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: '**Installing Metasploitable 2**: [https://metasploit.help.rapid7.com/docs/metasploitable-2](https://metasploit.help.rapid7.com/docs/metasploitable-2)'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安装Metasploitable 2**：[https://metasploit.help.rapid7.com/docs/metasploitable-2](https://metasploit.help.rapid7.com/docs/metasploitable-2)'
- en: '**Building Metasploitable 3**: [https://github.com/rapid7/metasploitable3](https://github.com/rapid7/metasploitable3)'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**构建Metasploitable 3**：[https://github.com/rapid7/metasploitable3](https://github.com/rapid7/metasploitable3)'
- en: '**Full Metasploitable 3 download (6 GB file)**: [https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI](https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI)'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**完整的Metasploitable 3下载（6 GB文件）**：[https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI](https://mega.nz/#!XQxEAABQ!frdh5DgZE-tSb_1ajPwLZrV4EZuj1lsS3WlWoLPvBjI)'
