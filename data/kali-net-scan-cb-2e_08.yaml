- en: Working with Burp Suite
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 工作
- en: 'In this chapter, we will explore the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探索以下步骤：
- en: Configuring Burp Suite on Kali Linux
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Kali Linux 上配置 Burp Suite
- en: Defining a web application target with Burp Suite
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 定义一个 Web 应用程序目标
- en: Using Burp Suite Spider
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Spider
- en: Using Burp Suite Proxy
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 代理
- en: Using Burp Suite engagement tools
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 参与工具
- en: Using the Burp Suite web application scanner
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Web 应用程序扫描器
- en: Using Burp Suite Intruder
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Intruder
- en: Using Burp Suite Comparer
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 比较器
- en: Using Burp Suite Repeater
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Repeater
- en: Using Burp Suite Decoder
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 解码器
- en: Using Burp Suite Sequencer
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Sequencer
- en: Using Burp Suite Extender
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 扩展程序
- en: Using Burp Suite Clickbandit
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Clickbandit
- en: Introduction
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: Burp Suite is a collection of seamlessly integrated tools for testing web applications.
    While the majority of the tools are available in the free version, some automation
    and scanning features require the professional edition, which is well worth the
    cost of the upgrade. Personally, I consider it an indispensable tool for testing
    web applications.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 是一套集成工具，用于测试 Web 应用程序。虽然大多数工具在免费版本中都可用，但某些自动化和扫描功能需要专业版，这个升级的费用是非常值得的。个人而言，我认为它是测试
    Web 应用程序时不可或缺的工具。
- en: Configuring Burp Suite on Kali Linux
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Kali Linux 上配置 Burp Suite
- en: Burp Suite Proxy is one of the most powerful web application auditing tools
    available. However, it is not a tool that can be started easily with a single
    click. Configurations in both the Burp Suite application and in the associated
    web browser must be modified to ensure that each communicates with the other properly.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 代理是目前最强大的 Web 应用程序审计工具之一。但是，这并不是一个可以轻松启动的工具。必须修改 Burp Suite 应用程序和关联的
    Web 浏览器中的配置，以确保彼此之间的正常通信。
- en: Getting ready
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Nothing needs to be done to execute Burp Suite in Kali Linux for the first time.
    The free version is an integrated tool, and it is already installed. Alternatively,
    if you choose to use the professional version, a license can be purchased at [https://pro.portswigger.net/buy/](https://pro.portswigger.net/buy/).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Kali Linux 中首次执行 Burp Suite 无需任何操作。免费版本是一个集成工具，已经安装好了。或者，如果选择使用专业版，可以在 [https://pro.portswigger.net/buy/](https://pro.portswigger.net/buy/)
    购买许可证。
- en: The license is relatively inexpensive and well worth the additional features.
    However, the free version is still highly useful and provides most of the core
    functionality at no cost to the user.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 许可证价格相对较低，而且附加功能是非常值得的。但是，免费版本仍然非常有用，并且在用户的大多数核心功能中没有任何费用。
- en: How to do it…
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'Let''s configure Burp Suite on Kali Linux with the help of following steps:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过以下步骤在 Kali Linux 上配置 Burp Suite：
- en: 'Burp Suite is a GUI tool and requires access to the graphical desktop in order
    to be run. As such, it cannot be used over SSH. There are two ways to start Burp
    Suite in Kali Linux. You can browse to it in the Applications menu by navigating
    to Applications | Kali Linux | Top 10 Security Tools | burpsuite. Alternatively,
    you can execute it by passing it to the Java interpreter in a bash Terminal, as
    follows:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Burp Suite 是一个 GUI 工具，需要访问图形桌面才能运行。因此，它不能通过 SSH 使用。在 Kali Linux 中启动 Burp Suite
    有两种方法。您可以通过导航到应用程序菜单中的 Applications | Kali Linux | Top 10 Security Tools | burpsuite
    来浏览到它。或者，您可以通过在 bash 终端中传递给 Java 解释器来执行它，如下所示：
- en: '[PRE0]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When you start Burp Suite, you will be asked whether you want to use a Temporary
    project, New project on disk, or Open existing project. For our purposes now,
    let''s use the default choice of a Temporary project:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当您启动 Burp Suite 时，将询问您是否要使用临时项目、磁盘上的新项目或打开现有项目。对于我们现在的目的，让我们使用默认的临时项目选项：
- en: '![](../images/00119.jpeg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00119.jpeg)'
- en: 'When asked to select the configuration, choose Use Burp defaults:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当要求选择配置时，请选择使用 Burp 默认设置：
- en: '![](../images/00193.jpeg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00193.jpeg)'
- en: 'Once Burp Suite is loaded, ensure that the proxy listener is active and running
    on the desired port. In the example provided, TCP port `8080` is used. These configurations
    can be verified by selecting the Proxy tab and then selecting the Options tab
    below it, as shown in the following screenshot:'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦 Burp Suite 载入，确保代理监听器处于活动状态，并在所需端口上运行。在提供的示例中，使用 TCP 端口 `8080`。可以通过选择 Proxy
    标签，然后在其下方选择 Options 标签来验证这些配置，如下面的截图所示：
- en: '![](../images/00266.jpeg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00266.jpeg)'
- en: Here, you will see a list of all proxy listeners. If none exist, add one. To
    use it with the Mozilla Firefox web browser in Kali Linux, configure the listener
    to listen on a dedicated port on the `127.0.0.1` address. Also, ensure that the
    Running checkbox is activated. After configuring the listener in Burp Suite, you
    will also need to modify the Mozilla Firefox browser configurations to route traffic
    through the proxy.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你会看到所有代理监听器的列表。如果没有任何监听器，添加一个。要在Kali Linux中与Mozilla Firefox浏览器一起使用它，请将监听器配置为在`127.0.0.1`地址上的专用端口上监听。同时，确保激活“运行”复选框。在Burp
    Suite中配置完监听器后，你还需要修改Mozilla Firefox浏览器的配置，使流量通过代理转发。
- en: 'To do this, open up Mozilla Firefox by clicking on the Firefox icon at the
    top of the sidebar. Once it''s open, expand the drop-down menu and click on Preferences
    to get the following screenshot:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为此，点击侧边栏顶部的Firefox图标打开Mozilla Firefox。打开后，展开下拉菜单，点击“偏好设置”以获得以下截图：
- en: '![](../images/00342.jpeg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00342.jpeg)'
- en: In the Mozilla Firefox preferences menu, click on the Advanced options button
    at the bottom of the menu and then select the Network tab.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在Mozilla Firefox的偏好设置菜单中，点击菜单底部的“高级选项”按钮，然后选择“网络”标签。
- en: 'Then, click on the Settings button under the Connection header. This will bring
    up the Connection Settings configuration menu, as shown in the following screenshot:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，点击“连接”标题下的“设置”按钮。这将弹出“连接设置”配置菜单，如下图所示：
- en: '![](../images/00623.jpeg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00623.jpeg)'
- en: By default, the proxy radio button is set to Use system proxy settings. This
    needs to be changed to Manual proxy configuration. The manual proxy configurations
    should be the same as the Burp Suite Proxy listener configurations. In the example
    provided, the HTTP proxy address is set to `127.0.0.1` and the port value is set
    to TCP `8080`. To capture other traffic, such as HTTPS, click on the Use this
    proxy server for all protocols checkbox.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，代理单选按钮设置为“使用系统代理设置”。需要将其更改为“手动代理配置”。手动代理配置应该与Burp Suite Proxy监听器配置相同。在提供的示例中，HTTP代理地址设置为`127.0.0.1`，端口值设置为TCP
    `8080`。要捕获其他流量（如HTTPS），请勾选“将此代理服务器用于所有协议”复选框。
- en: 'To verify that everything is working correctly, attempt to browse to a website
    using Firefox, as shown in the following screenshot:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了验证一切是否正常工作，尝试使用Firefox浏览器浏览一个网站，如下图所示：
- en: '![](../images/00508.jpeg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00508.jpeg)'
- en: 'If your configurations are correct, you should see the browser attempting to
    connect, but nothing will be rendered in the browser. This is because the request
    sent from the browser was intercepted by the proxy. The proxy intercept is the
    default configuration used in Burp Suite. To confirm that the request was captured
    successfully, return to the Burp Suite Proxy interface, as shown here:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的配置正确，你应该能看到浏览器尝试连接，但浏览器中不会显示任何内容。这是因为浏览器发送的请求被代理拦截了。代理拦截是Burp Suite中默认的配置。为了确认请求是否成功捕获，请返回到Burp
    Suite的代理界面，如下所示：
- en: '![](../images/00638.jpeg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00638.jpeg)'
- en: Here, you should see the captured request. To continue using your browser for
    other purposes, you can change the proxy configurations to passively listen by
    clicking on the Intercept is on button to disable it, or you can change your proxy
    settings in your browser back to the Use system proxy settings option and only
    use the manual proxy settings when using Burp.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，你应该能看到捕获到的请求。为了继续使用浏览器进行其他操作，你可以通过点击“拦截已开启”按钮将其禁用，或者将浏览器中的代理设置更改回“使用系统代理设置”选项，仅在使用Burp时使用手动代理设置。
- en: How it works…
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The initial configuration performed in Burp Suite creates a listening port on
    TCP `8080`. This port is used by Burp Suite to intercept all web traffic and also
    to receive the incoming traffic returned in response. By configuring the IceWeasel
    web browser proxy configuration to point to this port, we indicate that all traffic
    generated in the browser should be routed through Burp Suite Proxy. Thanks to
    the capabilities provided by Burp, we can now modify the en-route traffic at will.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在Burp Suite中进行的初始配置会在TCP `8080`上创建一个监听端口。Burp Suite使用这个端口来拦截所有的网页流量，并接收返回的响应流量。通过将IceWeasel浏览器的代理配置指向这个端口，我们表明浏览器中生成的所有流量都应该通过Burp
    Suite Proxy。得益于Burp提供的功能，我们现在可以任意修改途中的流量。
- en: Defining a web application target with Burp Suite
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Burp Suite定义Web应用目标
- en: When performing a penetration test, it is important to be sure that your attacks
    are only targeting intended systems. Attacks performed against unintended targets
    can result in legal liability. To minimize this risk, it is important to define
    your scope within Burp Suite. In this recipe, we will discuss how to define in-scope
    targets using the Burp Suite proxy.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行渗透测试时，确保您的攻击只针对预定系统非常重要。攻击无意目标可能会导致法律责任。为了最小化这种风险，定义 Burp Suite 中的评估范围至关重要。在这个指南中，我们将讨论如何使用
    Burp Suite 代理定义评估范围内的目标。
- en: Getting ready
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system running one or more web applications. In the
    examples provided, an instance of Metasploitable2 is used to perform this task.
    Metasploitable2 has several preinstalled vulnerable web applications running on
    the TCP port `80`. For more information on setting up Metasploitable2, refer to
    the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    pass web traffic through a local instance of Burp Suite.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 执行 web 应用程序分析，您需要有一个远程系统运行一个或多个 web 应用程序。在提供的示例中，使用了 Metasploitable2
    实例来执行此任务。Metasploitable2 在 TCP 端口 `80` 上运行着多个预安装的易受攻击的 web 应用程序。有关设置 Metasploitable2
    的更多信息，请参考 [第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426) 中的 *安装
    Metasploitable2* 配方，*入门指南*。此外，您的 web 浏览器需要配置为将 web 流量通过 Burp Suite 的本地实例传输。
- en: How to do it…
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何进行…
- en: 'The following steps will guide you to perform web application analysis using
    the Burp Suite:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的步骤将指导您使用 Burp Suite 进行 web 应用程序分析：
- en: The leftmost tab in the Burp Suite interface is Target. There are two tabs underneath
    this tab, called Site map and Scope. The Site map tab will be automatically populated
    as content is accessed via the proxied web browser. The Scope tab allows the user
    to configure sites and site content to be either included or excluded from the
    scope.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Burp Suite 界面最左侧的标签是 Target（目标）。该标签下有两个子标签，分别是 Site map（站点地图）和 Scope（范围）。Site
    map 标签会随着通过代理的 web 浏览器访问内容而自动填充。Scope 标签允许用户配置站点和站点内容，以便将其包括或排除在评估范围之外。
- en: 'To add a new site to the scope of the assessment, click on the Add button under
    the Include in scope table. Have a look at the following screenshot:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将一个新站点添加到评估范围中，请点击“包括在范围内”表格下方的“添加”按钮。请查看以下截图：
- en: '![](../images/00634.jpeg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00634.jpeg)'
- en: Adding in-scope content can be as general as a range of IP addresses or as specific
    as an individual file. The Protocol option has a drop-down menu that includes
    values of ANY, HTTP, or HTTPS. The Host or IP range field can include a single
    hostname, single IP, or range of IP addresses. Additionally, text fields exist
    for both Port and File. Fields can be left blank to limit the specificity of the
    scope. Fields should be populated using regular expressions.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加范围内的内容可以是一个 IP 地址范围，也可以是一个单独的文件。协议选项有一个下拉菜单，包含 ANY、HTTP 或 HTTPS 值。Host 或 IP
    范围字段可以包括单一主机名、单一 IP 或 IP 地址范围。此外，Port 和 File 字段也有文本框。可以将这些字段留空，以限制范围的具体性。这些字段应使用正则表达式进行填写。
- en: In the example provided, the caret opens each of the regular expressions, the
    dollar sign closes them, and the backslashes are used to escape the special meaning
    of the periods in the IP address. It is not within the scope of this book to address
    the use of regular expressions, but many resources are openly available on the
    Internet to explain their use. One good web primer you can use to familiarize
    yourself with regular expressions is [http://www.regular-expressions.info/](http://www.regular-expressions.info/).
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在提供的示例中，插入符号用于打开每个正则表达式，美元符号用于关闭它们，反斜杠用于转义 IP 地址中句点的特殊含义。本书并不涉及正则表达式的使用，但互联网上有许多资源可以公开获取，以解释其用法。一个很好的网络入门教程是您可以用来熟悉正则表达式的
    [http://www.regular-expressions.info/](http://www.regular-expressions.info/)。
- en: How it works…
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Regular expressions logically define the conditions whereby a given host, port,
    or file may be considered in scope. Defining the scope of an assessment in Burp
    Suite affects the way it operates when interacting with web content. The Burp
    Suite configurations will define what actions can and cannot be performed on objects
    that are in or out of the defined scope.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 正则表达式逻辑上定义了何种条件下，给定的主机、端口或文件可被视为在范围内。定义 Burp Suite 中的评估范围会影响其与 web 内容交互时的操作方式。Burp
    Suite 的配置将决定哪些操作可以或不能在定义的范围内或范围外的对象上执行。
- en: Using Burp Suite Spider
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Burp Suite蜘蛛抓取
- en: To effectively attack a web application, it is important to be aware of all
    hosted web content on the server. Multiple techniques can be used to discover
    the full attack surface of the web application. One tool that can quickly identify
    linked content that is referenced in the web pages of the target is the Spider
    tool. In this recipe, we will discuss how to spider the Web to identify in-scope
    content using Burp Suite.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 要有效地攻击Web应用程序，了解服务器上所有托管的Web内容是非常重要的。可以使用多种技术来发现Web应用程序的完整攻击面。一个可以快速识别目标Web页面中引用的关联内容的工具是蜘蛛工具。在本食谱中，我们将讨论如何使用Burp
    Suite来蜘蛛抓取Web，识别范围内的内容。
- en: Getting ready
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Burp Suite执行针对目标的Web应用程序分析，您需要有一台运行一个或多个Web应用程序的远程系统。在提供的示例中，使用了Metasploitable2实例来执行此任务。Metasploitable2上安装了多个预装的易受攻击的Web应用程序，运行在TCP端口`80`上。有关设置Metasploitable2的更多信息，请参见[第1章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)中的*安装Metasploitable2*食谱，*快速入门*部分。此外，您的Web浏览器需要配置为通过Burp
    Suite的本地实例代理Web流量。
- en: How to do it…
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Let''s use the Burp Suite Spider to perform the web application attack:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用**Burp Suite Spider**进行Web应用攻击：
- en: To begin automatically spidering the web content from your previously defined
    scope, click on the Spider tab at the top of the screen. Underneath, there are
    two additional tabs that include Control and Options.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要开始自动抓取您之前定义范围的Web内容，请点击屏幕顶部的蜘蛛选项卡。下面会有两个额外的选项卡，分别是控制和选项。
- en: The Options tab allows the user to define the configurations for how spidering is
    performed. This includes detailed settings, depth, throttling, form submissions,
    and so on. It is important to consider the configurations of an automatic spider,
    as it will be sending requests to all in-scope web content. This could potentially
    be disruptive or even damaging to some web content.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**选项**选项卡允许用户定义蜘蛛抓取执行的配置，包括详细设置、深度、流量限制、表单提交等。考虑自动蜘蛛的配置非常重要，因为它会向所有在范围内的网页内容发送请求，这可能会对某些网页内容造成干扰甚至损害。'
- en: 'Once configured, the Control tab can be selected to begin automatic spidering.
    By default, the Spider tab is paused. By clicking on the button that indicates
    such, the spider can be started. The Site map tab under the Target tab will be
    automatically updated as the spider progresses. Have a look at the following screenshot:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置完成后，可以选择**控制**选项卡开始自动蜘蛛抓取。默认情况下，蜘蛛选项卡是暂停的。点击指示按钮即可启动蜘蛛抓取。随着蜘蛛抓取的进展，**目标**选项卡下的站点地图将会自动更新。请查看以下截图：
- en: '![](../images/00002.jpeg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00002.jpeg)'
- en: 'Depending on the configurations defined, Burp Suite will likely request your
    interaction with any forms that it encounters while spidering. Enter parameters
    for any forms identified, or skip the forms by selecting the Ignore form button,
    as shown in the following screenshot:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据定义的配置，Burp Suite可能会要求您与它在蜘蛛抓取过程中遇到的任何表单进行交互。为任何识别的表单输入参数，或者通过选择“忽略表单”按钮跳过表单，如下截图所示：
- en: '![](../images/00306.jpeg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00306.jpeg)'
- en: 'Alternatively, you can spider from any particular location by right-clicking
    on it in the Site map tab and then clicking on Spider this branch. This will recursively
    spider the object selected and any files or directories contained within. Have
    a look at the following screenshot:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，您也可以通过右键点击站点地图选项卡中的任何特定位置，然后点击“蜘蛛抓取此分支”来从该位置开始抓取。这样会递归地抓取所选对象及其包含的所有文件或目录。请查看以下截图：
- en: '![](../images/00058.jpeg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00058.jpeg)'
- en: How it works…
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The Burp Suite Spider tool works by parsing through all known HTML content and
    extracting links to other content on the Web. The linked content is then analyzed
    for additional linked content that is discovered within it. This process will
    continue indefinitely and is only limited by the amount of available linked content,
    the layers of depth specified, and the number of concurrent threads processing
    additional requests.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Spider 工具通过解析所有已知的 HTML 内容并提取到其他 Web 内容的链接来工作。然后分析这些链接内容，发现其中的更多链接内容。这个过程会无限进行，直到达到可用链接内容的数量、指定的深度层数以及处理额外请求的并发线程数为止。
- en: Using Burp Suite Proxy
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Proxy
- en: Despite all of its available tools, Burp Suite's primary function is to serve
    as an intercepting proxy. This means that Burp Suite is capable of capturing requests
    and responses and then manipulating them prior to forwarding them on to their
    destination. In this recipe, we will discuss how to intercept and/or log requests
    using Burp Suite Proxy.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管 Burp Suite 提供了许多工具，其主要功能是作为一个拦截代理。这意味着 Burp Suite 能够捕获请求和响应，并在将它们转发到目标之前进行修改。在本配方中，我们将讨论如何使用
    Burp Suite Proxy 拦截和/或记录请求。
- en: Getting ready
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 对目标执行 Web 应用分析，您需要一个运行着一个或多个 Web 应用的远程系统。在提供的示例中，使用了 Metasploitable2
    实例来执行此任务。Metasploitable2 在 TCP 端口 `80` 上运行着几个预装的易受攻击的 Web 应用。有关设置 Metasploitable2
    的更多信息，请参阅 [第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426) 中的 *安装
    Metasploitable2* 配方，*入门*部分。此外，您的 Web 浏览器需要配置为通过本地实例的 Burp Suite 代理 Web 流量。
- en: How to do it…
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'The following steps will guide you to intercept the log requests using Burp
    Suite Proxy:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导您使用 Burp Suite Proxy 拦截记录请求：
- en: 'The Burp Suite Proxy function can be used in passive or intercept mode. If
    intercept is disabled, all requests and responses will simply be logged in the
    HTTP history tab. These can be navigated through, and the details of any request
    and/or response can be seen by selecting it from the list, as shown in the following
    screenshot:'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Burp Suite Proxy 功能可以在被动或拦截模式下使用。如果拦截被禁用，所有请求和响应将仅在 HTTP 历史记录选项卡中记录。这些记录可以通过选项卡浏览，并通过从列表中选择，可以查看任何请求和/或响应的详细信息，如下图所示：
- en: '![](../images/00213.jpeg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00213.jpeg)'
- en: Alternatively, the Intercept button can be clicked on to capture traffic en
    route to its destination server. These requests can be manipulated in the Proxy
    tab and then either forwarded to the destination or dropped.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 另外，也可以点击 Intercept 按钮来捕获传输到目标服务器的流量。这些请求可以在 Proxy 选项卡中进行修改，然后转发到目标或丢弃。
- en: 'By selecting the Options tab, the intercepting proxy can be reconfigured to
    define the types of requests intercepted, or to even enable the interception of
    responses prior to them being rendered in the browser, as shown in the following
    screenshot:'
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择选项卡，可以重新配置拦截代理，定义拦截的请求类型，或甚至启用拦截响应，以便在它们呈现在浏览器中之前进行处理，如下图所示：
- en: '![](../images/00283.jpeg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00283.jpeg)'
- en: How it works…
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Burp Suite Proxy works to intercept or passively log traffic going to and coming
    from an attached browser because it is logically configured to sit between the
    browser and any remote devices. The browser is configured to send all the requests
    to Burp Proxy, and then Proxy forwards them on to any external hosts. Because
    of this configuration, Burp can both capture requests and responses en route,
    or it can log all communications going to and coming from the client browser.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Proxy 可以拦截或被动地记录来自附加浏览器的流量，因为它被逻辑配置为位于浏览器与任何远程设备之间。浏览器被配置为将所有请求发送到
    Burp Proxy，然后 Proxy 将它们转发到任何外部主机。由于这种配置，Burp 可以在请求和响应传输过程中进行捕获，或者它可以记录所有进出客户端浏览器的通信。
- en: Using Burp Suite engagement tools
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 进行 Web 应用分析
- en: Burp Suite also has a number of tools that can be used for basic information
    gathering and target profiling. These tools are called **engagement tools**. In
    this recipe, we will discuss how to use the supplemental engagement tools in Burp
    Suite to gather or organize information on a target.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 还提供了多个可以用于基本信息收集和目标概况分析的工具。这些工具被称为**交互工具**。在本节中，我们将讨论如何使用 Burp Suite
    中的辅助交互工具来收集或组织目标信息。
- en: Getting ready
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 对目标进行 Web 应用程序分析，您需要一个远程系统，该系统运行着一个或多个 Web 应用程序。在提供的示例中，使用 Metasploitable2
    实例来执行此任务。Metasploitable2 在 TCP 端口 `80` 上运行多个预安装的漏洞 Web 应用程序。有关设置 Metasploitable2
    的更多信息，请参考[第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)的 *安装 Metasploitable2*
    部分，*入门指南*。此外，您的 Web 浏览器需要配置为通过本地的 Burp Suite 实例代理 Web 流量。
- en: How to do it…
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何进行…
- en: 'Let''s gather or organize information on a target using the supplemental engagement
    tools in Burp Suite:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用 Burp Suite 中的辅助交互工具收集或组织目标信息：
- en: 'Engagement tools can be accessed by right-clicking on any object in the Site
    map tab and then scrolling down to the expansion menu and selecting the desired
    tool. By default, the selected engagement tool will recursively target the object
    selected, to include all files and directories within. Consider the following
    screenshot:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以通过右键单击 Site map 选项卡中的任何对象，然后向下滚动到展开菜单并选择所需的工具来访问交互工具。默认情况下，选定的交互工具将递归地针对所选对象，涵盖其中所有文件和目录。请参考以下屏幕截图：
- en: '![](../images/00362.jpeg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00362.jpeg)'
- en: 'We will address each of the engagement tools in the order in which they are
    presented in this menu. For organization purposes, I think it is best to introduce
    them in the following bullet points:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将按照菜单中出现的顺序介绍每个交互工具。为了便于组织，我认为最好按照以下要点进行介绍：
- en: 'Search: This tool can be used to search for terms, phrases, or regular expressions.
    It will return any HTTP requests or responses that include the queried term. For
    each entry returned, the queried term will be highlighted in either the request
    or response.'
  id: totrans-97
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 搜索：此工具可用于搜索术语、短语或正则表达式。它将返回包含查询术语的所有 HTTP 请求或响应。对于每个返回的条目，查询的术语将在请求或响应中被突出显示。
- en: 'Find comments: This tool searches through all JavaScript, HTML, and other sources
    of code throughout the specified web content and locates all comments. These comments
    can also be exported for later review. This can be particularly helpful at times,
    as some developers will often leave sensitive information in the comments of code
    that they have written.'
  id: totrans-98
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查找评论：此工具将搜索指定网页内容中的所有 JavaScript、HTML 以及其他代码源，并定位所有评论。这些评论也可以导出以供以后查看。有时这非常有用，因为一些开发人员通常会在他们编写的代码的注释中留下敏感信息。
- en: "Find scripts: This tool will identify all client- and server-side scripts within\
    \ the \Lweb content."
  id: totrans-99
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查找脚本：此工具将识别 Web 内容中的所有客户端和服务器端脚本。
- en: 'Find references: This tool will parse through all HTML content and identify
    other referenced content.'
  id: totrans-100
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查找引用：此工具将解析所有 HTML 内容并识别其他引用的内容。
- en: 'Analyze target: This tool will identify all dynamic content, static content,
    and parameters within the specified web content. This can be particularly useful
    to organize testing of web applications that have a lot of parameters and/or dynamic
    content.'
  id: totrans-101
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析目标：此工具将识别指定网页内容中的所有动态内容、静态内容和参数。这对于组织测试具有大量参数和/或动态内容的 Web 应用程序尤其有用。
- en: 'Discover content: This tool can be used to brute-force directories and filenames
    by cycling through a word list and defined list of file extensions.'
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发现内容：此工具可通过循环遍历词汇表和定义的文件扩展名列表来暴力破解目录和文件名。
- en: 'Schedule task: This tool allows the user to define time and dates to start
    and stop various tasks within Burp Suite.'
  id: totrans-103
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安排任务：此工具允许用户定义任务的开始和结束时间，并在 Burp Suite 中启动和停止各种任务。
- en: 'Simulate manual testing: This tool presents an excellent way to appear as though
    you are performing a manual analysis on a web application when you''ve actually
    stepped away for coffee and donuts. There is absolutely no practical function
    for this tool, beyond just bamboozling the boss.'
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模拟手动测试：此工具提供了一种绝妙的方式，能让你看起来像是正在对 Web 应用程序进行手动分析，实际上你可能已经去喝咖啡和吃甜甜圈了。这个工具除了迷惑老板外，完全没有实际功能。
- en: How it works…
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Burp Suite engagement tools work in a variety of ways, depending on the tool
    being used. Many of the engagement tools perform searches and examine the already
    received responses for a particular type of content. The Discover content tool
    provides the functionality of discovering new web content by brute-forcing file
    and directory names by cycling through defined word lists.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 的参与工具以多种方式工作，具体取决于使用的工具。许多参与工具会执行搜索，并检查已收到的响应以查找特定类型的内容。Discover
    content 工具通过循环遍历定义的词汇列表，提供了通过暴力破解文件和目录名称来发现新的 Web 内容的功能。
- en: Using the Burp Suite web application scanner
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Web 应用扫描器
- en: Burp Suite can also service as an effective web application vulnerability scanner.
    This feature can be used to perform both passive analysis and active scanning.
    In this recipe, we will discuss how to perform both passive and active vulnerability
    scanning using the Burp Suite scanner.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 也可以作为有效的 Web 应用漏洞扫描器。此功能可用于执行被动分析和主动扫描。在本教程中，我们将讨论如何使用 Burp Suite
    执行被动和主动漏洞扫描。
- en: Getting ready
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 对目标执行 Web 应用分析，你需要有一个远程系统，运行着一个或多个 Web 应用程序。在提供的示例中，使用了一个 Metasploitable2
    实例来执行此任务。Metasploitable2 在 TCP 端口 `80` 上运行着多个预装的漏洞 Web 应用程序。有关设置 Metasploitable2
    的更多信息，请参阅 [第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426) 中的 *安装
    Metasploitable2* 部分，*入门指南*。
- en: Additionally, your web browser will need to be configured to proxy web traffic
    through a local instance of Burp Suite.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，你的网页浏览器需要配置为通过本地 Burp Suite 实例代理网页流量。
- en: How to do it…
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Performing both passive and active vulnerability scanning using the Burp Suite
    scanner:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 执行被动和主动漏洞扫描：
- en: By default, Burp Suite will passively scan all in-scope web content that is
    accessed via the browser when connected to the proxy. The term **passive scanning**
    is used to refer to Burp Suite passively observing requests and responses to and
    from the server and examining that content for any evidence of vulnerabilities.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，Burp Suite 将在连接到代理时被动扫描所有通过浏览器访问的在范围内的网页内容。**被动扫描**一词是指 Burp Suite 被动观察与服务器之间的请求和响应，并检查这些内容是否有漏洞的证据。
- en: 'Passive scanning does not involve the injection of any probes or other attempts
    to confirm suspected vulnerabilities. Have a look at the following screenshot:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 被动扫描不涉及注入任何探针或其他尝试确认怀疑漏洞的行为。请看以下截图：
- en: '![](../images/00456.jpeg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00456.jpeg)'
- en: 'Active scanning can be performed by right-clicking on any object in the Site
    map tab or any request in the HTTP history tab under the Proxy tab and by then
    selecting Actively scan this branch or Do an active scan, respectively, as shown
    in the following screenshot:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 主动扫描可以通过右键单击“站点地图”选项卡中的任何对象，或右键单击“代理”选项卡下的 HTTP 历史记录选项卡中的任何请求，然后选择“主动扫描此分支”或“执行主动扫描”来进行，具体操作如以下截图所示：
- en: '![](../images/00524.jpeg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00524.jpeg)'
- en: 'Upon selecting Actively scan this branch, you will be presented with options
    of what to scan. Select your preferences, click on Next, and you will be presented
    with a list of what will be scanned:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“主动扫描此分支”后，你将看到可以选择的扫描选项。选择你的偏好，点击“下一步”，然后你将看到一个待扫描内容的列表：
- en: '![](../images/00591.jpeg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00591.jpeg)'
- en: 'The results for all active scanning can be reviewed by selecting the Scan queue
    tab under Scanner. By double-clicking on any particular scan entry, you can review
    the particular findings as they pertain to that scan, as shown in the following
    screenshot:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有主动扫描的结果可以通过选择扫描器下的“扫描队列”标签进行查看。双击任何特定的扫描条目，你可以查看与该扫描相关的特定发现，如下面的截图所示：
- en: '![](../images/00645.jpeg)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00645.jpeg)'
- en: 'Active scanning configurations can be manipulated by selecting the Options
    tab. Here, you can define the types of tests performed, the speed at which they
    are performed, and the thoroughness of those tests. One should take note of the
    types of test the scanner will be conducting:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 主动扫描配置可以通过选择“选项”标签来操作。在这里，你可以定义执行的测试类型、执行速度以及测试的全面性。需要注意的是，扫描器将进行的测试类型：
- en: '![](../images/00020.jpeg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00020.jpeg)'
- en: How it works…
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Burp Suite's passive scanner works by merely evaluating traffic that passes
    between the browser and any remote server with which it is communicating. This
    can be useful for identifying some easily noticeable vulnerabilities, but is not
    sufficient to validate many of the more critical vulnerabilities that exist on
    web servers these days. The active scanner works by sending a series of probes
    to parameters that are identified in the request. These probes can be used to
    identify many common web application vulnerabilities, such as directory traversal,
    cross-site scripting, and SQL injection.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 的被动扫描器通过评估浏览器与其通信的任何远程服务器之间传输的流量来工作。这对于识别一些显而易见的漏洞非常有用，但不足以验证当前 Web
    服务器上存在的许多更为严重的漏洞。主动扫描器通过向请求中识别的参数发送一系列探测来工作。这些探测可以用于识别许多常见的 Web 应用漏洞，如目录遍历、跨站脚本和
    SQL 注入。
- en: Using Burp Suite Intruder
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Intruder
- en: Another highly useful tool in Burp Suite is the Intruder feature. This feature
    allows fast-paced attacks to be performed by submitting large numbers of requests
    while manipulating predefined payload positions within the request. In this recipe,
    we will discuss how to automate manipulation of request content using Burp Suite
    Intruder.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 中的另一个非常有用的工具是 Intruder 功能。此功能允许通过提交大量请求并在请求中操作预定义的有效载荷位置来进行快速攻击。在本章节中，我们将讨论如何使用
    Burp Suite Intruder 自动化请求内容的操作。
- en: Getting ready
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 对目标执行 Web 应用分析，你需要有一个远程系统运行一个或多个 Web 应用。在提供的示例中，使用了 Metasploitable2
    实例来执行此任务。Metasploitable2 预装了几个脆弱的 Web 应用，并在 TCP 端口 `80` 上运行。有关设置 Metasploitable2
    的更多信息，请参考 [第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)中的 *安装
    Metasploitable2* 章节，*入门指南*。此外，您的 Web 浏览器需要配置为通过本地实例的 Burp Suite 代理 Web 流量。
- en: How to do it…
  id: totrans-131
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'The following steps will guide you to automate manipulation of requested content
    using the Burp Suite Intruder:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导你使用 Burp Suite Intruder 自动化请求内容的操作：
- en: 'To use Burp Suite Intruder, a request needs to be sent to it from either an
    en-route capture via an intercept or from the proxy history. With either of these,
    right-click on the request and then select Send to Intruder, as shown in the following
    screenshot:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite Intruder，需要从通过拦截获取的传输请求或代理历史记录中发送请求。使用这两种方式中的任何一种，右键点击请求，然后选择“发送到
    Intruder”，如下面的截图所示：
- en: '![](../images/00072.jpeg)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00072.jpeg)'
- en: 'In the example provided, a username and password were entered into the login
    portal of DVWA''s Brute Force application. After being sent to Intruder, the payloads
    can be set with the Positions tab. To attempt to brute-force the admin account,
    the only payload position that will need to be set is the value of the password
    parameter, as shown in the following screenshot:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在提供的示例中，用户名和密码被输入到DVWA的暴力破解应用的登录门户中。发送到Intruder后，负载可以通过Positions标签进行设置。为了尝试暴力破解管理员账户，唯一需要设置的负载位置是密码参数的值，如下图所示：
- en: '![](../images/00152.jpeg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00152.jpeg)'
- en: 'Once the payload position has been defined, the payloads that will be injected
    can be configured with the Payloads tab. To perform a dictionary attack, one could
    use a custom dictionary list or a built-in list. In the example provided, the
    built-in Passwords list is employed to perform the attack, as shown in the following
    screenshot:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦定义了负载位置，就可以通过Payloads标签配置将要注入的负载。为了执行字典攻击，可以使用自定义字典列表或内置列表。在提供的示例中，使用内置的Passwords列表来执行攻击，如下图所示：
- en: '![](../images/00231.jpeg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00231.jpeg)'
- en: Once the attack has been fully configured, you can click on the Start Attack
    button at the top of the screen. This will quickly submit a series of requests
    by substituting each value in the list into the payload position. A successful
    attempt can often be identified by a variation in response.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置好攻击后，可以点击屏幕顶部的“Start Attack”按钮。这将快速提交一系列请求，通过将列表中的每个值替换到负载位置。成功的尝试通常可以通过响应的变化来识别。
- en: To determine whether there is any request that generates a distinctly different
    response, one can sort the results by length. This can be done by clicking on
    the Length table header. By sorting the table by length in descending order, we
    can identify that one response in particular is longer than the others.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了确定是否有请求产生了明显不同的响应，可以通过长度对结果进行排序。可以通过点击“Length”表头来完成此操作。通过按降序对表格进行排序，我们可以发现有一个响应比其他响应更长。
- en: 'This is the response that is associated with the correct password (which happens
    to be `password`). This is shown in the following screenshot. This successful
    login attempt is further confirmed in the next recipe, which discusses the use
    of Comparer:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这是与正确密码相关的响应（密码恰好是`password`）。以下截图展示了这一点。成功的登录尝试将在接下来的步骤中得到进一步确认，讨论了如何使用Comparer：
- en: '![](../images/00301.jpeg)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00301.jpeg)'
- en: How it works…
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理…
- en: Burp Suite Intruder works by automating payload manipulation. It allows a user
    to specify one or more payload positions within a request and then provides a
    large number of options that can be used to configure how the values that will
    be supplied to those payload positions will change from one iteration to the next.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Intruder通过自动化负载操作来工作。它允许用户在请求中指定一个或多个负载位置，并提供大量选项来配置这些负载位置在每次迭代时将如何改变所提供的值。
- en: Using Burp Suite Comparer
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Burp Suite Comparer
- en: When performing a web application assessment, it is often important to be able
    to easily identify variations in HTTP requests or responses. The Comparer feature
    simplifies this process by providing a graphical overview of variation. In this
    recipe, we will discuss how to identify and evaluate varied server responses using
    Burp Suite Comparer.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行Web应用评估时，能够轻松识别HTTP请求或响应的变化通常非常重要。Comparer功能通过提供变化的图形化概览简化了这一过程。在本步骤中，我们将讨论如何使用Burp
    Suite Comparer识别和评估不同的服务器响应。
- en: Getting ready
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 执行针对目标的 Web 应用程序分析，您需要一个远程系统，该系统正在运行一个或多个 Web 应用程序。在提供的示例中，使用了
    Metasploitable2 实例来执行此任务。Metasploitable2 上预安装了多个易受攻击的 Web 应用程序，并且运行在 TCP 端口 `80`
    上。有关设置 Metasploitable2 的更多信息，请参阅 [第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)
    中的 *安装 Metasploitable2* 章节，*入门*。此外，您的 Web 浏览器需要配置为通过本地实例的 Burp Suite 代理 Web 流量。
- en: How to do it…
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作方法…
- en: 'The following steps will guide you to identify and evaluate varied server responses
    using the Burp Suite Comparer:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导您使用 Burp Suite Comparer 识别和评估服务器响应的变化：
- en: Any anomalous exception to an otherwise consistent response is often worth investigating.
    Variation in response can often be a solid indication that a payload has produced
    some desirable result.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于一个一致响应中任何异常的例外情况，通常都值得进行调查。响应中的变化通常是有效载荷产生某些期望结果的有力迹象。
- en: In the previous demonstration of using Burp Suite Intruder to brute-force the
    login for DVWA, one payload in particular generated a longer response than all
    the others.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在之前使用 Burp Suite Intruder 对 DVWA 登录进行暴力破解的演示中，特别有一个有效载荷生成的响应比其他所有响应都要长。
- en: 'To evaluate the variation in response, right-click on the event and then click
    on Send to Comparer (response), as shown in the following screenshot. The same
    thing should be done for one of the control examples:'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要评估响应的变化，右键点击该事件，然后点击“发送到比较器（响应）”，如下面的截图所示。对其中一个控制示例也应进行相同的操作：
- en: '![](../images/00386.jpeg)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00386.jpeg)'
- en: 'After sending each event to Comparer, you can evaluate them by selecting the
    Comparer tab at the top of the screen. Ensure that one of the previous responses
    is selected for item 1 and the other is selected for item 2, as shown in the following
    screenshot:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每个事件发送到 Comparer 后，可以通过选择屏幕顶部的 Comparer 标签来评估它们。确保为项目 1 选择了之前的一个响应，并为项目 2 选择了另一个响应，如下面的截图所示：
- en: '![](../images/00654.jpeg)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00654.jpeg)'
- en: 'In the bottom-right corner of the screen, there is an option to choose compare
    words or compare bytes. In this particular case, select the Words option. By doing
    this, we can see that some of the content modified in the response reveals that
    the login was successful. Any content that has been modified, deleted, or added
    is highlighted from one response to the next and makes it very easy to visually
    compare the two, as shown in the following screenshot:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在屏幕右下角，有一个选项可以选择比较单词或比较字节。在此特定情况下，选择“单词”选项。通过这样做，我们可以看到响应中修改的部分内容表明登录成功。任何已修改、删除或添加的内容都会在两个响应之间突出显示，并使得视觉比较变得非常容易，如下面的截图所示：
- en: '![](../images/00482.jpeg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00482.jpeg)'
- en: How it works…
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理…
- en: Burp Suite Comparer works by analyzing any two sources of content for differences.
    These differences are identified as content that has been modified, deleted, or
    added. Quickly isolating variations in content can be effective in determining
    the distinct effects that particular actions have upon the behavior of a web application.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Comparer 通过分析任何两个内容来源之间的差异来工作。这些差异被识别为已被修改、删除或添加的内容。快速隔离内容中的变化对于确定特定操作对
    Web 应用程序行为的不同影响是非常有效的。
- en: Using Burp Suite Repeater
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Repeater
- en: When performing a web application assessment, there will often be times that
    manual testing is required to exploit a given vulnerability. Capturing every response
    in the proxy, manipulating it, and then forwarding it can become very time consuming.
    Burp Suite's Repeater feature simplifies this by allowing consistent manipulation
    and submission of a single request without having to regenerate the traffic in
    the browser each time. In this recipe, we will discuss how to perform manual text-based
    audits using Burp Suite Repeater.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行 Web 应用评估时，经常会遇到需要手动测试以利用特定漏洞的情况。捕获每一个响应、修改它，然后转发出去可能会变得非常耗时。Burp Suite 的
    Repeater 功能通过允许对单个请求进行一致的操作和提交，而无需每次都在浏览器中重新生成流量，从而简化了这一过程。在本教程中，我们将讨论如何使用 Burp
    Suite Repeater 执行手动文本审计。
- en: Getting ready
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 对目标进行 Web 应用分析，你需要拥有一台运行着一个或多个 Web 应用的远程系统。在提供的示例中，使用了 Metasploitable2
    实例来执行此任务。Metasploitable2 在 TCP 端口`80`上运行着多个预安装的易受攻击的 Web 应用程序。有关设置 Metasploitable2
    的更多信息，请参阅[第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)中的*安装 Metasploitable2*章节，*入门*部分。此外，你的
    Web 浏览器需要配置为通过 Burp Suite 的本地实例代理 Web 流量。
- en: How to do it…
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作……
- en: 'With the help of following steps we will be performing manual text-based audits
    using the Burp Suite Repeater:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下步骤的帮助下，我们将使用 Burp Suite Repeater 执行手动文本审计：
- en: 'To use Burp Suite Repeater, a request needs to be sent to it from either an
    en-route capture via an intercept or from the proxy history. With either one of
    these, right-click on the request and then select Send to Repeater, as shown in
    the following screenshot:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite Repeater，需要从拦截过程中捕获的请求或代理历史中将请求发送到 Repeater。无论哪种方式，都可以右键点击该请求，然后选择“发送到
    Repeater”，如下所示的屏幕截图所示：
- en: '![](../images/00605.jpeg)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00605.jpeg)'
- en: 'In the example provided, a request is made of the user to provide a name, and
    the server returns the provided input in the HTML response. To test for the possibility
    of cross-site scripting, we should first inject a series of commonly used characters
    in such an attack, as shown in the following screenshot:'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在提供的示例中，系统要求用户提供一个名称，并且服务器在 HTML 响应中返回了所提供的输入。为了测试是否存在跨站脚本攻击的可能性，我们应该首先注入一系列常见的攻击字符，如下所示的屏幕截图所示：
- en: '![](../images/00499.jpeg)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00499.jpeg)'
- en: 'After sending in the series of characters, we can see that all of the characters
    were returned in the HTML content and none were escaped. This is a very strong
    indication that the function is vulnerable to cross-site scripting. To test the
    exploitability of this vulnerability, we can enter the standard token request
    of `<script>alert(''xss'')</script>`, as shown in the following screenshot:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在发送一系列字符后，我们可以看到所有字符都出现在 HTML 内容中，并且没有被转义。这是一个非常强烈的指示，表明该功能容易受到跨站脚本攻击。为了测试此漏洞的可利用性，我们可以输入标准的
    token 请求 `<script>alert('xss')</script>`，如下所示的屏幕截图所示：
- en: '![](../images/00036.jpeg)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00036.jpeg)'
- en: 'By reviewing the returned HTML content, we can see that the opening script
    that is tagged has been stripped from the response. This is likely an indication
    of blacklisting that prohibits the use of the `<script>` tag in the input. The
    problem with blacklisting is that it can often be circumvented by slightly modifying
    the input. In this case, we can attempt to circumvent the blacklisting by modifying
    the case of several characters in the opening tag, as shown in the following screenshot:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过查看返回的 HTML 内容，我们可以看到标记的开头 `<script>` 标签已从响应中剥离。这很可能表明存在黑名单，禁止在输入中使用 `<script>`
    标签。黑名单的问题在于，它通常可以通过稍微修改输入来绕过。在这种情况下，我们可以尝试通过修改开头标签中的几个字符的大小写来绕过黑名单，如下所示的屏幕截图所示：
- en: '![](../images/00348.jpeg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00348.jpeg)'
- en: 'By using the opening `<ScRiPt>` tag, we can see that the imposed restriction
    has been bypassed and both the opening and closing tags have been included in
    the response. This can be confirmed by issuing the request in a browser, as shown
    in the following screenshot:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过使用 `<ScRiPt>` 标签，我们可以看到所施加的限制已被绕过，开闭标签都包含在响应中。这可以通过在浏览器中发出请求来确认，如下图所示：
- en: '![](../images/00029.jpeg)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00029.jpeg)'
- en: 'To evaluate the response in the client browser, right-click on the request
    and then select Request in browser. This will generate a URL that can be used
    to reissue the request in a browser that is actively connected to Burp Proxy,
    as shown in the following screenshot:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在客户端浏览器中评估响应，右键点击请求并选择“浏览器中请求”。这将生成一个 URL，用于在已连接到 Burp Proxy 的浏览器中重新发出请求，如下图所示：
- en: '![](../images/00350.jpeg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00350.jpeg)'
- en: 'We can copy the URL provided manually or by clicking on the Copy button. This
    URL can then be pasted into the browser, and the request will be issued in the
    browser. Assuming the cross-site scripting attack was successful, the client-side
    JavaScript code will be rendered in the browser, and an alert will appear on the
    screen, as shown in the following screenshot:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以手动复制提供的 URL 或通过点击复制按钮来复制该 URL。然后可以将此 URL 粘贴到浏览器中，浏览器将发出请求。假设跨站脚本攻击成功，客户端的
    JavaScript 代码将在浏览器中渲染，并且屏幕上会出现一个警告框，如下图所示：
- en: '![](../images/00096.jpeg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00096.jpeg)'
- en: How it works…
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理…
- en: Burp Suite Repeater simply works by providing a text-based interface to the
    Web. The Repeater can allow a user to interact with remote web services by directly
    manipulating requests rather than interacting with a web browser. This can be
    useful when testing cases for which the actual HTML output is more critical than
    the way it is rendered in the browser.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Repeater 通过提供基于文本的界面来与 Web 进行交互。Repeater 允许用户直接操作请求，而不是与 web 浏览器交互，这对于测试某些情况非常有用，这些情况的实际
    HTML 输出比它在浏览器中的呈现方式更为关键。
- en: Using Burp Suite Decoder
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Decoder
- en: When working with web application traffic, you will frequently notice content
    that is encoded for obfuscation or functionality reasons. Burp Suite Decoder allows
    request and response content to be decoded or encoded as needed. In this recipe,
    we will discuss how to encode and decode content using Burp Suite Decoder.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理 web 应用程序流量时，您将经常遇到因混淆或功能性原因而被编码的内容。Burp Suite Decoder 允许根据需要对请求和响应内容进行解码或编码。在本示例中，我们将讨论如何使用
    Burp Suite Decoder 对内容进行编码和解码。
- en: Getting ready
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 对目标进行 web 应用程序分析，您需要有一个运行着一个或多个 web 应用程序的远程系统。在提供的示例中，使用了 Metasploitable2
    实例来执行此任务。Metasploitable2 已经预装了多个易受攻击的 web 应用程序，并运行在 TCP 端口 `80` 上。有关如何设置 Metasploitable2
    的更多信息，请参考 [第 1 章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426) 中的 *安装
    Metasploitable2* 配方，*入门指南*。此外，您的 web 浏览器需要配置为通过 Burp Suite 的本地实例代理 web 流量。
- en: How to do it…
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Let''s encode and decode content using Burp Suite Decoder:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用 Burp Suite Decoder 对内容进行编码和解码：
- en: 'To pass a given value to Burp Suite Decoder, highlight the desired string,
    right-click on it, and then select Send to Decoder. In the example provided, the
    value of the `Cookie` parameter is sent to the decoder, as shown in the following
    screenshot:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将给定值传递给 Burp Suite Decoder，请高亮显示所需的字符串，右键点击它，然后选择发送到解码器。在提供的示例中，`Cookie` 参数的值被发送到解码器，如下图所示：
- en: '![](../images/00355.jpeg)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00355.jpeg)'
- en: 'By clicking on the Smart decode button, Burp Suite automatically identifies
    the encoding as URL encoding and decodes it in the field below where the encoded
    text was originally entered, as shown in the following screenshot:'
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击“智能解码”按钮，Burp Suite 会自动识别编码方式为 URL 编码，并在原本输入编码文本的区域下方进行解码，如下图所示：
- en: '![](../images/00161.jpeg)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00161.jpeg)'
- en: If Burp Suite is unable to determine the type of encoding used, manual decoding
    can be performed for multiple different types of encoding to include URL, HTML,
    Base64, ASCII hex, and so on. A decoder can also be used to encode strings that
    are entered using the Encode as... function.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 Burp Suite 无法确定使用的编码类型，可以对多种不同类型的编码进行手动解码，包括 URL、HTML、Base64、ASCII 十六进制等。还可以使用解码器对输入的字符串进行编码，方法是使用“编码为...”功能。
- en: How it works…
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Burp Suite Decoder provides a platform for both encoding and decoding content
    when interacting with a web application. This tool is extremely useful because
    various types of encoding are frequently used across the Web for handling and
    obfuscation reasons. Additionally, the Smart decode tool examines any given input
    for known patterns or signatures in order to determine the type of encoding that
    has been applied to the content and then decodes it.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Decoder 提供了一个平台，用于在与 Web 应用程序交互时进行内容的编码和解码。此工具非常有用，因为在 Web 上经常使用多种编码类型来处理和混淆内容。此外，智能解码工具会检查任何给定输入中的已知模式或签名，以确定应用于内容的编码类型，然后对其进行解码。
- en: Using Burp Suite Sequencer
  id: totrans-196
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite Sequencer
- en: Web application sessions are often maintained by session ID tokens that consist
    of random or pseudorandom values. Because of this, randomness is absolutely critical
    to the security of these applications. In this recipe, we will discuss how to
    collect generated values and test them for randomness using Burp Suite Sequencer.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: Web 应用程序的会话通常通过会话 ID 令牌来维护，这些令牌由随机或伪随机值组成。因此，随机性对于这些应用程序的安全性至关重要。在本节中，我们将讨论如何收集生成的值，并使用
    Burp Suite Sequencer 测试它们的随机性。
- en: Getting ready
  id: totrans-198
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备开始
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite 对目标进行 Web 应用程序分析，您需要有一台运行一个或多个 Web 应用程序的远程系统。在提供的示例中，使用 Metasploitable2
    实例来执行此任务。Metasploitable2 在 TCP 端口 `80` 上运行多个预安装的易受攻击的 Web 应用程序。有关如何设置 Metasploitable2
    的更多信息，请参考 [第1章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)中的 *安装 Metasploitable2*
    章节，*入门指南*。此外，您的 Web 浏览器需要配置为通过本地实例的 Burp Suite 代理 Web 流量。
- en: How to do it…
  id: totrans-200
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何执行此操作…
- en: 'Let''s test randomness on the generated values using the Burp Suite Sequencer:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用 Burp Suite Sequencer 测试生成值的随机性：
- en: 'To use Burp Suite Sequencer, a response containing the `Set-Cookie` header
    value or other pseudorandom number value to be tested needs to be sent to it.
    This can be sent either from the HTTP history tab under the Proxy tab or from
    a response intercepted prior to being received by the browser, as shown in the
    following screenshot:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用 Burp Suite Sequencer，必须向其发送包含 `Set-Cookie` 头部值或其他伪随机数值的响应进行测试。这可以通过代理选项卡下的
    HTTP 历史记录标签发送，也可以通过在浏览器接收响应之前拦截响应发送，如下图所示：
- en: '![](../images/00358.jpeg)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00358.jpeg)'
- en: 'Burp will automatically populate the Cookie drop-down menu with all the cookie
    values set in the response. Alternatively, you can use the Custom location field
    and then the Configure button to designate any location in the response for testing,
    as shown in the following screenshot:'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Burp 会自动将所有在响应中设置的 Cookie 值填充到 Cookie 下拉菜单中。或者，您可以使用自定义位置字段，然后点击配置按钮，指定响应中的任何位置进行测试，如下图所示：
- en: '![](../images/00005.jpeg)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00005.jpeg)'
- en: After defining the value to be tested, click on the Start live capture button.
    This will start submitting a large number of requests to acquire additional values
    for the defined parameter. In the example provided, Burp will issue a large number
    of requests with the `PHPSESSID` value stripped from the request.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在定义要测试的值之后，点击“开始实时捕获”按钮。这将开始提交大量请求，以获取定义参数的其他值。在提供的示例中，Burp 将发出大量请求，其中 `PHPSESSID`
    值从请求中剥离。
- en: 'This will cause the server to generate a new session token for each request.
    By doing this, we can acquire a sample of values that can be subjected to FIPS
    testing. This will consist of a series of tests that will evaluate the entropy
    associated with the generated pseudorandom numbers. All of these tests can be
    represented in a graphical format that is easy to understand, as shown in the
    following screenshot:'
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将导致服务器为每个请求生成一个新的会话令牌。通过这样做，我们可以获取一组值样本，这些值可以进行FIPS测试。这将包括一系列评估生成的伪随机数相关熵的测试。所有这些测试都可以以易于理解的图形格式表示，如下所示的截图所示：
- en: '![](../images/00360.jpeg)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00360.jpeg)'
- en: For a highly accurate and thorough FIPS test, a total of 20,000 values are needed,
    but an analysis can be performed with as few as 100 values. In addition to performing
    a live capture, the Manual load tab can be used to upload or paste a list of values
    for testing.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于高精度和彻底的FIPS测试，需要总共20,000个值，但也可以用100个值进行分析。除了进行实时捕获，手动加载标签页还可以用于上传或粘贴待测试的值列表。
- en: How it works…
  id: totrans-210
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Burp Suite Sequencer performs a number of different mathematical evaluations
    against a sample of pseudorandom numbers in an attempt to determine the quality
    of the sources of entropy from when they were generated. Live capture can be used
    to generate sample values by issuing crafted requests that will result in new
    values being assigned. This is often done by removing an existing cookie value
    from a request so that the response provides a new session token in the form of
    a new `Set-Cookie` response header.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Sequencer对伪随机数样本进行多种不同的数学评估，试图确定它们生成时所使用的熵源质量。通过发出精心构造的请求，利用实时捕获可以生成样本值，这些请求将导致新的值被分配。通常通过从请求中删除现有的cookie值来完成这一操作，以便响应提供一个新的会话令牌，形式为新的`Set-Cookie`响应头。
- en: Using Burp Suite Extender
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Burp Suite扩展功能
- en: Burp Suite offers a way to extend the capability of its tools through Burp Suite
    Extender. You can do this by writing your own extensions in Java, Python, and
    Ruby, or by installing existing extensions already available for use. This section
    will show you how to install and use the latter.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite提供了一种通过Burp Suite扩展器扩展工具功能的方法。你可以通过用Java、Python或Ruby编写自己的扩展，或安装现有的扩展来实现这一点。本节将向你展示如何安装并使用后者。
- en: If you are interested in building your own extensions, refer to the documentation
    at [https://portswigger.net/burp/extender/](https://portswigger.net/burp/extender/).
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有兴趣构建自己的扩展，请参考[https://portswigger.net/burp/extender/](https://portswigger.net/burp/extender/)上的文档。
- en: Getting ready
  id: totrans-215
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Burp Suite对目标进行Web应用程序分析，你需要有一台运行着一个或多个Web应用程序的远程系统。在提供的示例中，使用Metasploitable2实例来执行此任务。Metasploitable2在TCP端口`80`上运行着多个预安装的漏洞Web应用程序。有关设置Metasploitable2的更多信息，请参考[第1章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)中的*安装Metasploitable2*部分，*入门指南*。此外，你的Web浏览器需要配置为通过本地实例的Burp
    Suite代理Web流量。
- en: How to do it…
  id: totrans-217
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'The following steps will help you to perform web application analysis using
    the Metasploitable2:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将帮助你使用Metasploitable2进行Web应用程序分析：
- en: 'To install a Burp Suite extension, we will first navigate to the Extender tab
    and click on BApp Store. Here, there are a number of extensions available ready
    to be installed and used:'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要安装Burp Suite扩展，首先我们需要进入扩展器标签页并点击BApp商店。在这里，有许多可以安装并使用的扩展：
- en: '![](../images/00311.jpeg)'
  id: totrans-220
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00311.jpeg)'
- en: 'We are going to take a look at the Logger++ extension. If we select it, we
    can see a description of the additional capabilities it adds to Burp. In this
    case, the extension can be used to log the requests and responses made by all
    of Burp Suite''s tools, and it also provides a way to export them. To use this
    extension, we first click on the Install button:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将来看看Logger++扩展。如果我们选择它，我们可以看到它为Burp添加的额外功能描述。在这种情况下，该扩展可用于记录Burp Suite所有工具发出的请求和响应，并且还提供导出功能。要使用此扩展，我们首先点击“安装”按钮：
- en: '![](../images/00364.jpeg)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00364.jpeg)'
- en: 'After installing it, you will notice we have a new tab in our Burp interface
    called Logger++. If we click on it and go to Options, we can specify whether to
    only log in-scope items and what tools that we want it to capture. Select In scope
    items only:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，您会注意到在Burp界面中出现了一个新的标签叫做Logger++。如果我们点击它并进入选项，我们可以指定是否仅记录范围内的项目以及我们希望它捕获哪些工具。选择“仅范围内项目”：
- en: '![](../images/00427.jpeg)'
  id: totrans-224
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00427.jpeg)'
- en: 'To demonstrate the Logger++ ability, we will click back over to the Target
    tab and spider the `dvwa` directory:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了演示Logger++的功能，我们将点击回目标标签并爬取`dvwa`目录：
- en: '![](../images/00367.jpeg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00367.jpeg)'
- en: 'Now, if we click back over to the Logger++ tab and click on View Logs, we can
    see our requests. Additionally, if we want to save these requests as a `.csv`
    file, we can do so from the Options screen:'
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，如果我们回到Logger++标签并点击查看日志，我们可以看到我们的请求。此外，如果我们想将这些请求保存为`.csv`文件，我们可以从选项界面进行操作：
- en: '![](../images/00480.jpeg)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00480.jpeg)'
- en: How it works…
  id: totrans-229
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Burp Suite Extender allows us to add additional functionality and testing to
    Burp Suite via prebuilt extensions or by building our own utilizing the Burp Extender
    API.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Extender使我们能够通过预构建的扩展或利用Burp Extender API构建自己的扩展，为Burp Suite添加额外的功能和测试。
- en: Using Burp Suite Clickbandit
  id: totrans-231
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Burp Suite Clickbandit
- en: Burp Suite Clickbandit provides a tool to help identify clickjacking attempts.
    Clickjacking is where an attacking web page uses transparent layers. When a user
    clicks somewhere on the page thinking they are interacting with what they see,
    they may actually be clicking on these transparent layers without realizing it.
    Burp offers a great tool for helping to find this type of vulnerability.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite Clickbandit提供了一种工具，帮助识别点击劫持攻击。点击劫持是指攻击者的网页利用透明层。当用户点击页面的某个地方，以为他们正在与看到的内容交互时，实际上他们可能在不知情的情况下点击了这些透明层。Burp提供了一个很好的工具来帮助发现此类漏洞。
- en: Getting ready
  id: totrans-233
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use Burp Suite to perform web application analysis against a target, you
    will need to have a remote system that is running one or more web applications.
    In the examples provided, an instance of Metasploitable2 is used to perform this
    task. Metasploitable2 has several preinstalled vulnerable web applications running
    on the TCP port `80`. For more information on setting up Metasploitable2, refer
    to the *Installing Metasploitable2* recipe in [Chapter 1](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426),
    *Getting Started*. Additionally, your web browser will need to be configured to
    proxy web traffic through a local instance of Burp Suite.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Burp Suite执行Web应用程序分析，您需要有一个远程系统运行一个或多个Web应用程序。在提供的示例中，使用Metasploitable2实例执行此任务。Metasploitable2上预装了多个易受攻击的Web应用程序，这些应用程序运行在TCP端口`80`上。有关设置Metasploitable2的更多信息，请参阅[第1章](part0026.html#OPEK1-cf89710d791c4a3bb78ec273d9322426)中的*安装Metasploitable2*配方，“入门”部分。另外，您的Web浏览器需要配置为通过本地实例的Burp
    Suite代理Web流量。
- en: How to do it…
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'The following steps will guide you to uncover clickjacking using the Burp Suite
    Clickbandit:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导您使用Burp Suite Clickbandit发现点击劫持：
- en: 'To uncover clickjacking requests, we will first want to look at Burp Suite
    Scanner as it identifies pages potentially vulnerable to clickjacking. These pages
    are identified with an issue type of Frameable response (potential Clickjacking).
    In this case, the following page may be vulnerable (`http://172.16.69.128/mutillidae/framing.php`):'
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了发现点击劫持请求，我们首先要查看Burp Suite Scanner，因为它可以识别潜在易受点击劫持攻击的页面。这些页面通过“可框架响应（潜在的点击劫持）”的问题类型进行标识。在这种情况下，以下页面可能存在漏洞（`http://172.16.69.128/mutillidae/framing.php`）：
- en: '![](../images/00371.jpeg)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00371.jpeg)'
- en: 'After selecting the issue in question, we go up to the Burp menu and select
    Burp Clickbandit, as depicted in the following screenshot:'
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择相关问题后，我们上移到Burp菜单并选择Burp Clickbandit，如下图所示：
- en: '![](../images/00546.jpeg)'
  id: totrans-240
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00546.jpeg)'
- en: 'Burp will present us with a screen describing what to do and a button, Copy
    Clickbandit to clipboard. Click on it:'
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Burp 会呈现一个屏幕，描述需要执行的操作，并提供一个按钮，“复制 Clickbandit 到剪贴板”。点击它：
- en: '![](../images/00374.jpeg)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00374.jpeg)'
- en: 'Next, we go to our browser and navigate to the potentially vulnerable page
    (`http://172.16.69.128/mutillidae/framing.php`):'
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们打开浏览器并导航到潜在的易受攻击页面（`http://172.16.69.128/mutillidae/framing.php`）：
- en: '![](../images/00083.jpeg)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00083.jpeg)'
- en: 'From the browser, we need to open the developer console from the menu and select
    the web console:'
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在浏览器中，我们需要从菜单中打开开发者控制台并选择网页控制台：
- en: '![](../images/00378.jpeg)'
  id: totrans-246
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00378.jpeg)'
- en: 'At the bottom of the page, we then paste in our Clickbandit code we copied
    before and hit the *Enter* key:'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在页面底部，我们粘贴之前复制的 Clickbandit 代码，并按下*Enter*键：
- en: '![](../images/00662.jpeg)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00662.jpeg)'
- en: 'Clickbandit frames our potentially vulnerable page. After clicking inside the
    page, we can see that it is in fact performing a clickjacking attack:'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Clickbandit 将潜在易受攻击的页面嵌入。点击页面内部后，我们可以看到它实际上正在执行点击劫持攻击：
- en: '![](../images/00380.jpeg)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/00380.jpeg)'
- en: How it works…
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Burp Suite provides a tool that frames the web page in question and uncovers
    clickjacking requests.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Suite 提供了一个工具，可以将目标网页嵌入并揭示点击劫持请求。
