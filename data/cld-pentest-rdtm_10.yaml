- en: '10'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '10'
- en: Security Features in GCP
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GCP中的安全功能
- en: Welcome to **Google Cloud Platform**, or **GCP** for short. GCP is the last
    of the top three most popular cloud platforms mentioned in this book. A lot of
    how GCP works is similar to AWS and Azure, but there are definitely some aspects
    to GCP that are unique and important for pentesters to understand before they
    pentest in the platform.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到**谷歌云平台**，简称**GCP**。GCP是本书中提到的三大最流行云平台中的最后一个。GCP的工作方式与AWS和Azure非常相似，但也有一些独特的方面，渗透测试人员在进行平台渗透测试之前需要了解。
- en: First, let’s examine some of the most commonly used aspects of the GCP ecosystem.
    In this chapter, you’ll learn about the most popular GCP services, applications,
    and features, and why they’re used. Next, we’ll look into GCP **Software-as-a-Service**
    (**SaaS**), **Infrastructure-as-a-Service** (**IaaS**), and **Platform-as-a-Service**
    (**PaaS**) features. We will conclude the chapter by discussing Google’s own GCP
    security tools and third-party security tools.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们来看看GCP生态系统中一些最常用的方面。在本章中，你将了解最受欢迎的GCP服务、应用和功能，以及它们的用途。接下来，我们将深入探讨GCP的**软件即服务**（**SaaS**）、**基础设施即服务**（**IaaS**）和**平台即服务**（**PaaS**）功能。最后，我们将讨论谷歌自有的GCP安全工具以及第三方安全工具。
- en: Before we pentest GCP, it helps to understand how the company we’re working
    for may use GCP, and what security features Google provides that can help pentesters
    understand the security posture of the GCP deployment they’re working with.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们进行GCP渗透测试之前，了解我们所在公司可能如何使用GCP，以及谷歌提供的哪些安全功能可以帮助渗透测试人员了解他们所使用的GCP部署的安全态势，会有所帮助。
- en: 'This chapter covers the following main topics:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖以下主要主题：
- en: Introduction to GCP
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCP简介
- en: Frequently used GCP SaaS applications
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 常用的GCP SaaS应用
- en: GCP IaaS services
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCP IaaS服务
- en: GCP PaaS services
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCP PaaS服务
- en: GCP security controls and tools
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCP安全控制和工具
- en: Let’s get into it!
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！
- en: Introduction to GCP
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GCP简介
- en: The first service that Google launched was its eponymous search engine. That
    was back in 1998, during a time in which ordinary people were starting to use
    the internet in large numbers. The very first server ([http://infolab.stanford.edu/pub/voy/museum/pictures/display/0-4-Google.htm](http://infolab.stanford.edu/pub/voy/museum/pictures/display/0-4-Google.htm))
    that founders Larry Page and Sergey Brin used for Google featured 10 4 GB HDDs,
    and their hardware was held in a frame made out of LEGO bricks! Their first server
    ran on Stanford University’s networking infrastructure and premises.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌推出的第一项服务是它的同名搜索引擎。那是在1998年，当时普通人开始大量使用互联网。创始人拉里·佩奇和谢尔盖·布林使用的第一台服务器（[http://infolab.stanford.edu/pub/voy/museum/pictures/display/0-4-Google.htm](http://infolab.stanford.edu/pub/voy/museum/pictures/display/0-4-Google.htm)）配备了10个4GB的硬盘，它们的硬件放在由乐高积木搭建的框架中！他们的第一台服务器运行在斯坦福大学的网络基础设施和场地上。
- en: Google’s first service that was specifically targeted to business customers
    was its AdWords advertising platform, now known as Google Ads ([https://ads.google.com/home/](https://ads.google.com/home/)).
    In the years since, it has launched a handful of services that are still very
    popular, such as Gmail, and it has killed a much greater number of services ([https://killedbygoogle.com/](https://killedbygoogle.com/)).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌专为企业客户推出的第一项服务是其AdWords广告平台，现在称为Google Ads（[https://ads.google.com/home/](https://ads.google.com/home/)）。此后几年，它推出了许多仍然非常流行的服务，例如Gmail，并且它也关闭了更多的服务（[https://killedbygoogle.com/](https://killedbygoogle.com/)）。
- en: One collection of services that should hopefully endure and evolve for many
    years to come is GCP.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 一项应该能持续发展并进化多年的服务集合是GCP。
- en: GCP started as simply App Engine back in 2008 ([https://cloudplatform.googleblog.com/2008/04/introducing-google-app-engine-our-new.html](https://cloudplatform.googleblog.com/2008/04/introducing-google-app-engine-our-new.html)).
    That was about two years after Amazon launched AWS as we now know it. App Engine
    is a way for businesses and other entities to launch their own web applications
    within Google’s platform. At the beginning of App Engine’s history, Google limited
    its use to 10,000 customers. That gave Google the opportunity to fix bugs and
    gradually expand its infrastructure so that it could be more competitive against
    Amazon’s AWS and Microsoft Azure.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: GCP最初只是2008年的App Engine ([https://cloudplatform.googleblog.com/2008/04/introducing-google-app-engine-our-new.html](https://cloudplatform.googleblog.com/2008/04/introducing-google-app-engine-our-new.html))。那是亚马逊推出AWS（我们现在所知的版本）大约两年之后。App
    Engine是一个让企业和其他实体能够在Google平台内推出自己网络应用程序的方式。在App Engine初期，Google将其使用限制在10,000个客户。这样，Google有机会修复漏洞，并逐步扩展其基础设施，以便与亚马逊的AWS和微软的Azure更具竞争力。
- en: By November 2011, Google made App Engine an officially supported product, available
    to anyone or any entity that’s willing to pay for its services and abide by its
    policies. Google gradually launched more cloud services, and App Engine became
    one of many products under the GCP banner.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 到2011年11月，Google将App Engine作为正式支持的产品，提供给任何愿意为其服务付费并遵守其政策的个人或实体。Google逐步推出更多云服务，而App
    Engine成为GCP旗下多个产品中的一个。
- en: As of 2023, you can get more disk storage (5 GB of cloud storage) in GCP’s Free
    Tier ([https://cloud.google.com/free](https://cloud.google.com/free)) than the
    entire capacity of a single HDD in Google’s first server machine (4 GB). We sure
    have come a long way in 25 years of Google services!
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 截至2023年，GCP的免费套餐提供的磁盘存储（5 GB的云存储）比Google第一台服务器机器中单个HDD的整个容量（4 GB）还要大。Google服务25年来，我们的进步确实不小！
- en: 'Before you do any pentesting in GCP, it’s important to review Google’s *Google
    Cloud Platform Acceptable Use Policy* to make sure that we abide by it. This is
    taken from Google Cloud ([https://cloud.google.com/terms/aup?sjid=12831346254261876451-NA](https://cloud.google.com/terms/aup?sjid=12831346254261876451-NA)):'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在GCP进行任何渗透测试之前，重要的是要审查Google的*Google Cloud Platform可接受使用政策*，以确保我们遵守该政策。以下内容来自Google
    Cloud ([https://cloud.google.com/terms/aup?sjid=12831346254261876451-NA](https://cloud.google.com/terms/aup?sjid=12831346254261876451-NA))：
- en: '*Customer agrees not to, and not to allow third parties to use* *the Services:*'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '*客户同意不使用，也不允许第三方使用* *服务：*'
- en: '*to violate, or encourage the violation of, the legal rights* *of others;*'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*侵犯或鼓励侵犯他人法律权利* *的行为；*'
- en: '*to engage in, promote or encourage illegal activity, including child sexual
    exploitation, child abuse, or terrorism or violence that can cause death, serious
    harm, or injury to individuals or groups* *of individuals;*'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*从事、宣传或鼓励非法活动，包括儿童性剥削、儿童虐待或恐怖主义或暴力行为，这些行为可能对个人或群体* *造成死亡、严重伤害或伤害；*'
- en: '*for any unlawful, invasive, infringing, defamatory or fraudulent purpose including
    Non-consensual Explicit Imagery (NCEI), violating intellectual property rights
    of others, phishing, or creating a* *pyramid scheme;*'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*出于任何非法、侵入性、侵权、诽谤或欺诈目的，包括非自愿明确图像（NCEI）、侵犯他人知识产权、网络钓鱼或创建* *金字塔骗局；*'
- en: '*to distribute viruses, worms, Trojan horses, corrupted files, hoaxes, or other
    items of a destructive or* *deceptive nature;*'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*传播病毒、蠕虫、木马、损坏文件、骗局或其他具有破坏性或* *欺骗性质的项目；*'
- en: '*to gain unauthorized access to, disrupt, or impair the use of the Services,
    or the equipment used to provide the Services, by customers, authorized resellers,
    or other* *authorized users;*'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*未经授权访问、干扰或削弱客户、授权经销商或其他* *授权用户使用服务或提供服务的设备；*'
- en: '*to disable, interfere with or circumvent any aspect of the Services, Software,
    or the equipment used to provide* *the Services;*'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*禁用、干扰或规避任何服务、软件或用于提供服务的设备的任何方面；*'
- en: '*to generate, distribute, publish or facilitate unsolicited mass email, promotions,
    advertisements, or other solicitations (“**spam”); or*'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*生成、传播、发布或促进未经请求的大宗电子邮件、促销、广告或其他 solicitations（“**垃圾邮件**”）；或*'
- en: '*to use the Services, or any interfaces provided with the Services, to access
    any other Google product or service in a manner that violates the terms of service
    of such other Google product* *or service.*'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用服务或与服务提供的任何接口，以违反其他Google产品或服务的服务条款的方式访问任何其他Google产品* *或服务。*'
- en: In a nutshell, you can pentest in GCP without asking Google for permission.
    But what you’re allowed to do is limited. You absolutely cannot conduct any types
    of pentests that could disrupt GCP for other GCP customers. That means no DDoS
    attack simulations, no malware distribution, no attempting access outside of the
    assets the company you work for owns, and—obviously—no breaking the law. Encouraging
    illegal activity and distributing malware can also harm people who don’t use GCP.
    Vulnerability scanning and looking for exposures and unprotected sensitive data
    within the resources your company owns are permitted in GCP. Just make sure that
    your company gives you written legal permission to do that.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，你可以在 GCP 上进行渗透测试，而无需请求 Google 的许可。但你被允许做的事情是有限制的。你绝对不能进行任何可能对其他 GCP 客户造成干扰的渗透测试。这意味着不能进行
    DDoS 攻击模拟，不能分发恶意软件，不能尝试访问你所在公司拥有的资产以外的内容，而且——显然——不能违反法律。鼓励非法活动和分发恶意软件还可能会危害到不使用
    GCP 的人群。漏洞扫描、查找公司所拥有资源中的暴露和未受保护的敏感数据是被允许的。只要确保你的公司已经书面授权你进行这些操作。
- en: Now, let’s explore what GCP has to offer.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们探索一下 GCP 提供的内容。
- en: Frequently used GCP SaaS applications
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 常用的 GCP SaaS 应用
- en: There are a large number of applications and services within the GCP ecosystem.
    Many of those services are classified as SaaS. That means that Google provides
    the infrastructure, the platform, and the application that runs in it. As a user
    or organization, you’re only responsible for the code or data you enter into its
    applications.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: GCP 生态系统中有大量的应用和服务，其中许多被归类为 SaaS。这意味着 Google 提供了基础设施、平台和运行在其上的应用。作为用户或组织，你只需对输入到应用中的代码或数据负责。
- en: 'As Google has more responsibility and control over its SaaS services, your
    ability to pentest those services while abiding by their policies is very limited
    to nonexistent. Google Support says the following ([https://support.google.com/cloud/answer/6262505?hl=en#zippy=%2Cdo-i-need-to-notify-google-that-i-plan-to-do-a-penetration-test-on-my-project](https://support.google.com/cloud/answer/6262505?hl=en#zippy=%2Cdo-i-need-to-notify-google-that-i-plan-to-do-a-penetration-test-on-my-project)):'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Google 对其 SaaS 服务有更大的责任和控制，因此你在遵守其政策的前提下，进行渗透测试的能力非常有限，甚至几乎没有。Google 支持团队表示如下内容（[https://support.google.com/cloud/answer/6262505?hl=en#zippy=%2Cdo-i-need-to-notify-google-that-i-plan-to-do-a-penetration-test-on-my-project](https://support.google.com/cloud/answer/6262505?hl=en#zippy=%2Cdo-i-need-to-notify-google-that-i-plan-to-do-a-penetration-test-on-my-project)）：
- en: '*Do I need to notify Google that I plan to do a penetration test on* *my project?*'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '*我是否需要通知 Google，我计划对* *我的项目进行渗透测试？*'
- en: '*If you plan to evaluate the security of your Cloud Platform infrastructure
    with penetration testing, you are not required to contact us. You will have to
    abide by the Cloud Platform Acceptable Use Policy and Terms of Service, and ensure
    that your tests only affect your projects (and not other customers’ applications).
    If a vulnerability is found, please report it via the Vulnerability* *Reward Program*.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果你计划通过渗透测试评估你的云平台基础设施的安全性，你无需联系我们。你需要遵守云平台可接受使用政策和服务条款，并确保你的测试只影响你的项目（而不是其他客户的应用）。如果发现漏洞，请通过漏洞*
    *奖励计划* 进行报告。'
- en: That pertains to infrastructure, not applications. You will have more freedom
    to pentest and vulnerability scan Google’s PaaS and IaaS services.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 这与基础设施有关，而非应用程序。你将拥有更多自由来渗透测试和漏洞扫描 Google 的 PaaS 和 IaaS 服务。
- en: Nonetheless, it’s still important for cloud pentesters to understand which SaaS
    services are available within the GCP ecosystem. Understanding SaaS in GCP will
    help give you context into how the organization you work for uses GCP as a whole.
    Organizations will usually use some PaaS or IaaS services in addition to SaaS,
    and GCP services are able to connect to each other. Plus, sometimes, an organization’s
    IaaS and PaaS applications interface with GCP’s SaaS applications. If an organization’s
    data flows from an IaaS or PaaS application to a SaaS application, the security
    of that data may be able to be pentested from the IaaS or PaaS end.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管如此，云渗透测试人员仍然需要了解 GCP 生态系统中有哪些 SaaS 服务。理解 GCP 中的 SaaS 有助于你了解你所在的组织如何整体使用 GCP。组织通常会使用一些
    PaaS 或 IaaS 服务，除了 SaaS 之外，GCP 服务也能够互相连接。而且，有时，组织的 IaaS 和 PaaS 应用会与 GCP 的 SaaS
    应用接口。如果一个组织的数据从 IaaS 或 PaaS 应用流向 SaaS 应用，那么这些数据的安全性可能会从 IaaS 或 PaaS 端进行渗透测试。
- en: Here are some of the most commonly used GCP SaaS services.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些最常用的 GCP SaaS 服务。
- en: Google Workspace
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Google Workspace
- en: '**Google Workspace** ([https://workspace.google.com/](https://workspace.google.com/))
    is more or less Google’s equivalent to Microsoft 365 for Business. Google Workspace’s
    defining feature is that it integrates well-known Google productivity applications,
    such as Gmail, Google Calendar, Google Meet, Google Chat, Google Drive, Google
    Docs, Google Sheets, Google Slides, and Google Forms.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '**Google Workspace** ([https://workspace.google.com/](https://workspace.google.com/))
    在某种程度上相当于谷歌的 Microsoft 365 for Business。Google Workspace 的特点是它将谷歌知名的生产力应用程序整合在一起，例如
    Gmail、Google Calendar、Google Meet、Google Chat、Google Drive、Google Docs、Google
    Sheets、Google Slides 和 Google Forms。'
- en: If that all sounds familiar to you, that’s because the collection was previously
    known as G Suite. Google sure loves to change its branding every so often! It
    keeps us on our toes! Businesses, whether or not they subscribe to GCP, get a
    14-day free trial if they’re using Google Workspace for the first time. Google
    Workspace and its components have a much greater usage capacity and enterprise-specific
    features that aren’t available in the consumer versions of Gmail, Google Docs,
    and so on.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这些听起来很熟悉，那是因为这个套件以前被称为 G Suite。谷歌确实喜欢不时地更改品牌名称！这让我们保持警觉！无论企业是否订阅 GCP，第一次使用
    Google Workspace 时，都会获得 14 天的免费试用期。Google Workspace 及其组件具有更大的使用容量和企业特定功能，而这些功能在
    Gmail、Google Docs 等消费者版本中是没有的。
- en: Google App Engine
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Google App Engine
- en: '**Google App Engine** was mentioned at the beginning of this chapter, as it
    was Google’s first cloud services offering for the enterprise market and the first
    ever GCP component.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**Google App Engine** 在本章开头提到过，因为它是谷歌为企业市场提供的首个云服务，也是首个 GCP 组件。'
- en: App Engine ([https://cloud.google.com/appengine](https://cloud.google.com/appengine))
    is a “serverless” way to deploy web applications on Google’s infrastructure. There
    is technically a server, but App Engine users aren’t supposed to manage or configure
    it.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: App Engine ([https://cloud.google.com/appengine](https://cloud.google.com/appengine))
    是一种在谷歌基础设施上部署 Web 应用程序的“无服务器”方式。虽然技术上有服务器，但 App Engine 用户不需要管理或配置它。
- en: Because App Engine users don’t manage its platform or its infrastructure, it’s
    by its very definition a SaaS service. App Engine users can build their applications
    in Node.js, Java, Ruby, C#, Go, Python, and PHP, which are all very commonly used
    application development technologies. If developers are already well experienced
    in one or more of those languages in other platforms, learning how to use App
    Engine should be pretty easy.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 App Engine 用户不管理其平台或基础设施，因此它本质上是一个 SaaS 服务。App Engine 用户可以使用 Node.js、Java、Ruby、C#、Go、Python
    和 PHP 等常用的应用程序开发技术来构建应用程序。如果开发人员在其他平台上已经熟练掌握这些语言之一或多个，那么学习如何使用 App Engine 应该是相当容易的。
- en: Cost Management
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Cost Management
- en: AWS and Azure both have applications that users of their platforms can use to
    manage their spending on cloud services in those platforms. Google also offers
    such an application for GCP—**Cost Management**.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 和 Azure 都提供供其平台用户使用的应用程序，用于管理在这些平台上的云服务开支。谷歌也为 GCP 提供了类似的应用程序——**Cost Management**。
- en: Cost Management ([https://cloud.google.com/cost-management](https://cloud.google.com/cost-management))
    doesn’t just say “You spent $364.24 last month.” Rather, it offers a lot of charts
    and graphs so that you can make sense of your spending trends on every GCP component
    that you use.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Cost Management ([https://cloud.google.com/cost-management](https://cloud.google.com/cost-management))
    不仅仅是简单地说“你上个月花费了 $364.24。”相反，它提供了大量的图表和图形，让你能够理解自己在使用每个 GCP 组件时的开支趋势。
- en: When I walk you through deploying a GCP environment for pentesting educational
    purposes in [*Chapter 11*](B18672_11.xhtml#_idTextAnchor197), I strongly recommend
    checking Cost Management every so often to make sure you won’t be incurring any
    surprise charges. Free services can become paid services if you’re not careful!
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 当我带你完成在 [*第 11 章*](B18672_11.xhtml#_idTextAnchor197) 中部署 GCP 环境以进行渗透测试教育时，我强烈建议定期检查
    Cost Management，以确保不会产生意外费用。如果不小心，免费服务可能会变成付费服务！
- en: Google Cloud app
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Google Cloud app
- en: The **Google Cloud app** ([https://cloud.google.com/app](https://cloud.google.com/app))
    can be installed on your iPhone or Android phone to give you an easy on-the-go
    way of checking your GCP services and network.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**Google Cloud app** ([https://cloud.google.com/app](https://cloud.google.com/app))
    可以安装在你的 iPhone 或 Android 手机上，让你随时随地轻松查看你的 GCP 服务和网络。'
- en: A laptop or desktop PC with a physical keyboard is the best interface for doing
    serious, detailed development and administrative work in your GCP services. But
    the Google Cloud app can help you understand and discover production issues, manage
    your resources such as projects, billing, App Engine apps, and Compute Engine
    VMs, receive and respond to production-related alerts, and make general changes
    to your GCP deployment.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 配备物理键盘的笔记本电脑或台式 PC 是进行详细开发和管理工作时最理想的界面。但 Google Cloud 应用程序可以帮助您理解并发现生产问题，管理您的资源，如项目、计费、App
    Engine 应用和计算引擎虚拟机，接收和响应与生产相关的警报，并对您的 GCP 部署进行一般更改。
- en: The Google Cloud app’s features include alerts, error reporting, incident management,
    a customizable dashboard, billing, and a way to check your use of Compute Engine,
    Cloud Storage, Cloud SQL, and App Engine.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: Google Cloud 应用程序的功能包括警报、错误报告、事件管理、可自定义的仪表板、计费以及检查您在计算引擎、云存储、云 SQL 和 App Engine
    中的使用情况。
- en: Google Marketing Platform
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Google 营销平台
- en: Google’s earliest monetization schemes were based on advertising revenue (Google
    AdWords, now known as Google Ads), and data-mining services to advertisers. So,
    Google knows marketing as well as it knows tech. Therefore, **Google Marketing
    Platform** can be useful for businesses.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: Google 最早的盈利模式是基于广告收入（Google AdWords，现在称为 Google Ads）和为广告商提供数据挖掘服务。因此，Google
    不仅懂技术，也非常了解营销。因此，**Google 营销平台**对于企业来说是非常有用的。
- en: Google Marketing Platform ([https://marketingplatform.google.com/about/enterprise/](https://marketingplatform.google.com/about/enterprise/))
    includes Analytics 360 for metrics about how users use your applications, Optimize
    360 for testing your applications with marketing needs in mind, Search Ads 360
    to better understand the effectiveness of your marketing campaigns, Tag Manager
    360 to understand the effectiveness of the tags you use in your marketing, and
    Campaign Manager 360 to understand the effectiveness of your marketing efforts
    per campaign.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Google 营销平台 ([https://marketingplatform.google.com/about/enterprise/](https://marketingplatform.google.com/about/enterprise/))
    包括用于衡量用户如何使用您的应用程序的 Analytics 360，针对营销需求测试应用程序的 Optimize 360，帮助更好理解营销活动效果的 Search
    Ads 360，用于了解您在营销中使用的标签效果的 Tag Manager 360，以及帮助了解每个营销活动的效果的 Campaign Manager 360。
- en: Now, let’s get into IaaS. Those are the kinds of cloud services that give companies
    the most control, while also delegating them the most responsibility in operating
    their services and keeping them secure.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们深入了解 IaaS。这些是提供给企业最多控制权的云服务，同时也将操作和确保服务安全的责任最大程度地委托给它们。
- en: GCP IaaS services
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GCP IaaS 服务
- en: With GCP IaaS services, you get maximum control, but you also have maximum responsibility.
    Google provides its networking infrastructure and the hardware and tools for deploying
    VMs.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 GCP IaaS 服务，您可以获得最大的控制权，但同时也承担最大的责任。Google 提供其网络基础设施以及用于部署虚拟机的硬件和工具。
- en: The main difference between using IaaS services and deploying an on-premises
    cloud network is that the organization you work for won’t have physical access
    to the infrastructure. No one in the organization you work for will be allowed
    to touch the physical power button on any of the computers in the GCP data centers.
    You aren’t even allowed to physically enter those data centers.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 IaaS 服务与部署本地云网络之间的主要区别在于，您所在的组织无法物理接触到基础设施。您所在的组织中的任何人都不允许触碰 GCP 数据中心中任何计算机的物理电源按钮。您甚至不被允许物理进入这些数据中心。
- en: But you have a lot more freedom to conduct penetration testing activities in
    IaaS services. You should still make sure that you abide by the *Google Cloud
    Platform Acceptable Use Policy*. But don’t fret, because all of the pentesting
    tutorials that I give in [*Chapter 11*](B18672_11.xhtml#_idTextAnchor197) and
    [*Chapter 12*](B18672_12.xhtml#_idTextAnchor215) are policy compliant!
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，在 IaaS 服务中，您有更多的自由来进行渗透测试活动。您仍然需要确保遵守 *Google Cloud Platform 可接受使用政策*。不过不用担心，因为我在[*第
    11 章*](B18672_11.xhtml#_idTextAnchor197)和[*第 12 章*](B18672_12.xhtml#_idTextAnchor215)中提供的所有渗透测试教程都是符合政策的！
- en: Here are the GCP components that give your organization Google’s infrastructure
    and let your organization do the rest. (These services can sometimes also be combined
    with other services for PaaS and SaaS offerings.)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 GCP 组件，它们为您的组织提供了 Google 的基础设施，并让您的组织完成其余工作。（这些服务有时也可以与其他服务结合，用于 PaaS 和
    SaaS 提供的服务。）
- en: Compute Engine
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 计算引擎
- en: '**Compute Engine** ([https://cloud.google.com/compute](https://cloud.google.com/compute))
    is the GCP component that lets your organization run its VMs on Google’s infrastructure.
    Compute Engine is what it sounds like. It handles computer processing. Compute
    Engine also drives many GCP PaaS and SaaS services. But if you’re just using Compute
    Engine and Cloud Storage as is, then what you have is an IaaS solution.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**Compute Engine** ([https://cloud.google.com/compute](https://cloud.google.com/compute))
    是 GCP 组件，允许你的组织在 Google 的基础设施上运行虚拟机。Compute Engine 就是字面意思，它处理计算处理。Compute Engine
    也推动了许多 GCP 的 PaaS 和 SaaS 服务。但如果你只是使用 Compute Engine 和 Cloud Storage，那你得到的就是一个
    IaaS 解决方案。'
- en: Compute Engine is very useful for a wide range of cloud network application
    use cases because Google has way more hardware in their GCP data centers than
    most companies could ever have. Compute Engine is especially used for lots of
    DevOps and **Continuous Integration/Continuous Deployment** (**CI/CD**) needs.
    But you can also just deploy simple VMs in Compute Engine.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: Compute Engine 对于广泛的云网络应用场景非常有用，因为 Google 在其 GCP 数据中心拥有的硬件远远超过大多数公司能拥有的硬件。Compute
    Engine 特别适用于大量的 DevOps 和 **持续集成/持续部署**（**CI/CD**）需求。但你也可以在 Compute Engine 中部署简单的虚拟机（VM）。
- en: Cloud Storage
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Cloud Storage
- en: While Compute Engine basically serves the CPU function, **Cloud Storage** ([https://cloud.google.com/storage](https://cloud.google.com/storage))
    serves the disk function. A lot of SaaS and PaaS solutions also use Cloud Storage,
    but Cloud Storage can also be used as is for IaaS setups.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 Compute Engine 基本上负责 CPU 功能，**Cloud Storage** ([https://cloud.google.com/storage](https://cloud.google.com/storage))
    负责磁盘功能。许多 SaaS 和 PaaS 解决方案也使用 Cloud Storage，但 Cloud Storage 也可以直接用于 IaaS 设置。
- en: Google says that with Cloud Storage, you can store any amount of data and retrieve
    it as often as you’d like. That’s a bold statement, but Google has the infrastructure
    to store petabytes worth of your data if you’d like. Just not for free—it’ll cost
    you! When we deploy a GCP network for educational purposes in the next chapter,
    I’ll get 5 GB for free. That’s enough for my temporary testing needs.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Google 说，使用 Cloud Storage，你可以存储任何数量的数据，并且可以随时检索。这个说法很大胆，但 Google 拥有存储 PB 级别数据的基础设施，如果你需要的话。只是不能免费提供——会收费的！当我们在下一章部署
    GCP 网络用于教育目的时，我会免费获得 5 GB 的存储空间。这对于我的临时测试需求已经足够了。
- en: Shielded VMs
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 受保护虚拟机（Shielded VMs）
- en: If your organization deals with extra-sensitive data, such as—for instance—if
    you were in healthcare, law, or the public sector, Shielded VMs may be what’s
    best suited for your cloud security and regulatory compliance needs.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的组织处理的是额外敏感的数据，比如——例如——你在医疗、法律或公共部门工作，受保护虚拟机可能是最适合你云安全和合规需求的解决方案。
- en: '**Shielded VMs** ([https://cloud.google.com/shielded-vm](https://cloud.google.com/shielded-vm))
    are specially configured to implement security controls that protect against bootkits
    and rootkits. Rootkits are malware that grants attackers malicious root (administrative)
    access, whereas bootkits are persistent malware that executes upon the operating
    system boot process.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**受保护虚拟机**（Shielded VMs）([https://cloud.google.com/shielded-vm](https://cloud.google.com/shielded-vm))
    是专门配置的，用来实施防止启动病毒和根工具的安全控制。根工具是授予攻击者恶意管理员权限的恶意软件，而启动病毒是能够在操作系统启动过程中持久执行的恶意软件。'
- en: Shielded VMs run off of specialized hardware that uses special **Unified Extensible
    Firmware Interface** (**UEFI**) firmware (the firmware that’s used to boot a physical
    machine before it boots the operating system or hypervisor), a virtual trusted
    platform module, and integrity monitoring.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 受保护虚拟机（Shielded VMs）运行在专用硬件上，使用特殊的 **统一可扩展固件接口**（**UEFI**）固件（该固件用于在物理机器启动操作系统或虚拟机监控程序前启动机器），虚拟可信平台模块和完整性监控。
- en: It’s possible to run VMs in GCP’s standard Compute Engine configurations in
    a way that’s very secure and regulatory compliant, but Shielded VMs go a step
    further with their specialized hardware and other features. Organizations will
    often spend a bit more on Shielded VMs if their security needs are extra high
    and they have the budget for it. You will get in trouble for trying to pentest
    the extra security controls in Shielded VMs, so don’t even consider it!
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在 GCP 的标准 Compute Engine 配置中，你可以以非常安全且符合规定的方式运行虚拟机，但受保护虚拟机通过其专用硬件和其他功能更进一步。如果一个组织的安全需求特别高，并且有相应预算，他们通常会选择多花点钱购买受保护虚拟机。尝试渗透测试受保护虚拟机中的额外安全控制将会带来麻烦，所以不要考虑这样做！
- en: Sole-tenant nodes
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 独占节点（Sole-tenant nodes）
- en: '**Sole-tenant nodes** are another possibly very expensive IaaS option to deploy
    extra sensitive applications on Google’s infrastructure.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '**独占节点**是另一种可能非常昂贵的 IaaS 选项，用于在 Google 的基础设施上部署超敏感的应用程序。'
- en: Cloud platforms such as GCP can be used to deploy public clouds and private
    clouds. The majority of GCP users implement public cloud services, which simply
    means that our applications are running on hardware that’s also used for other
    GCP customers. Every time I walk you through deploying a cloud network for educational
    purposes in this book, we’re using public cloud services.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 像 GCP 这样的云平台可以用来部署公共云和私有云。大多数 GCP 用户实现的是公共云服务，这意味着我们的应用程序运行在同样也供其他 GCP 客户使用的硬件上。每当我在本书中向你讲解如何部署云网络用于教育目的时，我们使用的都是公共云服务。
- en: Private clouds can be hosted on a company’s own premises, but GCP and other
    cloud platforms also offer machines that can be dedicated to one customer only.
    By customer, I mean a person or company that subscribes to cloud services to host
    their own applications, not to a customer’s customers, if that makes any sense.
    I as a hypothetical GCP customer can pay for GCP services to host my shoe store
    e-commerce website. My customers who buy shoes from my GCP-hosted site aren’t
    GCP customers in that sense; I’m the GCP customer. Whew!
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 私有云可以托管在公司自己的场所，但 GCP 和其他云平台也提供可以仅供单一客户使用的机器。这里所说的“客户”是指订阅云服务以托管自己应用程序的个人或公司，而不是指客户的客户，如果这样说清楚的话。假设我是一个
    GCP 客户，我可以支付 GCP 服务费用来托管我的鞋店电子商务网站。我从我的 GCP 托管站点购买鞋子的顾客，在这个意义上并不是 GCP 客户；我才是 GCP
    客户。呼！
- en: Anyway, what GCP calls sole-tenant nodes ([https://cloud.google.com/compute/docs/nodes/sole-tenant-nodes](https://cloud.google.com/compute/docs/nodes/sole-tenant-nodes))
    are another way to deploy private cloud services in GCP’s ecosystem. Some industries
    and companies are required to use private cloud services only, for the sake of
    regulatory compliance. So, they may pay Google the big bucks to make sure their
    machines aren’t shared with other GCP customers.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 不管怎样，GCP 所称的独占节点（[https://cloud.google.com/compute/docs/nodes/sole-tenant-nodes](https://cloud.google.com/compute/docs/nodes/sole-tenant-nodes)）是另一种在
    GCP 生态系统中部署私有云服务的方式。某些行业和公司出于合规性要求必须仅使用私有云服务。因此，他们可能会支付高额费用给 Google，以确保他们的机器不会与其他
    GCP 客户共享。
- en: So, those are GCP services that can be used for IaaS deployments. Now, it’s
    time for PaaS.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，那些是可以用于 IaaS 部署的 GCP 服务。现在，轮到 PaaS 了。
- en: GCP PaaS services
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GCP PaaS 服务
- en: PaaS is the space between SaaS and IaaS. SaaS means you’re basically just running
    your code, commands, documents, or media in Google’s applications, on Google’s
    platform, and on Google’s infrastructure. IaaS means Google is letting you use
    its hardware, but you’re responsible for providing your own platforms and applications.
    PaaS means Google is offering you a platform you can run your own applications
    in.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: PaaS 介于 SaaS 和 IaaS 之间。SaaS 意味着你基本上只是在 Google 的应用程序中运行你的代码、命令、文档或媒体，运行在 Google
    的平台和基础设施上。IaaS 意味着 Google 允许你使用它的硬件，但你负责提供自己的平台和应用程序。PaaS 意味着 Google 提供一个平台，你可以在其上运行自己的应用程序。
- en: PaaS is not quite as much responsibility and work as deploying with IaaS, but
    it’s still more work than SaaS. Here are some services in GCP that provide customers
    with Google’s platforms to support a customer’s own custom applications.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: PaaS 的责任和工作量不如 IaaS 部署那样大，但它仍然比 SaaS 更具工作量。以下是 GCP 中的一些服务，它们为客户提供 Google 的平台，以支持客户自己的定制应用程序。
- en: Cloud SDK
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 云 SDK
- en: '**Cloud SDK** ([https://cloud.google.com/sdk](https://cloud.google.com/sdk))
    is a standard development kit for developers. It includes client libraries for
    Java, Python, Node.js, Ruby, Go, .NET, C++, PHP, and **Advanced Business Application
    Programming** (**ABAP**). It has special tools that can be integrated into the
    Google Cloud CLI.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '**Cloud SDK**（[https://cloud.google.com/sdk](https://cloud.google.com/sdk)）是开发人员的标准开发工具包。它包括
    Java、Python、Node.js、Ruby、Go、.NET、C++、PHP 和 **高级商业应用编程**（**ABAP**）的客户端库。它具有可以集成到
    Google Cloud CLI 中的特殊工具。'
- en: In a nutshell, Cloud SDK is a collection of tools so that a developer can make
    their own custom applications that use various technologies in GCP’s ecosystem.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，Cloud SDK 是一组工具，开发人员可以使用它们来开发自己的定制应用程序，利用 GCP 生态系统中的各种技术。
- en: Cloud SQL
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Cloud SQL
- en: '**Cloud SQL** is for hosting **Structured Query Language** (**SQL**) databases
    on GCP. The vast majority of backend-driven applications, web-based or otherwise,
    require at least one database of some sort. And the vast majority of databases
    these days use some type of SQL.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**Cloud SQL** 用于在 GCP 上托管 **结构化查询语言**（**SQL**）数据库。绝大多数后台驱动的应用程序，无论是基于 Web 的还是其他类型的，都至少需要一个数据库。而如今，绝大多数数据库都使用某种类型的
    SQL。'
- en: Cloud SQL ([https://cloud.google.com/sql](https://cloud.google.com/sql)) is
    a managed relational database service for MySQL, PostgreSQL, and SQL Server. It
    takes away a lot of the hassle of deploying SQL servers. Cloud SQL streamlines
    the SQL server deployment and management processes.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud SQL ([https://cloud.google.com/sql](https://cloud.google.com/sql)) 是一个托管的关系数据库服务，支持
    MySQL、PostgreSQL 和 SQL Server。它消除了许多部署 SQL 服务器的麻烦。Cloud SQL 简化了 SQL 服务器的部署和管理过程。
- en: Cloud Run
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Cloud Run
- en: '**Cloud Run** ([https://cloud.google.com/run](https://cloud.google.com/run))
    makes deploying containerized applications easier. Cloud Run can use Docker images
    if you want. (**Google Kubernetes Engine** (**GKE**) might be an even better option
    for Kubernetes deployments, though.)'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '**Cloud Run** ([https://cloud.google.com/run](https://cloud.google.com/run))
    使得部署容器化应用程序变得更加容易。如果需要，Cloud Run 可以使用 Docker 镜像。（不过，**Google Kubernetes Engine**（**GKE**）可能是
    Kubernetes 部署的更好选择。）'
- en: Cloud Run supports Go, Python, Java, Node.js, .NET, Ruby, and many other popular
    application development programming languages.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud Run 支持 Go、Python、Java、Node.js、.NET、Ruby 以及其他许多流行的应用开发编程语言。
- en: GKE
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: GKE
- en: So, that segues nicely into GKE.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，这自然过渡到了 GKE。
- en: Kubernetes is a containerization orchestration platform that builds upon Docker’s
    core features. Kubernetes is open source and uses many open standards, but it
    was initially developed by a team at Google, including Joe Beda, Brendan Burns,
    and Craig McLuckie. So, although one can definitely deploy Kubernetes in AWS and
    Azure with native support, one might argue that GCP is Kubernetes’ true home.
    GKE ([https://cloud.google.com/kubernetes-engine](https://cloud.google.com/kubernetes-engine))
    is the most convenient way to deploy Kubernetes in GCP.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: Kubernetes 是一个容器编排平台，建立在 Docker 核心功能的基础上。Kubernetes 是开源的，并使用许多开源标准，但最初是由 Google
    的一个团队开发的，包括 Joe Beda、Brendan Burns 和 Craig McLuckie。因此，尽管可以在 AWS 和 Azure 上通过原生支持部署
    Kubernetes，但可以说 GCP 才是 Kubernetes 的真正家园。GKE ([https://cloud.google.com/kubernetes-engine](https://cloud.google.com/kubernetes-engine))
    是在 GCP 中部署 Kubernetes 最便捷的方式。
- en: Anthos
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Anthos
- en: '**Anthos** ([https://cloud.google.com/anthos](https://cloud.google.com/anthos))
    is designed to help organizations deploy multi-cloud and hybrid-cloud networks.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '**Anthos** ([https://cloud.google.com/anthos](https://cloud.google.com/anthos))
    旨在帮助组织部署多云和混合云网络。'
- en: As explained in the first two chapters of this book, hybrid clouds are when
    a company has services on a cloud platform and servers on its own premises, and
    the two aspects are integrated with each other. Multi-cloud is when organizations
    use more than one cloud provider, and their cloud services from multiple providers
    are integrated with each other.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 正如本书前两章所解释的，混合云是指公司在云平台上拥有服务，并在本地拥有服务器，两者互相集成。多云是指组织使用多个云服务提供商，并且来自多个提供商的云服务相互集成。
- en: So, an organization could have GCP services and some servers on their own premises,
    and that’s a hybrid cloud. They could have services on AWS, Azure, and GCP, and
    that’s multi-cloud. They could also have servers on their own premises and services
    in AWS, Azure, and GCP. That’s both a hybrid cloud and multi-cloud. That’s a hybrid
    multi-cloud!
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，一个组织可能拥有 GCP 服务和一些自有服务器，这就是混合云。它们可能在 AWS、Azure 和 GCP 上都有服务，这就是多云。它们也可能有自有服务器和
    AWS、Azure、GCP 上的服务，这就是同时拥有混合云和多云的情况。这就是混合多云！
- en: Anthos makes managing all of those different kinds of cloud configurations easier.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: Anthos 使得管理这些不同类型的云配置变得更加简单。
- en: Next, let’s look into some important GCP security controls and applications.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们看看一些重要的 GCP 安全控制和应用程序。
- en: GCP security controls and tools
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GCP 安全控制和工具
- en: Let’s get into the applications and features Google makes available to GCP customers
    for the sake of improving their security. Your organization really ought to be
    using them! Then, we’ll get into some useful third-party security tools.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看 Google 为 GCP 客户提供的一些应用和功能，以提升他们的安全性。你的组织真应该使用这些功能！然后，我们将讨论一些有用的第三方安全工具。
- en: Security controls
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安全控制
- en: Google provides a lot of useful applications that can help us manage our security
    posture in GCP. Let’s have a look at them.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: Google 提供了许多有用的应用程序，可以帮助我们管理 GCP 中的安全态势。让我们来看看它们。
- en: Identity and Access Management
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 身份与访问管理
- en: '**Identity and Access Management** (**IAM**) ([https://cloud.google.com/iam](https://cloud.google.com/iam))
    is one of the crucial cloud security components, and GCP is no exception.'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**身份与访问管理**（**IAM**）（[https://cloud.google.com/iam](https://cloud.google.com/iam)）是云安全的重要组成部分，GCP
    也不例外。'
- en: Users and groups of users are granted certain permissions and rights regarding
    what they’re allowed to do with your organization’s files, applications, and other
    sorts of cloud resources. Your organization should implement the **Principle of
    Least Privilege** (**PoLP**), so users and groups only have as much access as
    they need to perform their jobs, and no more.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 用户和用户组会被授予有关他们可以对公司文件、应用程序和其他云资源执行哪些操作的权限。您的组织应当实施**最小权限原则**（**PoLP**），确保用户和用户组仅拥有执行工作所需的最小访问权限，而不会过度访问。
- en: IAM works with Cloud Identity to sync user accounts between applications and
    projects. **Two-Factor Authentication** (**2FA**) can be set up directly from
    the Google Admin console. That’s really useful because cloud security benchmarks
    and some data regulations require users to have more than just their password
    for authentication.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: IAM 与 Cloud Identity 配合使用，用于在应用和项目之间同步用户帐户。**双因素认证**（**2FA**）可以直接通过 Google 管理控制台进行设置。这非常有用，因为云安全基准和一些数据法规要求用户除了密码外，还必须提供其他认证方式。
- en: Requiring 2FA (or **multi-factor authentication**, **MFA**) isn’t just some
    silly rule to annoy administrators and users. Passwords are considered to be a
    weak method of authentication, as they’re often breached or cracked. Adding another
    factor of authentication can be as simple as a user installing Google Authenticator
    on their phone, and entering an OTP from that application when they’re logging
    in to their company’s GCP services.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 要求启用 2FA（或**多因素认证**，**MFA**）并不是为了让管理员和用户烦恼的愚蠢规定。密码被认为是一种弱认证方式，因为它们经常被破解或泄露。增加另一个认证因素可以像用户在手机上安装
    Google Authenticator，并在登录公司 GCP 服务时输入该应用生成的 OTP 一样简单。
- en: IAM also features robust and detailed user account logging. Each and every user
    must be accountable for their actions, and IAM makes it possible for administrators
    to see who’s done what. These logs can also be fed into other security tools,
    such as an **Intrusion Detection** **System** (**IDS**).
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: IAM 还具有强大的详细用户帐户日志功能。每个用户都必须对自己的行为负责，IAM 使管理员能够看到每个用户的操作记录。这些日志还可以传送到其他安全工具中，如**入侵检测系统**（**IDS**）。
- en: Cloud IDS
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cloud IDS
- en: Speaking of IDS, there’s **Cloud IDS**, GCP’s native IDS.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 说到 IDS，有**Cloud IDS**，这是 GCP 的原生 IDS。
- en: When Cloud IDS ([https://cloud.google.com/intrusion-detection-system](https://cloud.google.com/intrusion-detection-system))
    is used properly, it can detect many kinds of malware attacks and cyber attacks
    that are executed from **Command and Control** (**C2**) servers.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 当正确使用 Cloud IDS（[https://cloud.google.com/intrusion-detection-system](https://cloud.google.com/intrusion-detection-system)）时，它可以检测许多种恶意软件攻击和从**命令与控制**（**C2**）服务器发起的网络攻击。
- en: Cloud IDS can monitor both east-west traffic and north-south traffic within
    your GCP deployment. East-west traffic is between different services and machines
    inside of your cloud network, whereas north-south traffic is between your cloud
    network and the public internet and other external networks. Cyber attacks can
    travel between east and west and north and south!
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud IDS 可以监控 GCP 部署中的东西向流量和南北向流量。东西向流量是在云网络内部不同服务和机器之间的流量，而南北向流量则是云网络与公共互联网及其他外部网络之间的流量。网络攻击可以在东西向和南北向流量中传播！
- en: Cloud IDS can generate alerts for administrators so that they can mitigate cyber
    attacks as they’re happening.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud IDS 可以生成警报，帮助管理员在攻击发生时及时应对。
- en: Data produced by Cloud IDS can also be used for investigating cyber incidents
    in the wake of their occurrence.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud IDS 生成的数据也可以在网络安全事件发生后用于调查。
- en: Cloud Firewall
  id: totrans-117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cloud Firewall
- en: '**Cloud Firewall** can be configured to filter or restrict certain kinds of
    traffic or network activities within your cloud network.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**Cloud Firewall** 可以配置为过滤或限制云网络内某些类型的流量或网络活动。'
- en: Google says that Cloud Firewall ([https://cloud.google.com/firewall](https://cloud.google.com/firewall))
    can provide “*granular control, including micro-segmentation without network re-architecting.*”
    That’s a lot of fancy computer networking language that I’ll be happy to translate
    into plain English—Cloud Firewall lets administrators control really small activities
    and the smaller components of larger activities, including the ability to divide
    a network into even smaller administrative sections without the organization’s
    network having to be completely changed in how it’s set up.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌表示，Cloud Firewall ([https://cloud.google.com/firewall](https://cloud.google.com/firewall))
    可以提供“*精细控制，包括无需重新架构网络的微分段*”。这是一堆复杂的计算机网络术语，我很乐意将其翻译成简单的英语——Cloud Firewall 让管理员可以控制非常小的活动以及更大活动中的小组件，包括在不需要完全改变网络设置的情况下，将一个网络划分为更小的管理区段。
- en: There are so many ways that firewalls can regulate traffic, including Cloud
    Firewall. Traffic can be managed according to its TCP/IP ports, IP addresses,
    domain names, and user accounts. Cloud Firewall can use **Threat Intelligence**
    (**TI**) from third parties to determine IP addresses, domain names, and users
    to block.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 防火墙有很多方式来管理流量，包括 Cloud Firewall。流量可以根据其 TCP/IP 端口、IP 地址、域名和用户账户来管理。Cloud Firewall
    可以利用 **威胁情报**（**TI**）来自第三方，来确定需要阻止的 IP 地址、域名和用户。
- en: Secret Manager
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Secret Manager
- en: '**Secret Manager** ([https://cloud.google.com/secret-manager](https://cloud.google.com/secret-manager))
    offers GCP customers a secure way to manage their secrets. These aren’t secrets
    such as “I used a calculator when I wasn’t allowed to in math class when I was
    a kid.” Rather, Secret Manager protects secrets such as passwords, cryptography
    certificates, API keys (they let applications communicate with other applications),
    and other sorts of sensitive authentication data.'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '**Secret Manager** ([https://cloud.google.com/secret-manager](https://cloud.google.com/secret-manager))
    为 GCP 用户提供了一种安全的管理其秘密的方式。这些秘密并不是指“我小时候数学课上不允许用计算器时偷偷用了计算器”这样的事，而是 Secret Manager
    保护的是如密码、加密证书、API 密钥（它们让应用程序之间进行通信）以及其他各种敏感的身份验证数据。'
- en: So when you set up TLS certificates for a web server or a user creates a password
    for their account through IAM, they are stored in Secret Manager. Think of it
    as a massive bank vault with a thick bulletproof door, and all of your keys are
    inside. Protecting those keys is absolutely necessary so that cyber criminals
    and other malicious entities can’t do bad things to your GCP applications and
    data.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，当您为 web 服务器设置 TLS 证书，或者用户通过 IAM 创建账户密码时，这些信息会被存储在 Secret Manager 中。可以把它当作一个巨大的银行保险库，里面有一扇厚重的防弹门，而所有的密钥都保存在里面。保护这些密钥是至关重要的，防止黑客和其他恶意实体对您的
    GCP 应用程序和数据做出不良行为。
- en: Cloud DLP
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cloud DLP
- en: '**Cloud DLP** (short for **Data Loss Prevention**) ([https://cloud.google.com/dlp](https://cloud.google.com/dlp))
    helps to make sure that your important data within GCP isn’t lost! Yes—its name
    is descriptive of its function, but obviously, the technology it uses takes a
    bit more effort to describe.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**Cloud DLP**（即**数据丢失防护**）（[https://cloud.google.com/dlp](https://cloud.google.com/dlp))
    帮助确保您的 GCP 中的重要数据不会丢失！没错—它的名字正好描述了它的功能，但显然，它所使用的技术需要更多的描述。'
- en: Cloud DLP can use masking and tokenization to obfuscate your data. So, for instance,
    if a credit card number going through the **Point-of-Sale** (**POS**) system of
    your e-commerce application is **G2F69** Cloud DLP may disguise it as **B7K31**
    (No real credit card numbers use that format; I’m being extra safe!)
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud DLP 可以使用掩码和令牌化来模糊化您的数据。例如，如果一个信用卡号码通过您的电子商务应用的**销售点**（**POS**）系统，而它的号码是
    **G2F69**，Cloud DLP 可能会将其伪装成 **B7K31**（请注意，实际信用卡号码不会使用这种格式；这里我为了安全起见做了额外的保守处理！）
- en: Cloud DLP can also show security administrators that bit of data went through
    here, then over there, then out through that other component even further over
    there. Except, of course, it wouldn’t be that vague. Cloud DLP can also track
    data as it leaves your cloud and prevent sensitive data that’s not supposed to
    leave your cloud from doing so.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud DLP 还可以向安全管理员展示某段数据是如何从这里经过，然后那里再经过，最后从另一个更远的组件流出的。当然，这不是那么模糊。Cloud DLP
    还可以追踪数据离开云端的路径，并防止那些不应该离开云端的敏感数据被泄露。
- en: Security Command Center
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安全指挥中心
- en: '**Security Command Center** ([https://cloud.google.com/security-command-center](https://cloud.google.com/security-command-center))
    is a unified interface that combines those GCP security controls and other GCP
    security controls as well.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '**Security Command Center** ([https://cloud.google.com/security-command-center](https://cloud.google.com/security-command-center))
    是一个统一的界面，将这些 GCP 安全控制与其他 GCP 安全控制结合在一起。'
- en: Theoretically, you could have an IAM panel on one monitor, acting separately
    from a Cloud Firewall panel displaying on another monitor.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 理论上，你可以在一台显示器上打开一个 IAM 面板，独立于另一台显示器上显示的 Cloud Firewall 面板。
- en: However, it helps security administrators immensely when all of these security
    applications are integrated with each other. It helps so much to defend against
    cyber attacks when administrators can see how one security component is working
    with another, or how a cyber attack is trying to do one type of bad thing, and
    then another.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，当所有这些安全应用程序相互集成时，它对安全管理员的帮助非常大。当管理员能够看到一个安全组件如何与另一个组件协同工作，或者网络攻击如何尝试做一种坏事，然后再做另一种坏事时，这对于防御网络攻击帮助巨大。
- en: Security Command Center makes it possible to identify security misconfigurations
    and many kinds of security vulnerabilities so that they can be addressed as quickly
    and effectively as possible.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: Security Command Center 使得识别安全配置错误和多种类型的安全漏洞成为可能，从而能够尽快有效地解决这些问题。
- en: In addition to helping administrators detect cyber threats, Security Command
    Center can also be set up to help a company make sure they’re being compliant
    with data security regulations that apply to them.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 除了帮助管理员检测网络威胁外，Security Command Center 还可以设置以帮助公司确保他们遵守适用于他们的数据安全法规。
- en: Now, onto the third-party stuff that you can use when you’re vulnerability scanning
    and pentesting in GCP.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，进入你在 GCP 中进行漏洞扫描和渗透测试时可以使用的第三方工具。
- en: Security tools
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安全工具
- en: Many very talented pentesters have developed third-party pentesting and security
    testing tools that are designed to be used in GCP. All the tools mentioned here
    are open source and available through GitHub. In this section, you’ll find the
    GCP pentesting tools that I’ve found to be the most useful.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 许多非常有才华的渗透测试人员开发了旨在 GCP 中使用的第三方渗透测试和安全测试工具。此处提到的所有工具都是开源的，并可以通过 GitHub 获得。在本节中，你将找到我认为最有用的
    GCP 渗透测试工具。
- en: GCPBucketBrute
  id: totrans-137
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: GCPBucketBrute
- en: '**GCPBucketBrute** ([https://github.com/RhinoSecurityLabs/GCPBucketBrute](https://github.com/RhinoSecurityLabs/GCPBucketBrute))
    is developed by Rhino Security Labs. You may have noticed so far in this book
    that Rhino Security Labs also develops some of the other pentesting tools that
    I’ve mentioned, such as Pacu and CloudScraper.'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**GCPBucketBrute** ([https://github.com/RhinoSecurityLabs/GCPBucketBrute](https://github.com/RhinoSecurityLabs/GCPBucketBrute))
    是由 Rhino Security Labs 开发的。你可能已经注意到，在本书中，Rhino Security Labs 还开发了一些我提到过的其他渗透测试工具，如
    Pacu 和 CloudScraper。'
- en: GCPBucketBrute is a script to enumerate Google Storage buckets, see which components
    and entities have access to them, and whether or not they can be privilege escalated.
    It’s very dangerous if cybercriminals have access to your organization’s buckets,
    especially if they can privilege escalate to do whatever they want. So, it’s a
    good idea for pentesters to run this tool to find these vulnerabilities and attack
    paths before the bad guys find them.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: GCPBucketBrute 是一个脚本，用于列举 Google Storage 桶，查看哪些组件和实体有权访问它们，以及是否可以提升权限。如果网络犯罪分子能够访问你组织的桶，尤其是当他们能够提升权限做任何他们想做的事情时，这非常危险。因此，渗透测试人员应该运行此工具，在坏人发现这些漏洞和攻击路径之前先找出这些问题。
- en: 'According to the README file ([https://github.com/RhinoSecurityLabs/GCPBucketBrute/blob/master/README.md](https://github.com/RhinoSecurityLabs/GCPBucketBrute/blob/master/README.md)),
    these are the steps that the script takes to find security problems:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 根据 README 文件（[https://github.com/RhinoSecurityLabs/GCPBucketBrute/blob/master/README.md](https://github.com/RhinoSecurityLabs/GCPBucketBrute/blob/master/README.md)），脚本执行以下步骤来查找安全问题：
- en: '*Given a keyword, this script enumerates Google Storage buckets based on a
    number of permutations generated from* *the keyword.*'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*给定一个关键词，这个脚本会根据从* *关键词生成的多个排列组合来列举 Google Storage 桶。*'
- en: '*Then, any discovered bucket will* *be output.*'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*然后，任何发现的桶都会* *被输出。*'
- en: '*Then, any permissions that you are granted (if any) to any discovered bucket
    will* *be output.*'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*然后，任何你被授予的权限（如果有）对任何已发现的桶都会* *被输出。*'
- en: '*Then the script will check those privileges for privilege escalation (storage.buckets.setIamPolicy)
    and will output anything interesting (such as publicly listable, publicly writable,
    authenticated listable, privilege* *escalation, etc).*'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*然后脚本将检查这些权限是否存在权限提升（storage.buckets.setIamPolicy），并输出任何有趣的信息（例如公开可列出、公开可写、经过身份验证可列出、权限提升等）。*'
- en: Scout Suite
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Scout Suite
- en: 'I’ve mentioned nccgroup’s Scout Suite ([https://github.com/nccgroup/ScoutSuite](https://github.com/nccgroup/ScoutSuite))
    before. It also works great with GCP, so I’ll mention it again. As the README
    says:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 我之前提到过 nccgroup 的 Scout Suite ([https://github.com/nccgroup/ScoutSuite](https://github.com/nccgroup/ScoutSuite))。它也与
    GCP 配合得很好，所以我再提一下。正如 README 所说：
- en: “*ScoutSuite is an open source multi-cloud security-auditing tool, which enables
    security posture assessment of cloud environments. Using the APIs exposed by cloud
    providers, Scout Suite gathers configuration data for manual inspection and highlights
    risk areas. Rather than going through dozens of pages on the web consoles, Scout
    Suite presents a clear view of the attack* *surface automatically.*”
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: “*ScoutSuite 是一个开源的多云安全审计工具，能够对云环境进行安全态势评估。通过使用云服务商公开的 API，Scout Suite 收集配置数据供人工检查，并突出显示风险区域。与在
    Web 控制台上浏览数十页不同，Scout Suite 自动呈现攻击面视图。*”
- en: As with many of the tools that I mentioned, you can run ScoutSuite directly
    from the CLI that you use on each cloud platform.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 和我提到的许多工具一样，您可以直接从每个平台使用的 CLI 运行 ScoutSuite。
- en: Hayat
  id: totrans-149
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Hayat
- en: '**Hayat** ([https://github.com/DenizParlak/hayat](https://github.com/DenizParlak/hayat))
    was developed by Deniz Parlak. Hayat means “life” in Turkish, and the developer
    also named his script after his niece. How sweet!'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '**Hayat** ([https://github.com/DenizParlak/hayat](https://github.com/DenizParlak/hayat))
    由 Deniz Parlak 开发。Hayat 在土耳其语中意为“生命”，开发者还将其脚本命名为自己侄女的名字，真甜！'
- en: Hayat is a script that can audit Cloud SQL instances, IAM, Cloud Storage, networking
    configurations, VMs, logging and monitoring systems, and Kubernetes clusters.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: Hayat 是一款可以审计 Cloud SQL 实例、IAM、Cloud Storage、网络配置、VM、日志和监控系统以及 Kubernetes 集群的脚本。
- en: Parlak says that’s it *for now*, which seems to imply that more features will
    be added in the future. I can’t wait!
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: Parlak 说这 *暂时* 就是这些，这似乎意味着将来会添加更多功能。我等不及了！
- en: gcp_firewall_enum
  id: totrans-153
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: gcp_firewall_enum
- en: Chris Moberly’s **gcp_firewall_enum** ([https://gitlab.com/gitlab-com/gl-security/threatmanagement/redteam/redteam-public/gcp_firewall_enum](https://gitlab.com/gitlab-com/gl-security/threatmanagement/redteam/redteam-public/gcp_firewall_enum))
    parses your GCP data output to enumerate compute instances that are exposed to
    the internet through their network ports! Too much of that is definitely a bad
    thing.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Chris Moberly 的 **gcp_firewall_enum** ([https://gitlab.com/gitlab-com/gl-security/threatmanagement/redteam/redteam-public/gcp_firewall_enum](https://gitlab.com/gitlab-com/gl-security/threatmanagement/redteam/redteam-public/gcp_firewall_enum))
    解析您的 GCP 数据输出，列举出通过其网络端口暴露在互联网上的计算实例！过多这种暴露肯定是个坏事。
- en: Then, gcp_firewall_enum generates Nmap scripts based on the results. Nmap is
    one of the most commonly used network security testing tools; it’s a network mapper
    that can be used to map a network. I love these descriptive names—they’re very
    convenient.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，gcp_firewall_enum 根据结果生成 Nmap 脚本。Nmap 是最常用的网络安全测试工具之一；它是一个网络映射器，可以用来绘制网络图。我喜欢这些描述性的名字——它们非常方便。
- en: Gcploit
  id: totrans-156
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Gcploit
- en: '**Gcploit** ([https://github.com/dxa4481/gcploit](https://github.com/dxa4481/gcploit))
    is a collection of pentesting tools that are designed to find security vulnerabilities
    in GCP.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '**Gcploit** ([https://github.com/dxa4481/gcploit](https://github.com/dxa4481/gcploit))
    是一套用于渗透测试的工具集，旨在发现 GCP 中的安全漏洞。'
- en: Let’s take a look at them!
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看它们吧！
- en: '**BFS Search** is a threat modeling tool. It can help you figure out how threat
    actors could attack your GCP applications.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**BFS Search** 是一款威胁建模工具。它可以帮助您找出威胁行为者可能如何攻击您的 GCP 应用程序。'
- en: '**Mock Graph** can also be used for threat modeling.'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Mock Graph** 也可以用于威胁建模。'
- en: Then, the main Gcploit component executes two particular exploits, **actAs**
    and **dataproc**. The Dataproc API is used for provisioning data resources and
    actAs is an exploit that can be used for malicious access.
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，主要的 Gcploit 组件执行两个特定的漏洞利用，**actAs** 和 **dataproc**。Dataproc API 用于配置数据资源，actAs
    是一个可以用来进行恶意访问的漏洞利用。
- en: Gcploit is based on Dylan Ayrey and Allison D’s presentation at Black Hat 2020\.
    In Gcploit’s README, they mention that there are other exploits they’d like to
    add, but they haven’t yet.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: Gcploit 基于 Dylan Ayrey 和 Allison D 在 2020 年 Black Hat 上的演示。在 Gcploit 的 README
    中，他们提到过其他他们希望添加的漏洞，但尚未实现。
- en: gcp-iam-role-permissions
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: gcp-iam-role-permissions
- en: Brad Geesaman and Josh Larsen’s **gcp-iam-role-permissions** ([https://github.com/darkbitio/gcp-iam-role-permissions](https://github.com/darkbitio/gcp-iam-role-permissions))
    is a script that looks for primitive and predefined GCP IAM roles and their permissions.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: Brad Geesaman 和 Josh Larsen 的 **gcp-iam-role-permissions** ([https://github.com/darkbitio/gcp-iam-role-permissions](https://github.com/darkbitio/gcp-iam-role-permissions))
    是一个脚本，用于查找 GCP IAM 角色及其权限，包括基本角色和预定义角色。
- en: You need to be very careful when you set up user accounts in GCP, and leaving
    default settings is usually a very bad idea because attackers may try exploits
    based on those settings. User accounts and their access should be customized for
    some of the same reasons why default passwords should be changed, too.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在设置 GCP 中的用户帐户时，必须非常小心，保持默认设置通常是非常糟糕的主意，因为攻击者可能会尝试基于这些设置的漏洞。用户帐户及其访问权限应该根据一些与更改默认密码相同的原因进行定制。
- en: Geesaman and Larsen’s tool helps pentesters to detect those sorts of vulnerabilities
    before the bad guys do.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: Geesaman 和 Larsen 的工具帮助渗透测试人员在坏人之前检测出这些类型的漏洞。
- en: GCP Scanner
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: GCP Scanner
- en: '**GCP Scanner** ([https://github.com/google/gcp_scanner](https://github.com/google/gcp_scanner))
    has a bunch of different contributors, and it’s released under Google’s official
    GitHub account. But the README starts with this disclaimer:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '**GCP Scanner** ([https://github.com/google/gcp_scanner](https://github.com/google/gcp_scanner))
    拥有许多不同的贡献者，并且它在 Google 的官方 GitHub 账户下发布。但 README 的开头有这样的免责声明：'
- en: “*This project is not an official Google project. It is not supported by Google
    and Google specifically disclaims all warranties as to its quality, merchantability,
    or fitness for a* *particular purpose.*”
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: “*这个项目不是官方的 Google 项目。它不受 Google 支持，Google 特此声明不对其质量、适销性或特定用途的适用性承担任何保证。*”
- en: That must have something to do with Google’s lawyers. It’s like Google’s saying
    “Here’s this cool pentesting tool for you folks, but don’t blame us if it doesn’t
    work properly.” I think you should try it anyway, especially if you want to give
    it a run in the GCP deployment you can make for your own educational purposes.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 那肯定和 Google 的律师有关。这就像 Google 在说：“这是一个很酷的渗透测试工具，但如果它不能正常工作，别怪我们。”我觉得你还是应该尝试一下，尤其是如果你想在
    GCP 部署中尝试，作为自己的教育用途。
- en: GCP Scanner can help you to determine the level of access of certain credentials
    you have within your GCP network and applications. You can use GCP Scanner’s findings
    in a pentest report, and also to security harden how your organization has configured
    IAM.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: GCP Scanner 可以帮助你确定在 GCP 网络和应用程序中某些凭据的访问级别。你可以将 GCP Scanner 的结果用于渗透测试报告，也可以用来加强你组织在配置
    IAM 时的安全性。
- en: 'GCP Scanner works with these sorts of credentials:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: GCP Scanner 可与以下类型的凭据一起使用：
- en: GCP VM instance metadata
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCP VM 实例元数据
- en: User credentials stored in Google Cloud (**gcloud**) profiles
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储在 Google Cloud (**gcloud**) 配置文件中的用户凭据
- en: OAuth2 refresh token with cloud-platform scope granted
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 授予云平台范围的 OAuth2 刷新令牌
- en: GCP service account key in JSON format
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCP 服务帐户密钥（JSON 格式）
- en: GCP Scanner can test Compute Engine, App Engine, Cloud Storage, GKE, Bigtable,
    BigQuery, and Cloud Functions.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: GCP Scanner 可以测试 Compute Engine、App Engine、Cloud Storage、GKE、Bigtable、BigQuery
    和 Cloud Functions。
- en: We will definitely run GCP Scanner at the CLI in [*Chapter 11*](B18672_11.xhtml#_idTextAnchor197);
    it should be fun!
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 我们一定会在 CLI 中运行 GCP Scanner，具体见 [*第 11 章*](B18672_11.xhtml#_idTextAnchor197)；应该会很有趣！
- en: Summary
  id: totrans-179
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: GCP’s roots stem from when Google released App Engine in 2008, a way for businesses
    and other entities to launch their own web applications within Google’s platform.
    App Engine proved to be very popular. So, in the years since, Google has released
    a large number of additional cloud services that enterprises and organizations
    can use for their production networks and networking applications.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: GCP 的根源可以追溯到 2008 年 Google 发布了 App Engine，这是一个让企业和其他实体可以在 Google 平台上发布自己 Web
    应用程序的方式。App Engine 被证明非常受欢迎。因此，随着时间的推移，Google 发布了大量额外的云服务，企业和组织可以使用这些服务来管理其生产网络和网络应用程序。
- en: GCP is how Google competes with Amazon’s AWS and Microsoft Azure. However, many
    organizations deploy multi-cloud networks that use all of those cloud platforms
    and more.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: GCP 是 Google 与 Amazon 的 AWS 和 Microsoft Azure 竞争的方式。然而，许多组织部署了多云网络，使用所有这些云平台以及更多平台。
- en: The two most important GCP components that are used in IaaS (but can also be
    used in SaaS and PaaS) are Compute Engine and Cloud Storage. Compute Engine is
    like the CPU, and Cloud Storage is your disks.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在 IaaS 中使用的两个最重要的 GCP 组件（但也可以在 SaaS 和 PaaS 中使用）是 Compute Engine 和 Cloud Storage。Compute
    Engine 就像 CPU，Cloud Storage 就是你的磁盘。
- en: Google also provides a lot of very useful security controls that your organization
    really ought to use to harden their security against cyber attacks. They include
    Cloud Firewall, IAM, Secret Manager, Cloud IDS, and some other applications. Administrators
    can use the integrated interface in Security Command Center for a comprehensive
    live view of your organization’s security posture, security events, and vulnerabilities.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: Google 还提供了许多非常有用的安全控制，您的组织应该利用这些工具来增强抵御网络攻击的能力。它们包括云防火墙、IAM、密钥管理器、云 IDS 以及一些其他应用程序。管理员可以通过安全指挥中心的集成界面，全面实时查看组织的安全状态、安全事件和漏洞。
- en: There are a number of third-party tools that you can use to pentest GCP. They
    include Scout Suite, GCPBucketBrute, Hayat, GCP Scanner, Gcploit, and gcp_firewall_enum.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多第三方工具可用于对 GCP 进行渗透测试。它们包括 Scout Suite、GCPBucketBrute、Hayat、GCP Scanner、Gcploit
    和 gcp_firewall_enum。
- en: Now that we’ve explored pentesting GCP in general, in the next chapter, we will
    be pentesting Docker and Kubernetes clusters in GCP.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们已大致了解了如何对 GCP 进行渗透测试后，在下一章中，我们将对 GCP 中的 Docker 和 Kubernetes 集群进行渗透测试。
- en: Further reading
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入阅读
- en: 'To learn more on the topics covered in this chapter, you can visit the following
    links:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 若要了解本章中涵盖的主题，您可以访问以下链接：
- en: '*GCP Free* *Tier*: [https://cloud.google.com/free](https://cloud.google.com/free'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*GCP 免费* *套餐*: [https://cloud.google.com/free](https://cloud.google.com/free)'
- en: )
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*Google Cloud* *products*: [https://cloud.google.com/products](https://cloud.google.com/products'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Google Cloud* *产品*: [https://cloud.google.com/products](https://cloud.google.com/products)'
- en: )
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '*Google Cloud Platform Terms of* *Service*: [https://cloud.google.com/terms/](https://cloud.google.com/terms/)'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Google Cloud 平台服务条款*: [https://cloud.google.com/terms/](https://cloud.google.com/terms/)'
