- en: Passive Information Gathering
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 被动信息收集
- en: Beginning a career in ethical hacking and/or penetration testing can be very
    exciting and, most of the time, our minds will be a bit overwhelmed, causing us
    to visit only the chapters about exploiting a system in a book such as this. However,
    conducting a penetration test is like starting a new project at home. Before you
    build a pool in your backyard, there are a few things you must consider, such
    as the space that's available, the cost of materials, the contractor's fees, and
    other details. Information gathering is a very important phase of the hacking
    life cycle and penetration testing.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 开始从事道德黑客和/或渗透测试工作可能会非常令人兴奋，大多数情况下，我们的思维会有些不知所措，导致我们只阅读这样一本书中有关利用系统的章节。然而，进行渗透测试就像在家里开始一个新项目。在你的后院建造游泳池之前，有一些事情你必须考虑，比如可用空间、材料成本、承包商费用和其他细节。信息收集是黑客生命周期和渗透测试的非常重要的阶段。
- en: In this chapter, we will focus on passive information gathering techniques and
    methods. We will learn how to use the internet to get us the information and specific
    details we need about our target by using both online resources and tools on Kali
    Linux.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将专注于被动信息收集技术和方法。我们将学习如何利用互联网通过在线资源和Kali Linux上的工具获取有关目标的信息和具体细节。
- en: 'We will be covering the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将涵盖以下主题：
- en: Reconnaissance and footprinting
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 侦察和足迹
- en: Understanding passive information gathering
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解被动信息收集
- en: Understanding **open source intelligence** (**OSINT**)
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解**开源情报**（**OSINT**）
- en: Using the top OSINT tools
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用顶级OSINT工具
- en: Identifying target technologies and security controls
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别目标技术和安全控制
- en: Finding data leaks in cloud resources
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在云资源中查找数据泄漏
- en: Understanding whois and copying websites with HTTrack
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解whois和使用HTTrack复制网站
- en: Finding subdomains using Sublist3r
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Sublist3r查找子域
- en: Dear reader! Please ensure that you **do not** perform scans on any target organization,
    networks, or systems in the absence of appropriate **legal permission**.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 亲爱的读者！请确保您在没有适当的**法律许可**的情况下**不要**对任何目标组织、网络或系统进行扫描。
- en: Technical requirements
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The following are the technical requirements for this chapter:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的技术要求如下：
- en: '**Kali Linux**: [https://www.kali.org/](https://www.kali.org/)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kali Linux**: [https://www.kali.org/](https://www.kali.org/)'
- en: '**Maltego**: [www.paterva.com](http://www.paterva.com)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Maltego**: [www.paterva.com](http://www.paterva.com)'
- en: '**Recon-ng**: [https://bitbucket.org/LaNMaSteR53/recon-ng](https://bitbucket.org/LaNMaSteR53/recon-ng)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Recon-ng**: [https://bitbucket.org/LaNMaSteR53/recon-ng](https://bitbucket.org/LaNMaSteR53/recon-ng)'
- en: '**theHarvester**: [https://github.com/laramies/theHarvester](https://github.com/laramies/theHarvester)'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**theHarvester**: [https://github.com/laramies/theHarvester](https://github.com/laramies/theHarvester)'
- en: '**OSRFramework**: [https://github.com/i3visio/osrframework](https://github.com/i3visio/osrframework)'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OSRFramework**: [https://github.com/i3visio/osrframework](https://github.com/i3visio/osrframework)'
- en: '**HTTrack**: [www.httrack.com](http://www.httrack.com)'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HTTrack**: [www.httrack.com](http://www.httrack.com)'
- en: '**Sublist3r**: [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r)'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Sublist3r**: [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r)'
- en: '**S3Scanner**: [https://github.com/sa7mon/S3Scanner](https://github.com/sa7mon/S3Scanner)'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**S3Scanner**: [https://github.com/sa7mon/S3Scanner](https://github.com/sa7mon/S3Scanner)'
- en: Reconnaissance and footprinting
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 侦察和足迹
- en: The various phases of hacking include reconnaissance, scanning, gaining access,
    maintaining access, and clearing tracks. The reconnaissance phase is the most
    important phase of a penetration test since this is when the ethical hacker or
    penetration tester conducts extensive research into gathering as much information
    about the target as possible. Furthermore, footprinting will help create a profile
    of the target, gathering profiling information such as running services, open
    ports, and operating systems.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 黑客攻击的各个阶段包括侦察、扫描、获取访问权限、保持访问权限和清除痕迹。侦察阶段是渗透测试中最重要的阶段，因为这是道德黑客或渗透测试人员进行广泛研究，尽可能收集有关目标的信息的阶段。此外，足迹将有助于创建目标的概况，收集诸如运行服务、开放端口和操作系统等概况信息。
- en: We will now look at both reconnaissance and footprinting in more detail.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将更详细地了解侦察和足迹。
- en: Reconnaissance
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 侦察
- en: From a military perspective, reconnaissance is the observation and research
    of an enemy target. In cybersecurity, as a penetration tester, we use various
    tools and techniques to gather detailed information about a target organization
    and its underlying infrastructure.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 从军事角度来看，侦察是对敌方目标的观察和研究。在网络安全领域，作为渗透测试人员，我们使用各种工具和技术来收集有关目标组织及其基础架构的详细信息。
- en: Reconnaissance is vital in the field of penetration testing. As a penetration
    tester, we definitely need to know about our target, as well as its vulnerabilities
    and operating systems, before we attempt to gain access via exploitation. The
    information gathered during the reconnaissance phase will help us to choose the
    right tools and techniques to successfully exploit the target.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 侦察在渗透测试领域至关重要。作为渗透测试人员，我们在尝试通过利用获取访问权限之前，绝对需要了解我们的目标及其漏洞和操作系统。在侦察阶段收集的信息将帮助我们选择正确的工具和技术成功地利用目标。
- en: 'Reconnaissance can be divided into two categories:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 侦察可以分为两类：
- en: '**Passive**: Uses an indirect approach and does not engage the target'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**被动**: 使用间接方法，不与目标进行互动'
- en: '**Active**: Directly engages the target to gather specific details'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主动**: 直接与目标互动以收集具体细节'
- en: Next, we will dive into understanding footprinting.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将深入了解足迹。
- en: Footprinting
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 足迹
- en: Footprinting is the procedure whereby as much information as possible is gathered
    in relation to a target. In footprinting, the objective is to obtain specific
    details about the target, such as its operating systems and the service versions
    of running applications. The information that's collected can be used in various
    ways to gain access to the target system, network, or organization. Footprinting
    allows a penetration tester to understand the security posture of the target infrastructure,
    quickly identify security vulnerabilities on the target systems and networks,
    create a network map of the organization, and reduce the area of focus to the
    specific IP addresses, domain names, and the types of devices regarding which
    information is required.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 足迹定位是指尽可能收集与目标相关的信息的过程。在足迹定位中，目标是获取有关目标的特定细节，例如其操作系统和正在运行的应用程序的服务版本。收集到的信息可以以各种方式用于获取对目标系统、网络或组织的访问权限。足迹定位允许渗透测试人员了解目标基础设施的安全状况，快速识别目标系统和网络上的安全漏洞，创建组织的网络地图，并将焦点缩小到需要信息的特定IP地址、域名和设备类型。
- en: 'Footprinting is part of the reconnaissance phase; however, since footprinting
    is able to provide more specific details about the target, we can consider footprinting
    to be a subset of the reconnaissance phase. The following diagram provides a visual
    overview of how reconnaissance and footprinting sit together:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 足迹定位是侦察阶段的一部分；然而，由于足迹定位能够提供有关目标的更具体的细节，我们可以将足迹定位视为侦察阶段的一个子集。以下图表提供了侦察和足迹定位如何结合在一起的视觉概述：
- en: '![](img/83f455f3-b446-4a4f-81fc-897bbc93caf0.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/83f455f3-b446-4a4f-81fc-897bbc93caf0.png)'
- en: 'The following are the main objectives of footprinting:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是足迹定位的主要目标：
- en: Collecting network information (domain names, IP addressing schemes, and network
    protocols)
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集网络信息（域名，IP寻址方案和网络协议）
- en: Collecting system information (user and group names, routing tables, system
    names, and types)
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集系统信息（用户和组名称，路由表，系统名称和类型）
- en: Collecting organization information (employee details, company directory, and
    location details)
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集组织信息（员工详细信息，公司目录和位置详细信息）
- en: 'To successfully obtain information about a target, I would recommend using
    the following footprinting methodology:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 要成功获取有关目标的信息，我建议使用以下足迹定位方法：
- en: Checking search engines such as Yahoo, Bing, and Google
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查雅虎、必应和谷歌等搜索引擎
- en: Performing Google hacking techniques (advanced Google searches)
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行Google黑客技术（高级Google搜索）
- en: Information gathering through social media platforms such as Facebook, LinkedIn,
    Instagram, and Twitter
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过Facebook、LinkedIn、Instagram和Twitter等社交媒体平台收集信息
- en: Footprinting the company's website
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对公司网站进行足迹定位
- en: Performing email footprinting techniques
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行电子邮件足迹定位技术
- en: Using the `whois` command
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`whois`命令
- en: Performing DNS footprinting
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行DNS足迹定位
- en: Network footprint techniques
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络足迹技术
- en: Social engineering
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社会工程学
- en: You are now able to differentiate between reconnaissance and footprinting. Both
    reconnaissance and footprinting are required during penetration testing as each
    provides vital information about the target. In the next section, we will take
    a deep dive into passive information gathering.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在能够区分侦察和足迹定位。在渗透测试期间，侦察和足迹定位都是必需的，因为每个都提供有关目标的重要信息。在下一节中，我们将深入探讨被动信息收集。
- en: Understanding passive information gathering
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解被动信息收集
- en: Passive information gathering is when you use an indirect approach to obtain
    information about your target. This method obtains information that's publicly
    available from many sources, thus eliminating direct contact with the potential
    target. Passive information gathering is usually fruitful, and a lot of organizations
    usually publish information and details about their organizations as a marketing
    strategy for their existing and potential customers. Sometimes, when organizations
    advertise a vacancy on a job recruiting website, the recruiter posts technical
    requirements for the potential candidate. From a penetration tester's point of
    view, the technical details can indicate the types of platforms and applications
    that are running within the organization's network infrastructure.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 被动信息收集是指使用间接方法获取有关目标的信息。这种方法获取的信息来自许多公开来源，因此消除了与潜在目标的直接联系。被动信息收集通常是富有成效的，许多组织通常会为现有和潜在客户发布有关其组织的信息和细节作为营销策略。有时，当组织在招聘网站上发布职位空缺时，招聘人员会发布潜在候选人的技术要求。从渗透测试人员的角度来看，技术细节可以指示组织网络基础设施中正在运行的平台和应用程序类型。
- en: We have covered the concepts of passive information gathering. Now, let's take
    a deep dive into learning about OSINT in the next section.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经介绍了被动信息收集的概念。现在，让我们在下一节中深入学习有关OSINT的知识。
- en: Understanding OSINT
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解OSINT
- en: 'As mentioned previously, the first stage of a penetration test is to gather
    as much information as possible on a given target or organization. Gathering information
    prior to exploiting and gaining access to a network or system will help the penetration
    tester narrow the scope of the attack and design specific types of attacks and
    payloads that are suitable for the attack surface of the target. We will begin
    our information-gathering phase by utilizing the largest computer network in existence:
    the internet.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，渗透测试的第一阶段是尽可能收集有关给定目标或组织的信息。在利用和获取对网络或系统的访问权限之前收集信息将有助于渗透测试人员缩小攻击范围，并设计适合目标攻击面的特定类型的攻击和有效载荷。我们将通过利用现有的最大计算机网络——互联网来开始我们的信息收集阶段。
- en: 'The following diagram provides a brief overview of the different areas where
    OSINT can be found on a target:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表提供了OSINT可以在目标上找到的不同领域的简要概述：
- en: '![](img/9d902dc8-5baa-422c-a783-f04f903ddc2a.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9d902dc8-5baa-422c-a783-f04f903ddc2a.png)'
- en: The internet has many platforms, ranging from forums and messaging boards to
    social media platforms. A lot of companies create an online presence to help market
    their products and services to potential clients. In doing so, the creation of
    a company's website, Facebook, Instagram, Twitter, LinkedIn, and so on ensures
    that their potential customers get to know who they are and what services and
    products are offered. The marketing department is usually responsible for ensuring
    that an organization's online presence is felt and that their digital portfolio
    is always up to date and eye-catching.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上有许多平台，从论坛和消息板到社交媒体平台。许多公司创建在线存在，以帮助将其产品和服务营销给潜在客户。这样做，公司的网站、Facebook、Instagram、Twitter、LinkedIn等的创建确保他们的潜在客户了解他们是谁，以及提供了哪些服务和产品。市场部门通常负责确保组织的在线存在，并且他们的数字投资组合始终是最新和吸引人的。
- en: Organizations usually publish information about themselves on various internet
    platforms, such as blogs and recruitment websites. As the internet is so readily
    available and accessible, it's quite easy for someone to gather information on
    a target organization simply by using search engines and determining their underlying
    infrastructure. This technique is known as **OSINT.**
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 组织通常在各种互联网平台上发布有关自己的信息，例如博客和招聘网站。由于互联网如此易于获取和访问，某人很容易仅通过使用搜索引擎并确定其基础设施来收集有关目标组织的信息。这种技术被称为**OSINT**。
- en: This is where a penetration tester or ethical hacker uses various tools and
    techniques that harness information that's publicly available on the internet
    to create a portfolio of the target. OSINT is a type of passive information gathering
    where the penetration tester does not make direct contact or a connection with
    the actual target, but rather asks legitimate and reliable sources about the target.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这是渗透测试人员或道德黑客使用各种工具和技术，利用互联网上公开的信息来创建目标的投资组合。 OSINT是一种被动信息收集类型，渗透测试人员不直接与实际目标联系或连接，而是向合法可靠的来源询问有关目标的信息。
- en: 'Over the years, I have noticed a lot of job-hunting websites where recruiters
    post vacancies for IT positions within a company, but the recruiter specifies
    that an ideal candidate should have experience with specific technologies. This
    can be a good thing for the company and the applicant; however, it can be bad
    as well. The following are the pros and cons of companies posting their technologies
    on recruitment websites:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 多年来，我注意到了许多求职网站，招聘人员在公司内发布IT职位的空缺，但招聘人员指定理想的候选人应具有特定技术的经验。这对公司和申请人可能是一件好事；然而，它也可能是坏事。以下是公司在招聘网站上发布其技术的利弊：
- en: 'These are the pros:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是利：
- en: The potential candidate will know what type of environment to expect if they
    are hired.
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 潜在的候选人将知道如果被聘用，可以期待什么样的环境。
- en: The potential candidate can determine beforehand whether they have the skill
    set required for the job.
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 潜在的候选人可以事先确定他们是否具有工作所需的技能。
- en: 'These are the cons:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是坏处：
- en: The company is partially exposing their technologies to the general public.
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司部分向公众暴露他们的技术。
- en: A hacker can determine the infrastructure and better select exploits and tools
    to perform a cyber attack.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 黑客可以确定基础设施，并更好地选择利用和工具来执行网络攻击。
- en: 'Let''s take a look at the following screenshot from a job site. Looking closely,
    we notice that the job poster has specified that they are using both Cisco and
    HP networking technologies, the company uses an AVAYA PBX system as their **Voice
    over Internet Protocol** (**VoIP**) system, and they are running Windows Server
    2008 and/or 2012 in their network:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一下来自招聘网站的以下截图。仔细观察，我们注意到招聘者指定他们正在使用思科和惠普的网络技术，公司使用AVAYA PBX系统作为他们的**互联网协议语音**（**VoIP**）系统，并且他们在网络中运行Windows
    Server 2008和/或2012：
- en: '![](img/5ed102d6-24c7-4a91-b078-ed787f37f92b.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5ed102d6-24c7-4a91-b078-ed787f37f92b.png)'
- en: As a penetration tester, we can see that the company is using specific types
    of technologies within their IT infrastructure. From a penetration tester's point
    of view, if this organization were our target for a penetration test, we could
    now narrow our scope of attacks to these specific technologies.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员，我们可以看到公司在其IT基础设施中使用特定类型的技术。从渗透测试人员的角度来看，如果这个组织是我们渗透测试的目标，我们现在可以将我们的攻击范围缩小到这些特定的技术。
- en: Now that we have completed this section on better understanding OSINT, let's
    dive into the practical of using OSINT tools.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经完成了对OSINT更好理解的部分，让我们深入了解使用OSINT工具的实际操作。
- en: Using the top OSINT tools
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用顶级OSINT工具
- en: In this section, I will demonstrate some of the most popular OSINT tools that
    are available for Kali Linux. Each tool will help us create a profile about a
    target using various sources of information that can be found on the internet.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我将演示一些适用于Kali Linux的最流行的OSINT工具。每个工具都将帮助我们使用互联网上可以找到的各种信息来源创建有关目标的概况。
- en: 'Over the next few sub-sections, we will cover the following OSINT tools:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的几个子节中，我们将介绍以下OSINT工具：
- en: Maltego
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maltego
- en: Recon-ng
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Recon-ng
- en: theHarvester
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: theHarvester
- en: Shodan
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shodan
- en: OSRFramework
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OSRFramework
- en: Now, let's take a deeper dive into each of these amazing tools.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们深入了解这些令人惊奇的工具。
- en: Maltego
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Maltego
- en: Maltego was created by **Paterva** ([www.paterva.com](https://www.paterva.com/web7/))
    as a graphical interactive data mining application with the ability to query and
    gather information from various sources on the internet and present data in easy-to-read
    graphs. The graphs demonstrate the relationship between each entity and the target.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: Maltego是由**Paterva** ([www.paterva.com](https://www.paterva.com/web7/))创建的图形交互式数据挖掘应用程序，具有从互联网上的各种来源查询和收集信息并以易于阅读的图形呈现数据的能力。这些图表展示了每个实体与目标之间的关系。
- en: 'To get started, you need a user account to access the functions and features
    of Maltego:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用，您需要用户帐户来访问Maltego的功能和特性：
- en: 'Go to [www.paterva.com](https://www.paterva.com/web7/) and click on **COMMUNITY**.
    A drop-down menu will be presented. Click on **REGISTER (FREE)** to create a user
    account:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到[www.paterva.com](https://www.paterva.com/web7/)，然后点击**社区**。将会出现一个下拉菜单。点击**注册（免费）**以创建用户帐户：
- en: '![](img/8291a374-1276-4637-b75a-c13685dbdc2b.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8291a374-1276-4637-b75a-c13685dbdc2b.png)'
- en: 'After creating the user account, please ensure that you verify your email address
    prior to logging in. Once this step has been completed, head back to your Kali
    Linux desktop. Open the **Maltego** tool by clicking on Applications | Favorites
    | maltego, as shown in the following screenshot:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建用户帐户后，请确保在登录之前验证您的电子邮件地址。完成此步骤后，返回到您的Kali Linux桌面。点击应用程序|收藏夹|maltego打开**Maltego**工具，如下面的屏幕截图所示：
- en: '![](img/38ef8e4c-9b5c-46d9-889a-ecfc081d8120.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![](img/38ef8e4c-9b5c-46d9-889a-ecfc081d8120.png)'
- en: 'Once the application opens, click on Maltego CE (Free) to configure and run
    the community edition of Maltego:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用程序打开后，点击Maltego CE（免费）以配置和运行Maltego的社区版：
- en: '![](img/4341b8fe-99a6-42f9-b5dd-1fee609bbcc6.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4341b8fe-99a6-42f9-b5dd-1fee609bbcc6.png)'
- en: 'Next, you should be presented with the Maltego configuration wizard. Ensure
    that you log in using the same user account you created previously on the Paterva
    website and click Next. Read and follow the instructions that appear in the next
    few steps of the configuration wizard. You can leave everything in the default
    state and click Next until the process ends:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您将看到Maltego配置向导。确保使用您之前在Paterva网站上创建的相同用户帐户登录，然后点击下一步。阅读并遵循配置向导的接下来几个步骤中出现的说明。您可以将一切保持默认状态，然后点击下一步直到过程结束：
- en: '![](img/5dff9202-55d9-40ac-8e9e-758b8385297c.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5dff9202-55d9-40ac-8e9e-758b8385297c.png)'
- en: 'Once the configuration window closes, the general Maltego interface is displayed,
    as shown in the following screenshot. On the start page, there are many transform
    sets that can be added to Maltego. A **transform** is an open source resource
    that Maltego can query for information. Adding transforms is optional:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置窗口关闭后，将显示一般的Maltego界面，如下面的屏幕截图所示。在起始页面上，有许多可以添加到Maltego的变换集。**变换**是Maltego可以查询信息的开源资源。添加变换是可选的：
- en: '![](img/02f823b7-33da-4d81-b1c9-c15a38e250e3.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/02f823b7-33da-4d81-b1c9-c15a38e250e3.png)'
- en: To begin gathering information on a target organization, we must first open
    a new graph. To do this, click on the Maltego icon in the top-left corner, and
    then click on **New**. Once a new graph has been created, you'll see various types
    of information (entities) on the left, while, on the right-hand side, you'll see
    Overview, Detail View, and Property View.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要开始收集有关目标组织的信息，我们必须首先打开一个新图。要做到这一点，点击左上角的Maltego图标，然后点击**新建**。创建新图后，您将在左侧看到各种类型的信息（实体），而在右侧，您将看到概述、详细视图和属性视图。
- en: 'To add a domain of a company, click and drag the domain entity to the center
    of the graph. By default, `paterva.com` will appear as the target domain. Let''s
    change the domain value to something else. On the left-hand side of the interface,
    click on **Property View**. You will be able to edit the value in the **Domain
    Name** field, as shown in the following screenshot:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加公司的域名，点击并拖动域实体到图的中心。默认情况下，`paterva.com`将出现为目标域。让我们将域值更改为其他内容。在界面的左侧，点击**属性视图**。您将能够编辑**域名**字段中的值，如下面的屏幕截图所示：
- en: '![](img/87486934-78f0-423e-b527-5f1036e0934a.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](img/87486934-78f0-423e-b527-5f1036e0934a.png)'
- en: 'Once the domain name has changed, we can proceed and resolve the website URL
    for the domain. Right-click on the domain entity, click on All Transforms, and
    select To Website [Quick lookup]. This transform will simply discover the website
    address (refer to the screenshot on the left) and display the relationship (refer
    to the screenshot on the right):'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 域名更改后，我们可以继续并解析域的网站URL。右键单击域实体，点击所有变换，然后选择到网站[快速查找]。这个变换将简单地发现网站地址（参考左侧的屏幕截图），并显示关系（参考右侧的屏幕截图）：
- en: '![](img/fc656e7a-c856-4650-9094-d42626d49105.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fc656e7a-c856-4650-9094-d42626d49105.png)'
- en: 'Next, we can attempt to obtain the IP address of the website address. Right-click
    on the website address ([www.google.com](http://www.google.com)) | All Transforms
    | To IP Address (DNS). The following screenshot on the right displays the IP address
    that was resolved for [www.google.com](http://www.google.com). Please note that
    this is one of many IP addresses that are used for the [www.google.com](http://www.google.com)
    URL:'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们可以尝试获取网站地址的IP地址。右键单击网站地址（[www.google.com](http://www.google.com)）|所有变换|到IP地址（DNS）。右侧的屏幕截图显示了为[www.google.com](http://www.google.com)解析的IP地址。请注意，这是用于[www.google.com](http://www.google.com)
    URL的众多IP地址之一：
- en: '![](img/b31fb2f1-6fa4-4847-99dc-cbae0c0db5be.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b31fb2f1-6fa4-4847-99dc-cbae0c0db5be.png)'
- en: 'We can take this phase even further. How about discovering the **top-level
    domains** (**TLDs**) that are a part of the [google.com](http://google.com) domain?
    To complete this task, we begin by right-clicking on the domain entity ([google.com](http://google.com))
    and selecting **To Domain [Find other TLDs]**, as shown in the following screenshot
    on the left. Once the transform has been completed, Maltego will present the information
    in a tree-like structure on the graph plane, as shown in the following screenshot
    on the right:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们甚至可以进一步进行这个阶段。试试发现作为[google.com](http://google.com)域的一部分的**顶级域**（**TLDs**）。要完成此任务，我们首先右键单击域实体（[google.com](http://google.com)），然后选择**到域[查找其他TLDs]**，如左侧的屏幕截图所示。一旦变换完成，Maltego将在图平面上以树状结构呈现信息，如右侧的屏幕截图所示：
- en: '![](img/b751d501-e76f-4046-b1c1-0c0fcd84f055.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b751d501-e76f-4046-b1c1-0c0fcd84f055.png)'
- en: 'Now, how about gathering the email addresses of contacts who are registered
    to a domain? We can right-click on the IP address entity | All Transforms | To
    Email address [From whois info]. If there are any email addresses, they will be
    displayed, as shown in the screenshot on the right:'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，让我们来收集注册到域的联系人的电子邮件地址。我们可以右键单击IP地址实体 | 所有变换 | 转换为电子邮件地址[来自whois信息]。如果有任何电子邮件地址，它们将显示出来，如右侧的屏幕截图所示。
- en: '![](img/162dd62d-c832-4d63-ab58-ceb550fa714c.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](img/162dd62d-c832-4d63-ab58-ceb550fa714c.png)'
- en: Furthermore, we can attempt to obtain the **name servers** (**NSes**) for the
    domain. Right-click on the domain entity (`google.com`) | All Transforms | To
    DNS Name – NS (name server). All the NSes for the domain will be presented, as
    shown in the screenshot on the right:.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，我们可以尝试获取该域的**名称服务器**（**NSes**）。右键单击域实体（`google.com`）| 所有变换 | 转换为DNS名称 - NS（名称服务器）。域的所有NSes将被呈现，如右侧的屏幕截图所示。
- en: '![](img/cc6bd0c1-5656-44b0-9a2f-6350bdd19ab7.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cc6bd0c1-5656-44b0-9a2f-6350bdd19ab7.png)'
- en: Now, you have a better idea of the functions of Maltego and how to navigate
    the various transforms. A nice feature of Maltego is the relationship mapping
    on the graph to help you analyze information and entities.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您对Maltego的功能和如何浏览各种变换有了更好的了解。Maltego的一个很好的功能是图上的关系映射，帮助您分析信息和实体。
- en: Having completed this section, you are now familiar with using Maltego to gather
    information. In the next section, we will use a Python-based tool to assist us
    in passive information gathering.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了这一部分，您现在已经熟悉了使用Maltego收集信息。在下一部分中，我们将使用基于Python的工具来帮助我们进行被动信息收集。
- en: Recon-ng
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Recon-ng
- en: Recon-ng is an OSINT reconnaissance framework written in Python. The tool itself
    is complete with its own modules, database, interactive help, and menu system,
    similar to Metasploit. Recon-ng is able to perform web-based, information-gathering
    techniques using various open source platforms.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: Recon-ng是一个用Python编写的OSINT侦察框架。该工具本身具有自己的模块、数据库、交互式帮助和菜单系统，类似于Metasploit。Recon-ng能够使用各种开源平台执行基于Web的信息收集技术。
- en: 'Recon-ng is already part of the arsenal of tools in Kali Linux. To access the
    interface of Recon-ng, simply click on **Applications** in the top-left corner
    to expand the application menu, and then select **01 – Information Gathering**.
    You should see **recon-ng**. Click on it to open the framework:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: Recon-ng已经是Kali Linux工具库中的一部分。要访问Recon-ng的界面，只需单击左上角的**应用程序**以展开应用程序菜单，然后选择**01
    - 信息收集**。您应该会看到**recon-ng**。单击它以打开该框架：
- en: '![](img/7efc385b-1655-4bfd-88a6-d7add7b3e8ed.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7efc385b-1655-4bfd-88a6-d7add7b3e8ed.png)'
- en: Additionally, you can open the Linux Terminal window and type `recon-ng` to
    run the framework.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您可以打开Linux终端窗口并输入`recon-ng`来运行该框架。
- en: 'To download and set up the latest version of Recon-ng, use the following instructions:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 要下载并设置最新版本的Recon-ng，请使用以下说明：
- en: 'Execute the following configurations on your Terminal to download the latest
    version of Recon-ng and install it:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端上执行以下配置以下载最新版本的Recon-ng并安装它：
- en: '[PRE0]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'After you''re finished, your screen should be similar to the following screenshot:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，您的屏幕应与以下屏幕截图类似：
- en: '![](img/6a746ce7-c296-4942-8a70-6f71732d1146.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6a746ce7-c296-4942-8a70-6f71732d1146.png)'
- en: 'If there are no modules installed or enabled, use the following command to
    install all modules onto Recon-ng:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果没有安装或启用任何模块，请使用以下命令将所有模块安装到Recon-ng上：
- en: '[PRE1]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Optionally, you can reload all the modules by using the `modules reload` command.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用`modules reload`命令重新加载所有模块。
- en: 'Now that the Recon-ng framework has opened, let''s get familiar with its interface
    by using the following instructions:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 现在Recon-ng框架已经打开，让我们通过以下说明熟悉其界面：
- en: 'To view all the modules in **Recon-ng v5**, we must use the `modules search`
    command to view a list of all available modules. All the modules will be presented
    under their categories (`Discovery`, `Exploitation`, `Recon`, `Reporting`, and
    so on), as shown in the following screenshot:'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看**Recon-ng v5**中的所有模块，我们必须使用`modules search`命令查看所有可用模块的列表。所有模块将按其类别（`Discovery`、`Exploitation`、`Recon`、`Reporting`等）呈现，如下面的屏幕截图所示：
- en: '![](img/f9113e94-29fa-49f3-85eb-be244ada9d32.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f9113e94-29fa-49f3-85eb-be244ada9d32.png)'
- en: As a penetration tester, you may use the same tools for multiple organizations
    throughout your career. We can create workspaces within Recon-ng to help isolate
    our projects/data more efficiently. If you look closely at the command-line interface,
    you will see the word `default` between square brackets. This implies that we
    are currently within the default workspace of Recon-ng.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员，您可能会在整个职业生涯中为多个组织使用相同的工具。我们可以在Recon-ng中创建工作空间，以帮助更有效地隔离我们的项目/数据。如果您仔细观察命令行界面，您会看到方括号之间的单词`default`。这意味着我们当前在Recon-ng的默认工作空间中。
- en: To create a workspace, we can use the `workspaces create <worksplace-name>`
    command. We are going to create a new workspace named `pentest`. Use the `workspaces
    create pentest` command within the Recon-ng interface.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个工作空间，我们可以使用`workspaces create <worksplace-name>`命令。我们将创建一个名为`pentest`的新工作空间。在Recon-ng界面中使用`workspaces
    create pentest`命令。
- en: 'To view all existing workspaces and to verify the creation of our new workspace,
    we can use the `workspaces list` command:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看所有现有工作空间并验证我们新工作空间的创建，我们可以使用`workspaces list`命令：
- en: '![](img/07d6a248-5114-4706-b12c-e671ea3d7d3d.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/07d6a248-5114-4706-b12c-e671ea3d7d3d.png)'
- en: To use the `pentest` workspace, use the `workspaces select pentest` command.
    The workspace should change on your command-line interface.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用`pentest`工作空间，请使用`workspaces select pentest`命令。您的命令行界面上的工作空间应该会改变。
- en: 'Now that we have added a company and its domain to our database, let''s search
    for a module to perform a `whois` lookup. We can use the `modules search whois`
    command, where `whois` is the keyword or search criteria:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们已经将一个公司及其域添加到我们的数据库中，让我们搜索一个执行`whois`查找的模块。我们可以使用`modules search whois`命令，其中`whois`是关键字或搜索条件：
- en: '![](img/d9c4c77a-af5d-481c-94d6-c56fb335b714.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d9c4c77a-af5d-481c-94d6-c56fb335b714.png)'
- en: 'We are going to use the **point-of-contacts** (**POCS**) module to obtain further
    details of people related to the domain. To do this, execute the `modules load
    recon/domains-contacts/whois_pocs` command. Using the `info` command will provide
    you with a description of the module and whether additional parameters are required:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将使用**point-of-contacts** (**POCS**)模块来获取与该域相关的人员的更多详细信息。要执行此操作，请执行`modules
    load recon/domains-contacts/whois_pocs`命令。使用`info`命令将为您提供模块的描述以及是否需要额外的参数：
- en: '![](img/5cff0e6b-9c0b-4b72-a179-0d7a588a47f0.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5cff0e6b-9c0b-4b72-a179-0d7a588a47f0.png)'
- en: The `default` value is set by the developer of the module; set your own source
    for each module within Recon-ng. Additionally, you can use the `info` command
    to view details about a module. The `input` command will list the input values
    for the `SOURCE` component of a module. The `input` command is useful to verify
    what the `SOURCE` values are for a specific module.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '`default`值是由模块的开发者设置的；为Recon-ng中的每个模块设置自己的源。此外，您可以使用`info`命令查看有关模块的详细信息。`input`命令将列出模块`SOURCE`组件的输入值。`input`命令对于验证特定模块的`SOURCE`值非常有用。'
- en: 'Let''s set the `SOURCE` value to `microsoft.com`; this can be done by using
    the `options set SOURCE microsoft.com` command, as shown in the following screenshot:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们将`SOURCE`值设置为`microsoft.com`；可以通过使用`options set SOURCE microsoft.com`命令来完成，如下面的屏幕截图所示：
- en: '![](img/8584d219-19ee-4128-99fa-999f69d09cae.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8584d219-19ee-4128-99fa-999f69d09cae.png)'
- en: Once everything is set correctly, use the `run` command to execute the module
    against the domain. Once the module has completed its analysis, we can use the
    `show contacts` command to view the list of information, such as a person's first
    and last names, email addresses, region, and country.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一切设置正确后，使用`run`命令来执行该模块对该域的分析。模块完成分析后，我们可以使用`show contacts`命令来查看信息列表，如人的名字、姓氏、电子邮件地址、地区和国家。
- en: As you can see, Recon-ng is a very powerful tool and is able to handle data
    management quite well. Organizations usually create subdomains for many purposes;
    some can be used as a login portal, or simply as another directory on a website.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '正如您所看到的，Recon-ng是一个非常强大的工具，能够很好地处理数据管理。组织通常为许多目的创建子域；有些可以用作登录门户，或者只是网站上的另一个目录。 '
- en: 'To obtain a list of subdomains of a target, observe the following steps:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取目标的子域列表，请遵循以下步骤：
- en: Let's start by searching for a suitable module by using the `modules search
    site` command. Recon-ng will return some of the modules that contain `site` as
    part of their names.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们通过使用`modules search site`命令来搜索合适的模块。Recon-ng将返回一些包含`site`作为名称一部分的模块。
- en: 'We''re going to use the `google_site_web` module. Simply execute the `modules
    load recon/domains-hosts/google_site_web` command:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将使用`google_site_web`模块。只需执行`modules load recon/domains-hosts/google_site_web`命令：
- en: '![](img/0bec6f46-8f3a-42b5-8616-2680c53f9a19.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0bec6f46-8f3a-42b5-8616-2680c53f9a19.png)'
- en: 'Next, let''s change the `SOURCE` value for this module by using the `options
    set SOURCE microsoft.com` command, as shown in the following screenshot:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，让我们通过使用`options set SOURCE microsoft.com`命令来更改此模块的`SOURCE`值，如下面的屏幕截图所示：
- en: '![](img/a7f70d49-7946-4844-9303-d05ef6867558.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a7f70d49-7946-4844-9303-d05ef6867558.png)'
- en: Use the `run` command to execute this module.
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`run`命令来执行此模块。
- en: 'Once the module has finished its query, use the `show hosts` command to view
    the list of subdomains that were found for the `microsoft.com` domain:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦模块完成了查询，使用`show hosts`命令来查看为`microsoft.com`域找到的子域的列表：
- en: '![](img/8bcd2fed-abaf-4ed4-8f3c-75f6e90b3d43.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8bcd2fed-abaf-4ed4-8f3c-75f6e90b3d43.png)'
- en: 'Now, let''s make this a bit more exciting. How about obtaining the IP addresses
    for the subdomains? To do this, we are going to run the `module load recon/domains-hosts/brute_hosts`
    command and set the `SOURCE` value to `microsoft.com`:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，让我们来点更有趣的。如何获取子域的IP地址？为此，我们将运行`module load recon/domains-hosts/brute_hosts`命令，并将`SOURCE`值设置为`microsoft.com`：
- en: '![](img/9de944c7-a7a7-403a-98ac-c2b8d650faf9.png)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9de944c7-a7a7-403a-98ac-c2b8d650faf9.png)'
- en: 'Once the module is finished executing, use the `show host` command once more.
    You should see IP addresses corresponding to a subdomain:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦模块执行完成，再次使用`show host`命令。您应该看到与子域对应的IP地址：
- en: '![](img/7d4a1dc5-851c-48cf-b314-a8c09f2a8e32.png)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7d4a1dc5-851c-48cf-b314-a8c09f2a8e32.png)'
- en: 'As a penetration tester, writing reports can be very overwhelming as a report
    is a summary of the actions performed and results obtained while you were performing
    various tasks and using a number of tools. Recon-ng has a few reporting modules
    that are able to generate reports in multiple formats. The `dashboard` command
    will provide a summary of tasks performed with Recon-ng, as shown here:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员，编写报告可能会非常压倒，因为报告是对执行的操作和获得的结果的总结，而您在执行各种任务并使用多种工具时获得了这些结果。Recon-ng有一些报告模块，能够以多种格式生成报告。`dashboard`命令将提供使用Recon-ng执行的任务的摘要，如下所示：
- en: '![](img/5fc81f6a-63e3-4c34-aaf9-fe0292eb0d91.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5fc81f6a-63e3-4c34-aaf9-fe0292eb0d91.png)'
- en: 'To generate a report, you can use the `modules search report` command. This
    will let you view a list of reporting modules within the Recon-ng interface. We
    are going to create a report in HTML format. To create the report, perform the
    following steps:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 要生成报告，可以使用`modules search report`命令。这将让您在Recon-ng界面中查看报告模块的列表。我们将创建一个HTML格式的报告。要创建报告，请执行以下步骤：
- en: Execute the `modules load reporting/html` command.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`modules load reporting/html`命令。
- en: Use the `options set CREATOR` command to set the creator of the report.
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`options set CREATOR`命令来设置报告的创建者。
- en: Use the `options set CUSTOMER` command to set the customer.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`options set CUSTOMER`命令来设置客户。
- en: Use the `options set FILENAME` command to set the output location with the filename
    of the report.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`options set FILENAME`命令来设置报告的输出位置和文件名。
- en: Lastly, use the `run` command to execute the module and generate the report.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，使用`run`命令来执行该模块并生成报告。
- en: 'The following screenshot has labels that correspond to the aforementioned steps
    for generating and exporting a report file using `reporting/html module`:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 以下屏幕截图上有标签，对应于使用`reporting/html module`生成和导出报告文件的上述步骤：
- en: '![](img/06ce3de3-141e-4cc1-8e8a-454030c4573c.png)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![](img/06ce3de3-141e-4cc1-8e8a-454030c4573c.png)'
- en: 'Finally, navigate to the output location on your Kali Linux machine and open
    the HTML file. The view should be similar to the following:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，导航到Kali Linux机器上的输出位置，并打开HTML文件。视图应该类似于以下内容：
- en: '![](img/793202d5-54a0-44ca-bba5-ce1268ac5d9d.png)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![](img/793202d5-54a0-44ca-bba5-ce1268ac5d9d.png)'
- en: Now, the information is nicely categorized and summarized for viewing.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，信息已经被很好地分类和总结以供查看。
- en: In the next section, we'll take a look at using **theHarvester** to gather the
    email addresses of people associated with an organization.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将看看如何使用**theHarvester**来收集与组织相关的人员的电子邮件地址。
- en: theHarvester
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: theHarvester
- en: theHarvester is designed to gather email addresses, domains, and employee details
    for a given company. theHarvester uses multiple open sources on the internet,
    such as search engines, to piece together details in a readable format.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: theHarvester旨在收集给定公司的电子邮件地址、域和员工详细信息。theHarvester使用互联网上的多个开放源，如搜索引擎，以可读的格式拼凑详细信息。
- en: 'Further details on theHarvester can be found on its GitHub page:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 有关theHarvester的更多详细信息可以在其GitHub页面上找到：
- en: '[https://github.com/laramies/theHarvester](https://github.com/laramies/theHarvester)'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/laramies/theHarvester](https://github.com/laramies/theHarvester)'
- en: 'To get started with theHarvester, execute the following steps:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用theHarvester，执行以下步骤：
- en: 'Open a Terminal window and execute `theharvester`. The description and usage
    of the tool will be presented on the Terminal, as shown in the following screenshot:'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个终端窗口并执行`theharvester`。工具的描述和用法将显示在终端上，如下面的屏幕截图所示：
- en: '![](img/8bf9fc69-0596-4cfa-b1af-4eb1d062fc72.png)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8bf9fc69-0596-4cfa-b1af-4eb1d062fc72.png)'
- en: 'Let''s attempt to gather the email addresses of employees of a company whose
    email addresses are published publicly, such as on forums, websites, blogs, and
    social media platforms. We can use the `theharvester –d <domain> –b <data source>`
    command to do this. In our example, we''ll search for email addresses of the `checkpoint.com`
    domain while using Google as the data source:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们尝试收集公司员工的电子邮件地址，这些电子邮件地址是公开发布的，比如在论坛、网站、博客和社交媒体平台上。我们可以使用`theharvester –d
    <domain> –b <data source>`命令来做到这一点。在我们的示例中，我们将使用Google作为数据源来搜索`checkpoint.com`域的电子邮件地址：
- en: '![](img/ff1abd62-a367-4107-861d-cbe2135c19d5.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ff1abd62-a367-4107-861d-cbe2135c19d5.png)'
- en: The results have provided us with some corporate email accounts of some of the
    employees of the company and the IP addresses of some subdomains. I would recommend
    using various data sources to gather as much information as possible. One purpose
    of gathering the email addresses of a company is to perform phishing attacks.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 结果为我们提供了一些公司员工的企业电子邮件帐户和一些子域的IP地址。我建议使用各种数据源收集尽可能多的信息。收集公司的电子邮件地址的一个目的是进行钓鱼攻击。
- en: Next, we are going to use the Shodan search engine, which indexes **Internet
    of Things** (**IoT**) and other online devices to retrieve information about a
    potential target.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将使用Shodan搜索引擎，该引擎索引**物联网**（**IoT**）和其他在线设备，以检索有关潜在目标的信息。
- en: Shodan
  id: totrans-178
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Shodan
- en: Shodan ([www.shodan.io](http://www.shodan.io)) is a search engine that indexes
    various devices that are connected to the internet. What does this mean? To elaborate,
    let's take a real-life example of discovering devices of a certain vulnerability
    level. In January 2019, Hacker News ([https://thehackernews.com](https://thehackernews.com))
    published an article indicating that over 9,000 Cisco SMB RV320 and RV325 routers
    were globally affected by a new exploit. The exploits were CVE-2019-1652 and CVE-2019-1653,
    and they allow a malicious person to obtain configuration files and gain control
    of devices.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: Shodan ([www.shodan.io](http://www.shodan.io))是一个搜索引擎，它索引了连接到互联网的各种设备。这意味着什么？为了阐明这一点，让我们以发现某种漏洞级别的设备为一个现实生活的例子。2019年1月，Hacker
    News ([https://thehackernews.com](https://thehackernews.com))发布了一篇文章，指出全球有超过9,000台Cisco
    SMB RV320和RV325路由器受到了新的漏洞利用的影响。这些漏洞是CVE-2019-1652和CVE-2019-1653，它们允许恶意人士获取配置文件并控制设备。
- en: 'This article can be found at the following URL:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 本文可以在以下网址找到：
- en: '[https://thehackernews.com/2019/01/hacking-cisco-routers.html](https://thehackernews.com/2019/01/hacking-cisco-routers.html)'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://thehackernews.com/2019/01/hacking-cisco-routers.html](https://thehackernews.com/2019/01/hacking-cisco-routers.html)'
- en: 'Imagine that you''re interested in discovering all the devices of this nature
    on the internet. Using Shodan as a regular search engine, we can quickly discover
    multiple devices that fit our search criteria of `cisco rv325`, as shown in the
    following screenshot. Look closely: we can see a list of online Cisco RV325 routers,
    their IP addresses, their hostnames, and their locations:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，你有兴趣在互联网上发现所有这类设备。使用Shodan作为常规搜索引擎，我们可以快速发现多个符合我们搜索条件的`cisco rv325`设备，如下面的屏幕截图所示。仔细看：我们可以看到在线Cisco
    RV325路由器的列表，它们的IP地址、主机名和位置：
- en: '![](img/487ec9c1-65a1-47e2-86b9-8f62df3f24e4.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![](img/487ec9c1-65a1-47e2-86b9-8f62df3f24e4.png)'
- en: The results provide geolocation information for the devices and IP addresses,
    and banner information such as firmware versions. On the left, we can see a global
    map indicating the number of internet-connected devices per country and organization.
    Simply clicking on a country, an organization, or even an IP address will filter
    that information for us.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 结果提供了设备和IP地址的地理位置信息，以及固件版本等横幅信息。在左侧，我们可以看到一个全球地图，显示每个国家和组织的互联网连接设备数量。只需点击一个国家、一个组织，甚至一个IP地址，就可以为我们过滤这些信息。
- en: 'Clicking on an IP address will provide greater insight into the selected device,
    such as the hostname, open ports, running services, organization, **Internet Service
    Provider** (**ISP**) details, and the vulnerabilities the device is susceptible
    to, as shown in the following screenshot:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 点击IP地址将提供有关所选设备的更多信息，例如主机名、开放端口、运行服务、组织、**互联网服务提供商**（**ISP**）详细信息以及设备易受的漏洞，如下面的截图所示：
- en: '![](img/ec022136-d77e-4c33-949c-903eb01ce216.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ec022136-d77e-4c33-949c-903eb01ce216.png)'
- en: Information that's gathered from Shodan can help you build a better profile
    of your target organization during a penetration test as it can provide you with
    possible operating system versions and other technical details that you can use
    to successfully exploit your target. Put simply, Shodan can help you identify
    the target's technologies and control systems in their organization and IT infrastructure.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 从Shodan收集的信息可以帮助你在渗透测试期间建立目标组织的更好档案，因为它可以为你提供可能的操作系统版本和其他技术细节，这些细节可以帮助你成功地利用你的目标。简而言之，Shodan可以帮助你识别目标组织和IT基础设施中的技术和控制系统。
- en: In the next section, we'll learn about **OSRFramework**.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将学习关于**OSRFramework**。
- en: OSRFramework
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OSRFramework
- en: Another awesome OSINT tool is OSRFramework. This toolset performs lookups using
    usernames, DNS records, deep web searches, and much more.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个令人敬畏的OSINT工具是OSRFramework。这个工具集使用用户名、DNS记录、深网搜索等进行查找，还有更多功能。
- en: 'To begin, we can execute the `osrf` command on the Terminal to provide a description
    of the usage of the tool itself. Let''s imagine that we need to obtain a list
    of corporate email addresses of our target company on a social media platform.
    The following are the components of OSRFramework that we can utilize in order
    to gather information from various sources:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们可以在终端上执行`osrf`命令，以提供工具本身的用法描述。假设我们需要在社交媒体平台上获取目标公司的企业电子邮件地址列表。以下是我们可以利用OSRFramework的组件，从各种来源收集信息的组成部分：
- en: '`domainfy`: Checks whether domain names that use words and nicknames are available'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`domainfy`：检查使用单词和昵称的域名是否可用'
- en: '`entify`: Extracts entities using regular expressions from provided URIs'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`entify`：使用正则表达式从提供的URI中提取实体'
- en: '`mailfy`: Gets information about email accounts'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mailfy`：获取有关电子邮件帐户的信息'
- en: '`checkfy`: Verifies whether a given email address matches a pattern'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`checkfy`：验证给定的电子邮件地址是否与模式匹配'
- en: '`phonefy`: Looks for information linked to spam practices by a phone number'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`phonefy`：通过电话号码查找与垃圾邮件实践相关的信息'
- en: '`searchfy`: Performs queries on several platforms'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`searchfy`：在多个平台上执行查询'
- en: '`usufy`: Looks for registered accounts with given nicknames'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`usufy`：查找使用给定昵称注册的帐户'
- en: In our first example, we can attempt to obtain information about our target
    domain using the `whois` database. Using the `domainfy.py --whois –n <target>`
    syntax, the framework will begin querying `whois` and provide the results in a
    table format after a few minutes. In our example, I have used the `domainfy.py
    --whois –n checkpoint` command to specifically retrieve information for any domain
    that contains the name `checkpoint`.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的第一个例子中，我们可以尝试使用`whois`数据库获取有关目标域的信息。使用`domainfy.py --whois –n <target>`语法，框架将开始查询`whois`，并在几分钟后以表格格式提供结果。在我们的例子中，我使用了`domainfy.py
    --whois –n checkpoint`命令，专门检索包含名称`checkpoint`的任何域的信息。
- en: 'The following are the results:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是结果：
- en: '![](img/d8530353-f5e0-4651-9131-b3eb8613e254.png)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d8530353-f5e0-4651-9131-b3eb8613e254.png)'
- en: 'Next, we can attempt to obtain the email addresses of a given search string.
    In this second example, we are attempting to discover email addresses that contain
    the `checkpoint` string, which has been used on various websites on the internet.
    We can begin by using the `mailfy.py –n checkpoint` command. We will be presented
    with a table displaying the email addresses that fit our search criteria, domain,
    and platform location, as shown in the following screenshot:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们可以尝试获取给定搜索字符串的电子邮件地址。在这个第二个例子中，我们试图发现包含`checkpoint`字符串的电子邮件地址，该字符串已经在互联网上的各个网站上使用。我们可以通过使用`mailfy.py
    –n checkpoint`命令开始。我们将看到一个显示符合我们搜索条件的电子邮件地址、域和平台位置的表格，如下面的截图所示：
- en: '![](img/0f545892-c53b-4548-9225-22a423320b40.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0f545892-c53b-4548-9225-22a423320b40.png)'
- en: 'In our third example, we are going to use a string to search across all the
    services of OSRFramework. To achieve this task, use the `seachfy.py –q string`
    command on your Terminal. Once completed, the results are displayed and tell you
    about the location that was found, any aliases, and the URLs, as shown in the
    following screenshot:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的第三个例子中，我们将使用一个字符串来搜索OSRFramework的所有服务。为了完成这个任务，在你的终端上使用`seachfy.py –q string`命令。完成后，结果将显示并告诉你找到的位置、任何别名和URL，如下面的截图所示：
- en: '![](img/990baaae-5301-415e-ae26-0b5cc024de94.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![](img/990baaae-5301-415e-ae26-0b5cc024de94.png)'
- en: 'Additionally, checking for telephone number leakage is simple with OSRFramework.
    Using the **`phonefy.py –n number`** command, OSRFramework will begin its search.
    The following screenshot displays the URL location and platform for a given telephone
    number:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，使用OSRFramework检查电话号码泄漏很简单。使用**`phonefy.py –n number`**命令，OSRFramework将开始搜索。下面的截图显示了给定电话号码的URL位置和平台：
- en: '![](img/f56f96de-8dd7-4445-9320-7165be3f44db.png)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f56f96de-8dd7-4445-9320-7165be3f44db.png)'
- en: 'In our final example, we can search for usernames. Using the `usufy.py –n string`
    command will allow OSRFramework to search for various online resources. In this
    example, I have searched for `p@55w0rd1` as the username, and the following are
    the results:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的最后一个例子中，我们可以搜索用户名。使用`usufy.py –n string`命令将允许OSRFramework搜索各种在线资源。在这个例子中，我已经搜索了`p@55w0rd1`作为用户名，以下是结果：
- en: '![](img/39ff7d5a-fec3-4d8c-b22e-1438581b787c.png)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![](img/39ff7d5a-fec3-4d8c-b22e-1438581b787c.png)'
- en: As you have seen, OSRFramework is another very powerful tool within the Kali
    Linux platform. Using a tool such as this can save you a lot of time during your
    information-gathering process.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，OSRFramework是Kali Linux平台中另一个非常强大的工具。使用这样的工具可以在信息收集过程中节省大量时间。
- en: Having completed this section, you now have the skills to use multiple OSINT
    tools to gather specific and detailed information about a target organization.
    In the following section, we will discuss the topic of data leaks in cloud resources.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了这一部分后，您现在具备使用多个OSINT工具来收集有关目标组织的具体和详细信息的技能。在接下来的部分中，我们将讨论云资源中的数据泄漏问题。
- en: Identifying target technology and security controls
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 识别目标技术和安全控制
- en: As a penetration tester, it's quite important to determine the technologies
    used by a target network or organization prior to performing an external network
    penetration test. Discovering technologies used by a target usually proves to
    be very useful prior to any sort of offensive attack on the target network or
    organization. It allows us, as penetration testers, to better equip ourselves
    with the appropriate tools to get the job done efficiently and successfully. Imagine
    starting a new job as a carpenter but you arrive on your first day without any
    tools—how can you expect to be successful?
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员，确定目标网络或组织在执行外部网络渗透测试之前使用的技术是非常重要的。在对目标网络或组织进行任何攻击之前，通常发现目标使用的技术非常有用。这使我们作为渗透测试人员能够更好地装备自己，以适当的工具高效地完成工作。想象一下，作为木工开始新工作，但在第一天到达时没有任何工具，你如何能成功呢？
- en: Furthermore, knowing about the technologies and security controls used on the
    target network beforehand will allow us to better prepare ourselves by researching
    and developing exploits to take advantage of known security weaknesses on the
    target system and network. We will look at this idea in more detail in the following
    sections.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，事先了解目标网络上使用的技术和安全控制将使我们能够更好地准备自己，通过研究和开发利用已知安全漏洞来利用目标系统和网络上的弱点。我们将在接下来的部分中更详细地讨论这个想法。
- en: Discovering technologies using Shodan
  id: totrans-215
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Shodan发现技术
- en: We are first going to use Shodan to help us discover technologies running on
    the target servers. Remember that Shodan is a search engine for IoT devices that
    provides in-depth information about devices connected to the internet.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先将使用Shodan来帮助我们发现目标服务器上运行的技术。请记住，Shodan是一个物联网设备的搜索引擎，提供了有关连接到互联网的设备的深入信息。
- en: 'To get started, observe the following steps:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，请遵循以下步骤：
- en: Using your web browser, go to [https://www.shodan.io](https://www.shodan.io).
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的网络浏览器，访问[https://www.shodan.io](https://www.shodan.io).
- en: You may be required to register and create an account with Shodan to get better
    results.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可能需要注册并创建一个Shodan帐户以获得更好的结果。
- en: 'In the search bar, enter an organization to search for a device. The following
    screenshot shows the search bar on Shodan:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索栏中，输入要搜索设备的组织。以下截图显示了Shodan上的搜索栏：
- en: '![](img/cbe602e6-a81e-4d31-a7e4-5ddd906190cc.png)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cbe602e6-a81e-4d31-a7e4-5ddd906190cc.png)'
- en: Once the search is complete, click on a target from the search results to access
    the information found with Shodan.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦搜索完成，点击搜索结果中的目标，以访问Shodan找到的信息。
- en: 'On the target''s page, you''ll be presented with a list of open network ports,
    running services, and their versions, as well as any technologies being used:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目标页面上，您将看到一个打开的网络端口列表，运行的服务及其版本，以及正在使用的任何技术：
- en: '![](img/83976b7e-bcb2-4e88-9e12-fa4eeeb579fc.png)'
  id: totrans-224
  prefs: []
  type: TYPE_IMG
  zh: '![](img/83976b7e-bcb2-4e88-9e12-fa4eeeb579fc.png)'
- en: 'Scrolling down a bit, if there are any known vulnerabilities found on the target,
    Shodan will provide a list with descriptions:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动一点，如果在目标上发现了任何已知的漏洞，Shodan将提供一个带有描述的列表：
- en: '![](img/1bbad89a-274d-4bc5-960e-91180660ecfc.png)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1bbad89a-274d-4bc5-960e-91180660ecfc.png)'
- en: In the next section, we will take a look at using **Netcraft** to gather more
    detailed information about the underlying technologies of a target web server.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将介绍如何使用**Netcraft**来收集有关目标Web服务器底层技术的更详细信息。
- en: The power of Netcraft
  id: totrans-228
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Netcraft的强大
- en: Netcraft allows us to gather information about a target domain, such as network
    block information, registrar information, email contacts, the operating system
    of the hosting server, and the web platform.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: Netcraft使我们能够收集有关目标域的信息，如网络块信息、注册信息、电子邮件联系人、托管服务器的操作系统和Web平台。
- en: 'To get started, use the following instructions:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，请使用以下说明：
- en: Using your web browser, go to [https://www.netcraft.com/.](https://www.netcraft.com/)
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的网络浏览器，访问[https://www.netcraft.com/.](https://www.netcraft.com/)
- en: 'In the search bar highlighted in the following screenshot, enter a domain:'
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下面的截图中突出显示的搜索栏中，输入一个域名：
- en: '![](img/92a9735b-38c8-41b3-871c-6555b26dca6d.png)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![](img/92a9735b-38c8-41b3-871c-6555b26dca6d.png)'
- en: If a search doesn't return anything, include `www` as part of the website address.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 如果搜索没有返回任何结果，请将`www`包括在网站地址中。
- en: 'The results page will appear, providing network-related information about the
    target. Scroll down a bit until you see **Hosting History**. This section provides
    you with the hosting server''s operating system, web server platform, and service
    versions, as shown here:'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果页面将显示有关目标的与网络相关的信息。向下滚动一点，直到看到**Hosting History**。该部分提供了托管服务器的操作系统、Web服务器平台和服务版本，如下所示：
- en: '![](img/bc6f95f3-f04f-4716-89a2-0cd9debd629c.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bc6f95f3-f04f-4716-89a2-0cd9debd629c.png)'
- en: 'Scroll down a bit more until you see **Site Technology**. This section informs
    you about the technologies Netcraft was able to identify on the target web server:'
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再向下滚动一点，直到看到**Site Technology**。该部分将告诉您Netcraft能够在目标Web服务器上识别的技术：
- en: '![](img/db0880aa-bcc3-4167-8371-c28174cb59fc.png)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![](img/db0880aa-bcc3-4167-8371-c28174cb59fc.png)'
- en: As you have seen, Netcraft is able to provide us with very useful information.
    We can now take the information found and perform further research on the technologies
    to find known vulnerabilities and exploits to compromise the target.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所见，Netcraft能够为我们提供非常有用的信息。我们现在可以利用找到的信息，进一步研究技术，找到已知的漏洞和利用方式来攻击目标。
- en: Recognizing technologies with WhatWeb
  id: totrans-240
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用WhatWeb识别技术
- en: Lastly, we can take a look at using the **WhatWeb** tool in Kali Linux. WhatWeb
    is capable of recognizing the technologies used for websites, email addresses,
    web frameworks, and databases.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们可以看一下在Kali Linux中使用**WhatWeb**工具。WhatWeb能够识别网站、电子邮件地址、Web框架和数据库所使用的技术。
- en: 'To get started using WhatWeb, observe the following steps:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用WhatWeb，请遵循以下步骤：
- en: Open a new Terminal and enter the `whatsweb –h` command to get the help menu,
    displaying the syntax.
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个新的终端并输入`whatsweb –h`命令以获取帮助菜单，显示语法。
- en: 'To run WhatWeb against a target such as Metasploitable in our lab, use the
    `whatweb <target>` command as shown here:'
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在我们的实验室中对目标（如Metasploitable）运行WhatWeb，使用`whatweb <target>`命令如下所示：
- en: '![](img/0a9d354b-3cf5-48c2-9610-31a662ba6f37.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0a9d354b-3cf5-48c2-9610-31a662ba6f37.png)'
- en: WhatWeb was able to provide us with the technologies used on the web server
    platform on our Metasploitable virtual machine.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: WhatWeb能够为我们提供在我们的Metasploitable虚拟机上的Web服务器平台上使用的技术。
- en: 'Next, using the `whatweb –v <target>` command, provide a verbose output as
    shown here:'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用`whatweb –v <target>`命令，提供如下所示的详细输出：
- en: '![](img/4cbfc434-6c0c-425c-8c6e-c702f32bb5c9.png)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4cbfc434-6c0c-425c-8c6e-c702f32bb5c9.png)'
- en: In the verbose output shown here, WhatWeb provides us with much more detail
    about the descriptions of plugins used and their results.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里显示的详细输出中，WhatWeb为我们提供了关于所使用的插件描述和它们的结果的更多细节。
- en: In this section, we have completed various exercises designed to help us discover
    technologies that are being used on a target network or system. In the next section,
    we will take a deep dive into learning about cloud resources.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们已经完成了各种旨在帮助我们发现目标网络或系统上正在使用的技术的练习。在下一节中，我们将深入学习云资源。
- en: Finding data leaks in cloud resources
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发现云资源中的数据泄漏
- en: Over the past few years, cloud computing has become one of the fastest-growing
    trends in the IT industry. Cloud computing allows companies to migrate and utilize
    computing resources within a cloud provider's data center. Cloud computing providers
    have a pay-as-you-go model, which means that you only pay for the resources you
    use. Some cloud providers allow pay-per-minute schemes, while others use a pay-per-hour
    structure.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的几年里，云计算已成为IT行业增长最快的趋势之一。云计算允许公司在云提供商的数据中心迁移和利用计算资源。云计算提供商采用按使用量付费的模式，这意味着您只需为您使用的资源付费。一些云提供商允许按分钟付费，而其他人则采用按小时付费的结构。
- en: 'There are three big cloud providers:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 有三个大型云提供商：
- en: '**Amazon Web Services** (**AWS**): Amazon''s cloud service'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Amazon Web Services**（**AWS**）：亚马逊的云服务'
- en: '**Microsoft Azure**: Microsoft''s cloud service'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Microsoft Azure**：微软的云服务'
- en: '**Google Cloud Platform** (**GCP**): Google''s cloud service'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Google Cloud Platform**（**GCP**）：谷歌的云服务'
- en: A service that cloud providers usually offer to customers is a storage facility.
    The AWS storage facility is known as **Simple Storage Service** (**S3**). Whenever
    a customer enables the S3 service, a bucket is created. A bucket is a storage
    unit within the AWS platform where the customer can add or remove files. In Microsoft
    Azure, the file storage facility is known as **Azure Files**. Additionally, on
    GCP, the storage facility is known as **Google Cloud Storage**.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 云提供商通常向客户提供存储设施。AWS存储设施被称为**简单存储服务**（**S3**）。每当客户启用S3服务时，都会创建一个存储桶。存储桶是AWS平台内的存储单元，客户可以在其中添加或删除文件。在Microsoft
    Azure中，文件存储设施被称为**Azure Files**。此外，在GCP上，存储设施被称为**Google Cloud Storage**。
- en: In the field of information security, we must remember that when a company is
    using a cloud platform, the data on the cloud platform must be secured, just like
    it should be when stored on premises (that is, when stored locally). Sometimes,
    administrators forget to enable security configurations or lack knowledge regarding
    the security of a cloud solution. This could lead to, say, an attacker discovering
    a target organization's AWS S3 buckets. Let's look at a simple example of doing
    that now.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 在信息安全领域，我们必须记住，当公司使用云平台时，云平台上的数据必须像在本地存储时一样受到保护。有时，管理员忘记启用安全配置或缺乏有关云解决方案安全性的知识。这可能导致攻击者发现目标组织的AWS
    S3存储桶。让我们现在看一个简单的例子。
- en: '[http://flaws.cloud/](http://flaws.cloud/) is a website that you can use to
    learn about cloud security vulnerabilities.'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://flaws.cloud/](http://flaws.cloud/)是一个网站，你可以用它来了解云安全漏洞。'
- en: 'In our exercise, we are going to use the S3Scanner tool. Follow these steps
    to get started:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的练习中，我们将使用S3Scanner工具。按照以下步骤开始：
- en: 'This tool is not pre-installed in Kali Linux, so we will need to create a clone
    of the GitHub repository by using the following command:'
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这个工具在Kali Linux中没有预先安装，所以我们需要使用以下命令创建GitHub存储库的克隆：
- en: '[PRE2]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Next, change directories to the `S3Scanner` folder using the `cd S3Scanner`
    command.
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用`cd S3Scanner`命令切换到`S3Scanner`文件夹。
- en: Now, you'll need to install additional dependencies for this tool. Don't worry—the
    developers made this step very easy for us. To complete this step, use the `pip
    install -r requirements.txt` command.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您需要为此工具安装额外的依赖项。别担心-开发人员为我们简化了这一步。要完成此步骤，请使用`pip install -r requirements.txt`命令。
- en: Once completed, we can now use our tool on a target's domain. Using the `python
    ./s3scanner.py domain` syntax, the tool scanner will create a domain for an AWS
    S3 bucket and determine whether it's accessible.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，我们现在可以在目标域上使用我们的工具。使用`python ./s3scanner.py domain`语法，工具扫描器将为AWS S3存储桶创建一个域，并确定其是否可访问。
- en: 'The following screenshot shows the use of S3Scanner to check for any AWS S3
    buckets on the `flaws.cloud` domain:'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下截图显示了使用S3Scanner来检查`flaws.cloud`域上的任何AWS S3存储桶：
- en: '![](img/6a1c6934-6bbf-4a0a-bfdc-7824171e4f35.png)'
  id: totrans-267
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6a1c6934-6bbf-4a0a-bfdc-7824171e4f35.png)'
- en: 'One bucket has been found on the domain. Additionally, you can create a list
    of domains in a text file and query the entire file at once. The following is
    an example of querying multiple domains that are stored in the `sites.text` file:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在该域上找到了一个存储桶。此外，您可以创建一个包含多个域的文本文件，并一次查询整个文件。以下是查询存储在`sites.text`文件中的多个域的示例：
- en: '![](img/c2af70d8-b83e-4a54-bc4d-2dac187a471a.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c2af70d8-b83e-4a54-bc4d-2dac187a471a.png)'
- en: 'Furthermore, we can use the `host` command to resolve the IP address of the
    domain. Then, by using the `nslookup` utility with the `ptr` parameter, a reverse
    lookup can be performed, which will result in us getting the actual name of the
    AWS S3 bucket, as shown in the following screenshot:'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，我们可以使用`host`命令来解析域的IP地址。然后，通过使用带有`ptr`参数的`nslookup`实用程序，可以执行反向查找，这将导致我们获取AWS
    S3存储桶的实际名称，如下面的屏幕截图所示：
- en: '![](img/bce3316a-f986-4a2d-87eb-8fde6511d46d.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bce3316a-f986-4a2d-87eb-8fde6511d46d.png)'
- en: Data leaks can happen on any platform and to any organization. As an upcoming
    penetration tester and cybersecurity professional, you must have knowledge of
    how to find them before an actual hacker does and exploits them. Companies can
    store sensitive data on cloud platforms, or even leave other data completely unprotected
    on a cloud service provider network. This can lead to the successful retrieval
    of data and accounts.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 数据泄漏可能发生在任何平台和任何组织。作为一名即将成为渗透测试员和网络安全专业人员，您必须了解如何在实际黑客之前找到它们并利用它们。公司可以在云平台上存储敏感数据，甚至在云服务提供商网络上完全不受保护地留下其他数据。这可能导致成功检索数据和帐户。
- en: Understanding Google hacking and search operators
  id: totrans-273
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解谷歌黑客和搜索运算符
- en: The concept of Google hacking is not actually hacking into Google's network
    infrastructure or systems, but rather using advanced search parameters within
    the Google search engine. We can use Google to help us find vulnerable systems,
    hidden information, and resources on the internet by simply inserting special
    search operators in the Google search bar.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌黑客的概念实际上并不是黑客进入谷歌的网络基础设施或系统，而是在谷歌搜索引擎中使用高级搜索参数。我们可以使用谷歌来帮助我们找到易受攻击的系统，隐藏的信息和互联网资源，只需在谷歌搜索栏中插入特殊的搜索运算符即可。
- en: Let's imagine that you would like to use the Google search engine to look for
    various websites, but you don't want to see results that contain certain keywords
    or phrases. We can use the `<string of text here> -<keyword>` syntax to do this.
    The keyword is the phrase or text that you want to exclude.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您想使用谷歌搜索引擎查找各种网站，但不想看到包含特定关键字或短语的结果。我们可以使用`<string of text here> -<keyword>`语法来实现这一点。关键字是您想要排除的短语或文本。
- en: 'Let''s look at the following example:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看下面的例子：
- en: '![](img/1891de57-7da2-4d39-a1b3-e8c15148c225.png)'
  id: totrans-277
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1891de57-7da2-4d39-a1b3-e8c15148c225.png)'
- en: In our example, we are searching for penetration testing tools. At the same
    time, we are telling the Google search algorithm to not display any results that
    contain the word `kali`. Additionally, we can use the `<string of text here> "keyword"`
    syntax to view results that do contain the keyword.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的例子中，我们正在搜索渗透测试工具。同时，我们告诉谷歌搜索算法不显示包含单词`kali`的任何结果。此外，我们可以使用`<string of text
    here> "keyword"`语法来查看包含关键字的结果。
- en: 'The following table is a brief list of Google search operators, also known
    as **Google dorks**, that can help you find sensitive information on the internet:'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格是谷歌搜索运算符的简要列表，也称为**谷歌dorks**，可帮助您在互联网上找到敏感信息：
- en: '![](img/068c20d9-f51b-4a41-bf0c-64c363265dd1.png)'
  id: totrans-280
  prefs: []
  type: TYPE_IMG
  zh: '![](img/068c20d9-f51b-4a41-bf0c-64c363265dd1.png)'
- en: 'Furthermore, the team at Offensive Security ([www.offensive-security.com](http://www.offensive-security.com))
    maintains the Exploit Database ([www.exploit-db.com](https://www.exploit-db.com/)),
    which has a dedicated section known as the **Google Hacking Database** (**GHD**)
    ([https://www.exploit-db.com/google-hacking-database](https://www.exploit-db.com/google-hacking-database)).
    The GHD is constantly updated by community members and contains search parameters
    in many categories, as shown in the following screenshot:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，Offensive Security团队（[www.offensive-security.com](http://www.offensive-security.com)）维护着Exploit
    Database（[www.exploit-db.com](https://www.exploit-db.com/)），其中有一个专门的部分称为**Google
    Hacking Database**（**GHD**）（[https://www.exploit-db.com/google-hacking-database](https://www.exploit-db.com/google-hacking-database)）。GHD由社区成员不断更新，包含许多类别的搜索参数，如下面的屏幕截图所示：
- en: '![](img/a2e41e75-5a1e-4ce0-b05e-b18380327c1c.png)'
  id: totrans-282
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a2e41e75-5a1e-4ce0-b05e-b18380327c1c.png)'
- en: Each search parameter can be copied and pasted into Google Search, and the results
    will be displayed accordingly. Each entry within the GHD contains a brief description
    of the search operator.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 每个搜索参数都可以复制并粘贴到谷歌搜索中，结果将相应显示。GHD中的每个条目都包含对搜索运算符的简要描述。
- en: 'The following is a search parameter that''s used to discover the Cisco **Adaptive
    Security Appliance** (**ASA**), which has a publicly available login page:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个用于发现具有公开可用登录页面的Cisco **Adaptive Security Appliance** (**ASA**)的搜索参数：
- en: '![](img/28805653-0bb3-427e-8ae0-e0b63ae3ac9d.png)'
  id: totrans-285
  prefs: []
  type: TYPE_IMG
  zh: '![](img/28805653-0bb3-427e-8ae0-e0b63ae3ac9d.png)'
- en: Such sensitive information and hidden directories can be a hacker's playground;
    similarly, for a penetration tester, it's a gold mine just waiting to be exploited.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 这些敏感信息和隐藏目录可能是黑客的游乐场；同样，对于渗透测试员来说，这是一个等待被利用的金矿。
- en: We have completed our discussion of Google hacking. In the next section, we'll
    take a took at copying websites locally using Kali Linux.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经完成了对谷歌黑客的讨论。在下一节中，我们将看一下如何使用Kali Linux本地复制网站。
- en: Leveraging whois and copying websites with HTTrack
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 利用whois和使用HTTrack复制网站
- en: In this section, we are going to take a look at two particular resources. We'll
    use whois to help us gather contact information from a domain registrar for a
    target domain, and we'll use **HTTrack** to copy a website locally.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将查看两个特定资源。我们将使用whois帮助我们从目标域的域名注册商那里收集联系信息，并使用**HTTrack**在本地复制网站。
- en: Let's dive in and look at the functions of whois and how it can be beneficial
    to us.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们深入了解whois的功能以及它对我们有何益处。
- en: whois
  id: totrans-291
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: whois
- en: 'whois is a database that keeps a record of the registry information of all
    registered domains. The following is a brief list of some information types that
    are usually stored for public records:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: whois是一个保存所有注册域的注册信息记录的数据库。以下是通常存储为公共记录的一些信息类型的简要列表：
- en: Registrant contact information
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注册人联系信息
- en: Administrative contact information
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理联系信息
- en: Technical contact information
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术联系信息
- en: Nameservers
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名服务器
- en: Important dates, such as registration, update, and expiration dates
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重要日期，如注册、更新和到期日期
- en: Registry domain ID
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注册域ID
- en: Registrar information
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注册信息
- en: 'Accessing a whois database is quite simple: you can use the Google search engine
    to find various databases. Some whois websites include [www.whois.net](http://www.whois.net),
    [whois.domaintools.com](http://whois.domaintools.com/), [who.is](https://who.is/),
    and [www.whois.com](http://www.whois.com). However, Kali Linux contains a built-in
    whois tool. To perform a `whois` lookup on a domain, implement the following steps:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 访问whois数据库非常简单：您可以使用谷歌搜索引擎找到各种数据库。一些whois网站包括[www.whois.net](http://www.whois.net)，[whois.domaintools.com](http://whois.domaintools.com/)，[who.is](https://who.is/)和[www.whois.com](http://www.whois.com)。但是，Kali
    Linux包含内置的whois工具。要在域上执行`whois`查找，请执行以下步骤：
- en: 'Open the Terminal and use the `whois <domain-name>` syntax, as shown in the
    following screenshot:'
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端上使用`whois <domain-name>`语法，如下图所示：
- en: '![](img/bfec0b6d-a4a6-45b7-8cb4-7c94a4834a96.png)'
  id: totrans-302
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bfec0b6d-a4a6-45b7-8cb4-7c94a4834a96.png)'
- en: The output is presented on the Terminal for the domain. The information that's
    obtained can be leveraged by a penetration tester for various types of attacks
    on a target organization.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 域的信息将显示在终端上。获得的信息可以被渗透测试人员利用，用于对目标组织进行各种类型的攻击。
- en: In the next section, you will learn how to use HTTrack to copy a website locally.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将学习如何使用HTTrack将网站复制到本地。
- en: HTTrack
  id: totrans-305
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: HTTrack
- en: 'HTTrack ([www.httrack.com](http://www.httrack.com)) allows us to view an entire
    website offline. It does this by creating a clone copy of an online website and
    storing it locally on our computer. To use HTTrack, simply open a new Terminal
    window and perform the following steps:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: HTTrack ([www.httrack.com](http://www.httrack.com))允许我们离线查看整个网站。它通过在本地创建在线网站的克隆副本并将其存储在计算机上来实现这一点。要使用HTTrack，只需打开一个新的终端窗口并执行以下步骤：
- en: Execute the `httrack` command to invoke the interactive wizard.
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`httrack`命令以调用交互式向导。
- en: Enter a name for the project.
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为项目命名。
- en: Set the destination path to store the offline copy of the target website. Hitting
    *Enter* will use the defaults in the brackets.
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置目标网站的离线副本存储路径。按*Enter*将使用括号中的默认值。
- en: Specify the URL.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定URL。
- en: Choose an appropriate action.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择适当的操作。
- en: Confirm the details and launch HTTrack to mirror the website.
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认详细信息并启动HTTrack以镜像网站。
- en: 'The following is a screenshot indicating the steps that we have just outlined:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个屏幕截图，显示了我们刚刚概述的步骤：
- en: '![](img/e99fc8c6-fda2-45ff-880b-a20777046fd8.png)'
  id: totrans-314
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e99fc8c6-fda2-45ff-880b-a20777046fd8.png)'
- en: Cloning a website can be very useful as you'll be able to discover and access
    hidden resources and files that weren't accessible via the online version. As
    a penetration tester, you can explore each offline directory thoroughly; normally,
    webmasters tend not to always perform any cleanup of old data and files, so there'll
    be lots to explore.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 克隆网站非常有用，因为您将能够发现和访问在线版本无法访问的隐藏资源和文件。作为渗透测试人员，您可以彻底探索每个离线目录；通常，网站管理员不会总是清理旧数据和文件，因此有很多可以探索的内容。
- en: Having completed this section, you have the knowledge required to copy a target
    website onto your Kali Linux machine. In the next section, we will attempt to
    retrieve subdomains for a target domain.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了本节，您已经掌握了将目标网站复制到Kali Linux机器上所需的知识。在下一节中，我们将尝试检索目标域的子域。
- en: Finding subdomains using Sublist3r
  id: totrans-317
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Sublist3r查找子域
- en: As a user of the internet, you will have realized that multiple search engines
    such as MSN, Google, Yahoo, and Bing frequently learn and index new and existing
    websites to improve their search results. If you search for a company's website,
    you are most likely to discover the main domain name, such as `company.com`. A
    lot of organizations create subdomains for various reasons, however. As penetration
    testers, we would like to discover all the possible subdomains of a target organization
    as they can lead to login portals and sensitive corporate directories, which may
    contain confidential files and resources.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 作为互联网用户，您会意识到多个搜索引擎（如MSN、谷歌、雅虎和必应）经常学习和索引新的和现有的网站，以改善它们的搜索结果。如果您搜索公司的网站，您很可能会发现主域名，如`company.com`。然而，许多组织出于各种原因创建子域。作为渗透测试人员，我们希望发现目标组织的所有可能子域，因为它们可能导致登录门户和敏感的企业目录，其中可能包含机密文件和资源。
- en: We can leverage the power of search engines for this task using the **Sublist3r**
    tool. Sublist3r is a Python-based tool that is used to enumerate (extract/obtain)
    the subdomains of a given website using OSINT, such as search engines and other
    internet indexing platforms.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以利用搜索引擎的强大功能来使用**Sublist3r**工具。Sublist3r是一个基于Python的工具，用于使用OSINT（如搜索引擎和其他互联网索引平台）枚举（提取/获取）给定网站的子域。
- en: The Sublist3r tool is not natively installed on Kali Linux, and so we will need
    to download it from its GitHub repository.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: Sublist3r工具未在Kali Linux上原生安装，因此我们需要从其GitHub存储库下载它。
- en: 'To get started, execute the following steps:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，请执行以下步骤：
- en: 'Open the Terminal on your Kali Linux machine and execute the following command:'
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Kali Linux机器上打开终端并执行以下命令：
- en: '[PRE3]'
  id: totrans-323
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Once the cloning process has been completed, change directory to the `Sublist3r`
    folder using the `cd Sublist3r` command.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 克隆过程完成后，使用`cd Sublist3r`命令切换到`Sublist3r`文件夹。
- en: 'At this point, we can use the Sublist3r tool to search for the subdomains of
    a target domain (company) using the `python sublist3r.py –d domain-name` command.
    The screenshot to the left shows the successful invocation of the tool, while
    the right-hand screenshot shows the results being populated on the Terminal:'
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这一点上，我们可以使用Sublist3r工具来搜索目标域（公司）的子域，使用`python sublist3r.py –d domain-name`命令。左侧的屏幕截图显示了工具的成功调用，而右侧的屏幕截图显示了结果在终端上的显示：
- en: '![](img/c2509826-50f2-492f-baf0-76dd1fc65de3.png)'
  id: totrans-326
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c2509826-50f2-492f-baf0-76dd1fc65de3.png)'
- en: Using this tool can save us a lot of time that would otherwise have been spent
    manually searching the internet.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个工具可以节省我们本来要花在手动搜索互联网上的大量时间。
- en: You have now learned how to efficiently discover subdomains for a target website
    using the Sublist3r tool on Kali Linux.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已经学会了如何在Kali Linux上使用Sublist3r工具高效地发现目标网站的子域。
- en: Summary
  id: totrans-329
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we have discussed the importance of conducting reconnaissance
    prior to attacking a target. The information gathered during this phase is vital
    to the later phases of penetration testing. Information gathering helps create
    the foundation for the penetration tester's research of a target's security vulnerabilities,
    which is required for system and network exploitation.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了在攻击目标之前进行侦察的重要性。在这个阶段收集的信息对渗透测试的后续阶段至关重要。信息收集有助于为渗透测试人员研究目标安全漏洞奠定基础，这对系统和网络利用是必需的。
- en: We outlined the differences between reconnaissance and footprinting, and we
    also took a look at how to use various OSINT tools to obtain information about
    various targets.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 我们概述了侦察和足迹之间的区别，并且我们还看了如何使用各种OSINT工具来获取有关各种目标的信息。
- en: In the next chapter, *Active Information Gathering*, we will be covering further
    topics on information gathering.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章《主动信息收集》中，我们将进一步涵盖信息收集的主题。
- en: Questions
  id: totrans-333
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What is the purpose of footprinting?
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 足迹的目的是什么？
- en: What OSINT tools can be used to gather information?
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以使用哪些OSINT工具来收集信息？
- en: Using Google Search, how can you view results for a particular domain?
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用Google搜索，您如何查看特定域的结果？
- en: Name a reputable online source for researching exploits.
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给出一个值得信赖的在线资源，用于研究漏洞利用。
- en: You are interested in gathering the domain registry information of a target
    company. What resources would you use?
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您有兴趣收集目标公司的域注册信息。您会使用哪些资源？
- en: How can you discover the subdomains of a company's website?
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您如何发现公司网站的子域？
- en: Further reading
  id: totrans-340
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: '**Web Application Information Gathering**: [https://hub.packtpub.com/web-application-information-gathering/](https://hub.packtpub.com/web-application-information-gathering/)'
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web应用信息收集**：[https://hub.packtpub.com/web-application-information-gathering/](https://hub.packtpub.com/web-application-information-gathering/)'
- en: '**Open Source Intelligence**: [https://hub.packtpub.com/open-source-intelligence/](https://hub.packtpub.com/open-source-intelligence/)'
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开源情报**：[https://hub.packtpub.com/open-source-intelligence/](https://hub.packtpub.com/open-source-intelligence/)'
