- en: Chapter 4. Evidence Acquisition and Analysis from iTunes Backup
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第4章：来自iTunes备份的证据获取与分析
- en: The goal of this chapter is to introduce you to the different types of local
    backups (encrypted or unencrypted), the structure of a backup, the techniques
    and software available to extract meaningful data from it, and to show you how
    to crack an encrypted backup while extracting the password saved in it. These
    concepts are really useful because sometimes the analyst may not have the iOS
    device or cannot access it, but may have access to a computer containing an iTunes
    backup.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的目标是向您介绍不同类型的本地备份（加密或未加密）、备份的结构、从中提取有意义数据的技术和软件，并展示如何在提取备份中的密码时破解加密备份。这些概念非常有用，因为有时分析人员可能没有iOS设备或无法访问它，但可能可以访问包含iTunes备份的计算机。
- en: iTunes backup
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: iTunes备份
- en: The Apple iTunes software allows users to create two different types of local
    (meaning stored on a local computer) backup of their iOS devices-encrypted and
    unencrypted. An unencrypted backup is completely accessible, while an encrypted
    one is protected with a password chosen by the owner of the device. The first
    time that the user sets a password for the backup, it is saved inside the iDevice,
    and every subsequent backup is encrypted with the same password (until the user
    decides to change or remove it). For this reason, if a password has already been
    set when performing a forensic acquisition, we would get an encrypted backup (refer
    to [Chapter 3](ch03.html "Chapter 3. Evidence Acquisition from iDevices"), *Evidence
    Acquisition from iDevices*, for the different techniques used to acquire a device
    with a backup password set).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果的iTunes软件允许用户创建两种不同类型的本地备份（即存储在本地计算机上）——加密和未加密。未加密的备份完全可以访问，而加密的备份则通过设备所有者选择的密码保护。用户第一次设置备份密码时，它会被保存在iDevice内，随后的每次备份都会使用相同的密码进行加密（直到用户决定更改或移除密码）。因此，如果在进行取证采集时密码已设置，我们将得到一个加密的备份（参见[第3章](ch03.html
    "第3章：来自iDevices的证据获取")，*来自iDevices的证据获取*，了解用于获取设置了备份密码的设备的不同技术）。
- en: iTunes backup folders
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: iTunes备份文件夹
- en: 'The folder where the backup data is stored depends on your computer''s operating
    system. iTunes saves the backup files in these folders:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 备份数据存储的文件夹取决于计算机的操作系统。iTunes会将备份文件保存在以下文件夹中：
- en: '**Mac**: `~/Library/Application Support/MobileSync/Backup/`'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Mac**: `~/Library/Application Support/MobileSync/Backup/`'
- en: '**Windows XP**: `\Documents and Settings\(username)\Application Data\Apple
    Computer\MobileSync\Backup\`'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows XP**: `\Documents and Settings\(用户名)\Application Data\Apple Computer\MobileSync\Backup\`'
- en: '**Windows Vista, Windows 7, Windows 8, and Windows 10**: `\Users\(username)\AppData\Roaming\Apple
    Computer\MobileSync\Backup\`'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows Vista, Windows 7, Windows 8, 和 Windows 10**: `\Users\(用户名)\AppData\Roaming\Apple
    Computer\MobileSync\Backup\`'
- en: Inside these folders, there is a subfolder for each iDevice that has been backed
    up with the same computer. The name of the subfolder is equivalent to the UDID
    of the device, which is a 40-character-long hexadecimal string. This means that
    iTunes holds only one backup for each device and copies only the files that have
    been modified since the last backup. When a device is updated to a new OS version
    and then restored, the last backup created before the update is not overwritten
    the first time you create a new backup. In particular, the old backup folder is
    renamed by appending the timestamp of the backup at the end of the folder name.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些文件夹内，每个已备份的iDevice都会有一个子文件夹。子文件夹的名称相当于设备的UDID，它是一个40个字符长的十六进制字符串。这意味着iTunes为每个设备仅保留一个备份，并且仅复制自上次备份以来被修改过的文件。当设备更新到新的操作系统版本并恢复时，更新之前创建的最后一个备份不会在第一次创建新备份时被覆盖。特别地，旧备份文件夹会被重命名，在文件夹名的末尾附加备份的时间戳。
- en: iTunes backup content
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: iTunes备份内容
- en: 'According to Apple specifications (refer to the article available at [http://support.apple.com/kb/ht4946](http://support.apple.com/kb/ht4946),
    as mentioned in [Appendix A](apa.html "Appendix A. References"), *References*),
    an iTunes backup includes nearly all of your device''s data and settings, but doesn''t
    contain the following:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 根据苹果的规格说明（参见[http://support.apple.com/kb/ht4946](http://support.apple.com/kb/ht4946)，如[附录A](apa.html
    "附录A：参考文献")，*参考文献*所述），iTunes备份包括设备几乎所有的数据和设置，但不包含以下内容：
- en: Content from the iTunes and App Stores, or PDFs downloaded directly to iBooks
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自iTunes和App Store的内容，或直接下载到iBooks的PDF文件
- en: Content synced from iTunes, such as imported MP3s, videos, books, and photos
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从iTunes同步的内容，如导入的MP3文件、视频、书籍和照片
- en: Photos already stored in the cloud, such as My Photo Stream, and iCloud Photo
    Library
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已经存储在云端的照片，例如我的照片流和iCloud照片库
- en: Touch ID settings
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Touch ID设置
- en: Apple Pay information and settings
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Apple Pay信息和设置
- en: Activity, Health, Website, and Keychain data (although these elements are available
    in an encrypted backup)
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 活动、健康、网站和钥匙串数据（尽管这些元素在加密备份中也可用）
- en: 'One of the main differences between an unencrypted backup and an encrypted
    one are related to the `Keychain` file. Inside an unencrypted backup, this file
    is saved encrypted with a key that depends on the device''s UID, and therefore
    cannot be cracked offline or reactivated on a different device from the one used
    to generate the backup. Instead, in an encrypted backup, the `Keychain` file is
    encrypted with the backup password. This can be technically explained as follows:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 未加密备份和加密备份之间的主要区别之一与`钥匙串`文件有关。在未加密备份中，该文件被使用设备的UID生成的密钥加密，因此无法离线破解或在不同于生成备份的设备上重新激活。而在加密备份中，`钥匙串`文件是用备份密码加密的。技术上可以这样解释：
- en: If the device does not have a backup password set by the user, when performing
    the acquisition, it is possible to create an encrypted backup choosing a known
    password, and later be able to access the passwords saved in the Keychain without
    the need to crack anything
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果设备没有由用户设置备份密码，在执行获取操作时，可以选择一个已知密码创建加密备份，之后可以访问存储在钥匙串中的密码，无需破解任何内容
- en: If the device has a backup password set by the user, when performing the acquisition,
    it is possible to create an encrypted backup, and then trying to crack the password
    in order to extract those saved in the keychain
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果设备由用户设置了备份密码，在执行获取操作时，可以创建加密备份，然后尝试破解密码以提取存储在钥匙串中的数据
- en: 'In particular, the `Keychain` file contains the following types of passwords:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 特别地，`钥匙串`文件包含以下类型的密码：
- en: Passwords and settings of the Wi-Fi networks the device has been connected to
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设备已连接的Wi-Fi网络的密码和设置
- en: Passwords of the e-mail accounts configured in Apple Mail
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Apple Mail中配置的电子邮件账户的密码
- en: VPN credentials
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VPN凭证
- en: Credentials (passwords or tokens) of all third-party apps that use keychain
    as the password container
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有使用钥匙串作为密码容器的第三方应用程序的凭证（密码或令牌）
- en: iTunes backup structure
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: iTunes备份结构
- en: 'In a backup folder, there are some standard files with fixed names and contents
    and hundreds of files with long hashed filenames consisting of 40 hexadecimal
    characters. The file name acts like a unique identifier for every file copied
    from the iDevice. In fact, each file is named as the result of an SHA-1 hash calculated
    on the original full name of the file in the following form:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在备份文件夹中，有一些标准文件，它们的名称和内容是固定的，并且有数百个文件，文件名由40个十六进制字符组成的长哈希值。文件名像一个唯一标识符，标识每个从iDevice复制的文件。事实上，每个文件的命名是对原始完整文件名计算SHA-1哈希后的结果，格式如下：
- en: '`Domain-[subdomain-]fullpath/filename.ext`'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '`域-[子域-]完整路径/文件名.ext`'
- en: 'Consider the following example:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下示例：
- en: '`AppDomain-com.skype.skype-Library/Preferences/com.skype.skype.plist`'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '`AppDomain-com.skype.skype-Library/Preferences/com.skype.skype.plist`'
- en: Here, `AppDomain` is the name of domain, `Com.skype.skype` is the subdomain,
    and `Library/Preferences/com.skype.skype.plist` is the path and the name of file.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`AppDomain`是域名，`Com.skype.skype`是子域名，`Library/Preferences/com.skype.skype.plist`是路径和文件名。
- en: Calculating the SHA-1 hash for `AppDomain-com.skype.skype-Library/Preferences/com.skype.skype.plist`
    gives us `bc0e135b1c68521fa4710e3edadd6e74364fc50a`.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 对`AppDomain-com.skype.skype-Library/Preferences/com.skype.skype.plist`计算SHA-1哈希得到`bc0e135b1c68521fa4710e3edadd6e74364fc50a`。
- en: This is actually the 40-character-long string we're talking about in this context.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，这就是我们在此上下文中提到的40个字符长的字符串。
- en: The meaning of the elements named in the domain and subdomain is explained later
    in this chapter.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 域和子域中命名的元素的含义将在本章后面解释。
- en: Standard backup files
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 标准备份文件
- en: 'These files are created by the backup service and store information about the
    backup itself. The most useful files are as follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 这些文件由备份服务创建，并存储有关备份本身的信息。最有用的文件如下：
- en: '`Info.plist`: This is a `plist` file in plain text and stores data about the
    backed up device (such as date of backup creation, phone number, device name,
    GUID, ICCID, IMEI, product type, iOS version, serial numbers, sync settings, UDID,
    and so on) and the iTunes software used to create the backup (iTunes version number
    and iTunes settings):![Standard backup files](img/B05100_04_01.jpg)'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Info.plist`: 这是一个纯文本格式的`plist`文件，存储有关备份设备的数据（如备份创建日期、电话号码、设备名称、GUID、ICCID、IMEI、产品类型、iOS版本、序列号、同步设置、UDID等）以及用于创建备份的iTunes软件（iTunes版本号和iTunes设置）：![标准备份文件](img/B05100_04_01.jpg)'
- en: '`Manifest.plist`: This is a `plist` file and it describes the content of the
    backup. Inside this file, we can find the list of applications installed on the
    backed up device. For every application, there is the name and the particular
    version. Inside the file, there is also the date the backup was made, the backup
    type (encrypted versus unencrypted), and some information about the iDevice (for
    example, if the passcode was set on the device at the time of backup) and the
    iTunes software used:![Standard backup files](img/B05100_04_02.jpg)'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Manifest.plist`: 这是一个`plist`文件，它描述了备份的内容。该文件中列出了备份设备上安装的所有应用程序。每个应用程序都有其名称和特定版本。文件中还包括备份创建日期、备份类型（加密与否）以及有关iDevice的一些信息（例如，在备份时设备是否设置了密码）和所用的iTunes软件：![标准备份文件](img/B05100_04_02.jpg)'
- en: '`Status.plist`: This is a `plist` file in the binary format, and it stores
    information about the status of completion of the backup, whether the backup was
    made successfully or not:![Standard backup files](img/B05100_04_03.jpg)'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Status.plist`: 这是一个二进制格式的`plist`文件，它存储了备份完成状态的信息，指示备份是否成功：![标准备份文件](img/B05100_04_03.jpg)'
- en: '`Manifest.mbdb`: This is a binary file that stores the descriptions of all
    the other files in the backup folder. It contains a record for each element in
    the backup (including symbolic link and folders, which of course don''t have a
    corresponding element among the backup files). Each record contains the following
    parameters:'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Manifest.mbdb`: 这是一个二进制文件，存储备份文件夹中所有其他文件的描述。它为备份中的每个元素（包括符号链接和文件夹，虽然文件夹在备份文件中没有相应的元素）存储一个记录。每个记录包含以下参数：'
- en: '**Domain**: This shows the domain the element belongs to. Domains are a way
    to functionally categorize elements in the device backup.'
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**域**: 这显示了元素所属的域。域是设备备份中用来功能性分类元素的一种方式。'
- en: '**Path**: This shows the full path of the element.'
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**路径**: 这显示了元素的完整路径。'
- en: '**Link Target**: This shows the target of the element if the element itself
    is a symbolic link.'
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**链接目标**: 这显示了元素的目标，如果该元素本身是符号链接。'
- en: '**DataHash**: This contains the SHA-1 hash of file content.'
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据哈希**: 这包含了文件内容的SHA-1哈希值。'
- en: '**User ID and Group ID**: These contain the owner and the group IDs.'
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户ID和组ID**: 这些包含了所有者和组的ID。'
- en: '**m. time**: This shows the time (in the Unix time format) when the actual
    content of the file was last modified.'
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**m. 时间**: 这显示了文件实际内容最后修改的时间（Unix时间格式）。'
- en: '**a. time**: This shows the time when the file was last accessed.'
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**a. 时间**: 这显示文件最后访问的时间。'
- en: '**c. time**: This shows the time when changes were last made to the file or
    to the folder''s node.'
  id: totrans-48
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**c. 时间**: 这显示的是文件或文件夹节点最后修改的时间。'
- en: '**Length**: This shows the size of the file in bytes (size is 0 for link or
    folder).'
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**大小**: 这显示文件的大小，以字节为单位（对于链接或文件夹，大小为0）。'
- en: '**Mode and inode**: These contain the Unix file permissions and the inode number.
    A really interesting thing to note from a forensics point of view is that these
    four files are stored unencrypted , even if the backup is encrypted with password.
    It means that the information contained there is accessible without cracking the
    password.'
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模式和inode**: 这些包含了Unix文件权限和inode号。从取证角度看，一个非常有趣的点是，即使备份是使用密码加密的，这四个文件也以未加密的形式存储。这意味着其中包含的信息在不破解密码的情况下也能访问。'
- en: 'For a detailed explanation of the analysis of an encrypted backup, we suggest
    you read the research performed by Hal Pomeranz (refer to [Appendix A](apa.html
    "Appendix A. References"), *References*). The preceding parameters are explained
    in the following diagram:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 关于加密备份分析的详细解释，我们建议您阅读Hal Pomeranz的研究（参见[附录A](apa.html "附录A. 参考文献"), *参考文献*）。前面的参数在下图中有详细说明：
- en: '![Standard backup files](img/B05100_04_04.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![标准备份文件](img/B05100_04_04.jpg)'
- en: 'The first level of the hierarchy of the backup files is their domain. The domain
    for each file is written in its corresponding record in the `Manifest.mbdb` file.
    Each file has a domain name chosen from the following list:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 备份文件的层级结构的第一层是它们的域。每个文件的域名记录在其对应的`Manifest.mbdb`文件中的记录中。每个文件都有一个域名，从以下列表中选择：
- en: '**App domain**: This contains data related to the installed apps.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应用域**：此域包含与已安装应用相关的数据。'
- en: '**App Group domain**: This is found starting from iOS 9 and contains specific
    data for third-party apps.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应用组域**：此域从iOS 9开始出现，包含第三方应用的特定数据。'
- en: '**App Plugin domain**: This is found starting from iOS 9 and contains plugins
    of third-party apps.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应用插件域**：此域从iOS 9开始出现，包含第三方应用的插件。'
- en: '**Camera Roll domain**: This contains multimedia elements related to the Camera
    application, such as images, videos, video previews, and image thumbnails.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**相机胶卷域**：此域包含与相机应用相关的多媒体元素，如图片、视频、视频预览和图片缩略图。'
- en: '**Health domain**: This is found starting from iOS 9 and contains personal
    health data. This domain is available only in encrypted backup.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**健康域**：此域从iOS 9开始出现，包含个人健康数据。此域仅在加密备份中可用。'
- en: '**Home domain**: This contains data related to the standard application that
    comes preinstalled with iOS.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主屏域**：此域包含与iOS预装的标准应用相关的数据。'
- en: '**Keychain domain**: This contains encrypted data related to the keychain.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**钥匙串域**：此域包含与钥匙串相关的加密数据。'
- en: '**Managed Preferences domain**: This does not typically contain data.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管理偏好设置域**：此域通常不包含数据。'
- en: '**Media domain**: This contains multimedia elements not related to the Camera
    application, such as multimedia elements from MMSes and audio recordings.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**媒体域**：此域包含与相机应用无关的多媒体元素，如多媒体信息和音频录音。'
- en: '**Mobile Device domain**: This contains the provisioning profiles.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**移动设备域**：此域包含配置文件。'
- en: '**Root domain**: This contains cache data related to the geolocation capabilities
    of the device.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**根域**：此域包含与设备的地理位置功能相关的缓存数据。'
- en: '**System Preferences domain**: This contains configuration files for core components
    of iOS.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统偏好设置域**：此域包含iOS核心组件的配置文件。'
- en: '**Wireless domain**: This contains data about the mobile phone component of
    the device.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无线域**：此域包含设备的移动电话组件数据。'
- en: Elements in the App domain are further divided into subdomains related to the
    applications they belong to, while elements in the other domains don't use this
    feature. When the subdomain is used, the domain string is written as `<domain>-<subdomain>`.
    Details about the backup structure are available at [https://theiphonewiki.com/wiki/ITunes_Backup](https://theiphonewiki.com/wiki/ITunes_Backup).
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 应用域中的元素进一步按它们所属的应用划分为子域，而其他域中的元素则不使用此功能。当使用子域时，域字符串写作`<domain>-<subdomain>`。关于备份结构的详细信息可以参考[https://theiphonewiki.com/wiki/ITunes_Backup](https://theiphonewiki.com/wiki/ITunes_Backup)。
- en: Case study - parsing Manifest.mbdb with Mbdbls Python script
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究 - 使用Mbdbls Python脚本解析Manifest.mbdb
- en: 'Mbdbls is an open source Python script written by Hal Pomeranz and available
    on his GitHub account (refer to [Appendix B](apb.html "Appendix B. Tools for iOS
    Forensics"), *Tools For iOS Forensics*). It parses a `Maninfest.mbdb` file and
    for each file, it extracts domain, path and filename, creation date, last accessed
    date, last modified date, and size. The following screenshot shows the execution
    of Mbdbls on a SANS SIFT workstation VM against a `Manifest.mbdb`:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Mbdbls是由Hal Pomeranz编写的开源Python脚本，可以在他的GitHub账户上找到（参考[附录B](apb.html "附录B. iOS取证工具")，*iOS取证工具*）。它解析`Manifest.mbdb`文件，对于每个文件，它提取域、路径和文件名、创建日期、最后访问日期、最后修改日期和大小。以下截图显示了在SANS
    SIFT工作站虚拟机上执行Mbdbls解析`Manifest.mbdb`文件：
- en: '![Case study - parsing Manifest.mbdb with Mbdbls Python script](img/B05100_04_05.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用Mbdbls Python脚本解析Manifest.mbdb](img/B05100_04_05.jpg)'
- en: 'The tool provides various options for the output: for example, it can order
    by creation, last modified or last accessed dates or by file size. Be careful
    to take into consideration the appropriate time zone setting.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 该工具提供多种输出选项：例如，它可以按创建日期、最后修改日期或最后访问日期，或按文件大小排序。请注意考虑适当的时区设置。
- en: iTunes backup relevant files
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: iTunes备份相关文件
- en: This section provides a complete overview of the most relevant files and folders
    available in a backup. For every file or folder, the full path (`domain-subdomain`)
    and a description are provided. Only the system and pre-installed apps are listed.
    A more detailed analysis of these files is provided in [Chapter 6](ch06.html "Chapter 6. Analyzing
    iOS Devices"), *Analyzing iOS Devices:*
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 本节提供了备份中最相关的文件和文件夹的完整概述。对于每个文件或文件夹，提供了完整路径（`domain-subdomain`）和描述。仅列出了系统和预装的应用程序。这些文件的更详细分析请参见[第6章](ch06.html
    "第6章 分析iOS设备")，*分析iOS设备*：
- en: 'Domain: `SystemPreferencesDomain/SystemConfiguration/`'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `SystemPreferencesDomain/SystemConfiguration/`'
- en: 'Filename: `com.apple.accounts.exists.plist`'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.accounts.exists.plist`'
- en: 'Description: Information about accounts configured in the device and grouped
    by type (for example, Apple, Google, Facebook, E-mail, and so on).'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 设备中配置的帐户信息，并按类型进行分组（例如，Apple、Google、Facebook、电子邮件等）。'
- en: '![iTunes backup relevant files](img/B05100_04_06.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_06.jpg)'
- en: 'Domain: `HomeDomain/Library/Accounts/`'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `HomeDomain/Library/Accounts/`'
- en: 'Filename: `Account3.sqlite`'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `Account3.sqlite`'
- en: 'Description: Details of the accounts configured in the device (for example,
    username and type of stored credentials such as password, OAuth, and so on).'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 设备中配置的帐户详细信息（例如，用户名和存储凭据类型，如密码、OAuth等）。'
- en: '![iTunes backup relevant files](img/B05100_04_07.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_07.jpg)'
- en: 'Domain: `DatabaseDomain/lsd/`'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `DatabaseDomain/lsd/`'
- en: 'Filename: `com.apple.lsdidentifiers.plist`'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.lsdidentifiers.plist`'
- en: 'Description: Launch Services Daemon Identifiers information and correlation
    between the application name and GUID.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 启动服务守护进程标识符信息，以及应用程序名称与GUID之间的关联。'
- en: '![iTunes backup relevant files](img/B05100_04_08.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_08.jpg)'
- en: 'Domain: `HealthDomain/Health`'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `HealthDomain/Health`'
- en: 'Filename: `healthdb.sqlite`'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `healthdb.sqlite`'
- en: 'Description: List of devices and applications that accessed/updates user''s
    health information from `healthdb_secure.sqlite`, and related timestamp of the
    event.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 从`healthdb_secure.sqlite`访问/更新用户健康信息的设备和应用程序的列表，以及事件的相关时间戳。'
- en: 'Domain: `RootDomain/Library/Preferences`'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `RootDomain/Library/Preferences`'
- en: 'Filename: `com.apple.preferences.network.plist`'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.preferences.network.plist`'
- en: 'Description: Airplane mode enabled or disabled at the time of backup.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 备份时飞行模式的启用或禁用状态。'
- en: '![iTunes backup relevant files](img/B05100_04_09.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_09.jpg)'
- en: 'Domain: `RootDomain/Library/Preferences`'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `RootDomain/Library/Preferences`'
- en: 'Filename: `com.apple.MobileBackup.plist`'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.MobileBackup.plist`'
- en: 'Description: Information about the last device reset. In particular, it contains
    the backup version of iOS, the iOS version installed on the device at the time
    of recovery, the recovery date, and whether the backup was restored from iCloud.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 关于最后一次设备重置的信息。特别地，它包含了恢复时设备上安装的iOS版本、备份版本、恢复日期，以及备份是否来自iCloud。'
- en: '![iTunes backup relevant files](img/B05100_04_10.jpg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_10.jpg)'
- en: 'Domain: `RootDomain/Library/Preferences`'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `RootDomain/Library/Preferences`'
- en: 'Filename: `GlobalPreferences`'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `GlobalPreferences`'
- en: 'Description: Language set.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 语言设置。'
- en: '![iTunes backup relevant files](img/B05100_04_11.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_11.jpg)'
- en: 'Domain: `SystemPreferencesDomain/SystemConfiguration/`'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `SystemPreferencesDomain/SystemConfiguration/`'
- en: 'Filename: `com.apple.wifi.plist - preferences.plist`'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.wifi.plist - preferences.plist`'
- en: 'Description: Information about the Wi-Fi networks configured in the device.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 设备中配置的Wi-Fi网络信息。'
- en: '![iTunes backup relevant files](img/B05100_04_12.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_12.jpg)'
- en: 'Domain: `SystemPreferencesDomain/SystemConfiguration/`'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `SystemPreferencesDomain/SystemConfiguration/`'
- en: 'Filename: `com.apple.network.identification.plist`'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.network.identification.plist`'
- en: 'Description: TCP/IP settings for latest connections (both Wi-Fi and cellular
    networks).'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 最新连接的TCP/IP设置（包括Wi-Fi和蜂窝网络）。'
- en: '![iTunes backup relevant files](img/B05100_04_13.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_13.jpg)'
- en: 'Domain: `SystemPreferencesDomain/SystemConfiguration/`'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `SystemPreferencesDomain/SystemConfiguration/`'
- en: 'Filename: `com.apple.radios.plist`'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.radios.plist`'
- en: 'Description: Airplane mode enabled or disabled at the time of backup.'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 备份时飞行模式的启用或禁用状态。'
- en: '![iTunes backup relevant files](img/B05100_04_14.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_14.jpg)'
- en: 'Domain: `SystemPreferencesDomain/SystemConfiguration/`'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域: `SystemPreferencesDomain/SystemConfiguration/`'
- en: 'Filename: `com.apple.mobilegestalt.plist`'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.mobilegestalt.plist`'
- en: 'Description: Device name.'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 设备名称。'
- en: '![iTunes backup relevant files](img/B05100_04_15.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_15.jpg)'
- en: 'Domain: `WirelessDomain/Library/Preferences/`'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`WirelessDomain/Library/Preferences/`
- en: 'Filename: `com.apple.commcenter.plist`'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`com.apple.commcenter.plist`
- en: 'Description: Telco provider in use and information about the SIM card.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：正在使用的电信提供商及SIM卡信息。
- en: '![iTunes backup relevant files](img/B05100_04_16.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_16.jpg)'
- en: 'Domain: `WirelessDomain/Library/Preferences/`'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`WirelessDomain/Library/Preferences/`
- en: 'Filename: `com.apple.commcenter.counts.plist`'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`com.apple.commcenter.counts.plist`
- en: 'Description: Statistics on the use of data and cellular network (for example,
    bytes received/sent, SMS received/sent, and so on).'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：关于数据和蜂窝网络使用情况的统计信息（例如，接收/发送的字节数，接收/发送的短信数等）。
- en: '![iTunes backup relevant files](img/B05100_04_17.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_17.jpg)'
- en: 'Domain: `WirelessDomain/Library/Preferences/`'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`WirelessDomain/Library/Preferences/`
- en: 'Filename: `com.apple.commcenter.callservices.plist`'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`com.apple.commcenter.callservices.plist`
- en: 'Description: iCloud account e-mail address.'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：iCloud账户的电子邮件地址。
- en: '![iTunes backup relevant files](img/B05100_04_18.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes备份相关文件](img/B05100_04_18.jpg)'
- en: 'Domain: `WirelessDomain/Library/Preferences/`'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`WirelessDomain/Library/Preferences/`
- en: 'Filename: `csidata`'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`csidata`
- en: 'Description: Device settings for cellular network (for example, cellular data
    enabled/disabled).'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：设备的蜂窝网络设置（例如，启用/禁用蜂窝数据）。
- en: 'Domain: `HomeDomain/Library/MobileBluetooth/`'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/MobileBluetooth/`
- en: 'Filename: `com.apple.MobileBluetooth.ledevices.plist`'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`com.apple.MobileBluetooth.ledevices.plist`
- en: 'Description: Information about the Bluetooth devices seen by the iOS device.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：关于iOS设备所看到的蓝牙设备的信息。
- en: 'Domain: `HomeDomain/Library/TCC`'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/TCC`
- en: 'Filename: `TCC.db`'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`TCC.db`
- en: 'Description: Access privileges assigned to the applications (for example, Address
    Book, Photos, Facebook, Microphone, Camera, and so on).'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：分配给应用程序的访问权限（例如，地址簿、照片、Facebook、麦克风、相机等）。
- en: 'Domain: `HomeDomain/Library/SpringBoard`'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/SpringBoard`
- en: 'Filename: `IconState.plist`'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`IconState.plist`
- en: 'Description: Arrangement of the icons within the SpringBoard, divided by window.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：SpringBoard中图标的排列方式，按窗口划分。
- en: 'Domain: `HomeDomain/Library/AddressBook/`'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/AddressBook/`
- en: 'Filename: `AddressBook.sqlitedb`'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`AddressBook.sqlitedb`
- en: 'Description: User personal contacts, such as names, phone numbers, e-mail addresses,
    and so on.'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：用户个人联系信息，例如姓名、电话号码、电子邮件地址等。
- en: 'Domain: `HomeDomain/Library/AddressBook/`'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/AddressBook/`
- en: 'Filename: `AddressBookImage.sqlitedb`'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`AddressBookImage.sqlitedb`
- en: 'Description: Images associated with the contacts in the Address Book.'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：与地址簿中联系人相关的图片。
- en: 'Domain: `HomeDomain/Library/Calendar/`'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/Calendar/`
- en: 'Filename: `Calendar.sqlitedb`'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`Calendar.sqlitedb`
- en: 'Description: All the user''s calendars and associated events.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：所有用户的日历及相关事件。
- en: 'Domain: `HomeDomain/Library/CallHistoryDB/`'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/CallHistoryDB/`
- en: 'Filename: `CallHistory.storedata`'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`CallHistory.storedata`
- en: 'Description: The list of outgoing, incoming, and missed calls made through
    the cellular network, as well as FaceTime.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：通过蜂窝网络进行的外呼、来电和未接来电列表，以及FaceTime通话。
- en: 'Domain: `WirelessDomain/Library/CallHistory/`'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`WirelessDomain/Library/CallHistory/`
- en: 'Filename: `Call_history.db`'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`Call_history.db`
- en: 'Description: File used as Call History database until iOS 7\. If the phone
    has been upgraded or restored, you can find information on old calls.'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：在iOS 7之前，作为通话历史数据库使用的文件。如果手机已经升级或恢复，你可以找到旧通话的信息。
- en: 'Domain: `HomeDomain/Library/Voicemail/`'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/Voicemail/`
- en: 'Filename: `Voicemail.db`'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`Voicemail.db`
- en: 'Description: Voicemail database.'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：语音邮件数据库。
- en: 'Domain: `HomeDomain/Library/SMS/`'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/SMS/`
- en: 'Filename: `sms.db`'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`sms.db`
- en: 'Description: SMS and iMessages sent and received, including the date it has
    been received, read, and delivered (for iMessage), the text, and the type (sent/received).'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：发送和接收的短信和iMessages，包括接收、阅读和投递的日期（对于iMessage），文本内容以及类型（发送/接收）。
- en: 'Domain: `HomeDomain/Library/SMS/`'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/SMS/`
- en: 'Folder name: `Drafts`'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件夹名称：`Drafts`
- en: 'Description: Drafts of both SMS and iMessage.'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：SMS和iMessage的草稿。
- en: 'Domain: `MediaDomain/Library/SMS/`'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`MediaDomain/Library/SMS/`
- en: 'Folder name: `Attachments`'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件夹名称：`Attachments`
- en: 'Description: Attachments received via MMS.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：通过MMS接收到的附件。
- en: 'Domain: `HomeDomain/Library/`'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域：`HomeDomain/Library/`
- en: 'Folder name: `DataAccess`'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件夹名称：`DataAccess`
- en: 'Description: It contains a subfolder for each mailbox configured within the
    Mail application. Inside each subfolder, there is a file named `mboxCache.plist`
    containing the structure of the mailbox folder.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 包含每个在 Mail 应用程序中配置的邮箱的子文件夹。每个子文件夹内都有一个名为 `mboxCache.plist` 的文件，包含邮箱文件夹的结构。'
- en: 'Domain: `HomeDomain/Library/Mail`'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `HomeDomain/Library/Mail`'
- en: 'Filename: `Recents`'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `Recents`'
- en: 'Description: Information about the receivers and sent date of e-mails recently
    sent.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 最近发送的电子邮件的收件人信息和发送日期。'
- en: '![iTunes backup relevant files](img/B05100_04_19.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![iTunes 备份相关文件](img/B05100_04_19.jpg)'
- en: 'Domain: `AppDomain/com.apple.mobilemail/Preferences/`'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.mobilemail/Preferences/`'
- en: 'Filename:  `com.apple.mobilemail.plist`'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.mobilemail.plist`'
- en: '`com.apple.MailAccount-ExtProperties.plist`'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`com.apple.MailAccount-ExtProperties.plist`'
- en: 'Description: Apple Mail application configuration and settings of the configured
    accounts.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: Apple Mail 应用程序配置及已配置帐户的设置。'
- en: 'Domain: `HomeDomain/Library/Notes`'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `HomeDomain/Library/Notes`'
- en: 'Filename: `Notes.sqlite`'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `Notes.sqlite`'
- en: 'Description: Saved notes, grouped by account. Starting from iOS 9.3, users
    can optionally encrypt every single note with a password.'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 按帐户分组的保存的便签。从 iOS 9.3 开始，用户可以选择为每个便签设置密码进行加密。'
- en: 'Domain: `HomeDomain/Library/Safari/`'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `HomeDomain/Library/Safari/`'
- en: 'Filename: `bookmarks.db`'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `bookmarks.db`'
- en: 'Description: Safari bookmarks.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: Safari 收藏夹。'
- en: 'Domain: `AppDomain/com.apple.mobilesafari/Library/Preferences/`'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.mobilesafari/Library/Preferences/`'
- en: 'Filename: `com.apple.mobilesafari.it`'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.mobilesafari.it`'
- en: 'Description: Safari configuration file.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: Safari 配置文件。'
- en: 'Domain: `AppDomain/com.apple.mobilesafari/Library/Safari/`'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.mobilesafari/Library/Safari/`'
- en: 'Filename: `History.db`'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `History.db`'
- en: 'Description: Safari navigation history.'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: Safari 导航历史记录。'
- en: 'Domain: `AppDomain/com.apple.mobilesafari/Library/Safari/`'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.mobilesafari/Library/Safari/`'
- en: 'Filename: `SuspendedState.plist`'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `SuspendedState.plist`'
- en: 'Description: It contains the status of all currently active tabs in Safari.'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 包含 Safari 当前所有活动标签页的状态。'
- en: 'Domain: `AppDomain/com.apple.mobilesafari/Library/Safari/`'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.mobilesafari/Library/Safari/`'
- en: 'Folder name: `Thumbnails`'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件夹名称: `Thumbnails`'
- en: 'Description: It contains the thumbnails in the PNG format of the currently
    active Safari pages.'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 包含当前活动的 Safari 页面缩略图（PNG 格式）。'
- en: 'Domain: `AppDomain/com.apple.mobilesafari/Library/WebKit/WebSiteData`'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.mobilesafari/Library/WebKit/WebSiteData`'
- en: 'Folder name: `LocalStorage`'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件夹名称: `LocalStorage`'
- en: 'Description: The `LocalStorage` database stored by websites. May contain specific
    information stored by the site and are useful to determine the URL accessed even
    though it''s no longer present in the history.'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 网站存储的 `LocalStorage` 数据库。可能包含网站存储的特定信息，有助于确定访问的 URL，即使该 URL 已不再出现在历史记录中。'
- en: 'Domain: `AppDomain/com.apple.Maps/Library/Preferences`'
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.Maps/Library/Preferences`'
- en: 'Filename: `com.apple.Maps.plist`'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件名: `com.apple.Maps.plist`'
- en: 'Description: Apple Maps application configuration. It contains a list of recently
    searched addresses.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: Apple Maps 应用程序配置文件，包含最近搜索的地址列表。'
- en: 'Domain: `AppDomain/com.apple.Maps/Library/`'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `AppDomain/com.apple.Maps/Library/`'
- en: 'Folder name: `Maps`'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件夹名称: `Maps`'
- en: 'Description: It contains several files related to the usage of Apple Maps application.
    Files are binary type and with the `.mapsdata` extension (for example, `History.mapsdata`),
    but you can pull strings with the addresses of places.'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 包含与 Apple Maps 应用程序使用相关的多个文件。文件为二进制类型，并具有 `.mapsdata` 扩展名（例如，`History.mapsdata`），但可以提取包含地址的字符串。'
- en: 'Domain: `CameraRollDomain/Media/`'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `CameraRollDomain/Media/`'
- en: 'Folder name: `DCIM`'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件夹名称: `DCIM`'
- en: 'Description: It contains videos and pictures taken from the device camera or
    saved from other third-party applications (for example, WhatsApp, Facebook, and
    so on). The pictures taken with the device camera are stored in the JPG format
    while the videos are in the MOV format. Moreover, it contains several subfolders
    where the files are actually stored, these names contain an increasing number
    (that is 100APPLE, 101APPLE, 102APPLE, and so on), and each of these folders may
    contain up to 1000 files.'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 包含通过设备相机拍摄或从其他第三方应用程序（例如 WhatsApp、Facebook 等）保存的图片和视频。通过设备相机拍摄的图片以 JPG
    格式存储，视频以 MOV 格式存储。此外，它还包含多个子文件夹，实际存储文件的这些文件夹名称包含递增数字（如 100APPLE、101APPLE、102APPLE
    等），每个文件夹可能包含最多 1000 个文件。'
- en: 'Domain: `CameraRollDomain/Media/DCIM`'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '域名: `CameraRollDomain/Media/DCIM`'
- en: 'Folder name: `.THMB`'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '文件夹名称: `.THMB`'
- en: 'Description: Contains picture thumbnails in the JPG format.'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '描述: 包含 JPG 格式的图片缩略图。'
- en: 'Domain: `CameraRollDomain/Media/PhotoData/MISC/`'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名：`CameraRollDomain/Media/PhotoData/MISC/`
- en: 'Filename: `DCIM_APPLE.plist`'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件名：`DCIM_APPLE.plist`
- en: 'Description: Information about the active folder and the number of files.'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：有关活动文件夹的信息及文件数量。
- en: 'Domain: `CameraRollDomain/Media/PhotoData/`'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名：`CameraRollDomain/Media/PhotoData/`
- en: 'Folder name: `Thumbnails`'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件夹名称：`Thumbnails`
- en: 'Description: Four files in the proprietary ITHMB format, one for each possible
    thumbnail size.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：四个专有 ITHMB 格式的文件，每个文件对应一个可能的缩略图大小。
- en: 'Domain: `CameraRollDomain/Media/PhotoData/Thumbnails/V2/`'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名：`CameraRollDomain/Media/PhotoData/Thumbnails/V2/`
- en: 'Folder name: `DCIM`'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件夹名称：`DCIM`
- en: 'Description: Contains a subfolder for each picture with thumbnail in the JPG
    format.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：包含每个图片的子文件夹，缩略图为 JPG 格式。
- en: iTunes backup data extraction
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: iTunes 备份数据提取
- en: There are several tools available to extract data from an iTunes backup-some
    open source software, as well as some commercial products. These tools allow you
    to have complete access to the data in case of an unencrypted backup and partial
    access in case of an encrypted one (in particular the content of the files will
    not be visible unless you know the backup password or you have been able to crack
    it). Among the most interesting and powerful tools for accessing and extracting
    data from a backup, there is forensic software (UFED Physical Analyzer, Oxygen
    Forensic® Suite, AccessData MPE+, EnCase, Elcomsoft Phone Viewer, and so on),
    commercial software for data extraction (iBackup Bot, iPhone Backup Extractor,
    DiskAid, Wondershare Dr. Fone, and so on), and freeware/open source software for
    data extraction (iPhone Backup Analyzer and iPhone Analyzer). A detailed list
    is provided in [Appendix B](apb.html "Appendix B. Tools for iOS Forensics"), *Tools
    for iOS Forensics*. Another option is to recover the backup content on your own
    simply with a hex editor. In this case, we suggest you to read the article available
    at [http://resources.infosecinstitute.com/ios-5-backups-part-1/](http://resources.infosecinstitute.com/ios-5-backups-part-1/).
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种工具可用于从 iTunes 备份中提取数据—一些是开源软件，还有一些是商业产品。这些工具允许在未加密的备份中完全访问数据，而在加密备份中则只能部分访问数据（特别是文件内容不可见，除非您知道备份密码或已经破解密码）。在访问和提取备份数据的最有趣和强大的工具中，有法医软件（UFED
    Physical Analyzer、Oxygen Forensic® Suite、AccessData MPE+、EnCase、Elcomsoft Phone
    Viewer 等）、商业数据提取软件（iBackup Bot、iPhone Backup Extractor、DiskAid、Wondershare Dr.
    Fone 等）以及免费的/开源的数据提取软件（iPhone Backup Analyzer 和 iPhone Analyzer）。在[附录 B](apb.html
    "附录 B. iOS 法医工具")中提供了详细的工具列表，*iOS 法医工具*。另一种选择是通过十六进制编辑器自行恢复备份内容。在这种情况下，我们建议您阅读
    [http://resources.infosecinstitute.com/ios-5-backups-part-1/](http://resources.infosecinstitute.com/ios-5-backups-part-1/)
    上的文章。
- en: Case study - iTunes backup parsing with iBackupBot
  id: totrans-223
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究 - 使用 iBackupBot 解析 iTunes 备份
- en: iBackupBot is a commercial tool for Windows that allows access to iTunes backup
    stored on a local computer. The trial version allows in any case loading and extracting
    information from a backup.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: iBackupBot 是一款适用于 Windows 的商业工具，可以访问存储在本地计算机上的 iTunes 备份。试用版允许加载并提取备份中的信息。
- en: Once the software is executed, it automatically loads all the backups stored
    in the predefined iTunes Backup folder, but another backup can be opened through
    the **File** menu. In the left-hand pane, all the loaded backups are listed and
    all the domains can be browsed, while in the central pane general information
    about the device is shown (device name, iOS version, phone number, serial number,
    UDID, IMEI, and so on).
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 软件执行后，它会自动加载存储在预定义的 iTunes 备份文件夹中的所有备份，但也可以通过**文件**菜单打开其他备份。在左侧窗格中，列出了所有加载的备份，所有域可以浏览；在中央窗格中，显示了设备的基本信息（设备名称、iOS
    版本、电话号码、序列号、UDID、IMEI 等）。
- en: '![Case study - iTunes backup parsing with iBackupBot](img/B05100_04_20.jpg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iBackupBot 解析 iTunes 备份](img/B05100_04_20.jpg)'
- en: 'Browsing a backup reveals files that are grouped with respect to their specific
    domain. **System Files** contains all domains referring to iOS settings and data.
    Third-party app data is in **User App Files**, **App Group Files**, and **App
    Plugin Files**. The user can open a file by simply double -clicking on it because
    the software contains integrated `plist` and SQLite viewers:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 浏览备份会显示按特定域分组的文件。**系统文件**包含所有与 iOS 设置和数据相关的域。第三方应用程序数据位于**用户应用程序文件**、**应用程序组文件**和**应用程序插件文件**中。用户只需双击文件即可打开，因为该软件包含集成的
    `plist` 和 SQLite 查看器：
- en: '![Case study - iTunes backup parsing with iBackupBot](img/B05100_04_21.jpg)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iBackupBot 解析 iTunes 备份](img/B05100_04_21.jpg)'
- en: 'The **User Information Manager** option parses some of the most common data
    stored in a backup, specifically the following: **Contacts**, SMS/MMS **Messages**,
    **Call History**, **Calendar**, **Notes**, **Recent Email** (only To: e-mail address,
    date, and time), **Safari Bookmarks**, and **Safari History**:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '**用户信息管理器** 选项解析了备份中存储的一些最常见数据，具体包括：**联系人**、短信/MMS **消息**、**通话记录**、**日历**、**备忘录**、**最近电子邮件**（仅包含收件人电子邮件地址、日期和时间）、**Safari
    书签**和 **Safari 历史**：'
- en: '![Case study - iTunes backup parsing with iBackupBot](img/B05100_04_22.jpg)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iPBA 分析 iTunes 备份](img/B05100_04_22.jpg)'
- en: '**Multimedia File Manager** provides a view of media files stored in the backup
    and specifically the **Camera Roll** domain files, **Voice Mail**, **Voice Memo**,
    and **Other Multimedia files** (for example, SMS/MMS attachments, WhatsApp media
    files, and so on).'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '**多媒体文件管理器** 提供了对备份中存储的媒体文件的查看，具体包括 **相机胶卷** 域文件、**语音邮件**、**语音备忘录** 和 **其他多媒体文件**（例如，短信/MMS
    附件、WhatsApp 媒体文件等）。'
- en: '![Case study - iTunes backup parsing with iBackupBot](img/B05100_04_23.jpg)'
  id: totrans-232
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iPBA 分析 iTunes 备份](img/B05100_04_23.jpg)'
- en: Case study - iTunes backup analysis with iPBA
  id: totrans-233
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究 - 使用 iPBA 分析 iTunes 备份
- en: iPhone Backup Analyzer is a tool developed by the Italian researcher Mario Piccinelli,
    and it provides a simple way to browse through the backup folder and perform a
    forensic analysis of an iDevice backup. It was released as open source software
    under the MIT license, and since it is written in Python, it should be cross-platform
    (Mac, Linux, and Windows).
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: iPhone 备份分析器是由意大利研究员 Mario Piccinelli 开发的工具，提供了一种简单的方式来浏览备份文件夹并对 iDevice 备份进行法医分析。该工具作为开源软件在
    MIT 许可证下发布，由于它是用 Python 编写的，因此应该是跨平台的（Mac、Linux 和 Windows）。
- en: 'The main goal behind the development is to provide a way to analyze the contents
    of the iPhone backup. It is meant to be used by anyone who wants to easily study
    what the backup contains, be they a forensics expert, an iOS developer, or just
    an interested iPhone user. The software is also packed with utilities to easily
    browse through the content formatted in a ready-to-use way, such as messages,
    contacts, Safari bookmarks, and so on. Its complete feature set can be summarized
    in the following diagram:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 开发的主要目标是提供一种分析 iPhone 备份内容的方法。它旨在供任何想要轻松研究备份内容的人使用，无论是法医专家、iOS 开发者，还是仅仅对 iPhone
    感兴趣的用户。该软件还内置了实用工具，方便浏览以可用格式呈现的内容，如信息、联系人、Safari 书签等。其完整功能集可以通过以下图示进行总结：
- en: '![Case study - iTunes backup analysis with iPBA](img/B05100_04_24.jpg)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iPBA 分析 iTunes 备份](img/B05100_04_24.jpg)'
- en: 'In a Windows environment, after downloading the tool, you need to unzip it
    to a folder and launch the executable `iPBA2.exe` file. By navigating to **File**
    | **Open Archive**, you can choose the folder containing the backup. The software
    parses and analyzes the backup and provides a graphical way to browse through
    it:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 环境中，下载工具后，您需要将其解压到一个文件夹并启动可执行的 `iPBA2.exe` 文件。通过导航到 **文件** | **打开归档**，您可以选择包含备份的文件夹。该软件解析并分析备份，并提供一种图形化的方式来浏览备份内容：
- en: '![Case study - iTunes backup analysis with iPBA](img/B05100_04_25.jpg)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iPBA 分析 iTunes 备份](img/B05100_04_25.jpg)'
- en: 'By right-clicking on a `plist` or SQLite file, the analyst can view the file
    content. For example, in the following screenshot, you can see the content of
    the `Manifest.plist` file:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 通过右键点击 `plist` 或 SQLite 文件，分析人员可以查看文件内容。例如，在以下截图中，您可以看到 `Manifest.plist` 文件的内容：
- en: '![Case study - iTunes backup analysis with iPBA](img/B05100_04_26.jpg)'
  id: totrans-240
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iPBA 分析 iTunes 备份](img/B05100_04_26.jpg)'
- en: 'In the following screenshot, you can see the contents of a Call History SQLite
    database:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下截图中，您可以看到一个通话记录 SQLite 数据库的内容：
- en: '![Case study - iTunes backup analysis with iPBA](img/B05100_04_27.jpg)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用 iPBA 分析 iTunes 备份](img/B05100_04_27.jpg)'
- en: 'By choosing an item from the **Plugins** menu, you can also analyze useful
    information from the backup. Currently, the software offers 14 plugins: **Address
    Book Browser**, **Call History**, **Phone Info Browser**, **Known Networks**,
    **Network Identification**, **Note Browser**, **Safari History Browser**, **Safari
    State Explorer**, **Safari Bookmarks**, **Skype Browser**, **Messages Browser**,
    **Thumbnails Browser**, **Viber Browser**, and **WhatsApp Browser**. In the following
    screenshot, you can see, for example, the known Wi-Fi networks plugin:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 通过从**插件**菜单选择一项，你还可以分析备份中的有用信息。目前，软件提供了14个插件：**地址簿浏览器**、**通话记录**、**手机信息浏览器**、**已知网络**、**网络识别**、**笔记浏览器**、**Safari历史记录浏览器**、**Safari状态浏览器**、**Safari书签**、**Skype浏览器**、**消息浏览器**、**缩略图浏览器**、**Viber浏览器**和**WhatsApp浏览器**。在下面的截图中，你可以看到例如已知Wi-Fi网络插件：
- en: '![Case study - iTunes backup analysis with iPBA](img/B05100_04_28.jpg)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用iPBA分析iTunes备份](img/B05100_04_28.jpg)'
- en: Case study - iTunes backup analysis with Oxygen Forensic Analyst
  id: totrans-245
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究 - 使用Oxygen Forensic Analyst分析iTunes备份
- en: Oxygen Forensic Analyst is a commercial tool that has already been introduced
    in [Chapter 3](ch03.html "Chapter 3. Evidence Acquisition from iDevices"), *Evidence
    Acquisition from iDevices*. This tool enables you to acquire data from an iDevice
    and also to import a previously created iTunes backup.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: Oxygen Forensic Analyst是一款商业工具，已经在[第3章](ch03.html "第3章：从iDevices获取证据")，*从iDevices获取证据*中介绍过。该工具使你能够从iDevice中获取数据，也可以导入之前创建的iTunes备份。
- en: 'In order to import a backup, it is enough to click on **Import File** from
    the main window and navigate to **Import Apple backup/image** | **Import iTunes
    backup...**:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 为了导入备份，只需在主窗口点击**导入文件**，然后选择**导入Apple备份/镜像** | **导入iTunes备份...**：
- en: '![Case study - iTunes backup analysis with Oxygen Forensic Analyst](img/B05100_04_29.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用Oxygen Forensic Analyst分析iTunes备份](img/B05100_04_29.jpg)'
- en: 'When selecting a folder containing a backup, the tool shows the `Manifest.plist`
    file, which has to be chosen:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择一个包含备份的文件夹时，工具会显示`Manifest.plist`文件，必须选择该文件：
- en: '![Case study - iTunes backup analysis with Oxygen Forensic Analyst](img/B05100_04_30.jpg)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用Oxygen Forensic Analyst分析iTunes备份](img/B05100_04_30.jpg)'
- en: 'The software recognizes the backup structure and proposes an options screen
    where the investigator can decide whether they want to only do the backup conversion,
    or if they also want the application to do the parsing of applications'' databases.
    Similarly, it is also possible to ask the software to recover deleted records
    within the database:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 软件会识别备份结构，并展示一个选项界面，调查员可以在此界面选择是仅进行备份转换，还是希望应用程序还能够解析应用程序的数据库。同样，也可以要求软件恢复数据库中的已删除记录：
- en: '![Case study - iTunes backup analysis with Oxygen Forensic Analyst](img/B05100_04_31.jpg)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用Oxygen Forensic Analyst分析iTunes备份](img/B05100_04_31.jpg)'
- en: 'The software then starts the analysis process and allows users to analyze the
    backup content. In [Chapter 6](ch06.html "Chapter 6. Analyzing iOS Devices"),
    *Analyzing iOS Devices*, we will see a further example of the analysis performed
    with Oxygen Forensic Analyst:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 软件接着启动分析过程，允许用户分析备份内容。在[第6章](ch06.html "第6章：分析iOS设备")，*分析iOS设备*中，我们将看到使用Oxygen
    Forensic Analyst进行分析的进一步示例：
- en: '![Case study - iTunes backup analysis with Oxygen Forensic Analyst](img/B05100_04_32.jpg)'
  id: totrans-254
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用Oxygen Forensic Analyst分析iTunes备份](img/B05100_04_32.jpg)'
- en: Encrypted iTunes backup cracking
  id: totrans-255
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加密的iTunes备份破解
- en: 'As we explained in [Chapter 3](ch03.html "Chapter 3. Evidence Acquisition from
    iDevices"), *Evidence Acquisition from iDevices*, and in the first part of this
    chapter, an iTunes backup can be encrypted with a password chosen by the iDevice
    user. When you seize an iDevice with a backup password already set, or if you
    have a computer with a previously created encrypted backup, you can try to crack
    the backup using a dedicated tool. Currently, we were able to find only three
    software packages that can be used to crack an encrypted backup: EPB, Passware
    Forensic, and iPhone Backup Unlocker.'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在[第3章](ch03.html "第3章：从iDevices获取证据")，*从iDevices获取证据*中解释的，以及本章第一部分所讲的，iTunes备份可以使用iDevice用户选择的密码进行加密。当你查获一个已经设置备份密码的iDevice，或你拥有一台带有之前创建的加密备份的计算机时，你可以尝试使用专用工具破解备份。目前，我们只能找到三个可用于破解加密备份的软件包：EPB、Passware
    Forensic和iPhone Backup Unlocker。
- en: Case study - iTunes encrypted backup cracking with EPB
  id: totrans-257
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究 - 使用EPB破解iTunes加密备份
- en: As mentioned on the product's website, Elcomsoft Phone Breaker enables forensic
    access to password-protected backups for smartphones and portable devices based
    on the Apple iOS platforms. The password recovery tool supports Apple devices
    running iOS, including iPhone, iPad, and iPod touch devices of all generations
    released to date.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 如产品网站所述，Elcomsoft Phone Breaker可以为基于Apple iOS平台的智能手机和便携设备提供密码保护备份的法医访问。该密码恢复工具支持运行iOS的Apple设备，包括至今发布的所有代iPhone、iPad和iPod
    touch设备。
- en: 'After launching the tool, the first step is to load the encrypted backup by
    clicking on the **Decrypt backup** option from the main window (**Tools**) and
    selecting **Decrypt backup**, as shown in the following screenshot:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 启动工具后，第一步是通过点击主窗口中的**解密备份**选项（**工具**）并选择**解密备份**来加载加密备份，如下图所示：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_33.jpg)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_33.jpg)'
- en: 'The software automatically provides a list of encrypted backups,  saved in
    the default backup folder of the user who is executing the tool:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 软件会自动提供加密备份的列表，这些备份保存在执行该工具的用户的默认备份文件夹中：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_34.jpg)'
  id: totrans-262
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_34.jpg)'
- en: 'The analyst can choose one of the proposed encrypted backups or choose another
    folder containing other encrypted backups. After selecting the backup, the tool
    asks the analyst where they want to save the decrypted backup and, if known, to
    provide the backup password:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 分析员可以选择提议的加密备份之一，或选择包含其他加密备份的文件夹。选择备份后，工具会询问分析员希望将解密后的备份保存到哪里，并在知道的情况下提供备份密码：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_35.jpg)'
  id: totrans-264
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_35.jpg)'
- en: 'By clicking on **Attempt Password Recovery**, the user can select the type
    of cracking they want to perform. You can choose between two options: **Dictionary
    Attack** or **Brute-Force Attack**, as shown in the following screenshot:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 通过点击**尝试密码恢复**，用户可以选择想要执行的破解类型。可以选择两种选项之一：**字典攻击**或**暴力破解攻击**，如下图所示：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_36.jpg)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_36.jpg)'
- en: 'In the first case, the analyst can provide a custom dictionary file, as shown
    in the following screenshot:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一种情况下，分析员可以提供自定义字典文件，如下图所示：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_37.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_37.jpg)'
- en: 'In the second case, the analyst can decide the parameters for the brute-force
    attack, as follows:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二种情况下，分析员可以决定暴力破解攻击的参数，如下所示：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_38.jpg)'
  id: totrans-270
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_38.jpg)'
- en: 'If the cracking procedure is successful, the tool provides the password to
    the analyst and gives the options to decrypt the backup (so that it can be analyzed
    with one of the tools previously mentioned):'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 如果破解过程成功，工具将向分析员提供密码，并提供解密备份的选项（以便使用前述工具之一进行分析）：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_40.jpg)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_40.jpg)'
- en: 'Otherwise, it is possible to show the keychain content with the username and
    password for the Wi-Fi network connection, e-mail accounts configured in the Mail
    app, stored Internet passwords, and stored passwords from other apps:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 否则，可以显示钥匙串内容，其中包括Wi-Fi网络连接的用户名和密码、在邮件应用中配置的电子邮件帐户、存储的互联网密码和来自其他应用程序的存储密码：
- en: '![Case study - iTunes encrypted backup cracking with EPB](img/B05100_04_39.jpg)'
  id: totrans-274
  prefs: []
  type: TYPE_IMG
  zh: '![案例研究 - 使用EPB破解iTunes加密备份](img/B05100_04_39.jpg)'
- en: Summary
  id: totrans-275
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we explained the most useful information about an iTunes backup
    related to the forensic analysis of an iOS device. In particular, we illustrated
    how the backup is structured and how to parse it with commercial and open source
    tools. We also explained the differences between an unencrypted and encrypted
    backup and suggested some ways to try to crack the backup password. A really interesting
    point about the iTunes backup is that if the device does not have a backup password
    already set by its owner, when preforming the acquisition, you can create an encrypted
    backup, choosing a known password in order to be able to access the password saved
    in the `Keychain` file without the need for cracking. Instead, if you happen to
    have an encrypted backup for which you are not able to crack the password, it
    is anyway possible to analyze the `plist` files and the content of the `Manifest.mbdb`
    file, recovering in this way the list of all files present inside that backup.
    In the next chapter, how to recover data from the user iCloud account with either
    its credentials or authentication token will be explained.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们解释了有关iTunes备份中最有用的信息，特别是与iOS设备的法医分析相关的信息。我们详细说明了备份的结构以及如何使用商业工具和开源工具解析备份。我们还解释了未加密和加密备份之间的差异，并建议了一些尝试破解备份密码的方法。关于iTunes备份的一个非常有趣的点是，如果设备的所有者没有设置备份密码，在执行获取操作时，你可以创建一个加密备份，选择一个已知的密码，以便能够访问保存在`钥匙串`文件中的密码，而无需进行破解。相反，如果你恰好有一个无法破解密码的加密备份，仍然可以分析`plist`文件和`Manifest.mbdb`文件的内容，从而恢复该备份中所有文件的列表。在下一章中，将解释如何通过用户的iCloud帐户凭证或身份验证令牌恢复数据。
- en: Self-test questions
  id: totrans-277
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自测问题
- en: Q1\. In which folder are the iOS devices backup stored in Windows 7?
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: Q1. 在Windows 7中，iOS设备的备份存储在哪个文件夹中？
- en: '`C:\Users\[username]\AppData\Roaming\Apple Computer\MobileSync\Backup`'
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`C:\Users\[username]\AppData\Roaming\Apple Computer\MobileSync\Backup`'
- en: '`C:\Users\[username]\AppData\Local\Apple Computer\MobileSync\Backup`'
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`C:\Users\[username]\AppData\Local\Apple Computer\MobileSync\Backup`'
- en: '`C:\Users\[username]\AppData\Apple Computer\MobileSync\Backup`'
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`C:\Users\[username]\AppData\Apple Computer\MobileSync\Backup`'
- en: '`C:\Program Data\Apple Computer\MobileSync\Backup`'
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`C:\Program Data\Apple Computer\MobileSync\Backup`'
- en: Q2\. Which file contains information about the backup (such as backup date,
    device name, and so on)?
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: Q2. 哪个文件包含有关备份的信息（例如备份日期、设备名称等）？
- en: '`Manifest.plist`'
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Manifest.plist`'
- en: '`Info.plist`'
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Info.plist`'
- en: '`Status.plist`'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Status.plist`'
- en: '`Manifest.mbdb`'
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Manifest.mbdb`'
- en: Q3\. Which file contains the description of all the files in the backup folder?
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: Q3. 哪个文件包含备份文件夹中所有文件的描述？
- en: '`Manifest.plist`'
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Manifest.plist`'
- en: '`Info.plist`'
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Info.plist`'
- en: '`Status.plist`'
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Status.plist`'
- en: '`Manifest.mbdb`'
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`Manifest.mbdb`'
- en: Q4\. Which backup domain contains multimedia elements related to the camera?
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: Q4. 哪个备份域包含与相机相关的多媒体元素？
- en: App domain
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用域
- en: Camera Roll domain
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 相机胶卷域
- en: Media domain
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 媒体域
- en: Keychain domain
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 钥匙串域
