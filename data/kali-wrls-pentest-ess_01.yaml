- en: Chapter 1. Introduction to Wireless Penetration Testing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章 无线渗透测试简介
- en: In this chapter, we are going to cover the key concepts of the penetration testing
    process, with particular reference to wireless penetration testing.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍渗透测试过程的关键概念，特别是无线渗透测试。
- en: Penetration testing is the process of simulating attacks against a system or
    a network to point out its misconfigurations, weaknesses, or security vulnerabilities
    and their relative exploits that could be used by real attackers to gain access
    to the system or network.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试是模拟对系统或网络的攻击过程，以指出其错误配置、弱点或安全漏洞及其相关的利用方式，这些方式可能被真正的攻击者用来获取对系统或网络的访问权限。
- en: The process of identifying and evaluating vulnerabilities is called **vulnerability
    assessment** and it is sometimes used as a synonym for penetration testing, but
    they are actually distinct processes; indeed, penetration testing generally includes
    vulnerability assessment and also the successive attack phase to practically exploit
    the vulnerabilities that are found. In some cases, depending on the scope of the
    penetration test, a full vulnerability assessment is not required as the penetration
    test may only focus on specific vulnerabilities to attack.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 识别和评估漏洞的过程称为**漏洞评估**，有时被用作渗透测试的同义词，但它们实际上是不同的过程；事实上，渗透测试通常包括漏洞评估以及随后的攻击阶段，以实际利用发现的漏洞。在某些情况下，根据渗透测试的范围，可能不需要进行完整的漏洞评估，因为渗透测试可能只专注于特定的漏洞进行攻击。
- en: A penetration test can be external or internal. An external penetration test
    (sometimes also referred as a *black box* penetration test) tries to simulate
    a real external attack, with no prior information about the target systems and
    networks being given to penetration testers, while an internal penetration test
    (also referred as *white box*) is performed by penetration testers who are given
    access as insiders and try to exploit the network vulnerabilities to increase
    their privileges and do things they are not authorized to do, for example, launching
    man-in-the-middle attacks, as we will see in [Chapter 7](ch07.html "Chapter 7. Wireless
    Client Attacks"), *Wireless Client Attacks*.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试可以是外部的或内部的。外部渗透测试（有时也称为“黑盒”渗透测试）试图模拟真实的外部攻击，渗透测试人员对目标系统和网络没有先前的信息，而内部渗透测试（也称为“白盒”）是由获得内部权限的渗透测试人员执行的，他们试图利用网络漏洞来增加权限并做一些未经授权的事情，例如发动中间人攻击，正如我们将在[第7章](ch07.html
    "第7章 无线客户端攻击")“无线客户端攻击”中看到的。
- en: In this book, we are mainly going to focus on external penetration testing.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们主要将专注于外部渗透测试。
- en: Phases of penetration testing
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 渗透测试的阶段
- en: 'The process of penetration testing can be divided into four main phases or
    stages, which are as follows:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试过程可以分为四个主要阶段，即：
- en: Planning
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划
- en: Discovery
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发现
- en: Attack
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 攻击
- en: Reporting
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告
- en: A useful guideline for the penetration testing process and methodology that
    describes these phases in detail is the NIST CSRC SP800-115 *Technical Guide to
    Information Security Testing and Assessment* (see the reference section 1.1 of
    the appendix) at [http://csrc.nist.gov/publications/nistpubs/800-115/SP800-115.pdf](http://csrc.nist.gov/publications/nistpubs/800-115/SP800-115.pdf).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 描述这些阶段的渗透测试过程和方法的有用指南是NIST CSRC SP800-115《信息安全测试和评估技术指南》（请参见附录1.1的参考部分），网址为[http://csrc.nist.gov/publications/nistpubs/800-115/SP800-115.pdf](http://csrc.nist.gov/publications/nistpubs/800-115/SP800-115.pdf)。
- en: 'A scheme of the four phases penetration testing methodology is represented
    in the following diagram, taken from the preceding publication that was just referenced:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试方法的四个阶段的方案如下图所示，取自前述出版物：
- en: '![Phases of penetration testing](img/B04527_01_01.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![渗透测试的阶段](img/B04527_01_01.jpg)'
- en: We are now going to explore each of the four phases.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将探讨这四个阶段中的每一个。
- en: The planning phase
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 规划阶段
- en: The planning phase is a crucial part of penetration testing, though it is not
    always given the importance that it should have. In this phase, we define the
    scope and the so-called *rules of engagement* of a penetration test, as a result
    of an agreement between the penetration testers and the client that will be formalized
    in a contract between the two parties. It must be clear that a penetration tester
    should never operate without a contract or outside the scope and the rules of
    engagement established in the contract, because otherwise he/she could stumble
    into serious legal troubles. The scope is about which networks to test and the
    goals and objectives the client wants to achieve with the penetration test.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 规划阶段是渗透测试的关键部分，尽管它并不总是被赋予应有的重要性。在这个阶段，我们定义了渗透测试的范围和所谓的“参与规则”，这是渗透测试人员和客户之间达成的协议的结果，将在双方之间的合同中正式规定。必须明确的是，渗透测试人员绝不能在没有合同或超出合同规定的范围和参与规则的情况下进行操作，否则他/她可能会陷入严重的法律纠纷。范围涉及要测试的网络、客户希望通过渗透测试实现的目标和目标。
- en: In this, we need to consider, for example, the area to scan for wireless networks,
    the coverage range of the signal of the networks to test, and their size in terms
    of the number of clients that will supposedly be connected. We also define the
    objectives of the test, such as specific vulnerabilities that should be assessed
    and their priorities; whether rogue and hidden access points should be enumerated
    and whether wireless attacks against clients should be conducted.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一阶段，我们需要考虑的是，例如，要扫描无线网络的区域、网络信号的覆盖范围以及预计连接的客户数量。我们还定义了测试的目标，例如应该评估的特定漏洞及其优先级；是否应该列举伪装和隐藏的接入点，以及是否应该对客户进行无线攻击。
- en: The rules of engagement include, among others, the estimated timeline and the
    days and times when to perform the test, the legal authorization from the client,
    the format of the report to produce, payment terms, and a nondisclosure agreement
    clause, according to which the results of the test are kept confidential by the
    testers.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 参与规则包括，但不限于，预计时间表以及何时进行测试的日期和时间，客户的合法授权，要生成的报告格式，付款条款以及保密协议条款，根据该条款，测试结果由测试人员保密。
- en: Note
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Worksheets for defining the scope and rules of engagement are available at the
    links provided with references 1.4 and 1.5 in the appendix (registration to the
    SANS Institute website is required).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在附录中提供的参考文献1.4和1.5的链接中提供了定义范围和参与规则的工作表（需要注册SANS Institute网站）。
- en: Once the scope and rules of engagement are established, the penetration testing
    team defines the resources and the tools to employ for test execution.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦确定了范围和参与规则，渗透测试团队就会定义要用于测试执行的资源和工具。
- en: The discovery phase
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 发现阶段
- en: In the discovery phase, we collect as much information as possible about the
    networks that are in the scope of the penetration test. This phase is also called
    the information gathering phase and it is very important because it precisely
    defines the targets of our test and allows to collect detailed information about
    them and to expose their potential vulnerabilities.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在发现阶段，我们收集尽可能多关于渗透测试范围内的网络的信息。这个阶段也被称为信息收集阶段，非常重要，因为它精确定义了我们测试的目标，并允许收集关于它们的详细信息并暴露它们的潜在漏洞。
- en: 'In particular, for our scope, we would collect information such as:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 特别是对于我们的范围，我们将收集诸如：
- en: Hidden networks and rogue access points
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐藏网络和伪造接入点
- en: Clients connected to the networks
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接到网络的客户端
- en: The type of authentication used by the networks; we would like to find out networks,
    which are open or use WEP, and therefore, are vulnerable
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络使用的认证类型；我们想要找出开放或使用WEP的网络，因此易受攻击
- en: The area outside of the organization's perimeter reachable by wireless signals
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织外部通过无线信号可达的区域
- en: The discovery phase could be realized through two main types of wireless network
    scanning, **active** and **passive**. Active scanning implies sending out probe
    request packets to identify *visible* access points, while passive scanning means
    capturing and analyzing all wireless traffic and also allowing to uncover hidden
    access points.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 发现阶段可以通过两种主要类型的无线网络扫描来实现，**主动**和**被动**。主动扫描意味着发送探测请求数据包以识别*可见*接入点，而被动扫描意味着捕获和分析所有无线流量，并且还允许发现隐藏的接入点。
- en: We will see more about wireless scanning and how to use the wireless scanners
    included in Kali Linux, such as airmon, airodump, and Kismet, to carry out the
    discovery phase of wireless penetration testing in [Chapter 3](ch03.html "Chapter 3. WLAN
    Reconnaissance"), *WLAN Reconnaissance*.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[第3章](ch03.html "第3章 WLAN侦察") *WLAN侦察*中了解更多关于无线扫描以及如何使用Kali Linux中包含的无线扫描器，如airmon、airodump和Kismet，来执行无线渗透测试的发现阶段。
- en: The attack phase
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 攻击阶段
- en: The attack phase is the most practical part of the penetration testing process,
    where we try to exploit the vulnerabilities identified in the discovery phase
    to gain access to the target networks.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击阶段是渗透测试过程中最实际的部分，我们试图利用发现阶段确定的漏洞来访问目标网络。
- en: This is called the *exploitation* subphase and in our case could involve attempting
    to crack authentication keys to connect to the network, setting up rogue and honeypot
    access points and directly attacking clients to recover the keys. The next stage
    (if required in the contract) is referred to as *post-exploitation* and involves
    attacking the network and the infrastructure after we have gained access to it,
    for example, taking control of the access points and performing man-in-the-middle
    attacks against the clients.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 这被称为*利用*子阶段，在我们的情况下可能涉及尝试破解认证密钥以连接到网络，设置伪造和蜜罐接入点并直接攻击客户端以恢复密钥。下一个阶段（如果合同需要）被称为*后利用*，在我们获得对其的访问权限后，涉及攻击网络和基础设施，例如控制访问点并对客户端执行中间人攻击。
- en: It is worth repeating that we should never conduct attacks that are not explicitly
    required in the contract. Moreover, the attack phase should be performed according
    to the terms and modalities established with the client, defined in the rules
    of engagement. For example, if the targets are production systems or networks,
    we could agree with the client to conduct such attacks outside the working hours,
    as wireless connectivity and the services provided may be disrupted.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 值得重申的是，我们不应进行未在合同中明确要求的攻击。此外，攻击阶段应根据与客户建立的规则和方式进行，定义在参与规则中。例如，如果目标是生产系统或网络，我们可以与客户协商在工作时间之外进行此类攻击，因为无线连接和提供的服务可能会受到干扰。
- en: We will cover the attack phase from [Chapter 4](ch04.html "Chapter 4. WEP Cracking"),
    *WEP Cracking* to [Chapter 7](ch07.html "Chapter 7. Wireless Client Attacks"),
    *Wireless Client Attacks*.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将覆盖攻击阶段从[第4章](ch04.html "第4章 WEP破解") *WEP破解*到[第7章](ch07.html "第7章 无线客户端攻击")
    *无线客户端攻击*。
- en: The reporting phase
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 报告阶段
- en: Reporting is the final phase of penetration testing. The previous phases are
    very important because they are where we plan and execute the test but it is still
    important to communicate its results and findings in an effective manner to the
    client. The report is useful as a reference point for defining countermeasures
    and mitigation activities to address the identified vulnerabilities. It is usually
    formed by two major sections, the executive summary and the technical report.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 报告是渗透测试的最终阶段。之前的阶段非常重要，因为它们是我们计划和执行测试的地方，但有效地向客户传达其结果和发现仍然很重要。报告对于定义应对已识别的漏洞的对策和缓解活动是有用的。它通常由两个主要部分组成，执行摘要和技术报告。
- en: The executive summary
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 执行摘要
- en: The executive summary is a high-level summary of the objectives, methods and
    findings of the test and it is mainly intended for the non-technical management.
    Thus, the summary should be written in a clear language and using an understandable
    terminology, avoiding too many technical terms and expressions.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 执行摘要是对测试的目标、方法和发现的高层次总结，主要面向非技术管理层。因此，摘要应以清晰的语言和可理解的术语编写，避免使用过多的技术术语和表达。
- en: 'The executive summary should include:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 执行摘要应包括：
- en: A description of the objectives of the test
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试目标的描述
- en: An overview and description of the issues found
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发现问题的概述和描述
- en: A definition of the security risk profile of the client organization
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户组织的安全风险概况定义
- en: A plan for the remediation of the vulnerabilities found and to mitigate the
    risk
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发现漏洞并减轻风险的纠正计划
- en: Recommendations to improve the organization's security posture
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进组织安全姿态的建议
- en: The technical report
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 技术报告
- en: The technical report includes an in-depth description of the penetration test
    and detailed information about the findings of the discovery and attack phases,
    as well as an assessment of the risk that the identified vulnerabilities entail
    for the client and a plan for risk mitigation. Thus, the technical report covers
    the same as the executive summary but from a technical point of view and it is
    addressed mainly to IT executives that should then apply the remediation activities
    provided in the report.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 技术报告包括对渗透测试的深入描述，以及有关发现和攻击阶段的详细信息，以及对客户所面临的已识别漏洞所带来的风险的评估和风险缓解计划。因此，技术报告涵盖了执行摘要的内容，但是从技术角度来看，主要是针对IT高管，他们应该根据报告中提供的纠正活动进行应用。
- en: We will cover the reporting phase in [Chapter 8](ch08.html "Chapter 8. Reporting
    and Conclusions"), *Reporting and Conclusions*.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[第8章](ch08.html "第8章。报告和结论")*报告和结论*中涵盖报告阶段。
- en: Summary
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: 'In this chapter, we introduced wireless penetration testing and provided a
    brief description of the four main phases in which it is divided: planning, discovery,
    attack, and reporting.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了无线渗透测试，并简要描述了其分为四个主要阶段：规划、发现、攻击和报告。
- en: In the next chapter, we will see how to install Kali Linux on your computer
    and we will examine the requisites that your wireless adapter must meet to get
    started with wireless penetration testing.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将看到如何在您的计算机上安装Kali Linux，并检查您的无线适配器必须满足的要求，以开始进行无线渗透测试。
