- en: Port Scanning
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 端口扫描
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下配方：
- en: How to specify a target
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何指定目标
- en: How to perform host discovery
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何执行主机发现
- en: How to identify open ports
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何识别开放端口
- en: How to manage specification and scan order
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何管理规范和扫描顺序
- en: How to perform script and version scan
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何执行脚本和版本扫描
- en: How to detect operating system
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何检测操作系统
- en: How to detect and bypass network protection systems
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何检测和绕过网络保护系统
- en: How to use Zenmap
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何使用Zenmap
- en: Introduction
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: In this chapter, we will be going through various recipes that explain how to
    make use of Nmap to perform various port scanning techniques. Each recipe will
    contain practical insights into performing Nmap scans on a test virtual machine,
    allowing you to understand the functionalities of the various switches supported
    by Nmap.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍各种配方，解释如何利用Nmap执行各种端口扫描技术。每个配方都将包含有关在测试虚拟机上执行Nmap扫描的实用见解，从而使您了解Nmap支持的各种开关的功能。
- en: How to specify a target
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何指定目标
- en: 'The `nmap` command interprets any content appended without an associated switch
    as a target. The following is a basic syntax that specifies an IP address or a
    hostname to scan without any associated switches:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '`nmap`命令将解释附加的任何内容，而不带有关联开关的目标。以下是指定要扫描的IP地址或主机名的基本语法：'
- en: '[PRE0]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The hostname is resolved with the configured DNS server and the IP address
    is obtained to perform the scan. If multiple IP address are associated with one
    hostname, the first IP address will be scanned and the result will be displayed.
    The following syntax allows `nmap` to perform scans on all the IP addresses resolved
    with the hostname provided in the command:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 主机名将与配置的DNS服务器解析，并获取IP地址执行扫描。如果一个主机名关联多个IP地址，则将扫描第一个IP地址并显示结果。以下语法允许`nmap`对命令中提供的主机名解析的所有IP地址执行扫描：
- en: '[PRE1]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Nmap also supports scanning the whole subnet, provided that you append the mask
    at the end of an IP address or hostname. Then, Nmap will consider all the resolved
    IP addresses in the range of the mask mentioned. For example, `10.0.0.1/24` would
    scan the `256` hosts between `10.0.0.1` and `10.0.0.255`, including `.1`, and
    `.255`. `10.0.0.21/24` would scan exactly the same targets.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap还支持扫描整个子网，只要在IP地址或主机名的末尾附加掩码即可。然后，Nmap将考虑所提及掩码范围内的所有解析IP地址。例如，`10.0.0.1/24`将扫描`10.0.0.1`和`10.0.0.255`之间的`256`个主机，包括`.1`和`.255`。`10.0.0.21/24`将扫描完全相同的目标。
- en: 'Nmap also allows you to resolve an entire subnet and then exclude certain hosts
    from scanning. For example, the following syntax allows you to scan all the hosts
    resolved for `10.0.0.1/24` except any IP addresses whose last network bits are
    `.1` or `.255`:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap还允许您解析整个子网，然后排除某些主机进行扫描。例如，以下语法允许您扫描为`10.0.0.1/24`解析的所有主机，但排除最后网络位为`.1`或`.255`的任何IP地址：
- en: '[PRE2]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This can be used in any of the four network bits, such as `10.0.1-254.1-254`,
    which will allow you to skip IP addresses  `10.0.0.0` , `10.0.0.255`,  `10.0.255.0`,
    and `10.0.255.255`. Nmap also supports fully qualified IPv6 addresses, but not
    octet range. For an IPv6 address with non-global scope, the zone suffix ID needs
    to be mentioned.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以用于四个网络位中的任何一个，例如`10.0.1-254.1-254`，这将允许您跳过IP地址`10.0.0.0`，`10.0.0.255`，`10.0.255.0`和`10.0.255.255`。Nmap还支持完全合格的IPv6地址，但不支持八位范围。对于具有非全局范围的IPv6地址，需要提及区域后缀ID。
- en: 'Nmap supports various input formats for a user to specify the targets. The
    following are the switches that can be used to mention the hosts on the specified
    format:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap支持各种输入格式，供用户指定目标。以下是可以用来提及指定格式上的主机的开关：
- en: '[PRE3]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This will allow the user to create a text file with a list of all the IP addresses/range
    to be scanned. This is a feasible option when you have many IP addresses to be
    scanned. For example, if you want to scan all the IP addresses from different
    subnets for a medium-scale organization with more than 10,000 assets, it is not
    feasible to enter these IP addresses on the command line. Instead, create a text
    file with a list of all the IP addresses to be scanned and mention the filename
    with the absolute path after `-iL`. `Nmap` then fetches the list of IP addresses
    from the file and performs the scan:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 这将允许用户创建一个文本文件，其中列出了要扫描的所有IP地址/范围。当您有许多IP地址要扫描时，这是一个可行的选择。例如，如果您要扫描来自不同子网的所有IP地址，用于具有超过10,000个资产的中型组织，那么在命令行中输入这些IP地址是不可行的。相反，创建一个文本文件，列出要扫描的所有IP地址，并在`-iL`之后提及带有绝对路径的文件名。然后，`Nmap`从文件中获取IP地址列表并执行扫描：
- en: '[PRE4]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'For large organizations and internet-based scans, you may want to scan random
    targets or identify unknown targets. The `–iR` switch with the appended number
    of random hosts to be identified for scans will allow the user to perform these
    operations. For example, if you are trying to identify eight random hosts with
    the ftp port open, the following syntax can be used:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大型组织和基于互联网的扫描，您可能希望扫描随机目标或识别未知目标。`-iR`开关与附加的要识别的随机主机数量将允许用户执行这些操作。例如，如果您要识别具有打开ftp端口的八个随机主机，则可以使用以下语法：
- en: '[PRE5]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The following syntax will help you to exclude servers when your input is a
    range of servers, a subnet, or a pre-existing large list of servers. The hosts
    mentioned along with this switch are omitted from scanning, thereby preventing
    the servers from being hit with any unwanted traffic:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 以下语法将帮助您在输入为服务器范围、子网或预先存在的大型服务器列表时排除服务器。与此开关一起提及的主机将被排除在扫描之外，从而防止服务器受到任何不必要的流量的影响：
- en: '[PRE6]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The following command works similarly to the preceding syntax, except that
    the host exclusion list is fetched from a file instead of manually mentioning
    the server list. This is feasible when the list of hosts to be excluded from the
    scan is long:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令与前面的语法类似，只是主机排除列表是从文件中获取的，而不是手动提及服务器列表。当要排除的主机列表很长时，这是可行的：
- en: '[PRE7]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Getting ready
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'In order to perform this activity, you will have to satisfy the following prerequisites
    on your machine:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 为了执行这项活动，您将需要满足您的机器上的以下先决条件：
- en: Install Nmap.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Nmap。
- en: Provide network access to the hosts on which the scans are to be performed.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为要执行扫描的主机提供网络访问权限。
- en: In order to install Nmap, you can follow the instructions provided in [Chapter
    2](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml), *Understanding Network Scanning
    Tools*. This will allow you to download a compatible version of Nmap and install
    all the required plugins. In order to check whether your machine has Nmap installed,
    open Command Prompt and type Nmap.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Nmap，您可以按照[第2章](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml)中提供的说明进行操作，*了解网络扫描工具*。这将允许您下载兼容版本的Nmap并安装所有必需的插件。为了检查您的机器是否安装了Nmap，请打开命令提示符并输入Nmap。
- en: 'If Nmap is installed, you will see a screen similar to the following screenshot:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果安装了Nmap，您将看到类似以下截图的屏幕：
- en: '![](img/65a2b4fb-4366-49db-8617-6e497b40ff3e.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](img/65a2b4fb-4366-49db-8617-6e497b40ff3e.png)'
- en: If you do not see this screen, retry the step by moving the Command Prompt control
    into the folder where n`map` is installed (`C:\Program Files\nmap`). If you do
    not see the screen even after doing this, remove and reinstall n`map`.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有看到此屏幕，请将命令提示符控件移动到安装了n`map`的文件夹中（`C:\Program Files\nmap`）重试该步骤。即使这样做后仍然看不到屏幕，请删除并重新安装n`map`。
- en: To populate the open ports on hosts for which the scan is to be done, you are
    required to have network-level access to that particular host. A simple way to
    check whether you have access to the particular host is through ICMP by sending
    ping packets to the host. But this method works only if ICMP and ping is enabled
    in that network. If ICMP is disabled, live host detection technique varies, and
    we will see this in *How do it..* sections of this recipe.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 为了填充要扫描的主机上的开放端口，您需要对该特定主机具有网络级别的访问权限。通过向主机发送ping数据包来检查您是否可以访问特定主机的简单方法。但是，如果ICMP被禁用，活动主机检测技术会有所不同，我们将在本配方的*如何操作..*部分中看到这一点。
- en: The prerequisites for this recipe are common to all the other recipes in this
    chapter.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 这个配方的先决条件对本章中的所有其他配方都是通用的。
- en: How do it…
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Here are the steps:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Open `nmap` in Command Prompt.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开`nmap`。
- en: 'Enter the following syntax in Command Prompt to scan the IP address `192.168.75.136`:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法，扫描IP地址`192.168.75.136`：
- en: '[PRE8]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![](img/1ddfcd2c-a88c-4c5c-9563-23296a6873e1.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1ddfcd2c-a88c-4c5c-9563-23296a6873e1.png)'
- en: 'Enter the following syntax in  Command Prompt to scan the IP addresses present
    in the `ip.txt `file:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法，扫描`ip.txt`文件中存在的IP地址：
- en: '[PRE9]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![](img/326ad2c9-90db-457c-8d44-13d890042edb.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](img/326ad2c9-90db-457c-8d44-13d890042edb.png)'
- en: 'Enter the following syntax in the Command Prompt to exclude the `192.168.75.136`
    IP address from the scan list:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法，从扫描列表中排除`192.168.75.136` IP地址：
- en: '[PRE10]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '![](img/68ea50e6-a710-4318-9413-6a015e476b93.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](img/68ea50e6-a710-4318-9413-6a015e476b93.png)'
- en: 'Enter the following syntax in the Command Prompt to exclude the IP addresses
    mentioned in the `ip.txt` file from the scan list:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法，从扫描列表中排除`ip.txt`文件中提到的IP地址：
- en: '[PRE11]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '![](img/b09f22f5-079c-4d5c-8500-ec659d5ed321.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b09f22f5-079c-4d5c-8500-ec659d5ed321.png)'
- en: How it works...
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The options mentioned in this recipe help users to select targets at their convenience,
    irrespective of the size of their network or the provided list of hosts. Nmap
    does not require users to enter the final list of host to be scanned. Instead,
    as shown in this recipe, it provides various options to dynamically allow Nmap
    to select the targets based on various filters. The file-based filters allow Nmap
    to input a readily available list of hosts to be scanned, thereby reducing the
    effort required for customizations or formatting the lists.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 本配方中提到的选项帮助用户根据自己的便利选择目标，而不管他们的网络规模或提供的主机列表大小如何。Nmap不需要用户输入要扫描的最终主机列表。相反，正如本配方所示，它提供了各种选项，以动态允许Nmap根据各种过滤器选择目标。基于文件的过滤器允许Nmap输入一个现成的主机列表，从而减少了定制或格式化列表所需的工作量。
- en: How to perform host discovery
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何执行主机发现
- en: One of the basic techniques of identifying a running host is by sending an ICMP
    ping packet and analyzing the response to draw a conclusion. What if the host
    or the network is blocking ICMP packets at the network level or the host level?
    As per the ICMP technique, the host or the network will not pop up in the live
    host list. Host discovery is one of the core components of a network penetration
    test or vulnerability scan. A half-done host discovery can ignore hosts or networks
    from the scope and perform any further operation, thus leaving the network vulnerable.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 识别运行主机的基本技术之一是发送ICMP ping数据包并分析响应以得出结论。如果主机或网络在网络级别或主机级别阻止ICMP数据包，会怎么样？根据ICMP技术，主机或网络将不会出现在活动主机列表中。主机发现是网络渗透测试或漏洞扫描的核心组成部分。未完成的主机发现可能会忽略主机或网络的范围并执行任何进一步的操作，从而使网络变得脆弱。
- en: Nmap provides various options and techniques to identify the live host by sending
    customized packets to satisfy specific network conditions. If no such options
    are provided, Nmap by default sends an ICMP echo to identify the live hosts. The
    provided probe options can be combined to increase the odds of identifying further
    ports. Once Nmap probes for the live hosts and obtains a list of live hosts, it
    scans for the open ports by default.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap提供各种选项和技术，通过发送定制的数据包来识别活动主机以满足特定的网络条件。如果没有提供这样的选项，Nmap默认发送ICMP回显以识别活动主机。提供的探针选项可以组合以增加识别更多端口的几率。一旦Nmap探测到活动主机并获得活动主机列表，它将默认扫描开放端口。
- en: 'The following options are provided by Nmap to perform host discovery:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap提供以下选项来执行主机发现：
- en: '`–sL`: This option lists the IP addresses present in the provided subnet. It
    also tries to resolve the IP addresses to their hostnames. The hostnames can help
    an attacker or a penetration tester find out a great deal about the network. You
    will not be able to combine this with any other options, such as OS discovery,
    because the functionality is to just list the IP addresses.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: –sL：此选项列出提供的子网中存在的IP地址。它还尝试将IP地址解析为其主机名。主机名可以帮助攻击者或渗透测试人员了解网络的大量信息。您将无法将其与其他选项（如OS发现）结合使用，因为其功能仅是列出IP地址。
- en: '`-sn`: This option tells Nmap not to perform a port scan once the host discovery
    is performed. Instead it just lists out the live IP addresses found. This uses
    an ICMP echo to identify the available hosts, which will not work if there is
    a firewall present in the network.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sn`：此选项告诉Nmap在执行主机发现后不执行端口扫描。而是只列出找到的活动IP地址。这使用ICMP回显来识别可用主机，如果网络中存在防火墙，则无法正常工作。'
- en: '`-Pn` (No ping): Generally, Nmap performs activities such as probing, port
    detection, service detection, and OS detection options only if the hosts are found
    live. This option allows Nmap to perform all the operations on the list of hosts
    provided to scan. For example, if a class `C` IP address with subnet `/28` is
    specified, then Nmap performs probing on all the `255` hosts instead of checking
    for live hosts and performing the activity on them. This is an extensive scan
    option and generates a lot of traffic.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-Pn`（无ping）：通常，Nmap仅在发现主机活动时执行诸如探测、端口检测、服务检测和OS检测选项等活动。此选项允许Nmap对提供的主机列表执行所有扫描操作。例如，如果指定了一个带有子网`/28`的C类IP地址，则Nmap将对所有`255`个主机进行探测，而不是检查活动主机并对其执行活动。这是一个广泛的扫描选项，会产生大量流量。'
- en: '`-PS` (port list): This option sends an empty TCP packet with SYN flag set.
    This is also called a syn ping packet. Generally, for a full TCP connection to
    happen, an ACK is generated by the host on receiving the SYN packet. Once the
    ACK packet is received, the Nmap host generates a SYN/ACK packet, which then establishes
    a connection. Instead, Nmap sends an RST, which is a reset flag packet, to drop
    the connection and thus declare the port to be open. This will allow you to determine
    the open ports without actually creating a connection, because any connection
    made will be logged at the network and system levels. This option also allows
    attackers to not leave any tracks while performing the detection.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-PS`（端口列表）：此选项发送一个带有SYN标志的空TCP数据包。这也被称为syn ping数据包。通常，要进行完整的TCP连接，主机在接收到SYN数据包后会生成一个ACK。一旦收到ACK数据包，Nmap主机会生成一个SYN/ACK数据包，然后建立连接。相反，Nmap发送一个RST，即重置标志数据包，以关闭连接并声明端口为打开。这将允许您确定打开的端口，而无需实际创建连接，因为任何建立的连接都将在网络和系统级别记录下来。此选项还允许攻击者在执行检测时不留下任何痕迹。'
- en: There is no space between `-PS` and the port number. You can specify a range
    of ports to perform the operation on as well.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '`-PS`和端口号之间没有空格。您还可以指定要执行操作的端口范围。'
- en: '`-PA`(port list): This is similar to SYN scanning and is also known as the
    TCP ACK ping scan. Nmap generates TCP packets with ACK set. ACK basically acknowledges
    any data transferred over the connection, but there will be no existing connection
    from the Nmap machine to the host, thus it returns an RST-flag-enabled packet.
    This will allow Nmap to determine that the port is open and has a service functioning.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-PA`（端口列表）：这类似于SYN扫描，也称为TCP ACK ping扫描。Nmap生成带有ACK的TCP数据包。ACK基本上是确认连接传输的任何数据，但从Nmap机器到主机没有现有连接，因此会返回一个启用了RST标志的数据包。这将允许Nmap确定端口是打开的并且有服务正在运行。'
- en: '`-PU` (port list): This is also similar to TCP scans, but this UDP ping scan
    is for UDP ports. For most ports the packet is empty, except for any service-specific
    ports, such as DNS and NTP. If a DNS ping packet reaches a closed port, the UDP
    probe should trigger an ICMP unreachable response from the host. If this response
    is not generated or the connection appears to be idle, it means that the port
    is functioning and a service is running on the port.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-PU`（端口列表）：这与TCP扫描类似，但此UDP ping扫描用于UDP端口。对于大多数端口，数据包为空，除非是特定于服务的端口，例如DNS和NTP。如果DNS
    ping数据包到达关闭的端口，则UDP探测应该触发主机的ICMP不可达响应。如果未生成此响应或连接似乎处于空闲状态，则意味着端口正在运行并且端口上正在运行服务。'
- en: '`-PY` (port list): This switch generates an SCTP packet containing a part of
    INIT data. This means that you are trying to establish a connection. If the destination
    port is closed, an ABORT packet is sent back; otherwise, the connection moves
    on to the next step of a four-way handshake by replying with an INIT-ACK. Once
    the INIT-ACK is received, the Nmap machine sends an INIT-ACK and marks the port
    as open instead of creating a connection.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-PY`（端口列表）：此开关生成包含INIT数据部分的SCTP数据包。这意味着您正在尝试建立连接。如果目标端口关闭，则会发送一个ABORT数据包；否则，连接将继续到四次握手的下一步，通过回复INIT-ACK。一旦收到INIT-ACK，Nmap机器发送一个INIT-ACK并将端口标记为打开，而不是创建连接。'
- en: '`-PO` (protocol list): This protocol list scan allows Nmap to configure the
    packet with a couple of protocols enabled in the packet header, such as ICMP and
    IGMP, to see whether there are any host unreachable responses to determine that
    the protocols are not supported by the destination port, thereby marking the port
    as closed.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-PO`（协议列表）：此协议列表扫描允许Nmap在数据包头中配置启用了一对协议的数据包，例如ICMP和IGMP，以查看是否有任何主机不可达响应，从而确定目标端口不支持这些协议，从而将端口标记为关闭。'
- en: '`-PR` (ARP Ping): ARP scan allows Nmap to send ARP requests to the remote host.
    If there is any response then Nmap marks the host as live without examining any
    other results. This also supports IPv6.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-PR`（ARP Ping）：ARP扫描允许Nmap向远程主机发送ARP请求。如果有任何响应，Nmap会将主机标记为活动，而不检查任何其他结果。它还支持IPv6。'
- en: '`--disable-arp-ping`: This allows a user to obtain specific results when a
    network device or proxy responds to the ARP requests, creating a situation where
    all the hosts appear to be up.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--disable-arp-ping`：这允许用户在网络设备或代理响应ARP请求时获得特定结果，从而使所有主机看起来都是活动的。'
- en: '`--traceroute`: Traceroute is a post scan module that determines the best port
    to use to reach the remote host. This works by sending low TTL packets.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--traceroute`：Traceroute是一个后扫描模块，用于确定到达远程主机的最佳端口。这通过发送低TTL数据包来实现。'
- en: '`-n`: This allows users to skip the DNS resolution process. This can be slow,
    and thus the scan takes a lot of time.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-n`：这允许用户跳过DNS解析过程。这可能会很慢，因此扫描需要很长时间。'
- en: '`-R`: This option is the counterpart to `-n`. It mandates that Nmap performs
    reverse DNS resolutions for all the live hosts.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-R`：此选项是`-n`的对应项。它要求Nmap对所有活动主机执行反向DNS解析。'
- en: '`--system-dns`: This can be used to specify that the DNS servers used for resolution
    should be the DNS servers that are configured on the hosts.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--system-dns`：这可以用来指定解析时使用的DNS服务器应该是主机上配置的DNS服务器。'
- en: '`--dns-servers <server1>[,<server2>[,...]]`: This option can be used to define
    specific DNS addresses to be used for reverse DNS resolution.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--dns-servers <server1>[,<server2>[,...]]`：此选项可用于定义用于反向DNS解析的特定DNS地址。'
- en: How do it…
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何…
- en: 'These are the steps:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Open `nmap` in Command Prompt.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开`nmap`。
- en: 'Run the following syntax in the Command Prompt to perform a live scan only,
    and not probe for a port scan:'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法，只执行活动扫描，而不探测端口扫描：
- en: '[PRE12]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![](img/62549eba-8225-4a6b-9aca-b060708d5f08.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](img/62549eba-8225-4a6b-9aca-b060708d5f08.png)'
- en: 'Run the following syntax in the Command Prompt to perform a no ping scan:'
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行无ping扫描：
- en: '[PRE13]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '![](img/58275939-ee6b-4420-8016-1a548a23f99b.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/58275939-ee6b-4420-8016-1a548a23f99b.png)'
- en: How it works…
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理…
- en: These options help the user to streamline their requirement to identify the
    live hosts and thus perform further probes. Using these different scan options,
    a user can target a specific port and protocol to obtain the current status of
    the host. Most of these options can be further configured with advanced probing
    techniques, such as arguments for service detection and operating system detection,
    to obtain further information about these instances.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 这些选项帮助用户简化其要求，以识别活动主机并进一步进行探测。使用这些不同的扫描选项，用户可以针对特定端口和协议获取主机的当前状态。大多数这些选项可以进一步配置高级探测技术，例如服务检测和操作系统检测的参数，以获取有关这些实例的更多信息。
- en: How to identify open ports
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何识别打开的端口
- en: 'The following are the six port states that are present in Nmap:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是Nmap中存在的六种端口状态：
- en: '`open`: This means that the port is functioning and has a service running or
    accessing it. The service can thus accept any connections made as per the protocol
    and service in use on this port.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`open`：这意味着端口正在运行并且有一个服务正在访问它。因此，该服务可以接受根据端口上使用的协议和服务进行的任何连接。'
- en: '`closed`: A closed port is not being accessed by any service, there is no service
    running on it. Thus, no connections made externally will be successful on these
    ports.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`closed`：关闭的端口没有被任何服务访问，上面没有运行任何服务。因此，外部不会成功连接到这些端口。'
- en: '`filtered`: This status is associated with ports from which no response was
    received due to the packet filtering mechanism present within the network.  This
    might be caused by an intermediate network protection device.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`filtered`：此状态与由于网络中存在的数据包过滤机制而未收到响应的端口相关。这可能是由中间网络保护设备引起的。'
- en: '`unfiltered`: This status is associated with the ports that Nmap was not able
    to determine whether they were open or closed. Mostly ACK scan labels ports to
    be in unfiltered state; moreover, scans such as SYN and FIN can help resolve such
    issues.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`unfiltered`：此状态与Nmap无法确定端口是打开还是关闭有关。大多数ACK扫描标签端口处于未过滤状态；此外，SYN和FIN等扫描可以帮助解决此类问题。'
- en: '`Open|filtered`: Nmap classifies ports with this type when no response is received
    from them. The UDP, IP protocol, FIN, NULL, and Xmas scans associate this status
    with the ports.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Open|filtered`：当没有从端口收到响应时，Nmap将此类型的端口分类。UDP、IP协议、FIN、NULL和Xmas扫描将此状态与端口相关联。'
- en: '`closed|filtered`: This status is associated with ports that Nmap was not able
    to determine whether they were open or closed. Only idle scans use this status.
    Nmap provides various scan options for the user to craft a packet to obtain the
    desired result for Nmap to classify whether the port is open or closed. Most of
    these scan types are only allowed for administrative users because they have access
    to creating and sending raw packets.'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`closed|filtered`：此状态与Nmap无法确定端口是打开还是关闭有关。只有空闲扫描使用此状态。Nmap为用户提供各种扫描选项，以便用户制作数据包以获取Nmap所需的结果，以便分类端口是打开还是关闭。大多数这些扫描类型仅允许管理员用户使用，因为他们可以创建和发送原始数据包。'
- en: '`-sS (TCP SYN Scan)`: This is also called a half-open scan because TCP requires
    a three-way handshake to be completed before a connection is established. The
    Nmap machine generates a TCP SYN packet to which the remote port responds with
    TCP ACK, and then instead of sending a SYN/ACK packet, Nmap sends an RST flag
    to destroy the handshake, thereby preventing a connection. The port is considered
    if the Nmap SYN packet receives an ACK or SYN packet as a response.'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sS（TCP SYN扫描）`：这也被称为半开放扫描，因为TCP在建立连接之前需要完成三次握手。Nmap机器生成一个TCP SYN数据包，远程端口响应TCP
    ACK，然后Nmap发送一个RST标志来破坏握手，从而阻止连接。如果Nmap SYN数据包收到ACK或SYN数据包作为响应，则端口被认为是打开的。'
- en: '`-sT (TCP connect scan)`: If a user does not have the required privileges to
    send a raw packet, or when a SYN scan is not an option, a TCP connect scan is
    used. As the name suggests, Nmap performs a complete three-way handshake and creates
    a connection to consider a port to be open.'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sT（TCP连接扫描）`：如果用户没有发送原始数据包的必要权限，或者SYN扫描不可行，将使用TCP连接扫描。顾名思义，Nmap执行完整的三次握手并创建连接以将端口视为打开。'
- en: '`-sU (UDP scans)`: UDP scans send a packet to well-known ports, such as `53` and
    `61`, and it can then be performed on all ports. It sends protocol-specific packets
    to the famous ports and a generic UDP packet to the remaining ports. If the ports
    scanned return an ICMP unreachable error, then the port is closed. But if there
    is no response from a port it is marked as open filtered. In order to find out
    whether the port is actually running a service and is open, we can run a service
    detection scan.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sU (UDP扫描)`: UDP扫描向知名端口发送一个数据包，如`53`和`61`，然后可以在所有端口上执行。它向著名端口发送特定于协议的数据包，并向其余端口发送通用UDP数据包。如果扫描的端口返回ICMP不可达错误，则该端口已关闭。但如果端口没有响应，则标记为开放过滤。为了找出端口是否实际运行了服务并且是开放的，我们可以运行服务检测扫描。'
- en: '` -sY (SCTP INIT scan)`: The SCTP INIT scan has already been discussed in the
    *How to perform host discovery* section. In order to perform this scan, there
    should be a running SCTP module.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sY (SCTP INIT扫描)`: SCTP INIT扫描已经在*如何执行主机发现*部分讨论过。要执行此扫描，应该有一个正在运行的SCTP模块。'
- en: '`-sN; -sF; -sX (TCP NULL, FIN, and Xmas scans)`: In order to perform a deeper
    probe, Nmap provides an option to craft packets with different flags, such as
    FIN, PSH, and URG. If no flags are set, then it is called a Null scan. If FIN
    flags are set, then it is called a FIN scan, and if all three flags are set, then
    it is called an Xmas scan.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sN; -sF; -sX (TCP NULL、FIN和Xmas扫描)`: 为了进行更深入的探测，Nmap提供了一个选项，可以制作带有不同标志的数据包，如FIN、PSH和URG。如果没有设置任何标志，则称为Null扫描。如果设置了FIN标志，则称为FIN扫描，如果设置了所有三个标志，则称为Xmas扫描。'
- en: '`-sA (TCP ACK scan)`: The TCP ACK scan has already been discussed in the *How
    to perform host discovery* section.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sA (TCP ACK扫描)`: TCP ACK扫描已经在*如何执行主机发现*部分讨论过。'
- en: '` -sW (TCP Window scan)`: The TCP Window scan works by the value of the TCP
    Window field of the RST packets received. Most systems have a window of zero for
    the RST packet of closed ports and a positive value for the open ports. This lists
    the port as closed instead of unfiltered once the RST packet is received.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sW (TCP窗口扫描)`: TCP窗口扫描通过接收到的RST数据包的TCP窗口字段的值来工作。大多数系统对于关闭端口的RST数据包具有零窗口值，对于打开端口则具有正值。一旦接收到RST数据包，它将把端口列为关闭而不是未过滤。'
- en: '`--scanflags (Custom TCP scan)`: The `Custom TCP scan` allows a user to set
    various flags in the TCP packet, such as URG, SYN, ACK, FIN, PSH, URG, and RST,
    thereby allowing the user to create a custom packet for the probe.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--scanflags (自定义TCP扫描)`: `自定义TCP扫描`允许用户在TCP数据包中设置各种标志，如URG、SYN、ACK、FIN、PSH、URG和RST，从而允许用户为探测创建自定义数据包。'
- en: '`-sO (IP protocol scan)`: This scan allows you to define the protocol for which
    the scan is being performed, such as TCP, UDP, ICMP, and IGMP, thus a specific
    packet is created for the probe.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sO (IP协议扫描)`: 此扫描允许您定义正在执行扫描的协议，如TCP、UDP、ICMP和IGMP，因此为探测创建了一个特定的数据包。'
- en: '`-b <FTP relay host> (FTP bounce scan)`: This allows the user to connect to
    one FTP host and then relay the files to another FTP host, which is mentioned
    in the argument.'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-b <FTP中继主机> (FTP反弹扫描)`: 这允许用户连接到一个FTP主机，然后将文件中继到另一个FTP主机，该主机在参数中提到。'
- en: How do it…
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'These are the steps:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '以下是步骤:'
- en: Open `nmap` in Command Prompt.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开`nmap`。
- en: 'Run the following syntax in the Command Prompt to perform a TCP SYN scan:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行TCP SYN扫描：
- en: '[PRE14]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![](img/b37cee37-1e84-4e96-ad93-5892e06904fc.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b37cee37-1e84-4e96-ad93-5892e06904fc.png)'
- en: 'Run the following syntax in the Command Prompt to perform a TCP Connect scan:'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行TCP连接扫描：
- en: '[PRE15]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![](img/c91515f1-dfbf-4c3e-bc00-40ad551d9dd7.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c91515f1-dfbf-4c3e-bc00-40ad551d9dd7.png)'
- en: 'Run the following syntax in the Command Prompt to perform a TCP NULL scan:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在命令提示符中运行以下语法以执行TCP NULL扫描:'
- en: '[PRE16]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![](img/ededddd1-4dae-4fe5-9992-2cf546b49dd9.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ededddd1-4dae-4fe5-9992-2cf546b49dd9.png)'
- en: How it works…
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: These options help the user to streamline their requirement to identify the
    open ports and thus perform further attacks. Using these different port scan options,
    a user can target a specific port and protocol to obtain the current status of
    the port. Further reconnaissance can be performed on the port by obtaining the
    exact service name and the version, which we will see in further sections of the
    book.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 这些选项帮助用户简化其需求，以识别开放的端口，从而执行进一步的攻击。使用这些不同的端口扫描选项，用户可以针对特定端口和协议获取端口的当前状态。可以通过获取确切的服务名称和版本来对端口进行进一步的侦察，我们将在本书的后续部分中看到。
- en: How to manage specification and scan order
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何管理规范和扫描顺序
- en: 'Nmap provides various options to specify ports to be scanned in a random or
    sequential order. All the Nmap scans, without any ports specified or any specific
    NSE script provided as an argument, by default scan only the top 1,000 ports:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 'Nmap提供了各种选项，以随机或顺序指定要扫描的端口。所有Nmap扫描，默认情况下只扫描前1,000个端口，没有指定任何端口或提供任何特定的NSE脚本作为参数:'
- en: '`-p <port ranges>`: This option can be used to configure the ports to be scanned
    in multiple formats. It can be a range or a list. General representation of the
    syntax would be `–p1-65535` if you want to perform a full port scan or `–p1`,
    `2`, `3`, or `4` as a random list that can be non-serial in nature.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-p <端口范围>`: 此选项可用于配置要以多种格式扫描的端口。它可以是一个范围或一个列表。语法的一般表示形式将是`–p1-65535`，如果要执行完整的端口扫描，或者`–p1`、`2`、`3`或`4`作为一个非连续的随机列表。'
- en: '`--exclude-ports <port ranges>`: It is a tedious task to prepare a list of
    ports to be scanned when the requirement is a full port with a few exclusions.
    In such cases, you can use the exclude ports flag to exclude the ports that are
    not to be scanned.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--exclude-ports <端口范围>`: 当需要全端口扫描并排除一些端口时，准备要扫描的端口列表是一项繁琐的任务。在这种情况下，您可以使用排除端口标志来排除不需要扫描的端口。'
- en: '`-F (Fast (limited port) scan)`: The fast scan further reduces the default
    number of ports scanned from 1,000 to 100\. This will reduce the scan time immensely
    and thus provide quicker results, as the name suggests.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-F (快速(有限端口)扫描)`: 快速扫描进一步将默认扫描的端口数量从1,000减少到100。这将极大地减少扫描时间，从而提供更快的结果，正如其名称所示。'
- en: '`-r (Don''t randomize ports)`: By default, Nmap randomizes the port order for
    the scan. This option allows the user to instruct Nmap to follow a strict order
    for the ports to be scanned.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-r（不要随机化端口）`：默认情况下，Nmap会对扫描的端口顺序进行随机化。此选项允许用户指示Nmap按照严格的顺序扫描端口。'
- en: '`--port-ratio <ratio>`: This scans all ports in the Nmap-services file with
    a ratio greater than the one given. `<ratio>` must be between `0.0` and `1.0`.'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--port-ratio <ratio>`：使用比给定比例大的比例扫描Nmap-services文件中的所有端口。`<ratio>`必须在`0.0`和`1.0`之间。'
- en: '`--top-ports <n>`: This scans the `<n>` highest-ratio ports found in the Nmap-services
    file after excluding all ports specified by `--exclude-ports`. `<n>` must be `1`
    or greater.'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--top-ports <n>`：在排除了`--exclude-ports`指定的所有端口后，扫描Nmap-services文件中找到的`<n>`个最高比例的端口。`<n>`必须是`1`或更大。'
- en: How do it…
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'Here are the steps:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Open `nmap` in Command Prompt.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开`nmap`。
- en: 'Run the following syntax in the Command Prompt to perform a scan between ports
    `0-100`:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以在端口`0-100`之间执行扫描：
- en: '[PRE17]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![](img/e813fc01-460b-417c-b749-215d513d1695.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e813fc01-460b-417c-b749-215d513d1695.png)'
- en: 'Run the following syntax in the Command Prompt to perform a fast scan on the
    top `100` ports:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以在前`100`个端口上执行快速扫描：
- en: '[PRE18]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '![](img/81bd1db5-a73c-4394-a4db-721f5c0d8c20.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](img/81bd1db5-a73c-4394-a4db-721f5c0d8c20.png)'
- en: 'Run the following syntax in the Command Prompt to perform a scan without any
    port specification:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行不带任何端口规范的扫描：
- en: '[PRE19]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '![](img/05d93e1f-d75c-449e-86cf-6766537a2ba4.png)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![](img/05d93e1f-d75c-449e-86cf-6766537a2ba4.png)'
- en: How it works…
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理…
- en: Providing options to specify the ports in both ranges and lists will allow the
    user to optimize their scans, thereby delivering quicker results, as a full port
    scan in general takes 10 times longer than a 1,000-port scan or a port-specified
    scan. This will also allow the user to find out hosts with specific ports open.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 提供指定范围和列表中的端口的选项将允许用户优化其扫描，从而提供更快的结果，因为一般来说完整的端口扫描需要的时间是1000端口扫描或指定端口扫描的10倍。这也将允许用户找出具有特定开放端口的主机。
- en: How to perform a script and version scan
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何执行脚本和版本扫描
- en: While performing penetration tests, reconnaissance is really important for informing
    the next steps of testing. Even though Nmap provides the open ports and the version
    of the service running on the port, you will need to know the exact version or
    the name of the service that is running to prepare further exploits or to gain
    further knowledge of the system.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行渗透测试时，侦察对于通知测试的下一步非常重要。即使Nmap提供了开放端口和端口上运行的服务的版本，您仍需要知道正在运行的服务的确切版本或名称，以准备进一步的利用或获取对系统的进一步了解。
- en: 'The Nmap-service-probes database contains specific packet construction techniques
    to probe specific services and analyze the responses received from them. Nmap
    provides information about the service protocol, the application name, the version
    number, the hostname, the device type, and the OS family. It also sometimes determines
    whether the service is open to connections or if any default logins are available
    for the service:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap-service-probes数据库包含特定的数据包构造技术，用于探测特定服务并分析从中收到的响应。Nmap提供有关服务协议、应用程序名称、版本号、主机名、设备类型和操作系统系列的信息。有时还会确定服务是否开放连接，或者服务是否有默认登录可用：
- en: '`-sV` (version detection): This flag enables Nmap to perform version detection
    on the particular host. This flag has options that can be used in conjunction
    with it.'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-sV`（版本检测）：此标志使Nmap能够对特定主机执行版本检测。此标志有可以与其一起使用的选项。'
- en: '`--allports`: Nmap skips some ports that have a default function enabled when
    a connection is made. This option will enable users to skip any such exclusions
    and perform an all-port scan as per the syntax provided.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--allports`：Nmap跳过了一些在建立连接时启用默认功能的端口。此选项将使用户跳过任何此类排除，并根据提供的语法执行全端口扫描。'
- en: '`--version-intensity <intensity>`: This defines the intensity with which the
    probes are configured to determine the version. The value of this flag has a range
    between `0-9`, the default being `7`. The higher the value, the better the chances
    of the service versions being accurate.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--version-intensity <intensity>`：定义了配置探测版本的强度。此标志的值在`0-9`之间， 默认值为`7`。值越高，服务版本准确性越高。'
- en: '`--version-light`: This is used to configure lighter probes to reduce the scan
    time.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--version-light`：用于配置轻量级探测以减少扫描时间。'
- en: '`--version-all`: This sets the probe intensity at `9`, thereby making the scan
    slower and the results having a chance of being more accurate.'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--version-all`：这将将探测强度设置为`9`，从而使扫描变慢，并且结果有可能更准确。'
- en: '`--version-trace`: This prints out a lot of information about the version scans
    that are being performed.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--version-trace`：这将打印有关正在执行的版本扫描的大量信息。'
- en: How do it…
  id: totrans-152
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'Here are the steps:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Open `nmap` in Command Prompt.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开`nmap`。
- en: 'Run the following syntax in the Command Prompt to perform a service scan on
    the port range `0-100`:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以在端口范围`0-100`上执行服务扫描：
- en: '[PRE20]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '![](img/b4bf7bdf-b8f3-47cf-acef-814cbc833773.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b4bf7bdf-b8f3-47cf-acef-814cbc833773.png)'
- en: 'Run the following syntax in the Command Prompt to perform a service scan on
    the port range `0-100` and see debug info of the scan:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以在端口范围`0-100`上执行服务扫描，并查看扫描的调试信息：
- en: '[PRE21]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '![](img/92f4cd54-57bb-4ba3-a496-33731f2d5b20.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](img/92f4cd54-57bb-4ba3-a496-33731f2d5b20.png)'
- en: How it works …
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理…
- en: A version scan helps the user obtain approximate version and name of the service
    running. For example, if a user identifies that a certain version of the FTP is
    running on the remote host, they can search for related exploits for that version
    as there will be version-dependent vulnerabilities.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 版本扫描有助于用户获取运行的服务的近似版本和名称。例如，如果用户确定远程主机上运行的FTP的某个版本，他们可以搜索该版本的相关漏洞，因为会有版本相关的漏洞。
- en: How to detect operating system
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何检测操作系统
- en: 'Nmap uses TCP/IP stack fingerprinting for OS detection.This is done by crafting
    custom TCP and UDP packets and analyzing their responses. After generating various
    such probes and comparing the results to the `Nmap-os-db` database of more than
    2,600 known OS fingerprints and provides the OS version. The fingerprint provides
    details such as the vendor name, OS name, OS generation, device type, and also
    their Common Platform Enumeration (CPE) representation. Nmap also provides an
    option for the user to submit the fingerprint obtained if it is not present in
    the Nmap database of operating signatures:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap使用TCP/IP堆栈指纹识别进行操作系统检测。这是通过制作自定义TCP和UDP数据包并分析它们的响应来完成的。在生成各种此类探测并将结果与`Nmap-os-db`数据库中的2600多个已知操作系统指纹进行比较后，提供操作系统版本。指纹提供了供应商名称、操作系统名称、操作系统生成、设备类型，以及它们的通用平台枚举（CPE）表示。Nmap还为用户提供了一个选项，如果获得的指纹不在Nmap操作系统签名数据库中，则可以提交该指纹：
- en: '`-O` (Enable OS detection): This enables OS detection for an Nmap scan. This
    flag further has options that can be used in conjunction with it.'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: -O（启用操作系统检测）：这将为Nmap扫描启用操作系统检测。该标志进一步具有可以与其一起使用的选项。
- en: '`--osscan-limit`: This option will reduce the scan time when a list of hosts
    is being scanned by skipping the hosts with no ports open for OS detection, thereby
    providing faster results for live hosts.'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: --osscan-limit：当扫描主机列表时，此选项将通过跳过没有用于操作系统检测的开放端口的主机来减少扫描时间，从而为活动主机提供更快的结果。
- en: '`--osscan-guess; --fuzzy`: If Nmap is not able to identify the OS, it tries
    to provide the closest signature, and the similarities between the signatures
    should be very high. The flags listed here will allow Nmap to guess more aggressively
    whether the exact OS has been found.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: --osscan-guess; --fuzzy：如果Nmap无法识别操作系统，它会尝试提供最接近的签名，签名之间的相似性应该非常高。这里列出的标志将允许Nmap更积极地猜测是否找到了确切的操作系统。
- en: '`--max-os-tries`: Nmap by default retries five times if the operating system
    probe is not able to identify a perfect match. This will allow the users to limit
    these tries and thus save a lot of scan time.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: --max-os-tries：如果操作系统探测无法识别完美匹配，默认情况下Nmap会重试五次。这将允许用户限制这些尝试，从而节省大量扫描时间。
- en: How do it…
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'Here are the steps:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Open `nmap` in Command Prompt.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开`nmap`。
- en: 'Run the following syntax in the Command Prompt to perform OS detection:'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行操作系统检测：
- en: '[PRE22]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '![](img/aa75b831-7d28-4cdc-b8c2-36eec6403aa9.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aa75b831-7d28-4cdc-b8c2-36eec6403aa9.png)'
- en: How it works…
  id: totrans-175
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Identifying the operating system running on a remote host could be of great
    use to any vulnerability scanning or penetration testing process, as this will
    allow you to differentiate between the applicable vulnerabilities and exploits.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 识别远程主机上运行的操作系统对于任何漏洞扫描或渗透测试过程都非常有用，因为这将使您能够区分适用的漏洞和利用。
- en: How to detect and bypass network protection systems
  id: totrans-177
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何检测和绕过网络保护系统
- en: 'The basic function of Nmap is to generate custom packets and analyze their
    response once they are sent to the remote hosts. This sometimes is not allowed
    by network protection systems such as firewalls and intrusion prevention and detection
    systems. In this recipe, we will discuss some of the methods that can be used
    to bypass these protections:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap的基本功能是生成自定义数据包并分析它们的响应，一旦它们被发送到远程主机。这有时是不被防火墙和入侵预防和检测系统等网络保护系统允许的。在本教程中，我们将讨论一些可以用来绕过这些保护的方法。
- en: '`-f` (Fragment packets): Most firewalls perform stateful and stateless packet
    inspection for which they examine the content of the packets and decide whether
    to allow the packet or drop it based on its contents. In order to bypass this,
    Nmap provides an option to fragment the packets so that the network device will
    not be able to construct the packet to read the correct contents, thereby bypassing
    the protection.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: -f（分段数据包）：大多数防火墙执行有状态和无状态数据包检查，它们检查数据包的内容并根据其内容决定是否允许数据包通过。为了绕过这一点，Nmap提供了一个选项来分段数据包，以便网络设备无法构造数据包以读取正确的内容，从而绕过保护。
- en: '`--mtu` (Maximum transmission unit specification): This works similar to the
    preceding method of creating packets of different sizes. With MTU you can specify
    the packet size in multiples of `8`, such as `8`, `16`, `24`, `32`, and so on.
    This will allow Nmap to create packets of this size, thereby bypassing the protection.'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: --mtu（最大传输单元规范）：这与创建不同大小的数据包的先前方法类似。使用MTU，您可以指定数据包大小的倍数为`8`，如`8`、`16`、`24`、`32`等。这将允许Nmap创建这个大小的数据包，从而绕过保护。
- en: '`-D` (decoy address): This will allow Nmap to generate packets from a decoy
    address. This will generate similar traffic with multiple source IP addresses,
    thereby making it difficult for the network protection system to determine the
    source of traffic generation.'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: -D（伪装地址）：这将允许Nmap从伪装地址生成数据包。这将使用多个源IP地址生成类似的流量，从而使网络保护系统难以确定流量生成的来源。
- en: '`--source-port` (Source port specification): If the network device is configured
    to disallow traffic generated by Nmap from a specific port, setting a random port
    number using this option will allow you to bypass this configuration on the network
    protection system.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: --source-port（源端口规范）：如果网络设备配置为禁止从特定端口生成的流量，使用此选项设置一个随机端口号将允许您绕过网络保护系统上的此配置。
- en: '`--data-length` (Random data append): Using this option, you can add data to
    the packet generated by Nmap and then create a packet with a lot of unnecessary
    random data, making it difficult for the network protection system to understand
    and block the traffic.'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: --data-length（随机数据附加）：使用此选项，您可以向Nmap生成的数据包添加数据，然后创建一个包含大量不必要的随机数据的数据包，使网络保护系统难以理解和阻止流量。
- en: '`--randomize-hosts` (Randomizing hosts): This option will allow Nmap to scan
    the hosts randomly by generating pattern-less traffic, which could be ignored
    by the network protection system.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: --randomize-hosts（随机化主机）：此选项将允许Nmap通过生成无模式流量来随机扫描主机，这可能会被网络保护系统忽略。
- en: '` --spoof-mac` (MAC address spoofing): This option will allow the user to bypass
    any MAC address restriction put in place by the network protection systems.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--spoof-mac`（MAC地址欺骗）：此选项将允许用户绕过网络保护系统设置的任何MAC地址限制。'
- en: How do it…
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'Here are the steps:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Open `nmap` in the Command Prompt.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开`nmap`。
- en: 'Run the following syntax in the Command Prompt to perform a scan to generate
    fragmented packets:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行生成分段数据包的扫描：
- en: '[PRE23]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '![](img/350cd5fe-72dc-4871-844f-2330a67c951d.png)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![](img/350cd5fe-72dc-4871-844f-2330a67c951d.png)'
- en: 'Run the following syntax in the Command Prompt to perform a scan to generate
    packets with the MTU specification:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行扫描以生成具有MTU规范的数据包：
- en: '[PRE24]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '![](img/e659f63e-6b5f-416a-b4a7-c286f0d53c3f.png)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e659f63e-6b5f-416a-b4a7-c286f0d53c3f.png)'
- en: 'Run the following syntax in the Command Prompt to perform a decoy scan from
    the IP address mentioned:'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行从所述IP地址进行的诱饵扫描：
- en: '[PRE25]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '![](img/5c9c04b8-54da-419e-b1e2-3a3c40a090d5.png)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5c9c04b8-54da-419e-b1e2-3a3c40a090d5.png)'
- en: 'Run the following syntax in the Command Prompt to perform a scan to append
    random data to the packets:'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中运行以下语法以执行扫描以向数据包附加随机数据：
- en: '[PRE26]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '![](img/7b1d3af8-1304-4dab-9c0b-cbf47456d059.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7b1d3af8-1304-4dab-9c0b-cbf47456d059.png)'
- en: How it works…
  id: totrans-201
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Network protection systems such as firewalls and intrusion prevention and detection
    systems can result in false positives by dropping packets that consist of probes
    generated by Nmap. The bypass techniques can be used to develop better results
    in reconnaissance.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 诸如防火墙、入侵预防和检测系统之类的网络保护系统可能会通过丢弃Nmap生成的探测数据包而产生误报。绕过技术可用于在侦察中获得更好的结果。
- en: How to use Zenmap
  id: totrans-203
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何使用Zenmap
- en: 'Zenmap is the graphical interface of Nmap. It is open source and comes in the
    same installation package as Nmap:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: Zenmap是Nmap的图形界面。它是开源的，并且与Nmap相同的安装包一起提供：
- en: '![](img/1f2ac6ca-72e3-41ef-8da1-aa154f300d95.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1f2ac6ca-72e3-41ef-8da1-aa154f300d95.png)'
- en: Sometimes, working with command-line tools can be tedious for administrators,
    thus Zenmap acts as an alternate GUI option.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，使用命令行工具对管理员来说可能很繁琐，因此Zenmap充当了替代的图形用户界面选项。
- en: How do it…
  id: totrans-207
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'Here are the steps:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Open Zenmap from the list of programs.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从程序列表中打开Zenmap。
- en: 'Enter the target to be scanned in the text field provided, as shown here:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在提供的文本字段中输入要扫描的目标，如下所示：
- en: '![](img/b271c4f6-8610-426a-a632-f76dbca43b6c.png)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b271c4f6-8610-426a-a632-f76dbca43b6c.png)'
- en: 'Select Quick scan from the Profile drop-down list, as shown here:'
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从配置文件下拉列表中选择快速扫描，如下所示：
- en: '![](img/6e0323d6-0cce-4fb8-a8d7-d734d33d1bd3.png)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6e0323d6-0cce-4fb8-a8d7-d734d33d1bd3.png)'
- en: 'This will perform a fast scan with the `–F` option, thereby giving results
    for the top 100 ports along with a detailed analysis in different tabs, as shown
    in the following screenshot:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将使用`-F`选项执行快速扫描，从而在不同选项卡中显示前100个端口的结果以及详细分析，如下图所示：
- en: '![](img/83b00147-8efa-46e6-abd7-72556080e940.png)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![](img/83b00147-8efa-46e6-abd7-72556080e940.png)'
- en: 'The Ports/Hosts tab shows the various open ports along with the services and
    versions running on them based on the options selected in the scans:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 端口/主机选项卡显示了基于扫描中选择的选项的各种开放端口以及运行在其上的服务和版本：
- en: '![](img/5e3e61b5-38f2-4fe9-9b36-e8972439f75f.png)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5e3e61b5-38f2-4fe9-9b36-e8972439f75f.png)'
- en: 'The Topology tab shows the network topology detected. This will help an attacker
    to map the entire network in cases when entire subnets are scanned:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 拓扑选项卡显示了检测到的网络拓扑结构。这将帮助攻击者在扫描整个子网时绘制整个网络：
- en: '![](img/7ac4051a-edac-44ca-a17a-c4c518df6fbf.png)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7ac4051a-edac-44ca-a17a-c4c518df6fbf.png)'
- en: 'The Host Details tab gives information about the MAC address, the state of
    the host, the number of open and filtered ports, and more:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 主机详细信息选项卡提供有关MAC地址、主机状态、开放和过滤端口数量等信息：
- en: '![](img/85878cf3-c8fe-464f-88ca-83ab64bae5c7.png)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![](img/85878cf3-c8fe-464f-88ca-83ab64bae5c7.png)'
- en: How it works…
  id: totrans-222
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'Once the user selects the type of scan and the various other options provided
    by Zenmap and proceeds to scan, the Zenmap interface will call the Nmap engine
    in the backend to perform similar operations to the command-line interface:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦用户选择了扫描类型和Zenmap提供的各种其他选项，并继续扫描，Zenmap界面将调用后端的Nmap引擎来执行类似于命令行界面的操作：
- en: '![](img/7aa2195e-9122-4948-8c3a-3091aa2f5262.png)'
  id: totrans-224
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7aa2195e-9122-4948-8c3a-3091aa2f5262.png)'
- en: Zenmap also provides various other options to filter the hosts, compare results,
    search scan results, save scan results, and more.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: Zenmap还提供了各种其他选项，用于过滤主机、比较结果、搜索扫描结果、保存扫描结果等。
