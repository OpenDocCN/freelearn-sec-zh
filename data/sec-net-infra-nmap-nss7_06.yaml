- en: Report Analysis and Confirmation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 报告分析和确认
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下内容：
- en: Understanding Nmap outputs
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解Nmap输出
- en: Understanding Nessus outputs
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解Nessus输出
- en: How to confirm Nessus vulnerabilities using Nmap and other tools
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何使用Nmap和其他工具确认Nessus漏洞
- en: Introduction
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: In this chapter, we will be going through various recipes regarding the reports
    that can be generated using Nmap and Nessus. We will also look at a recipe on
    using Nmap to confirm vulnerabilities that are reported by Nessus. It is always
    required to confirm the vulnerabilities reported by a scanner, as there are chances
    of the scanner reporting false positive vulnerabilities. Confirming these vulnerabilities
    will allow the administrative team to focus on the confirmed vulnerabilities instead
    of wasting resources on false positives that have been reported. Both Nmap and
    Nessus generate different formats of reports, allowing the user to make a choice
    as per their requirements.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍使用Nmap和Nessus生成的报告的各种方法。我们还将看一下使用Nmap确认Nessus报告的漏洞的方法。始终需要确认扫描器报告的漏洞，因为有可能扫描器报告了假阳性漏洞。确认这些漏洞将允许管理团队专注于已确认的漏洞，而不是浪费资源在已报告的假阳性上。Nmap和Nessus生成不同格式的报告，允许用户根据其要求进行选择。
- en: Understanding Nmap outputs
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解Nmap输出
- en: Nmap displays results based on the responses it receives from the remote hosts.
    The more hosts that are scanned, the more complex the results are that are printed
    on the screen. Analyzing these results when printed in terminal or Command Prompt
    becomes impossible when the number of hosts increases. In order to solve this
    problem, Nmap supports various reporting formats which can be used as per the
    user's requirements. One of the simplest ways to store Nmap's output is to use
    a  `>>` operator followed by a text file name such as `output.txt`. This will
    allow Nmap to forward all the contents to that text file. Even the content of
    a text file becomes a nightmare to analyze for 10+ hosts. Nmap also gives a lot
    of verbose and debug information, along with a port scan, which can complicate
    this process even more. The operating system's detection and fingerprinting adds
    a lot more junk to this data.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap根据它从远程主机接收到的响应来显示结果。扫描的主机越多，打印在屏幕上的结果就越复杂。当主机数量增加时，在终端或命令提示符中打印这些结果变得不可能。为了解决这个问题，Nmap支持各种报告格式，可以根据用户的要求使用。存储Nmap输出的最简单方法之一是使用`>>`运算符，后面跟着一个文本文件名，比如`output.txt`。这将允许Nmap将所有内容转发到那个文本文件。即使对于10个以上的主机，文本文件的内容也变得难以分析。Nmap还提供了大量冗长和调试信息，以及端口扫描，这可能会使这个过程变得更加复杂。操作系统的检测和指纹识别为这些数据增加了更多的垃圾。
- en: 'The following command is used to run a SYN scan on the IP address `192.168.75.128`
    and store the output displayed to the `output.txt` file. This file can be found
    in the `C:\Users\admin` folder since Command Prompt is running in the same folder.
    Furthermore, you can store this file anywhere by just mentioning the absolute
    path of the file in double quotes:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令用于在IP地址`192.168.75.128`上运行SYN扫描，并将显示的输出存储到`output.txt`文件中。由于命令提示符在相同的文件夹中运行，因此可以在`C:\Users\admin`文件夹中找到此文件。此外，您可以通过在双引号中提及文件的绝对路径来将此文件存储在任何位置：
- en: '[PRE0]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Let''s see how the result can be copied to a text file by going through the
    following screenshots:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过以下截图来看看结果如何被复制到文本文件中：
- en: '![](img/3a70314e-1c1a-4a40-8cb7-5db9ef5ce80a.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3a70314e-1c1a-4a40-8cb7-5db9ef5ce80a.png)'
- en: 'Navigate to the Nmap installation folder and locate the `output.txt` file:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 导航到Nmap安装文件夹并找到`output.txt`文件：
- en: '![](img/da88a502-c8df-4724-8f24-a18522e6bfb7.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](img/da88a502-c8df-4724-8f24-a18522e6bfb7.png)'
- en: 'You can open this file using any text editor. I personally recommend Notepad++
    as it allows you to perform complex analysis on text files and displays them in
    a segregated manner:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用任何文本编辑器打开此文件。我个人推荐Notepad++，因为它允许您对文本文件进行复杂的分析，并以分隔的方式显示它们：
- en: '![](img/5d234020-0813-4438-b954-9d5f231dc44a.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d234020-0813-4438-b954-9d5f231dc44a.png)'
- en: 'Nmap allows a user to define the output format using command-line flags. The
    following lists explains the different flags that are allowed by Nmap:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 'Nmap允许用户使用命令行标志定义输出格式。以下列表解释了Nmap允许的不同标志： '
- en: '**Interactive output**: This is the type of output that is directly displayed
    in terminal or Command Prompt. This does not require any special Command Prompt
    argument or flag as this is the basic and default output format. This result is
    not stored or saved in any location; one can only access this output as long as
    Command Prompt or Terminal is not closed.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交互式输出**：这是直接显示在终端或命令提示符中的输出类型。这不需要任何特殊的命令提示符参数或标志，因为这是基本的默认输出格式。这个结果不会被存储或保存在任何位置；只有在命令提示符或终端没有关闭的情况下才能访问这个输出。'
- en: '**Normal output** (`-oN`): This output allows the user to save the interact
    output into a file selected by the user. This reporting option further trims down
    the output by omitting unnecessary verbose data from the interactive output scan
    based on the level of verbosity chosen by the user. This will allow the user to
    have a better look at the port scan results by omitting data that is not required.
    If a user needs performance data such as scan time and alerts, this is not the
    right format to choose. Furthermore, you can specify the file folder location
    by mentioning the absolute path or by launching Command Prompt with the same location
    as its path.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**正常输出**（`-oN`）：这个输出允许用户将交互式输出保存到用户选择的文件中。根据用户选择的冗长级别，这个报告选项进一步削减了交互式输出扫描中不必要的冗长数据。这将允许用户通过省略不需要的数据来更好地查看端口扫描结果。如果用户需要性能数据，比如扫描时间和警报，这不是正确的格式选择。此外，您可以通过提及绝对路径或启动具有相同路径的命令提示符来指定文件夹位置。'
- en: '**XML output** (`-oX`): This type of output is required to upload Nmap data
    to various tools and websites. Once this format is uploaded to any tool, it is
    then parsed by a parser so that we can understand the various data types in the
    output and segregate the data accordingly. There are many XML parses available
    as open source which are custom-built by various tool OEMs.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**XML输出**（`-oX`）：上传Nmap数据到各种工具和网站需要此类型的输出。一旦将此格式上传到任何工具，然后由解析器解析，以便我们可以理解输出中的各种数据类型并相应地对数据进行分离。有许多可用作开源的XML解析器，这些解析器是由各种工具OEM定制构建的。'
- en: '**Grepable output** (`-oG`): This format allows users to perform simple operations
    such as `grep`, `awk`, `cut`, and `diff` on the output that''s generated. The
    format follows a structure of creating a single-line output for every host with
    appropriate delimiters so that the user can use simple existing tools in the OS
    to separate and analyse the results. The Notepad++ utility is one such example
    that allows delimiter-based separation, which can be used to create a more meaningful
    report.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Grepable输出**（`-oG`）：此格式允许用户对生成的输出执行简单的操作，例如`grep`，`awk`，`cut`和`diff`。该格式遵循为每个主机创建单行输出的结构，并带有适当的分隔符，以便用户可以使用操作系统中的简单现有工具来分隔和分析结果。Notepad++实用程序就是这样一个例子，它允许基于分隔符的分隔，可以用于创建更有意义的报告。'
- en: '**Script kiddie** (`-oS`): This format prints the output in the script.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Script kiddie**（`-oS`）：此格式以脚本形式打印输出。'
- en: '**Save in all formats** (`-oA`): This flag allows the user to generate output
    in the three formats mentioned previously (`-oN`, `-oX`, and `–oG`). Instead of
    performing three different scans to obtain the output formats, one can simply
    use this flag to obtain all the three reported formats and save it in a file at
    a provided location.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**以所有格式保存**（`-oA`）：此标志允许用户以前面提到的三种格式（`-oN`，`-oX`和`-oG`）生成输出。用户可以简单地使用此标志一次性获得所有三种报告格式，并将其保存在提供的位置的文件中，而不是执行三次不同的扫描以获得输出格式。'
- en: 'Nmap also provides various other details as part of the scan results, some
    of which can be controlled by the verbosity options that are available. The following
    are the few extra pieces of data that are produced by the verbose option:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap还提供了作为扫描结果的一部分的各种其他详细信息，其中一些可以通过可用的详细选项来控制。以下是由详细选项产生的一些额外数据：
- en: '**Scan completion time estimates**: Nmap also provides performance data such
    as scan completion time in minutes to seconds, which allows the user to understand
    the time taken for Nmap to perform the scan. Nmap updates the user between intervals
    on the time taken and the task being performed, along with the percentage of completion.
    This allows the user to monitor network scans for larger networks and improve
    the script''s execution time occasionally.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**扫描完成时间估计**：Nmap还提供性能数据，例如以分钟为单位的扫描完成时间，这使用户可以了解Nmap执行扫描所需的时间。Nmap会在时间间隔内更新用户有关所花时间和正在执行的任务以及完成百分比的信息。这使用户可以监视更大网络的网络扫描并偶尔改善脚本的执行时间。'
- en: '**Open ports**: In a normal scan without verbose enabled, all of the open ports
    are displayed at the end of the scans. Instead, if verbose is enabled, each open
    port is displayed as soon as it is detected.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开放端口**：在未启用详细信息的正常扫描中，所有开放端口都会显示在扫描结束时。相反，如果启用了详细信息，则每个开放端口在检测到时都会立即显示。'
- en: '**Additional warnings**: Nmap also displays any warnings or errors that have
    occurred during the scan, whether the port scan is taking additional time, or
    any variance from normal behavior of the scan. This will allow the user to check
    for any network restrictions and act accordingly.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**附加警告**：Nmap还会显示在扫描过程中发生的任何警告或错误，无论端口扫描是否需要额外时间，还是与扫描的正常行为有任何差异。这将允许用户检查任何网络限制并相应地采取行动。'
- en: '**OS detection information**: OS detection in Nmap is performed using signature
    detection based on TCP ISN and IP ID prediction. If verbose is enabled and the
    OS detection option is selected, Nmap displays the prediction of these OSes.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OS检测信息**：Nmap中的OS检测是使用基于TCP ISN和IP ID预测的签名检测进行的。如果启用了详细信息，并选择了OS检测选项，Nmap将显示这些OS的预测。'
- en: '**Host status**: Nmap also prints the status of the host as detected during
    runtime, stating whether the host is live or dead:'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主机状态**：Nmap还会在运行时打印主机的状态，指示主机是活动的还是已关闭的：'
- en: '![](img/e644259a-ed97-4e8c-bbde-944690164a8f.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e644259a-ed97-4e8c-bbde-944690164a8f.png)'
- en: 'Some of the options that can be used along with the verbose ones to control
    the data displayed in the output are as follows:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 可以与详细信息一起使用的一些选项来控制输出中显示的数据如下：
- en: '**Debug output**: Debug mode is an additional flag option provided by Nmap
    to help the user with further data to understand the port scanning process at
    the packet level. This can be enabled by appending the verbosity syntax with `–d`.
    Furthermore, you can also set the debug level you want to enable, which ranges
    up to 9, by appending `-d9` to the verbose syntax. This is the highest level of
    debugging and provides a lot of technical data about the port scan being performed:'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**调试输出**：调试模式是Nmap提供的另一个附加标志选项，可帮助用户进一步了解端口扫描过程的数据。可以通过在详细信息语法后附加`-d`来启用此选项。此外，还可以通过在详细信息语法后附加`-d9`来设置要启用的调试级别，范围为1至9。这是最高级别的调试，提供有关正在执行的端口扫描的大量技术数据：'
- en: '![](img/40095613-b813-43df-81b0-ac88d46b5078.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](img/40095613-b813-43df-81b0-ac88d46b5078.png)'
- en: '**Packet trace**: This option allows the user to obtain the track of each packet
    that Nmap is sending. This will allow the user to gain a detailed understanding
    of the scan. This can be configured by appending `--packet-trace` to the verbose
    syntax:'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据包跟踪**：此选项允许用户获取Nmap正在发送的每个数据包的跟踪。这将使用户能够详细了解扫描。可以通过在详细信息语法后附加`--packet-trace`来配置此选项：'
- en: '![](img/2d7612e5-ee64-431e-a436-cf8e1792cee2.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2d7612e5-ee64-431e-a436-cf8e1792cee2.png)'
- en: Getting ready
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备就绪
- en: 'In order to complete this activity, you will have to satisfy the following
    prerequisites on your machine:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成此活动，您必须满足计算机上的以下先决条件：
- en: You must have Nmap installed.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您必须安装Nmap。
- en: You must have network access to the hosts on which the scans are to be performed.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您必须对要执行扫描的主机具有网络访问权限。
- en: 'In order to install Nmap, you can follow the instructions provided in [Chapter
    2](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml), *Understanding Network Scanning
    Tools*. This will allow you to download a compatible version of Nmap and install
    all the required plugins. In order to check whether your machine has Nmap installed,
    open Command Prompt and type `Nmap`. If Nmap is installed, you will see a screen
    similar to the following:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Nmap，可以按照[第2章](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml)中提供的说明进行操作，*了解网络扫描工具*。这将允许您下载兼容版本的Nmap并安装所有必需的插件。为了检查您的计算机是否安装了Nmap，请打开命令提示符并输入`Nmap`。如果Nmap已安装，您将看到类似以下的屏幕：
- en: '![](img/c7b49d51-14eb-4652-80bd-3dd2c34acfcb.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c7b49d51-14eb-4652-80bd-3dd2c34acfcb.png)'
- en: If you do not see the preceding screen, retry the same step by moving the Command
    Prompt control into the folder where Nmap is installed (`C:\Program Files\Nmap`).
    If you do not see the screen after doing this, remove and reinstall Nmap.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有看到上述屏幕，请将命令提示符控件移动到Nmap安装的文件夹（`C:\Program Files\Nmap`）中重试相同步骤。如果这样做后仍然看不到屏幕，请删除并重新安装Nmap。
- en: To populate the open ports on hosts where the scan is going to be performed,
    you are required to have network-level access to that host. A simple way to check
    whether you have access to the host is through ICMP by sending ping packets to
    the host. But this method only works if ICMP and ping are enabled in that network.
    In cases where ICMP is disabled, live host detection techniques vary. We will
    look at this in further sections of this book.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 为了填充扫描将要执行的主机上的开放端口，您需要对该主机具有网络级访问权限。通过向主机发送ping数据包来检查您是否可以访问主机是一种简单的方法。但是，如果在该网络中禁用了ICMP和ping，则此方法仅适用。在禁用ICMP的情况下，活动主机检测技术各不相同。我们将在本书的后续部分中详细介绍这一点。
- en: In order to obtain the preceding output, we need to install a virtual machine.
    In order to run a virtual machine, I would recommend using VMware's 30-day trial
    version, which can be downloaded and installed from [https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html).
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 为了获得上述输出，我们需要安装虚拟机。为了运行虚拟机，我建议使用VMware的30天试用版本，可以从[https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html)下载并安装。
- en: 'For the test system, readers can download Metasploitable (a vulnerable virtual
    machine by Rapid 7) from [https://information.rapid7.com/download-metasploitable-2017.html](https://information.rapid7.com/download-metasploitable-2017.html).
    Perform the following steps to open Metasploitable. This provides various components
    such as the operating system, database, and a vulnerable application, which will
    help us test the recipes in this chapter:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 对于测试系统，读者可以从[https://information.rapid7.com/download-metasploitable-2017.html](https://information.rapid7.com/download-metasploitable-2017.html)下载Metasploitable（Rapid
    7提供的一个易受攻击的虚拟机）。执行以下步骤打开Metasploitable。这提供了各种组件，如操作系统、数据库和易受攻击的应用程序，这将帮助我们测试本章的配方：
- en: 'Unzip the downloaded Metasploitable package:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解压下载的Metasploitable软件包：
- en: '![](img/3386810f-b74e-4cb6-bddb-553bc6cf9265.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3386810f-b74e-4cb6-bddb-553bc6cf9265.png)'
- en: 'Open the `.vmx` file using the installed VMware Workstation or VMware Player:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用安装的VMware Workstation或VMware Player打开`.vmx`文件：
- en: '![](img/1e6aa6bb-35a6-4bf4-994f-7ac81c473ac0.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1e6aa6bb-35a6-4bf4-994f-7ac81c473ac0.png)'
- en: 'Log in using `msfadmin`/`msfadmin` as the username and password:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`msfadmin`/`msfadmin`作为用户名和密码登录：
- en: '![](img/5f5b0990-5c5c-4b7e-b877-fa7234a9334b.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5f5b0990-5c5c-4b7e-b877-fa7234a9334b.png)'
- en: How do it…
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Perform the following steps:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: Open Nmap in Command Prompt.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中打开Nmap。
- en: 'Enter the following syntax in Command Prompt to obtain the interactive output:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法以获取交互式输出：
- en: '[PRE1]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](img/c768eace-d3cd-4c46-89f9-56f2160a8fec.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c768eace-d3cd-4c46-89f9-56f2160a8fec.png)'
- en: 'Enter the following syntax in Command Prompt to obtain the normal output:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法以获取正常输出：
- en: '[PRE2]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](img/4b1aeb28-33b2-4591-ae84-c90e6b75f721.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4b1aeb28-33b2-4591-ae84-c90e6b75f721.png)'
- en: 'You can navigate to the `system32` folder to locate the output file and open
    it with text editing tools:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以导航到`system32`文件夹，找到输出文件并用文本编辑工具打开它：
- en: '![](img/525cbe28-55c1-4c60-a635-6d337cab2861.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/525cbe28-55c1-4c60-a635-6d337cab2861.png)'
- en: 'Enter the following syntax in Command Prompt to obtain the XML output:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法以获取XML输出：
- en: '[PRE3]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](img/0b3bc66a-3613-406d-a08e-2f2abe1e2fc3.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0b3bc66a-3613-406d-a08e-2f2abe1e2fc3.png)'
- en: 'You can navigate to the `system32` folder to locate the output file and open
    it with text editing tools:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以导航到`system32`文件夹，找到输出文件并用文本编辑工具打开它：
- en: '![](img/448f4fb1-c55b-4dda-932a-2a5c7e097cb0.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](img/448f4fb1-c55b-4dda-932a-2a5c7e097cb0.png)'
- en: 'Enter the following syntax in Command Prompt to obtain the script kiddie output:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法以获取脚本小子输出：
- en: '[PRE4]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](img/a6ea532e-8151-4e14-b15c-eb2952e2f9a9.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a6ea532e-8151-4e14-b15c-eb2952e2f9a9.png)'
- en: 'You can navigate to the `system32` folder to locate the output file and open
    it with text editing tools:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以导航到`system32`文件夹，找到输出文件并用文本编辑工具打开它：
- en: '![](img/92de9919-2d00-4089-b78f-ec0fed19577a.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](img/92de9919-2d00-4089-b78f-ec0fed19577a.png)'
- en: 'Enter the following syntax in Command Prompt to obtain the output in grepable
    format:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法以获取grepable格式的输出：
- en: '[PRE5]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](img/77fc0b87-e02c-461a-993a-aef195d25014.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](img/77fc0b87-e02c-461a-993a-aef195d25014.png)'
- en: 'You can navigate to the `Windows` folder to locate the output file and open
    it with text editing tools:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以导航到`Windows`文件夹，找到输出文件并用文本编辑工具打开它：
- en: '![](img/54f8693a-27ee-48d1-ac09-359550f61f45.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](img/54f8693a-27ee-48d1-ac09-359550f61f45.png)'
- en: 'Enter the following syntax in Command Prompt to obtain the output in all the
    formats with verbose enabled:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令提示符中输入以下语法以获取启用详细信息的所有格式的输出：
- en: '[PRE6]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![](img/ad2aa4cf-ee5f-47a4-9779-e373d5794928.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ad2aa4cf-ee5f-47a4-9779-e373d5794928.png)'
- en: 'You can navigate to the `Windows` folder to locate the output file and open
    it with text editing tools:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以导航到`Windows`文件夹，找到输出文件并用文本编辑工具打开它：
- en: '![](img/11e0bd24-44d9-4942-827c-abba222680ce.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](img/11e0bd24-44d9-4942-827c-abba222680ce.png)'
- en: How it works...
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: These different formats help the user to utilize the reports for multiple operations
    and analyse the reports in different ways. The port scan results represent a critical
    phase of reconnaissance, which allows the users to further plan the vulnerability
    scan and detection activities. These reports are then uploaded to different tools
    and sites for further analysis and scanning. It is also worth mentioning that
    Nmap is a background utility for various vulnerability scanning software. Once
    these reports are generated, these tools use the same to perform further actions.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这些不同的格式帮助用户利用报告进行多种操作，并以不同的方式分析报告。端口扫描结果代表侦察的关键阶段，这使用户可以进一步规划漏洞扫描和检测活动。然后将这些报告上传到不同的工具和站点进行进一步分析和扫描。值得一提的是，Nmap是各种漏洞扫描软件的后台实用程序。生成这些报告后，这些工具使用它们来执行进一步的操作。
- en: Understanding Nessus outputs
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解Nessus输出
- en: 'Nessus is more of an enterprise-aligned tool. The reporting is more comprehensive
    and user-friendly. Nessus provides document and structure-based reporting. These
    reports can be exported by selecting the format required in the Export drop-down
    in the top-right corner of the Scans result page:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: Nessus更多地是一个面向企业的工具。报告更全面，用户友好。Nessus提供基于文档和结构的报告。可以通过在扫描结果页面右上角的“导出”下拉菜单中选择所需的格式来导出这些报告：
- en: '![](img/6ec6bfc4-c127-49e1-b0ce-520a3a6d8894.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6ec6bfc4-c127-49e1-b0ce-520a3a6d8894.png)'
- en: Here, we will go over the reporting formats that are supported by Nessus.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将介绍Nessus支持的报告格式。
- en: Nessus
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Nessus
- en: This format allows the user to import the results in `.nessus` format. This
    is a format that can only be parsed using Nessus. It allows users to download
    the scan results and later import the same into Nessus for any type of analysis
    to be performed.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 这种格式允许用户以`.nessus`格式导入结果。这是一种只能使用Nessus解析的格式。它允许用户下载扫描结果，然后将其导入Nessus进行任何类型的分析。
- en: HTML
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: HTML
- en: 'Nessus provides a good illustration of the scan reports in a HTML file format
    which is standalone and can be opened in any browser to view the results. This
    report also allows for the navigation between different sections so that users
    can easily read huge reports. These HTML reports can also be customized to download
    the following reports:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: Nessus提供了一个HTML文件格式的扫描报告的良好示例，这是一个独立的文件，可以在任何浏览器中打开以查看结果。该报告还允许在不同部分之间进行导航，以便用户可以轻松阅读大型报告。这些HTML报告也可以定制下载以下报告：
- en: 'Executive Summary report:'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行摘要报告：
- en: '![](img/2ea39a0e-64eb-4ba3-a1c6-5a50e7e63b4f.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2ea39a0e-64eb-4ba3-a1c6-5a50e7e63b4f.png)'
- en: Custom report with vulnerabilities and remediations grouped by host
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义报告，漏洞和修复措施按主机分组
- en: Custom report with vulnerabilities and remediations grouped by plugin
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义报告，漏洞和修复措施按插件分组
- en: 'A HTML report contains the following sections:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: HTML报告包含以下部分：
- en: '**TABLE OF CONTENTS**: This lists the required navigation pane for vulnerabilities
    by host and recommendations. These contain further details in complex reports
    such as compliance audit:'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**目录**：这列出了按主机和建议漏洞的所需导航窗格。这些包含了复杂报告中的进一步细节，如合规审计：'
- en: '![](img/4182584a-9542-4be6-bec4-0b847d74b05b.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4182584a-9542-4be6-bec4-0b847d74b05b.png)'
- en: '**Vulnerabilities by host**: This section consists of the actual vulnerabilities
    by host. This follows the format of reporting all of the vulnerabilities per host
    and then moving on to the next host. This further starts with a simple summary
    of the number of vulnerabilities and their risk ratings per host. This includes **Scan
    Information** such as **Start time** and **End time**, along with **Host Information**:'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**按主机的漏洞**：此部分包括按主机的实际漏洞。这遵循报告每个主机的所有漏洞，然后转移到下一个主机的格式。这进一步从每个主机的漏洞数量和风险评级的简单摘要开始。这包括**扫描信息**，如**开始时间**和**结束时间**，以及**主机信息**：'
- en: '![](img/4661874c-07ed-4079-9c40-37e51d1b2df4.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4661874c-07ed-4079-9c40-37e51d1b2df4.png)'
- en: 'Each vulnerability consists of the following sections, the details of which
    have been described in [Chapter 5](866b6b7b-03d2-43e4-95dd-d4f8b893fa9b.xhtml),
    *Configuration Audits*:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 每个漏洞包括以下部分，其详细信息已在[第5章](866b6b7b-03d2-43e4-95dd-d4f8b893fa9b.xhtml)中描述，*配置审计*：
- en: Plugin ID
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插件ID
- en: Synopsis
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简介
- en: Description
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述
- en: Solution
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案
- en: Risk factor
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 风险因素
- en: References
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参考
- en: 'Plugin information and output:'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插件信息和输出：
- en: '![](img/9ba73cb0-1d4f-4829-b41a-0dd13abb6bfc.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9ba73cb0-1d4f-4829-b41a-0dd13abb6bfc.png)'
- en: CSV
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: CSV
- en: 'CSV is a simple format used to store data in tables, which can later be imported
    to databases and applications such as Excel. This allows the user to export the
    report into a `.csv` file, which can be opened using tools such as Excel. The
    following is a screenshot of a sample CSV report:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: CSV是一种用于在表格中存储数据的简单格式，稍后可以导入到数据库和诸如Excel之类的应用程序中。这允许用户将报告导出为`.csv`文件，可以使用Excel等工具打开。以下是一个示例CSV报告的截图：
- en: '![](img/0c10d923-52cc-4b8a-bd22-c2d20318cdc6.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0c10d923-52cc-4b8a-bd22-c2d20318cdc6.png)'
- en: It holds similar sections to the ones mentioned for the HTML format.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 它包含与HTML格式中提到的类似部分。
- en: Nessus DB
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Nessus数据库
- en: 'This is a custom database-like format proprietary to Nessus. It is an encrypted
    format that''s used to store the scan''s details:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 这是Nessus专有的自定义数据库格式。这是一种加密格式，用于存储扫描的详细信息：
- en: '![](img/a27da4a1-07bf-4e6f-9cd5-6b7780fb145c.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a27da4a1-07bf-4e6f-9cd5-6b7780fb145c.png)'
- en: It requires a password to be created and used every time it is imported into
    Nessus.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 导入Nessus时需要创建和使用密码。
- en: Getting ready
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备就绪
- en: 'In order to perform this activity, you will have to satisfy the following prerequisites
    on your machine:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 为了执行此操作，您必须满足计算机上的以下先决条件：
- en: You must have Nessus installed.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您必须安装Nessus。
- en: You must have network access to the hosts on which the scans are to be performed.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您必须能够访问要执行扫描的主机的网络。
- en: 'In order to install Nesus, you can follow the instructions provided in [Chapter
    2](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml), *Understanding Network Scanning
    Tools*. This will allow you to download a compatible version of Nessus and install
    all the required plugins. To check whether your machine has Nessus installed,
    open the search bar and search for `Nessus Web Client`. Once found and clicked,
    this will be opened in the default browser window:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Nesus，您可以按照[第2章](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml)中提供的说明。这将允许您下载兼容版本的Nessus并安装所有必需的插件。要检查您的计算机是否已安装Nessus，请打开搜索栏并搜索`Nessus
    Web客户端`。一旦找到并点击，它将在默认浏览器窗口中打开：
- en: '![](img/296b1bae-d6e6-4ecc-bb14-9f115a61fc06.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/296b1bae-d6e6-4ecc-bb14-9f115a61fc06.png)'
- en: 'If you are sure that Nessus has been installed correctly, you can use the `https://localhost:8834`
    URL directly from your browser to open the Nessus Web Client. If you are unable
    to locate the **Nessus Web Client**, you should remove and reinstall Nessus. For
    the removal of Nessus and installation instructions, refer to [Chapter 2](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml),
    *Understanding Network Scanning Tools*. If you have located the **Nessus Web Client** and
    are unable to open it in the browser window, you need to check whether the Nessus
    service is running in the Windows Services utility:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您确定Nessus已正确安装，可以直接从浏览器使用`https://localhost:8834` URL打开Nessus Web客户端。如果找不到**Nessus
    Web客户端**，您应该删除并重新安装Nessus。有关删除Nessus和安装说明，请参阅[第2章](888a67bc-261d-466c-bd68-e1f498ac4213.xhtml)，*了解网络扫描工具*。如果找到**Nessus
    Web客户端**但无法在浏览器窗口中打开它，则需要检查Nessus服务是否在Windows服务实用程序中运行：
- en: '![](img/e16bb391-a138-42bd-96f3-51d9238aec2e.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e16bb391-a138-42bd-96f3-51d9238aec2e.png)'
- en: 'You can further start and stop Nessus by using the Services utility as per
    your requirements. In order to further confirm the installation using the command-line
    interface, you can navigate to the installation directory to see and access Nessus''
    command-line utilities:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以根据需要使用服务实用程序进一步启动和停止Nessus。为了进一步确认使用命令行界面进行安装，您可以导航到安装目录以查看和访问Nessus的命令行实用程序：
- en: '![](img/dbeed0a4-3cb3-4d5a-a27f-b6a5369011a9.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![](img/dbeed0a4-3cb3-4d5a-a27f-b6a5369011a9.png)'
- en: 'It is always recommended to have administrator-level or root-level credentials
    to provide the scanner with access to all the system files. This will allow the
    scanner to perform a deeper scan and populate better results compared to a non-credentialed
    scan, as without proper privileges, the system will not have access to all the
    files and folders. The policy compliance module is only available in the paid
    versions of Nessus, such as Nessus Professional or Nessus Manager. For this, you
    will have to purchase an activation key from tenable and update it in the settings
    page, as shown in the following screenshot:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 建议始终具有管理员级别或根级别凭据，以便为扫描仪提供对所有系统文件的访问权限。这将允许扫描仪执行更深入的扫描，并与非凭证扫描相比，生成更好的结果，因为没有适当的权限，系统将无法访问所有文件和文件夹。策略合规模块仅在Nessus的付费版本中可用，例如Nessus专业版或Nessus管理器。为此，您将需要从tenable购买激活密钥，并在设置页面中更新，如下面的屏幕截图所示：
- en: '![](img/90147f33-b14b-44d3-8224-3510ab2325b5.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](img/90147f33-b14b-44d3-8224-3510ab2325b5.png)'
- en: 'Click on the edit button to open a window and enter a new activation code,
    which you will have purchased from tenable:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 点击编辑按钮打开一个窗口，输入一个新的激活码，你将从tenable购买：
- en: '![](img/1034f750-69d3-42e0-beb1-4a8e7252fe81.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1034f750-69d3-42e0-beb1-4a8e7252fe81.png)'
- en: In order to test the scans, we need to install a virtual machine. In order to
    run a virtual machine, I would recommend using VMware's 30-day trial version,
    which can be downloaded and installed from [https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html).
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试扫描，我们需要安装一个虚拟机。为了运行虚拟机，我建议使用VMware的30天试用版，可以从[https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html)下载并安装。
- en: For the test system, readers can download Metasploitable by referring to the
    *Getting ready* section of the previous recipe.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 对于测试系统，读者可以参考上一篇文章的*准备就绪*部分下载Metasploitable。
- en: How do it…
  id: totrans-135
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'Perform the following steps:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: Open the Nessus web client.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开Nessus Web客户端。
- en: Log in to the Nessus client with the user that you created during installation.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您在安装过程中创建的用户登录Nessus客户端。
- en: 'Perform a simple network scan on the virtual machine and open the scan results:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对虚拟机执行简单的网络扫描并打开扫描结果：
- en: '![](img/87245a45-d5e8-4f48-9590-1ddd53a82d56.png)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![](img/87245a45-d5e8-4f48-9590-1ddd53a82d56.png)'
- en: 'Navigate to the export functionality and select the Nessus format to download
    the `.nessus` version of the report:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到导出功能，并选择Nessus格式以下载报告的`.nessus`版本：
- en: '![](img/adff5c34-2e6e-46ee-be70-55c8fa512397.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](img/adff5c34-2e6e-46ee-be70-55c8fa512397.png)'
- en: 'Navigate to the export functionality and select the Nessus format to download
    the HTML version of the report by selecting the required options:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到导出功能，并选择Nessus格式以下载报告的HTML版本，选择所需的选项：
- en: '![](img/3e53f918-4016-4844-ad6c-47b54201a12a.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3e53f918-4016-4844-ad6c-47b54201a12a.png)'
- en: 'Navigate to the export functionality and select the Nessus format to download
    the CSV version of the report:'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到导出功能，并选择Nessus格式以下载报告的CSV版本：
- en: '![](img/f49b7a21-6f82-4808-a6a7-1f8cb89f809b.png)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f49b7a21-6f82-4808-a6a7-1f8cb89f809b.png)'
- en: 'Navigate to the export functionality and select the Nessus format to download
    the Nessus DB version of the report:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到导出功能，并选择Nessus格式以下载报告的Nessus DB版本：
- en: '![](img/02a7a670-0038-44ab-ae4c-447a65b21761.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](img/02a7a670-0038-44ab-ae4c-447a65b21761.png)'
- en: Enter a desired password and click on **Export** to download the Nessus DB file
    with the extension `.db`.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 输入所需的密码，然后单击**导出**以下载带有扩展名`.db`的Nessus DB文件。
- en: How it works...
  id: totrans-150
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The supported report formats by Nessus allow a user to present the report in
    multiple ways. If the user wants to store the scan results in a secure manner,
    they can use the DB format, which is encrypted. If the user wants to share the
    report directly, they can use the HTML format of the report. For further analysis,
    they can use the CSV format to import the report results into tools or software.
    If the user requires to share scan results with other administrators, they can
    use the `.nessus` format, where the administrator can import the file into their
    own Nessus and perform further analysis.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: Nessus支持的报告格式允许用户以多种方式呈现报告。如果用户希望以安全的方式存储扫描结果，他们可以使用加密的DB格式。如果用户希望直接共享报告，他们可以使用报告的HTML格式。对于进一步的分析，他们可以使用CSV格式将报告结果导入工具或软件。如果用户需要与其他管理员共享扫描结果，他们可以使用`.nessus`格式，管理员可以将文件导入其自己的Nessus并进行进一步分析。
- en: For a CSV report, if there are multiple CSV reports and a user requires to merge
    all the reports in Windows, they can open Command Prompt from the folder where
    all the CSV files are located and use the `copy *.csv <name of the new file>.csv` command,
    thereby obtaining a merged CSV single file. Further filtering and removal of duplicates
    with sorting allows you to create a linear report.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 对于CSV报告，如果有多个CSV报告并且用户需要在Windows中合并所有报告，他们可以从包含所有CSV文件的文件夹中打开命令提示符，并使用`copy
    *.csv <新文件名>.csv`命令，从而获得一个合并的CSV单个文件。进一步的过滤和去除重复项并排序允许您创建一个线性报告。
- en: How to confirm Nessus vulnerabilities using Nmap and other tools
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何使用Nmap和其他工具确认Nessus漏洞
- en: Most of the vulnerabilities reported by Nessus are signature and value-based,
    which Nessus makes a decision on based on the code present in the plugins. It
    is required to confirm these vulnerabilities using manual techniques such as Nmap
    scripts or port-specific open source tools. This will allow the administration
    team to put their efforts into the mitigation of the actual vulnerabilities instead
    of false positives. Also, sometimes, Nessus reports vulnerabilities for which
    workarounds have already been applied as Nessus only checks with respect to the
    conditions mentioned in the plugin and cannot recognize any other deviations.
    In this recipe, we will look at sets to verify multiple vulnerabilities reported
    by Nessus using Nmap and other open source tools.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Nessus报告的大多数漏洞都是基于签名和值的，Nessus根据插件中的代码做出决定。需要使用手动技术（如Nmap脚本或特定端口的开源工具）来确认这些漏洞。这将使管理团队能够将精力集中在消除实际漏洞而不是错误阳性上。此外，有时Nessus会报告已经应用了解决方法的漏洞，因为Nessus只检查插件中提到的条件，无法识别任何其他偏差。在这个食谱中，我们将查看使用Nmap和其他开源工具验证Nessus报告的多个漏洞的设置。
- en: 'In order to create this recipe, we will perform a demo basic network scan on
    Metasploitable 2''s vulnerable virtual machine (look at the *Getting ready* section
    in order to download this). Once the scan is complete, a glance at the results
    will display a total of seven critical, five high, 18 medium, and seven low vulnerabilities.
    Out of the vulnerabilities reported by Nessus, we will try to manually confirm
    the following vulnerabilities:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建这个食谱，我们将在Metasploitable 2的易受攻击的虚拟机上执行一个演示基本网络扫描（请查看*准备就绪*部分以下载此内容）。扫描完成后，查看结果将显示共计七个关键、五个高、18个中等和七个低漏洞。在Nessus报告的漏洞中，我们将尝试手动确认以下漏洞：
- en: '**Bind shell backdoor detection**: This is a critical-risk vulnerability that''s
    reported by Nessus. This vulnerability points out that a port on the remote host
    is allowing any user on the network to run a shell with root privileges on the
    vulnerable virtual machine. We will use the Windows Telnet utility to confirm
    this vulnerability:'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**绑定外壳后门检测**：这是Nessus报告的关键风险漏洞。该漏洞指出远程主机上的一个端口允许网络上的任何用户在易受攻击的虚拟机上以root权限运行外壳。我们将使用Windows
    Telnet实用程序来确认这个漏洞：'
- en: '![](img/82e11413-d8ca-4787-978e-13de2a841d1d.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](img/82e11413-d8ca-4787-978e-13de2a841d1d.png)'
- en: '**SSL version 2 and 3 protocol detection**: This is a high-risk vulnerability
    that''s reported by Nessus. This vulnerability pertains to the usage of a legacy
    SSL protocol, such as SSL version 2 and version 3, which are known to cause multiple
    vulnerabilities. We will use Nmap script to confirm this vulnerability:'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SSL版本2和3协议检测**：这是Nessus报告的高风险漏洞。该漏洞涉及使用遗留的SSL协议，如SSL版本2和版本3，已知会导致多个漏洞。我们将使用Nmap脚本来确认这个漏洞：'
- en: '![](img/e4808bc8-293b-4b13-b41c-acbad7d1520e.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e4808bc8-293b-4b13-b41c-acbad7d1520e.png)'
- en: '**Apache Tomcat default files**: This is a medium-risk vulnerability that''s
    reported by Nessus. This vulnerability mentions various default files which are
    created upon the installation of Apache tools. These are still available for any
    user on the network without authentication. We will use a web browser (Chrome,
    in this case) to confirm this vulnerability.'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Apache Tomcat默认文件**：这是Nessus报告的中等风险漏洞。该漏洞提到了安装Apache工具时创建的各种默认文件。这些文件仍然可以在网络上供任何用户使用，无需身份验证。我们将使用Web浏览器（在这种情况下是Chrome）来确认这个漏洞。'
- en: Getting ready
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备就绪
- en: In order to create a setup for this, you need to follow and perform all the
    steps mentioned in the *Getting ready* section of the previous recipes, *Understanding
    Nmap outputs* and *Understanding Nessus outputs*.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建这个设置，您需要按照前面的食谱“理解Nmap输出”和“理解Nessus输出”的*准备就绪*部分中提到的所有步骤进行操作。
- en: How do it…
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到…
- en: 'Perform the following steps:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'To confirm bind shell backdoor detection, open Command Prompt in Windows and
    type the following command:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要确认绑定外壳后门检测，打开Windows的命令提示符并输入以下命令：
- en: '[PRE7]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](img/6bb22868-f00a-41b7-ae86-9a47a3c8497b.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6bb22868-f00a-41b7-ae86-9a47a3c8497b.png)'
- en: 'Upon execution, the user directly gets logged in to the remote machine without
    providing any authentication:'
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行后，用户直接登录到远程计算机，无需提供任何身份验证：
- en: '![](img/fe9dd893-7b9f-4e4b-91d2-6c5bab9ddcea.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fe9dd893-7b9f-4e4b-91d2-6c5bab9ddcea.png)'
- en: 'To confirm the privilege of the user, we will use the standard Linux command
    `id` to confirm the vulnerability:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了确认用户的权限，我们将使用标准的Linux命令`id`来确认漏洞：
- en: '![](img/fb2a317f-7068-4b5c-a47d-8f64200a416c.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fb2a317f-7068-4b5c-a47d-8f64200a416c.png)'
- en: This command displays the UID and GID as `0`, which represents a root user,
    and so we can confirm that the vulnerability is critical as it allows any remote
    user to log in to the machine without any authentication. This means that the
    vulnerability can be confirmed.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令显示UID和GID都是`0`，代表着一个root用户，因此我们可以确认这个漏洞是严重的，因为它允许任何远程用户在没有任何认证的情况下登录到机器上。这意味着这个漏洞是可以确认的。
- en: For SSL v2 and SSL v3, we can identify the version running by using the Poodle
    confirmation script by Nmap, as only SSL v3 is vulnerable to Poodle. Open Nmap
    in  Command Prompt.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于SSL v2和SSL v3，我们可以通过使用Nmap的Poodle确认脚本来确定正在运行的版本，因为只有SSL v3容易受到Poodle攻击。在命令提示符中打开Nmap。
- en: 'Enter the following command to identify whether the remote server is vulnerable
    to an SSL Poodle attack:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令来确定远程服务器是否容易受到SSL Poodle攻击：
- en: '[PRE8]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '*![](img/3cea245b-5eaf-48af-ba88-86e03210f383.png) *'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](img/3cea245b-5eaf-48af-ba88-86e03210f383.png) *'
- en: 'As Nmap has not displayed any results, let''s check for the `ssl-enum-ciphers`
    script:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Nmap没有显示任何结果，让我们检查一下`ssl-enum-ciphers`脚本：
- en: '![](img/ddb99f1b-745d-429d-8b82-04b61288fbee.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ddb99f1b-745d-429d-8b82-04b61288fbee.png)'
- en: 'Even the `enum-ciphers` script has not returned any result, so we can conclude
    that Nmap was unable to negotiate with the port using SSL ciphers. Hence, we can
    mark the vulnerability as a false positive. We can also confirm the same by using
    Telnet on port `25` if a similar response is received. This means that port `25`
    is running on a non-SSL clear text protocol and the plugin has reported a false
    positive for the same:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 即使`enum-ciphers`脚本也没有返回任何结果，所以我们可以得出结论，Nmap无法使用SSL密码与端口进行协商。因此，我们可以将漏洞标记为误报。如果在端口`25`上使用Telnet也收到类似的响应，我们也可以确认相同的情况。这意味着端口`25`正在运行非SSL明文协议，并且插件对此报告了误报。
- en: '![](img/74571dd0-0cec-4a24-942d-705134f4a20f.png)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![](img/74571dd0-0cec-4a24-942d-705134f4a20f.png)'
- en: 'To confirm the Apache default files, access the URLs mentioned by Nessus in
    the vulnerability output section:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要确认Apache默认文件，请访问Nessus在漏洞输出部分提到的URL：
- en: '![](img/8ea41469-d1a4-4a64-8c31-61eebd51406c.png)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8ea41469-d1a4-4a64-8c31-61eebd51406c.png)'
- en: 'Open the browser and type `http://192.168.103.129:8180/tomcat-docs/index.html`
    into the address bar:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开浏览器，然后在地址栏中输入`http://192.168.103.129:8180/tomcat-docs/index.html`：
- en: '![](img/47d46f0b-1571-4202-8fcf-4d4c71395a69.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![](img/47d46f0b-1571-4202-8fcf-4d4c71395a69.png)'
- en: This displays the default documentation folder, confirming the existence of
    the default files on the server. This shows that the vulnerability can be confirmed.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示了默认的文档文件夹，确认了服务器上默认文件的存在。这表明这个漏洞是可以确认的。
- en: How it works...
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理...
- en: These vulnerabilities can be identified based on their risk and then confirmed,
    allowing the analyst to prioritize their efforts on the vulnerability they are
    trying to confirm. Identifying these false positives requires effort as you have
    to actually exploit the vulnerability and check whether it is feasible. In order
    to do this, an analyst must decide to what extent they are willing to expend effort
    in order to fix the vulnerability. For example, if the vulnerability is that port
    `1406` with a SQL service running is open to everyone in the network, it is up
    to the analyst to decide whether to just check for the open port or try logging
    in to the SQL service using a default service account or a weak password.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 这些漏洞可以根据其风险进行识别，然后确认，从而使分析人员能够将他们的努力优先放在他们试图确认的漏洞上。识别这些误报需要努力，因为你必须实际利用漏洞并检查它是否可行。为了做到这一点，分析人员必须决定他们愿意为了修复漏洞而付出多少努力。例如，如果漏洞是端口`1406`上运行着SQL服务对网络中的所有人都是开放的，分析人员就必须决定是只检查开放的端口还是尝试使用默认服务账户或弱密码登录到SQL服务。
