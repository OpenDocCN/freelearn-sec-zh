- en: Targeting Wireless Devices and Networks
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '![image](img/d5c62cd3-7627-4c46-aff3-271163066911.jpg)'
- en: A decade ago, there weren't as many mobile devices in the world. Back then,
    only laptops were using wireless networking technology, until the smartphone industry
    kicked off. Modern-day organizations are adopting the **bring-your-own-device**
    (**BYOD**) concept, where organizations allow their employees to connect their
    personal mobile devices, such as a smartphone, tablet, or laptop, to the corporate
    network securely, as it will create an increase in overall productivity.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 十年前，世界上没有那么多移动设备。那时，只有笔记本电脑使用无线网络技术，直到智能手机行业起步。现代组织正在采用“自带设备”（BYOD）概念，即组织允许员工安全地连接他们的个人移动设备，如智能手机、平板电脑或笔记本电脑，到企业网络，这将提高整体生产力。
- en: As more mobile devices are introduced to a corporate network, this creates a
    few security concerns and threatens the security posture of a corporate wireless
    and wired network infrastructure. In addition, the configurations on a wireless
    network device, such as an **access point** (**AP**) or wireless router, may not
    be up to the company's standards. At times, a network administrator may forget
    to apply a security configuration or simply deploy a device in a production network
    using default settings.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 随着越来越多的移动设备进入企业网络，这引发了一些安全问题，威胁着企业无线和有线网络基础设施的安全姿态。此外，无线网络设备（如接入点（AP）或无线路由器）的配置可能不符合公司的标准。有时，网络管理员可能会忘记应用安全配置，或者仅仅使用默认设置在生产网络中部署设备。
- en: 'In this chapter, we will take a look at the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论以下主题：
- en: Types of wireless networks
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线网络类型
- en: Wireless standards
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线标准
- en: Wireless authentication modes
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![image](img/48b760bf-8f2b-46e9-8e8d-595b756f63fd.jpg)'
- en: Wireless encryption standards
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线加密标准
- en: Wireless threats
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线威胁
- en: Wireless attacks
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“独立基本服务集”（IBSS）中，这种设计/拓扑中没有接入点或无线路由器。每个客户端设备都通过IEEE 802.11标准与其他设备建立连接。这被称为自组织网络：
- en: Bluetooth hacking
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 蓝牙黑客
- en: Before the inception of wireless networking, each device required a physical
    cable that connected the device's **network interface card** (**NIC**) to the
    network switch to communicate with other devices and share resources. The major
    limitation of using a wired network is that the end devices, such as computers
    or servers, were limited by the length of the network cable. As with most Category
    (CAT) cables, such as CAT 5, 5e, and 6, the maximum cable length is 100 meters.
    Furthermore, the inconvenience of having to move around with a very lengthy cable
    is just too frustrating at times for certain users.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在无线网络出现之前，每个设备都需要一根物理电缆，将设备的网络接口卡（NIC）连接到网络交换机，以便与其他设备通信和共享资源。使用有线网络的主要限制是，诸如计算机或服务器等终端设备受到网络电缆长度的限制。与大多数类别（CAT）电缆一样，如CAT
    5、5e和6，最大电缆长度为100米。此外，不得不携带非常长的电缆四处移动有时对某些用户来说太令人沮丧了。
- en: The creation of the IEEE 802.11 standard, which uses radio channels, paved the
    way for modern wireless networks.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: IEEE 802.11标准的创建，使用无线电信道，为现代无线网络铺平了道路。
- en: 'Here are some advantages of using the IEEE 802.11 wireless networking:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是使用IEEE 802.11无线网络的一些优势：
- en: It eliminates the need to run cables to each end device
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它消除了需要为每个终端设备布线的需求
- en: It provides network connectivity to areas where it's difficult to lay network
    cable
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它为难以铺设网络电缆的区域提供网络连接
- en: It allows devices to roam the within area of the access point (AP) or wireless
    router
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它允许设备在接入点（AP）或无线路由器的范围内漫游
- en: 'However, using a wireless network can create some concerns. The following are
    some disadvantages of using IEEE 802.11:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，使用无线网络也会引发一些问题。以下是使用IEEE 802.11的一些缺点：
- en: Wireless encryption can be broken due to security vulnerabilities
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于安全漏洞，无线加密可能会被破解
- en: The bandwidth on a wireless network is usually lower than a wired network
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线网络的带宽通常低于有线网络
- en: Interference from other radio-emitting devices
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无线认证模式
- en: The signal weakens over distance
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信号随距离减弱
- en: Wireless network topologies
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线网络拓扑
- en: In this section, we will discuss various types of wireless network topologies.
    Before attacking a wireless network, a penetration tester should have an understanding
    of wireless network designs and how clients are interconnected.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论各种类型的无线网络拓扑。在攻击无线网络之前，渗透测试人员应该了解无线网络设计以及客户端如何相互连接。
- en: Independent Basic Service Set
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 独立基本服务集
- en: 'Within an **Independent Basic Service Set** (**IBSS**), there are no APs or
    wireless routers in this design/topology. Each client device establishes a connection
    with the others over the IEEE 802.11 standard. This is known as an ad hoc network:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 受其他无线发射设备的干扰
- en: '![image](img/48b760bf-8f2b-46e9-8e8d-595b756f63fd.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: 无线攻击
- en: Basic Service Set
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基本服务集
- en: 'In a **Basic Server Set** (**BSS**) design, all clients are interconnected
    with the use of a wireless router or an AP. The wireless router or AP is responsible
    for moving network traffic between clients and the wired network. This type of
    topology is also known as infrastructure mode:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在“基本服务器集”（BSS）设计中，所有客户端都通过无线路由器或接入点相互连接。无线路由器或接入点负责在客户端和有线网络之间传输网络流量。这种类型的拓扑也被称为基础设施模式：
- en: '![image](img/679c4f79-d192-46bd-8262-873ab4263474.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/679c4f79-d192-46bd-8262-873ab4263474.jpg)'
- en: Extended Service Set
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 扩展服务集
- en: 'The **Extended Service Set** (**ESS**) mode is very similar to BSS. Within
    an ESS, there are multiple APs or wireless routers connected to the same wired
    network. This design is useful for extending a wireless signal throughout a building
    or compound, allowing users to access the resources within the network while a
    user may roam around:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: “扩展服务集”（ESS）模式与BSS非常相似。在ESS中，有多个接入点或无线路由器连接到同一有线网络。这种设计对于在建筑物或园区内延伸无线信号非常有用，允许用户在漫游时访问网络内的资源：
- en: '![image](img/d5c62cd3-7627-4c46-aff3-271163066911.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: 针对无线设备和网络
- en: Wireless standards
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线标准
- en: 'The **Institute for** **Electrical and Electronic Engineers** (**IEEE**) has
    created many standards within the computing and IT industry. One very popular
    standard known by professionals within the field of networking and security is
    the IEEE 802.11 standard, which outlines how wireless communication operates on
    both the 2.4 GHz and 5 GHz frequencies. Regular consumers know this technology
    by another name: Wi-Fi.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**电气和电子工程师学会**（**IEEE**）在计算和信息技术行业内制定了许多标准。一个非常受专业人士欢迎的标准是IEEE 802.11标准，该标准规定了无线通信在2.4
    GHz和5 GHz频率上的操作方式。普通消费者则以另一个名称了解这项技术：Wi-Fi。'
- en: 'The following table outlines the different variations of the IEEE 802.11 standards,
    with their operating frequencies and the maximum bandwidth capacity:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格概述了IEEE 802.11标准的不同变体，以及它们的操作频率和最大带宽容量：
- en: '![image](img/d52e178c-e2a1-4256-98ed-bb7e0c466d5b.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/d52e178c-e2a1-4256-98ed-bb7e0c466d5b.png)'
- en: If you're targeting a wireless network that is operating on the 5 GHz frequency
    and your wireless network adapter is using a standard frequency, which operates
    on 2.4 GHz only, you won't be able to successfully execute any attacks on the
    target network.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的目标是在5 GHz频率上运行的无线网络，而您的无线网络适配器使用的是标准频率，即仅在2.4 GHz上运行，您将无法成功对目标网络执行任何攻击。
- en: Service Set Identifier
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务集标识符
- en: The **Service Set Identifier** (**SSID**) is most commonly known as the name
    of the wireless network, as it is seen by laptops, smartphones, and other mobile
    devices. The SSID is used to help us differentiate a particular network from another.
    An AP or wireless router continuously advertizes its SSIDs via broadcast messages,
    while clients, such as laptops, capture these broadcast messages (better known
    as beacons) to obtain the SSID it contains.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**服务集标识符**（**SSID**）通常被称为无线网络的名称，它被笔记本电脑、智能手机和其他移动设备所看到。 SSID用于帮助我们区分一个特定的网络与另一个网络。接入点或无线路由器通过广播消息不断地广告其SSID，而客户端（如笔记本电脑）捕获这些广播消息（更为人所知的是信标）以获取其中包含的SSID。'
- en: 'SSIDs are usually human-readable text or characters of a maximum length of
    32 bytes. The following is an example of SSIDs discovered by an Android tablet:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: SSID通常是人类可读的文本或最大长度为32字节的字符。以下是安卓平板电脑发现的SSID示例：
- en: '![image](img/7d658a0b-0880-4cf5-b00c-88d8d298d1a6.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/7d658a0b-0880-4cf5-b00c-88d8d298d1a6.jpg)'
- en: Wireless authentication modes
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线认证模式
- en: 'On a wireless network, there are usually three different ways a client device
    can be authenticated to a wireless router or an access point:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在无线网络上，客户端设备通常有三种不同的方式可以对无线路由器或接入点进行认证：
- en: Open authentication
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开放认证
- en: Shared-key authentication
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共享密钥认证
- en: Centralized authentication
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集中式认证
- en: The open authentication system is quite simple. The wireless router or AP is
    not configured with a password, and simply broadcasts its SSID to everyone who
    is near. A client who wishes to connect can do so freely, without having to provide
    any sort of credentials or identity before gaining access to the wireless network.
    An example of using open authentication is the free hotspot service in public
    areas and venues, such as coffee shops.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 开放认证系统非常简单。无线路由器或接入点未配置密码，只是向附近的所有人广播其SSID。希望连接的客户端可以自由连接，无需在获得无线网络访问权限之前提供任何凭据或身份。开放认证的一个例子是公共区域和场所（如咖啡店）中的免费热点服务。
- en: Within the shared-key authentication system, the wireless router or AP is configured
    with a pre-shared key (PSK). This method allows clients to connect to the wireless
    network only if they can provide the correct key. Clients without the appropriate
    key will be denied access. This method is most commonly found in home networks.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在共享密钥认证系统中，无线路由器或接入点配置了预共享密钥（PSK）。这种方法允许客户端只有在能够提供正确密钥的情况下才能连接到无线网络。没有适当密钥的客户端将被拒绝访问。这种方法在家庭网络中最常见。
- en: 'In centralized authentication, a centralized authentication server is used
    to manage network user accounts, privileges, and accounting. The wireless router
    or AP is not configured with a secret key, but rather, communicates with the centralized
    authentication system to query each login attempt on the wireless network. Let''s
    imagine a user wants to connect their laptop to the wireless network, so they
    select the appropriate SSID and attempt to connect. The wireless router sends
    a login request to the user. The user is prompted to enter their user credentials
    for the network; the wireless router will then send the login credentials to the
    authentication server for validation. If approved, the authentication server tells
    the wireless router to allow access and assign certain privileges to the user.
    If the account is not valid, the authentication server tells the wireless router
    not to grant access to the network. This method is usually found in corporate
    networks:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在集中式认证中，使用集中式认证服务器来管理网络用户帐户、权限和计费。无线路由器或接入点未配置秘密密钥，而是与集中式认证系统通信，以查询无线网络上的每次登录尝试。假设用户想要将其笔记本电脑连接到无线网络，因此他们选择适当的SSID并尝试连接。无线路由器向用户发送登录请求。用户被提示输入他们的网络用户凭据；然后无线路由器将登录凭据发送到认证服务器进行验证。如果通过，认证服务器告诉无线路由器允许访问并为用户分配某些特权。如果帐户无效，认证服务器告诉无线路由器不要授予网络访问权限。这种方法通常在企业网络中找到：
- en: '![image](img/e75522c0-2250-46cd-a2c5-21d19a215215.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/e75522c0-2250-46cd-a2c5-21d19a215215.jpg)'
- en: Both **Remote Authentication Dial-In User Service (RADIUS)** and **Terminal
    Access Controller Access-Control System Plus (TACACS+)** are examples of centralized
    authentication servers.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**远程认证拨号用户服务（RADIUS）**和**终端访问控制器访问控制系统加强版（TACACS+）**都是集中式认证服务器的例子。'
- en: Wireless encryption standard
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线加密标准
- en: As a penetration tester, it's important to understand the various types of wireless
    encryption and their standards.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员，了解各种无线加密及其标准是很重要的。
- en: Wired Equivalent Privacy
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有线等效隐私
- en: The **Wired Equivalent Privacy** (**WEP**) standard was the first encryption
    standard implemented within an IEEE 802.11 network. It's designed to provide data
    confidentiality during all wireless communications between an access point and
    a client. WEP uses the **RC4** encryption cipher/algorithm to ensure confidentiality
    during transmission; however, the WEP encryption standard uses a **24-bit initialization
    vector (IV)**. The IV, in this case, is used to create a stream of ciphers for
    the RC4 encryption algorithm.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**Wired Equivalent Privacy**（**WEP**）标准是在IEEE 802.11网络中实施的第一个加密标准。它旨在在接入点和客户端之间的所有无线通信中提供数据机密性。WEP使用**RC4**加密密码/算法来确保传输过程中的机密性；然而，WEP加密标准使用**24位初始化向量（IV）**。在这种情况下，IV用于为RC4加密算法创建密码流。'
- en: 'The following are the various key sizes for WEP:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是WEP的各种密钥大小：
- en: A 64-bit WEP uses a 40-bit key
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 64位WEP使用40位密钥
- en: A 128-bit WEP uses a 104-bit key
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 128位WEP使用104位密钥
- en: A 256-bit WEP uses 232-bit key
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 256位WEP使用232位密钥
- en: WEP has been known for its design flaws over the years and is considered a security
    vulnerability when applied to an IEEE 802.11 network.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: WEP多年来以其设计缺陷而闻名，并且在应用于IEEE 802.11网络时被认为是安全漏洞。
- en: Wi-Fi Protected Access
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Wi-Fi Protected Access
- en: '**Wi-Fi Protected Access** (**WPA**) is another encryption standard designed
    for the IEEE 802.11 network and is the successor of the WEP standard. WPA utilizes
    the **Temporal Key Integrity Protocol** (**TKIP**), which uses the **RC4** cipher
    (128-bit per packet) for data encryption (confidentiality). TKIP, however, mitigated
    the vulnerabilities from WEP by simply increasing the size of **initialization
    vectors** (**IVs**) and mixing their functions. The **128-bit** **Temporal Key**
    is combined with the client device''s **media access control** (**MAC**) address
    and the IVs to create a keystream that is then used for data encryption.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**Wi-Fi Protected Access**（**WPA**）是为IEEE 802.11网络设计的另一种加密标准，是WEP标准的后继者。WPA利用**暂态密钥完整性协议**（**TKIP**），使用**RC4**密码（每个数据包128位）进行数据加密（机密性）。然而，TKIP通过简单地增加**初始化向量**（**IVs**）的大小并混合它们的功能来减轻了WEP的漏洞。**128位暂态密钥**与客户端设备的**媒体访问控制**（**MAC**）地址和IVs相结合，然后用于数据加密。'
- en: Wi-Fi Protected Access 2
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Wi-Fi Protected Access 2
- en: '**Wi-Fi Protected Access 2** (**WPA2**) is the successor of the WPA encryption
    standard for IEEE 802.11 wireless networks. This standard uses the **Advanced
    Encryption Standard** (**AES**), which is superior to the RC4 encryption cipher
    suite. AES provides a stronger encryption of datagram blocks to ensure data confidentiality.
    Furthermore, WPA2 applies the **Counter Mode with Cipher Block Chaining Message
    Authentication Code Protocol** (**CCMP**), which is superior to TKIP. CCMP handles
    data encryption by using a 128-bit key to provide confidentiality together with
    AES, which creates 128-bit data blocks.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**Wi-Fi Protected Access 2**（**WPA2**）是IEEE 802.11无线网络的WPA加密标准的后继者。该标准使用**高级加密标准**（**AES**），比RC4加密密码套件更优越。AES提供更强的数据块加密以确保数据机密性。此外，WPA2应用**计数器模式与密码块链接消息认证码协议**（**CCMP**），比TKIP更优越。CCMP使用128位密钥进行数据加密，以与AES一起提供机密性，从而创建128位数据块。'
- en: Further information on wireless security standards can be found on the Wi-Fi
    Alliance website: [https://www.wi-fi.org/discover-wi-fi/security](https://www.wi-fi.org/discover-wi-fi/security).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 有关无线安全标准的更多信息可以在Wi-Fi联盟网站上找到：[https://www.wi-fi.org/discover-wi-fi/security](https://www.wi-fi.org/discover-wi-fi/security)。
- en: Wireless threats
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线威胁
- en: 'The following are security threats when using wireless networks:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用无线网络时存在以下安全威胁：
- en: '**Rogue access point**: At times, a penetration tester will need to check the
    security posture of a company''s wireless network and the security awareness of
    the employees. A **rogue access point** is where a penetration tester would set
    up a *fake* access point with an SSID to trick users into establishing a connection.
    Imagine creating an SSID on a rogue access point, naming it *Company XYZ VIP Access*, and
    leaving it open. A lot of people seeing this name will think there are special
    resources on this wireless network. This technique will allow the pentester to
    sniff traffic easily and obtain sensitive data:'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Rogue access point**：有时，渗透测试人员需要检查公司无线网络的安全状况和员工的安全意识。**Rogue access point**是指渗透测试人员设置一个*假*接入点，带有一个SSID来欺骗用户建立连接。想象一下，在一个**Rogue
    access point**上创建一个名为*Company XYZ VIP Access*的SSID，并将其保持开放。看到这个名字的很多人会认为这个无线网络上有特殊资源。这种技术将允许渗透测试人员轻松地嗅探流量并获取敏感数据。'
- en: '![image](img/2b1650da-1556-4701-931b-5ae03e0883ae.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/2b1650da-1556-4701-931b-5ae03e0883ae.jpg)'
- en: '**Evil twin**: The **evil twin** setup is a bit similar to the rogue access
    point configuration. However, with an evil twin, the penetration tester deploys
    an access point within the corporate network using the same SSID as the actual
    organization. When users connect, they will be able to access the local resources
    without realizing they had connected to an unauthorized access point. This would
    allow the pentester to intercept and sniff traffic easily.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Evil twin**：**Evil twin**设置与**Rogue access point**配置有些相似。然而，使用**Evil twin**，渗透测试人员在企业网络中部署一个接入点，使用与实际组织相同的SSID。当用户连接时，他们将能够访问本地资源，而不会意识到他们已连接到未经授权的接入点。这将允许渗透测试人员轻松地拦截和嗅探流量。'
- en: '**AP and client MAC spoofing**: A penetration tester can record the MAC address
    of an access point and clients that are associated. Capturing this information
    will allow the penetration tester to mimic either an access point into tricking
    victims to connect to or use the MAC address of the client to establish a connection
    to an access point with the MAC filtering feature enabled.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AP和客户端MAC欺骗**：渗透测试人员可以记录接入点和关联的客户端的MAC地址。捕获这些信息将允许渗透测试人员模仿接入点欺骗受害者连接，或者使用客户端的MAC地址与启用MAC过滤功能的接入点建立连接。'
- en: '**De-authentication attack**: A penetration tester sends specially-crafted
    packets to an access point for the purpose of creating a disassociation between
    the access point and its connected client devices. To it put simply: a de-authentication
    attack will cause the access point to knock off one or more clients. This attack
    also has the following benefits:'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**去认证攻击**：渗透测试人员向接入点发送特制的数据包，目的是在接入点和其连接的客户端设备之间创建一个取消关联。简而言之：去认证攻击将导致接入点踢掉一个或多个客户端。这种攻击还有以下好处：'
- en: Discovering hidden SSIDs. This is done by monitoring the probes sent by a client
    device and its association with an access point.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发现隐藏的SSID。这是通过监视客户端设备发送的探测包及其与接入点的关联来完成的。
- en: Capturing the WPA2 handshake that is used to crack the password for the wireless
    network.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 捕获用于破解无线网络密码的WPA2握手。
- en: Wireless attacks
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线攻击
- en: For most of the following attacks, we'll be using the aircrack-ng suite of tools
    to help us accomplish our objectives.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 对于以下大多数攻击，我们将使用aircrack-ng套件工具来帮助我们实现我们的目标。
- en: '**Aircrack-ng** can be found at [www.aircrack-ng.org](http://www.aircrack-ng.org).'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '**Aircrack-ng**可以在[www.aircrack-ng.org](http://www.aircrack-ng.org)找到。'
- en: Exercise – checking whether a wireless card supports injection
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-检查无线网卡是否支持注入
- en: A quick and easy method to determine whether your wireless NIC supports packet
    injection is to use the `aireplay-ng` tool. Using the `aireplay --test <*interface*>` command
    will test for packet injection.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 确定您的无线网卡是否支持数据包注入的一种快速简便的方法是使用`aireplay-ng`工具。使用`aireplay --test <*interface*>`命令将测试数据包注入。
- en: 'The following is a demonstration of using the command. As you can see, our
    card supports packet injection:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是使用该命令的演示。如您所见，我们的网卡支持数据包注入：
- en: '![image](img/d4ea5890-920e-438c-927e-e8fc8dcce420.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/d4ea5890-920e-438c-927e-e8fc8dcce420.png)'
- en: In addition, the `-9` parameter can be used instead of `--test`.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，可以使用`-9`参数代替`--test`。
- en: '![image](img/1d309638-8232-46fe-b699-43e44230babd.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/1d309638-8232-46fe-b699-43e44230babd.png)'
- en: If you look carefully at the output, you'll see the packet loss ratio was obtained
    for each access point.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您仔细观察输出，您会看到每个接入点的数据包丢失比例。
- en: Exercise – detecting access points and their manufacturers
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-检测接入点及其制造商
- en: 'We can detect each access point that is within range of our Kali NetHunter
    device. We''ll be able to determine the following:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以检测到Kali NetHunter设备范围内的每个接入点。我们将能够确定以下内容：
- en: The MAC address or BSSID of the access point
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接入点的MAC地址或BSSID
- en: Its signal rating by displaying a PWR value
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过显示PWR值来显示其信号评级
- en: Its encryption standard, cipher, and authentication method
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其加密标准、密码和认证方法
- en: The name of the network or ESSID
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络名称或ESSID
- en: 'To get started, ensure your wireless network adapter is in monitoring mode.
    Before enabling monitoring mode, we need to ensure there aren''t any processes
    that may hamper this process. Therefore, we use the following command to kill
    any such process:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，请确保您的无线网络适配器处于监控模式。在启用监控模式之前，我们需要确保没有任何可能妨碍此过程的进程。因此，我们使用以下命令来终止任何此类进程：
- en: '[PRE0]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Now we can configure our network adapter to monitoring mode using the following
    command:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以使用以下命令将我们的网络适配器配置为监控模式：
- en: '[PRE1]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'You device will begin capturing beacons and probes across the airways:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 您的设备将开始在空中捕获信标和探测包：
- en: '![image](img/056294dd-0e26-4bc4-a352-cc73401d077d.jpg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/056294dd-0e26-4bc4-a352-cc73401d077d.jpg)'
- en: Pressing the *A* key on your keyboard will allow you to cycle through various
    filters. These filters include view access points only, view clients only, view
    access point and clients only, and finally, view access points, clients, and acknowledgement
    messages only.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 按下键盘上的*A*键将允许您循环浏览各种过滤器。这些过滤器包括仅查看接入点、仅查看客户端、仅查看接入点和客户端，最后，仅查看接入点、客户端和确认消息。
- en: 'Let''s determine the manufacturer of a product that can help in researching
    known vulnerabilities about a vendor-specific product. The **airodump-ng** tool
    will identify access points of specific manufacturers, we can do this by using
    the `airodump-ng <*interface*> --manufacturer` command:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们确定一个产品的制造商，可以帮助研究有关特定供应商产品的已知漏洞。**airodump-ng**工具将识别特定制造商的接入点，我们可以使用`airodump-ng
    <*interface*> --manufacturer`命令来实现这一点：
- en: '![image](img/05b97c78-7612-4210-9dc2-2739b716f318.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/05b97c78-7612-4210-9dc2-2739b716f318.jpg)'
- en: Exercise – discovering the WPS version of an access point
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-发现接入点的WPS版本
- en: 'In this exercise, we are going to use additional parameters with our **airodump-ng**
    tool on Kali NetHunter. Using the `--bssid` syntax to specify the access point
    to target, and `–c` to tell our wireless network adapter to listen on a particular
    channel, will help us monitor a specific wireless network. We will use `--wps`
    to indicate the WPS mode and version of the target access point:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将在Kali NetHunter上使用**airodump-ng**工具的附加参数。使用`--bssid`语法指定要定位的接入点，`-c`告诉无线网络适配器监听特定信道，将帮助我们监视特定的无线网络。我们将使用`--wps`来指示目标接入点的WPS模式和版本：
- en: '[PRE2]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We will get the following output after running the preceding command:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 运行上述命令后，我们将得到以下输出：
- en: '![image](img/1f270500-6c8a-48cb-a2ef-5d436e2823ef.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/1f270500-6c8a-48cb-a2ef-5d436e2823ef.jpg)'
- en: 'Upon executing our command, we get the following results:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 执行我们的命令后，我们得到以下结果：
- en: '![image](img/24da979f-6dda-495f-87fb-d95fc53d56c0.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/24da979f-6dda-495f-87fb-d95fc53d56c0.jpg)'
- en: We can see this access point has WPS enabled and is using version 2.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到这个接入点已启用WPS并且正在使用版本2。
- en: Exercise – de-authentication attacks
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-去认证攻击
- en: 'A de-authentication attack simply attempts to knock all associated/connected
    clients off an access point. In this exercise, we are going to use the **aireplay-ng**
    tool to help us accomplish our task:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 去认证攻击只是试图将所有关联/连接的客户端从接入点踢出。在这个练习中，我们将使用**aireplay-ng**工具来帮助我们完成我们的任务：
- en: Ensure your wireless NIC is in monitoring mode.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您的无线网卡处于监控模式。
- en: Use **airodump-ng** to obtain your target's BSSID.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**airodump-ng**获取您的目标的BSSID。
- en: 'Use the `aireplay -0 0 –a <*target''s BSSID*> <*monitoring interface*>` command
    to send a continuous steam of deauth frames to the target access point. The result
    will knock all connected clients off the network:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`aireplay -0 0 –a <*目标的BSSID*> <*监控接口*>`命令向目标接入点发送持续的去认证帧流。结果将使所有连接的客户端从网络中断开：
- en: '![image](img/5961db56-998e-49a6-8d1a-abfb309dfc40.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/5961db56-998e-49a6-8d1a-abfb309dfc40.jpg)'
- en: 'The aireplay-ng tool supports many attack modes. The following screenshot was
    taken from the *manual* page of aireplay-ng:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: aireplay-ng工具支持许多攻击模式。以下截图来自aireplay-ng的*手册*页面：
- en: '![image](img/338d51dd-ace8-453a-bfce-7b90059e24f9.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/338d51dd-ace8-453a-bfce-7b90059e24f9.jpg)'
- en: Exercise – de-authenticating a specific client
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-去认证特定客户端
- en: If you're targeting a specific client on a wireless network, we can use the
    following command to send deauth frames to the access point but only knock off
    the specified client.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在无线网络上针对特定客户端，我们可以使用以下命令向接入点发送去认证帧，但只断开指定的客户端。
- en: 'Use the `airodump-ng --bssid <*target''s BSSID*> -c <*channel #*> <*monitor
    interface*>` command to actively monitor the target network:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`airodump-ng --bssid <*目标的BSSID*> -c <*频道号*> <*监控接口*>`命令来主动监视目标网络：
- en: '![image](img/322a4592-fa57-4792-8fc8-045ae49c2ce3.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/322a4592-fa57-4792-8fc8-045ae49c2ce3.jpg)'
- en: 'As you can see, there are a few stations (client) that are associated with
    the access point. Let''s attempt a client disassociation:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，有一些与接入点关联的站点（客户端）。让我们尝试客户端解关联：
- en: '[PRE3]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '`-0` indicates we are executing a de-authentication attack.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-0`表示我们正在执行去认证攻击。'
- en: '`0` specifics a continuous attack. If `2` is used, it means to send only 2
    deauth messages to the target.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`0`具体指持续攻击。如果使用`2`，这意味着只向目标发送2个去认证消息。'
- en: '`-c` allows you to specify a specific station (client device) to de-authenticate.
    If this parameter is absent, the attack will de-authenticate all clients associated
    with the access point.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-c`允许你指定一个特定的站点（客户端设备）进行去认证。如果没有这个参数，攻击将使与接入点关联的所有客户端解关联。'
- en: 'We will get the following screenshot after running the preceding command:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 运行上述命令后，我们将得到以下截图：
- en: '![image](img/30af9292-1110-46d7-b9fd-00c324ccafb8.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/30af9292-1110-46d7-b9fd-00c324ccafb8.jpg)'
- en: Exercise – detecting a de-authentication attack
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-检测去认证攻击
- en: Earlier in this book, we looked at using an amazing tool called **tcpdump**
    to capture network traffic. Another great benefit of using this tool is to detect
    a de-authentication attack. As the attack is happening on the airwaves, we will
    be able to see it and determine its target.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的前面，我们看过了一个叫做**tcpdump**的神奇工具来捕获网络流量。使用这个工具的另一个好处是检测去认证攻击。由于攻击发生在空中，我们将能够看到它并确定其目标。
- en: To do this, we can use the `tcpdump -n -e -s0 -vvv -i wlan0 | grep DeAuth` command.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我们可以使用`tcpdump -n -e -s0 -vvv -i wlan0 | grep DeAuth`命令。
- en: '`-n` specifics not to resolve the IP address'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-n`指定不解析IP地址'
- en: '`-e` indicates to print the MAC addresses of IEEE 802.11 and Ethernet traffic
    types'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-e`表示打印IEEE 802.11和以太网流量类型的MAC地址'
- en: '`-v` indicates the level of verbosity'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-v`表示详细程度'
- en: '`-i` specifies the interface'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-i`指定接口'
- en: 'We will get the following output after running the preceding command:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 运行上述命令后，我们将得到以下输出：
- en: '![image](img/44cb443f-c0b1-475a-befc-4adee0379b2b.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/44cb443f-c0b1-475a-befc-4adee0379b2b.png)'
- en: The BSSID shown in the preceding screenshot indicates the victim access point.
    If this is your access point, this is an indication you're being targeted by a
    hacker.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 上述截图中显示的BSSID表示受害者接入点。如果这是你的接入点，这表明你正受到黑客的攻击。
- en: Exercise – discovering hidden SSIDs
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-发现隐藏的SSID
- en: 'Many organization tend to disable the broadcast of their SSID on the access
    point. Over a decade ago, we considered this a security configuration for wireless
    networks. However, with advanced penetration-testing tools and techniques, a pentester
    or a security auditor can uncover any hidden SSIDs within a few minutes. As a
    penetration tester, it''s your job to uncover your target''s wireless network
    if it''s hidden from mobile devices. You need to perform the following steps:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 许多组织倾向于在接入点上禁用其SSID的广播。十多年前，我们认为这是无线网络的安全配置。然而，通过先进的渗透测试工具和技术，渗透测试人员或安全审计员可以在几分钟内发现任何隐藏的SSID。作为渗透测试人员，如果目标的无线网络对移动设备隐藏，你需要执行以下步骤：
- en: Enable the monitoring mode on your wireless network adapter.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在无线网络适配器上启用监视模式。
- en: 'Use the `airodump-ng <*monitoring interface*>` command to display all nearby
    ESSIDs. Notice there is a network with an unusual format for its name, `<length:
    6>`. This indicates the access point has disabled the SSID from being broadcast:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '使用`airodump-ng <*监控接口*>`命令来显示所有附近的ESSIDs。注意有一个网络的名称格式不寻常，`<length: 6>`。这表示接入点已禁用了SSID的广播：'
- en: '![image](img/7dfd0be2-6837-46be-be69-1ebc4da7a02c.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/7dfd0be2-6837-46be-be69-1ebc4da7a02c.png)'
- en: 'Monitor this specific access point to determine whether there are any associated
    or connected clients. Use the following command:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 监视特定接入点，以确定是否有任何关联或连接的客户端。使用以下命令：
- en: '[PRE4]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'We will get the following output after running the preceding command:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 运行上述命令后，我们将得到以下输出：
- en: '![image](img/e00f9ff3-c2ca-45ca-899b-88e89e4b5011.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/e00f9ff3-c2ca-45ca-899b-88e89e4b5011.jpg)'
- en: As we can see, there's currently one client connected.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所看到的，目前有一个客户端连接。
- en: 'Create a brief de-authentication attack to force the client to reconnect upon
    disconnection. In the following screenshot, we will send a de-authentication attack
    using only 20 frames to the target access point:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个简短的去认证攻击，以在断开连接时强制客户端重新连接。在下面的截图中，我们将向目标接入点发送一个只有20帧的去认证攻击：
- en: '![image](img/4bf9530c-0d9e-4e15-b21c-3ece0ca113d0.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/4bf9530c-0d9e-4e15-b21c-3ece0ca113d0.png)'
- en: 'Midway during our de-authentication attack, the client was temporarily disconnected
    and sent out probes to look for the `dd-wrt` network. Once the connection was
    re-established, airodump-ng matched the information of the probe (sent by the
    station/client) with the ESSID and BSSID information. As we can see, the SSID/ESSID
    has been revealed:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的去认证攻击中途，客户端暂时断开连接并发送探测请求以寻找`dd-wrt`网络。一旦连接重新建立，airodump-ng将探测信息（由站点/客户端发送）与ESSID和BSSID信息进行匹配。正如我们所看到的，SSID/ESSID已经被揭示：
- en: '![image](img/ab27ca74-2911-4def-9cc8-2abf4ffa465f.jpg)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/ab27ca74-2911-4def-9cc8-2abf4ffa465f.jpg)'
- en: Exercise – cracking WEP and WPA
  id: totrans-151
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-破解WEP和WPA
- en: 'The first step in cracking WEP and WPA is to capture sufficient data from our
    target wireless network. I would recommend you capture at least 15,000 data frames
    using `airodump-ng`. We can use the following command to capture and store the
    data offline:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 破解WEP和WPA的第一步是从目标无线网络中捕获足够的数据。我建议您使用`airodump-ng`捕获至少15,000个数据帧。我们可以使用以下命令来捕获并离线存储数据：
- en: '[PRE5]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Using the `–w` parameter will allow `airodump-ng` to write its data to the
    specified file. We will capture enough frames until we acquire the WPA handshake:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`-w`参数将允许`airodump-ng`将其数据写入指定的文件。我们将捕获足够的帧直到获得WPA握手：
- en: '![image](img/af3907d9-a83d-44a4-8d8f-6df30f4a168e.jpg)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/af3907d9-a83d-44a4-8d8f-6df30f4a168e.jpg)'
- en: As you can see, we were able to capture the WPA handshake. To increase the likelihood
    of a client having to re-authenticate, you can attempt to use a de-authentication
    attack; this will ensure the client provides the secret key during the authentication
    process.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的，我们能够捕获WPA握手。为增加客户端重新认证的可能性，您可以尝试使用去认证攻击；这将确保客户端在认证过程中提供秘钥。
- en: 'Use the `aircrack-ng <*file name*>` command to verify the wireless access point
    ESSID, BSSID, and whether a handshake was obtained:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`aircrack-ng <*file name*>`命令来验证无线接入点ESSID、BSSID以及是否已获取握手：
- en: '![image](img/06700d2d-3674-4247-850d-b1c85cd4d03d.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/06700d2d-3674-4247-850d-b1c85cd4d03d.jpg)'
- en: 'Our next step is to attempt to recover the pre-shared key (PSK) from the captured
    data. We will use **aircrack-ng** with a password dictionary file. To quickly
    locate pre-built dictionary files within Kali NetHunter or Kali Linux, use the
    `locate` following command:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一步是尝试从捕获的数据中恢复预共享密钥（PSK）。我们将使用带有密码字典文件的**aircrack-ng**。要快速定位Kali NetHunter或Kali
    Linux中的预构建字典文件，请使用`locate`以下命令：
- en: '[PRE6]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'We will get the following output after running the preceding command:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 运行上述命令后，我们将得到以下输出：
- en: '![image](img/3af92fcd-92e9-4c08-947c-9c231273373c.jpg)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/3af92fcd-92e9-4c08-947c-9c231273373c.jpg)'
- en: 'Now it''s time to recover the pre-shared key (PSK); let''s use the following
    command:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候恢复预共享密钥（PSK）了；让我们使用以下命令：
- en: '`aircrack-ng dd-wrt-01.cap –w /usr/share/metasploit-framework/data/wordlists/password.lst`'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '`aircrack-ng dd-wrt-01.cap –w /usr/share/metasploit-framework/data/wordlists/password.lst`'
- en: 'Once you hit *Enter* on the keyboard, **aircrack-ng** will attempt a dictionary
    attack:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您在键盘上按下*Enter*，**aircrack-ng**将尝试进行字典攻击：
- en: '![image](img/b3690d0b-6974-4b6e-ae27-7c021b96d674.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/b3690d0b-6974-4b6e-ae27-7c021b96d674.png)'
- en: As you can see, the pre-shared key (PSK) was obtained successfully.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的，预共享密钥（PSK）已成功获取。
- en: Cracking WEP Encryption
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 破解WEP加密
- en: 'Cracking the WEP passphrase is similiar to cracking WPA/WPA2\. In this subsection,
    we will demonstrate this method:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 破解WEP密码类似于破解WPA/WPA2。在本小节中，我们将演示这种方法：
- en: 'To perform packet capturing  previously mentioned, we can again use the following
    command:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要执行先前提到的数据包捕获，我们可以再次使用以下命令：
- en: '[PRE7]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: I would recommend you capture a minimum of 15,000 data frames and ensure the
    handshake is acquired.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议您至少捕获15,000个数据帧并确保已获取握手。
- en: 'Once the handshake is obtained, ensure your .cap file has been saved offline.
    Use the `ls -l *cap` command to view all .cap files within our directory:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦握手获取到，确保您的.cap文件已经离线保存。使用`ls -l *cap`命令查看我们目录中的所有.cap文件：
- en: '![image](img/a61b3034-8964-4700-b119-5e7930178205.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/a61b3034-8964-4700-b119-5e7930178205.png)'
- en: We can see there are two capture files. For our exercise, we will be using the `ptw.cap`
    file.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到有两个捕获文件。在我们的练习中，我们将使用`ptw.cap`文件。
- en: 'Let''s attempt some WEP cracking techniques. To initiate `aircrack-ng`, use
    the following command:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们尝试一些WEP破解技术。要启动`aircrack-ng`，请使用以下命令：
- en: '[PRE8]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Once you hit *Enter*, `aircrack-ng` will attempt to recover the WEP key:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您按下*Enter*，`aircrack-ng`将尝试恢复WEP密钥：
- en: '![image](img/91678ab6-2541-4334-a0dc-3e7039295811.png)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/91678ab6-2541-4334-a0dc-3e7039295811.png)'
- en: As you can see, we have found our key.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的，我们已经找到了我们的密钥。
- en: Bluetooth hacking
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 蓝牙黑客攻击
- en: 'Similar to wireless hacking on IEEE 802.11 networks, Bluetooth hacking also
    exists on the IEEE 802.15 networks as well. As we know, a Bluetooth connection
    is established over a short distance, by creating an ad hoc network:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 与IEEE 802.11网络上的无线黑客攻击类似，IEEE 802.15网络上也存在蓝牙黑客攻击。众所周知，蓝牙连接是通过建立临时网络来实现的，距离较短：
- en: '![image](img/c186b656-2314-44da-ab42-dc6b0adeace2.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/c186b656-2314-44da-ab42-dc6b0adeace2.jpg)'
- en: 'The following is a short list of various types of Bluetooth attacks:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是各种类型的蓝牙攻击的简短列表：
- en: '**Bluejacking**: This allows a malicious user to send unsolicited messages
    over a Bluetooth connected to another Bluetooth-enabled device.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Bluejacking**：这允许恶意用户向另一台蓝牙连接的蓝牙设备发送未经请求的消息。'
- en: '**Bluesnarfing**: This is when an attacker is able to access the information
    on another Bluetooth-enabled device. Information may include the victim''s email
    messages, their address book details, or SMS messages.'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Bluesnarfing**：这是指攻击者能够访问另一台蓝牙设备上的信息。信息可能包括受害者的电子邮件消息、他们的通讯录详细信息或短信消息。'
- en: '**Bluesniffing**: The concept of war driving in search of Bluetooth-enabled
    devices.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Bluesniffing**：搜索蓝牙启用设备的战争驾驶概念。'
- en: '**Bluebugging**: This is when an attacker is able to take control of a victim''s
    Bluetooth-enabled device. This allows the attacker to listen on telephone calls
    and send messages from the victim''s device.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**蓝牙窃听**：这是指攻击者能够控制受害者的蓝牙设备。这使得攻击者能够监听电话通话并从受害者的设备发送消息。'
- en: Summary
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we discussed various wireless topologies, as it is important
    for a penetration tester to have an understanding of the landscape prior to and
    during the attacking phase. We covered current wireless authentication modes and
    encryption standards, and looked at their similarities and differences. Furthermore,
    we dived into discussing wireless threats and explored a variety of penetration
    testing attacks. Finally, we covered various Bluetooth attacks.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了各种无线拓扑结构，因为渗透测试人员在攻击阶段之前和期间了解这些结构是很重要的。我们涵盖了当前的无线认证模式和加密标准，并研究了它们的相似之处和不同之处。此外，我们深入讨论了无线威胁，并探讨了各种渗透测试攻击。最后，我们涵盖了各种蓝牙攻击。
- en: In the next chapter, we'll discuss avoiding detection. You'll learn about various
    way to be stealthy during a penetration test.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论如何避免被检测到。您将学习各种在渗透测试期间保持隐秘的方法。
