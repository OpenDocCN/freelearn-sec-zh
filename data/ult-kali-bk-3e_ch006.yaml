- en: 5 Exploring Open Source Intelligence
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5 探索开放源代码情报
- en: Join our book community on Discord
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 加入我们的Discord书籍社区
- en: '[https://packt.link/SecNet](https://packt.link/SecNet)![Qr code Description
    automatically generated](../media/file136.png)Just a couple of decades ago, the
    internet was not readily available to many people and organizations around the
    world due to many constraints. However, as technologies continue to evolve and
    Internet Service Providers (ISPs) work continuously to expand their network infrastructure
    to ensure everyone is able to connect and access the internet, there are more
    users on the internet today than ever and the numbers are continuing to increase
    as many people and organizations are using the internet for their personal gain
    and business, such as education, marketing, digitally connecting with others,
    e-commerce and the list can go on and on. This means, people are continuously
    creating and uploading data in various founds on many platforms on the internet,
    hence information is easily available to anyone on the internet. Sometimes, people
    and even employees of an organization share too much sensitive information on
    the internet without realizing how adversaries can collect and analyze the data
    to create intelligence which can be used to plan a cyber-attack on an organization.In
    this chapter, you will explore how ethical hackers and penetration testers collect
    and analyze **Open Source Intelligence** (**OSINT**) found on online data sources
    to create a profile and better understand their targets before proceeding to develop
    or acquire an exploit to compromise targeted systems and networks. You will learn
    how to use Google hacking techniques to filter search results to identify any
    unintentionally exposed assets, systems and resources of a targeted organization.
    In addition, you will gain the hands-on skills used by threat actors to perform
    passive reconnaissance on a targeted domain and identify sub-domains of an organization.
    Furthermore, you will explore various internet search engines which are commonly
    used by penetration testers to identify the technical infrastructure of a company
    and how hackers are able to collect employees’ data to plan and improve their
    operations.In this chapter, we will cover the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/SecNet](https://packt.link/SecNet)![Qr code Description
    automatically generated](../media/file136.png)仅仅几十年前，由于各种限制，互联网并没有那么容易为世界各地的许多人和组织所接入。然而，随着技术的不断发展，互联网服务提供商（ISP）不断扩展网络基础设施，确保每个人都能连接和访问互联网，今天的互联网用户数量比以往任何时候都要多，而且这个数字还在持续增长，许多人和组织利用互联网获取个人利益和商业利益，如教育、营销、与他人进行数字连接、电子商务等等。这意味着，人们不断在互联网上创建和上传数据，因此信息可以轻松地被互联网上的任何人访问。有时，人们甚至是组织的员工，会在互联网上分享过多的敏感信息，而没有意识到对手如何收集和分析这些数据，进而创建情报，计划对组织发起网络攻击。在本章中，你将探索道德黑客和渗透测试人员如何收集和分析**开放源代码情报**（**OSINT**），这些情报来源于在线数据源，用于创建目标资料并更好地理解目标，在进一步开发或获取利用工具以入侵目标系统和网络之前。你将学习如何利用谷歌黑客技术筛选搜索结果，识别任何意外暴露的资产、系统和资源。此外，你将掌握威胁行为者如何在目标域进行被动侦察并识别组织的子域的实战技能。进一步，你将探索渗透测试人员常用的各种互联网搜索引擎，用于识别公司技术基础设施，以及黑客如何收集员工数据来规划和改进他们的操作。在本章中，我们将涵盖以下内容：'
- en: Google hacking techniques
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谷歌黑客技术
- en: Domain reconnaissance
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名侦察
- en: Sub-domain harvesting
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 子域收集
- en: Identifying organizational infrastructure
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别组织基础设施
- en: Harvesting employees’ data
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集员工数据
- en: Social media reconnaissance
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社交媒体侦察
- en: Let’s dive in!
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！
- en: Technical Requirements
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'To follow along with the exercises in this chapter, please ensure that you
    have met the following hardware and software requirements:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 为了跟上本章的练习，请确保你已经满足以下硬件和软件要求：
- en: Kali Linux - [https://www.kali.org/get-kali/](https://www.kali.org/get-kali/)
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kali Linux - [https://www.kali.org/get-kali/](https://www.kali.org/get-kali/)
- en: DNSmap - [https://github.com/resurrecting-open-source-projects/dnsmap](https://github.com/resurrecting-open-source-projects/dnsmap)
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DNSmap - [https://github.com/resurrecting-open-source-projects/dnsmap](https://github.com/resurrecting-open-source-projects/dnsmap)
- en: Sublist3r - [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r)
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sublist3r - [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r)
- en: Sherlock - [https://github.com/sherlock-project/Sherlock](https://github.com/sherlock-project/Sherlock)
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sherlock - [https://github.com/sherlock-project/Sherlock](https://github.com/sherlock-project/Sherlock)
- en: Google hacking techniques
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Google 黑客技术
- en: The concept of Google hacking, sometimes referred to as *Google dorking*, is
    not the process of hacking into Google's network infrastructure or systems, but
    rather leveraging the advanced search parameters within the Google search engine
    to filter specific results. Many organizations don't always pay close attention
    to which systems and resources they are exposing on the internet. Google Search
    is a very powerful search platform that crawls/indexes everything on the internet
    and filters most malicious websites. Since Google indexes everything, the search
    engine can automatically discover hidden online directories, resources, and login
    portals of many organizations.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Google 黑客技术的概念，有时被称为 *Google dorking*，并不是指入侵 Google 的网络基础设施或系统，而是利用 Google 搜索引擎中的高级搜索参数来过滤特定结果。许多组织并不总是密切关注他们在互联网上暴露的系统和资源。Google
    搜索是一个非常强大的搜索平台，能够爬取/索引互联网上的所有内容，并过滤大多数恶意网站。由于 Google 索引了一切，搜索引擎可以自动发现许多组织的隐藏在线目录、资源和登录门户。
- en: Using Google hacking techniques is not illegal but there's a very fine line
    that you shouldn't cross; otherwise, you'll be in legal trouble. We can use Google
    hacking techniques to discover hidden and sensitive directories and web portals
    on the internet, but if you use such information with malicious intentions to
    perform a cyber-attack, then you can face legal actions.
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用 Google 黑客技术本身并不违法，但有一条非常细微的界限，你不应该越过，否则你将面临法律问题。我们可以使用 Google 黑客技术来发现互联网上隐藏的敏感目录和网页门户，但如果你怀着恶意意图利用这些信息进行网络攻击，那么你可能会面临法律行动。
- en: 'To get started with learning about Google hacking, let''s take a look at the
    following scenarios:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始学习 Google 黑客技术，我们来看看以下场景：
- en: Imagine you are required to use passive reconnaissance techniques to identify
    domains and sub-domains of a targeted organization. A common technique is to use
    Google Search to discover public-facing assets of the target.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假设你需要使用被动侦察技术来识别目标组织的域名和子域名。一种常见的技术是使用 Google 搜索来发现目标的公共资产。
- en: 'To do this, use the `site:domain-name` syntax, to filter all results for the
    specified domain as shown here:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，请使用 `site:domain-name` 语法，过滤指定域的所有结果，如此处所示：
- en: '![](../media/file137.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file137.png)'
- en: As shown in the preceding screenshot, Google Search returned only the results
    that contained the targeted domain name only.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，Google 搜索仅返回包含目标域名的结果。
- en: 'If you want to filter the search results based on a specific keyword for a
    targeted domain name, use the `keyword site:domain-name` syntax, as shown below:'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你想根据特定关键词过滤目标域名的搜索结果，可以使用 `keyword site:domain-name` 语法，如下所示：
- en: '![](../media/file138.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file138.png)'
- en: As shown in the preceding screenshot, the `eternalblue site:microsoft.com` syntax
    enables us to filter the search results to display all Microsoft’s domains and
    URLs which contains the ‘`eternalblue`’ keyword. This is useful when performing
    research for security vulnerabilities and exploits on a targeted system based
    on the application, operating system and vendor of the device.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，`eternalblue site:microsoft.com` 语法使我们能够过滤搜索结果，只显示包含 ‘`eternalblue`’ 关键词的所有微软域名和
    URL。在进行基于设备的应用程序、操作系统和供应商的安全漏洞与利用研究时，这非常有用。
- en: 'If you want to find all the domains of a targeted organization and filter the
    results based on 2 keywords, use the `keyword1 AND keyword2 site: domain-name`
    syntax, as shown below:'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '如果你想找到目标组织的所有域名，并基于两个关键词过滤结果，可以使用 `keyword1 AND keyword2 site: domain-name`
    语法，如下所示：'
- en: '![](../media/file139.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file139.png)'
- en: As shown in the preceding screenshot, using the `AND` operator with carefully
    chosen keywords helps us to find login portals of a targeted domain.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，使用 `AND` 运算符与精心挑选的关键词有助于我们找到目标域的登录门户。
- en: You can use the `OR` syntax to specify keywords compared to using AND to include
    both keywords.
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你可以使用 `OR` 语法来指定关键词，而不是使用 `AND` 来包含两个关键词。
- en: 'If you’re interested in search for specific file types on a targeted domain,
    use the `site:domain-name filetype:file type` syntax, as shown below:'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你有兴趣在特定域名上搜索特定文件类型，请使用 `site:domain-name filetype:file type` 语法，如下所示：
- en: '![](../media/file140.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file140.png)'
- en: As shown in the preceding screenshot, including the `filetype:` syntax helps
    us to filter the search results to display any files that are either intentionally
    or unintentionally leaked by the targeted organization.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，包含`filetype:`语法有助于我们筛选搜索结果，显示任何被目标组织故意或无意泄露的文件。
- en: 'To discover specific directories that contains sensitive keywords on their
    title pages, use the `site:domain-name intitle:keyword` syntax, as shown below:'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要发现包含敏感关键词的特定目录，可以使用`site:domain-name intitle:keyword`语法，如下所示：
- en: '![](../media/file141.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file141.png)'
- en: As shown in the preceding screenshot, using the `login` keyword as the `intitle:`
    parameter is useful for displaying login portals of the targeted domain.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，将`login`关键词作为`intitle:`参数是展示目标域的登录门户的有用方法。
- en: 'To find sub-domains of a targeted organization, use the `site:domain-name -www`
    syntax to exclude the `www` parameter, as shown below:'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要查找目标组织的子域，使用`site:domain-name -www`语法以排除`www`参数，如下所示：
- en: '![](../media/file142.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file142.png)'
- en: Using this technique is a good way to remove specific sub-domains and URLs from
    your search results.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这一技巧是从搜索结果中排除特定子域和URL的好方法。
- en: In additional, you can use the `site:*.domain.com -site:www.domain.com` syntax
    to find sub-domains of the targeted organization.
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 此外，你可以使用`site:*.domain.com -site:www.domain.com`语法来查找目标组织的子域。
- en: 'Furthermore, if you''re not too sure how to use the advanced search operators
    on the Google search engine, you can simply head on over to the Google home page
    and click on **Settings** > **Advanced search** to open the **Advanced search
    menu**, as shown below:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，如果你不太确定如何在谷歌搜索引擎中使用高级搜索操作符，你可以直接访问谷歌主页，然后点击**设置** > **高级搜索**，以打开**高级搜索菜单**，如下所示：
- en: '![](../media/file143.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file143.png)'
- en: 'Google provides a very easy and simple method to enable users to perform advanced
    searching and filtering, without having to know the advanced search operators,
    as shown below:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌提供了一种非常简单易用的方法，允许用户进行高级搜索和过滤，而不需要了解高级搜索操作符，如下所示：
- en: '![](../media/file144.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file144.png)'
- en: 'Once you''ve filled in the necessary details and clicked on the **Advanced
    Search** button, Google will automatically insert the appropriate search operations
    needed to perform advanced searches.While there are so many possibilities when
    using advanced Google search operators, it can be a bit overwhelming. **Google
    Hacking Database** (**GHDB**) is maintained by the creators of Kali Linux, **Offensive
    Security** ([https://www.offsec.com/](https://www.offsec.com/)), and can be found
    at [https://www.exploit-db.com/google-hacking-database](https://www.exploit-db.com/google-hacking-database).
    GHDB is a website that contains a list of various Google dorks (advanced search
    operators), which are used to find very sensitive information and resources on
    the internet using Google Search:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你填写了必要的详细信息并点击**高级搜索**按钮，谷歌会自动插入执行高级搜索所需的相应搜索操作符。虽然使用高级谷歌搜索操作符有很多可能性，但有时会有些令人不知所措。**Google
    Hacking Database**（**GHDB**）由Kali Linux的创建者**Offensive Security**（[https://www.offsec.com/](https://www.offsec.com/)）维护，可以在[https://www.exploit-db.com/google-hacking-database](https://www.exploit-db.com/google-hacking-database)找到。GHDB是一个包含各种谷歌dork（高级搜索操作符）列表的网站，这些操作符用于通过谷歌搜索查找互联网中非常敏感的信息和资源：
- en: '![](../media/file145.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file145.png)'
- en: As shown in the preceding screenshot, GHDB is regularly updated with new search
    syntax to help users discover vulnerable services and sensitive directories. A
    word of caution, though – please be very mindful and careful when lurking around
    using Google hacking techniques. Do not use the information you find for malicious
    purposes or to cause harm to a system or network.Having completed this section,
    you have learned how ethical hackers and penetration testers can leverage the
    power of Google Search to discover hidden directories and resources. In the next
    section, you will learn how to discover exposed assets owned by organizations.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，GHDB会定期更新新的搜索语法，帮助用户发现易受攻击的服务和敏感目录。不过需要提醒的是，使用谷歌黑客技术时一定要小心谨慎。请不要将找到的信息用于恶意目的或对系统或网络造成伤害。完成这一部分后，你已经学习了道德黑客和渗透测试人员如何利用谷歌搜索的强大功能来发现隐藏的目录和资源。在接下来的部分，你将学习如何发现组织拥有的暴露资产。
- en: Domain reconnaissance
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 域名侦察
- en: Collecting information about a target-owned domain helps cyber criminals, ethical
    hackers and penetration testers to identify whether the targeted organization
    has any exposed systems and network infrastructure which can be leveraged when
    planning a future attack. In addition, domain reconnaissance helps ethical hackers
    and penetration testers to determine the external attack surface of an organization,
    which is, identifying all the internet-facing systems, their operating systems,
    open ports and running services with the intention of discovering security vulnerabilities
    which can be exploited by real attackers. This helps ethical hackers to determine
    whether their targets are unintentionally exposing vulnerable systems, services
    and applications on the internet, and how a threat actor can leverage the information
    to perform a cyber-attack.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 收集关于目标域名的信息有助于网络犯罪分子、道德黑客和渗透测试人员识别目标组织是否有任何暴露的系统和网络基础设施，这些都可能在规划未来的攻击时被利用。此外，域名侦察有助于道德黑客和渗透测试人员确定组织的外部攻击面，即识别所有面向互联网的系统、它们的操作系统、开放端口和运行的服务，目的是发现可以被真实攻击者利用的安全漏洞。这有助于道德黑客确定目标是否无意中暴露了脆弱的系统、服务和应用程序，并了解威胁行为者如何利用这些信息进行网络攻击。
- en: Collecting WHOIS data
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 收集 WHOIS 数据
- en: 'What if you can access a database which contains the records of registered
    domains on the internet? Many domain registrars allow the general public to view
    publicly available information about registered domains. This information can
    be found on various WHOIS databases on the internet.The following is a list of
    various types of information which can be collected from WHOIS databases:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你能访问一个包含互联网上注册域名记录的数据库呢？许多域名注册商允许公众查看有关已注册域名的公开信息。这些信息可以在互联网上的各种 WHOIS 数据库中找到。以下是可以从
    WHOIS 数据库收集的各种信息类型的列表：
- en: Registrant contact information
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注册人联系信息
- en: Administrative contact information
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理联系信息
- en: Technical contact information
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术联系信息
- en: Name servers
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 域名服务器
- en: Important dates, such as registration, update, and expiration dates
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重要日期，例如注册、更新和过期日期
- en: Registry domain ID
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注册域名 ID
- en: Registrar information
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 注册商信息
- en: 'Accessing a WHOIS database is quite simple: you can use your favorite internet
    search engine to find various WHOIS databases, such as the following:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 访问 WHOIS 数据库非常简单：你可以使用你喜欢的互联网搜索引擎来查找各种 WHOIS 数据库，如下所示：
- en: '[https://who.is/](https://who.is/)'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://who.is/](https://who.is/)'
- en: '[https://www.whois.com/](https://www.whois.com/)'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.whois.com/](https://www.whois.com/)'
- en: '[https://lookup.icann.org/](https://lookup.icann.org/)'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://lookup.icann.org/](https://lookup.icann.org/)'
- en: '[https://whois.domaintools.com/](https://whois.domaintools.com/)'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://whois.domaintools.com/](https://whois.domaintools.com/)'
- en: 'Within Kali Linux, you will being a pre-installed WHOIS tool which enables
    penetration testers to perform a WHOIS lookup directly on the Terminal. To perform
    a WHOIS lookup on a targeted domain, open the Terminal on Kali Linux and execute
    the `whois <domain-name>` commands to begin a search, as shown here:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Kali Linux 中，你将拥有一个预安装的 WHOIS 工具，允许渗透测试人员直接在终端上执行 WHOIS 查询。要在目标域名上执行 WHOIS
    查询，打开 Kali Linux 的终端并执行 `whois <domain-name>` 命令开始搜索，如下所示：
- en: '![](../media/file146.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file146.png)'
- en: As shown in the preceding screenshot, the WHOIS tool was able to retrieve publicly
    available information about the targeted domain by simply asking a trusted online
    source. Keep in mind that, as the need for online privacy increases around the
    world, domain owners are paying a premium fee to ensure their contact and personal
    information is not revealed by WHOIS databases to the general public. This means
    that you will not commonly find personal contact information for domains that
    are no longer being revealed on WHOIS databases if the domain owner pays the premium
    for additional privacy features.However, do not pass this tool aside as there
    are still many organizations around the world which does not always value online
    privacy. Due to the lack of security awareness and negligence of many people and
    organizations, threat actors and penetration testers can exploit this vulnerability
    to collect OSINT on their targets.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，WHOIS 工具能够通过简单地询问一个可信的在线源来检索目标域名的公开信息。请记住，随着全球对在线隐私需求的增加，域名所有者支付额外费用来确保他们的联系方式和个人信息不会被
    WHOIS 数据库公开。这意味着，如果域名所有者为额外的隐私保护功能支付了费用，你通常不会在 WHOIS 数据库中找到不再公开的个人联系信息。然而，不要忽视这个工具，因为全球仍有许多组织并不总是重视在线隐私。由于许多人和组织缺乏安全意识和疏忽，威胁行为者和渗透测试人员可以利用这一漏洞收集目标的
    OSINT 信息。
- en: Performing DNS enumeration
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 执行 DNS 枚举
- en: '**Domain Name System** (**DNS**) is an application-layer protocol that enables
    a system such as a computer to resolve a hostname to an IP address. While there
    are so many devices on a network, especially on the internet, remembering the
    IP addresses of web servers can be quite challenging. Using DNS, a system administrator
    can configure each device with both an IP address and a hostname. Using a hostname
    is a lot easier to remember, such as `www.packtpub.com` or `www.google.com`. However,
    do you know the IP addresses of the servers that are hosting these websites for
    Packt and Google? You probably don''t, and that''s okay because on the internet,
    there is a hierarchy of DNS servers that contain the records of public hostnames
    and their IP addresses. These are known as root DNS servers.A DNS server is like
    a traditional telephone directory, with a list of people and their telephone numbers.
    On a DNS server, you can find records of the hostnames of servers and devices,
    as well as their associated IP addresses. Many popular internet companies, such
    as Cisco, Google, Cloudflare, and others, have set up many public DNS servers
    around the internet which contains the records of almost every public domain name
    on the internet.To get a better understanding on how a client device such as a
    computer uses DNS to resolve a domain name, let’s take a look at the following
    scenario:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '**域名系统**（**DNS**）是一个应用层协议，使得像计算机这样的系统能够将主机名解析为 IP 地址。在网络上有如此多的设备，尤其是在互联网上，记住
    Web 服务器的 IP 地址可能是相当具有挑战性的。通过 DNS，系统管理员可以为每个设备配置 IP 地址和主机名。使用主机名要记住起来容易得多，比如 `www.packtpub.com`
    或 `www.google.com`。但是，你知道为 Packt 和 Google 托管这些网站的服务器的 IP 地址吗？你可能不知道，这没关系，因为在互联网上，有一个层级结构的
    DNS 服务器，保存着公共主机名及其 IP 地址的记录。这些被称为根 DNS 服务器。DNS 服务器就像传统的电话簿，列出了人们及其电话号码。在 DNS 服务器上，你可以找到服务器和设备的主机名记录，以及它们相关的
    IP 地址。许多知名的互联网公司，如思科、谷歌、Cloudflare 等，已经在互联网上设置了许多公共 DNS 服务器，这些服务器包含几乎所有公共域名的记录。为了更好地理解客户端设备（如计算机）如何使用
    DNS 解析域名，让我们来看一下以下场景：'
- en: Imagine you want to view the webpage on `www.example.com` on your computer,
    so you decide to open the web browser and enter `www.example.com` within the address
    bar and hit enter to connect to the web server.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设你想在计算机上查看 `www.example.com` 的网页，于是你决定打开 Web 浏览器，在地址栏中输入 `www.example.com`
    并按回车键连接到 Web 服务器。
- en: Your computer will check the local DNS cache to determine whether the IP address
    of `www.example.com` is known already due to a previous connection. If the IP
    address of `www.example.com` is found within the local cache, the computer will
    establish a connection to the destination server.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的计算机将检查本地 DNS 缓存，以确定 `www.example.com` 的 IP 地址是否已因先前的连接而已知。如果在本地缓存中找到 `www.example.com`
    的 IP 地址，计算机会建立与目标服务器的连接。
- en: 'If the IP address is not found within the local DNS cache of the client, the
    client sends a **DNS Query** message to the DNS server, requesting the IP address
    of the hostname (`www.example.com`), as shown below:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果客户端的本地 DNS 缓存中没有找到 IP 地址，客户端会向 DNS 服务器发送**DNS 查询**消息，请求该主机名（`www.example.com`）的
    IP 地址，如下所示：
- en: '![](../media/file147.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file147.png)'
- en: 'The DNS server will check its records and respond to the client with a non-authoritative
    **DNS Reply** message, providing the client with the IP address of the hostname,
    as shown below:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: DNS 服务器将检查其记录并以非权威的**DNS 回复**消息响应客户端，提供主机名的 IP 地址，如下所示：
- en: '![](../media/file148.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file148.png)'
- en: If the DNS server does not have the requested records for the hostname, it performs
    a recursive DNS lookup to retrieve the DNS records either from other DNS servers
    on the internet or the root DNS server. When the client receives the IP address
    from the DNS Reply from the DNS server, the client stores the IP address to hostname
    mapping within the local DNS cache for future reference.
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果 DNS 服务器没有该主机名的请求记录，它将执行递归 DNS 查询，从互联网上的其他 DNS 服务器或根 DNS 服务器中获取 DNS 记录。当客户端从
    DNS 服务器的 DNS 回复中收到 IP 地址时，客户端会将该主机名的 IP 地址映射保存在本地 DNS 缓存中，以备将来使用。
- en: 'The client uses the IP address from **DNS Reply** to connect to `www.example.com`
    on the internet, as shown below:'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 客户端使用来自**DNS 回复**的 IP 地址连接到互联网上的`www.example.com`，如下所示：
- en: '![](../media/file149.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file149.png)'
- en: 'There are many public DNS servers on the internet; some are created by threat
    actors with malicious intentions, such as redirecting unaware users to malicious
    websites for social engineering purposes. As a result, I recommend using a trusted
    DNS providers on all of your networking devices, security appliances, servers
    and computers to improve your organization’s online safety. The following are
    some popular DNS servers on the internet:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上有许多公共 DNS 服务器，其中一些是恶意行为者创建的，目的是将不知情的用户重定向到恶意网站进行社交工程攻击。因此，我建议在所有网络设备、安全设备、服务器和计算机上使用可信的
    DNS 提供商，以提高您组织的网络安全。以下是一些互联网上流行的 DNS 服务器：
- en: 'Cloudflare: [https://1.1.1.1/](https://1.1.1.1/)'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Cloudflare: [https://1.1.1.1/](https://1.1.1.1/)'
- en: 'Quad 9: [https://www.quad9.net/](https://www.quad9.net/)'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Quad 9: [https://www.quad9.net/](https://www.quad9.net/)'
- en: 'Cisco OpenDNS: [https://www.opendns.com/](https://www.opendns.com/)'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Cisco OpenDNS: [https://www.opendns.com/](https://www.opendns.com/)'
- en: 'Google Public DNS: [https://developers.google.com/speed/public-dns](https://developers.google.com/speed/public-dns)'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Google Public DNS: [https://developers.google.com/speed/public-dns](https://developers.google.com/speed/public-dns)'
- en: 'Additionally, DNS servers not only resolve a hostname to IP address – they
    also contain various types of records with information about a domain, such as
    the following:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，DNS 服务器不仅将主机名解析为 IP 地址，还包含关于域名的各种记录信息，如下所示：
- en: '`A`: This record maps a hostname to an IPv4 address.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`A`：该记录将主机名映射到 IPv4 地址。'
- en: '`AAAA` – Used to map a hostname to an IPv6 address.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AAAA` – 用于将主机名映射到 IPv6 地址。'
- en: '`NS` – Used for specifying the name servers for a domain.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NS` – 用于指定域名的名称服务器。'
- en: '`MX` – Specifies the mail exchange or email servers for the domain.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MX` – 指定该域名的邮件交换服务器或电子邮件服务器。'
- en: '`PTR` – This record maps a hostname to an IPv4 or IPv6 address.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PTR` – 该记录将主机名映射到 IPv4 或 IPv6 地址。'
- en: '`CNAME` – Used to specify an alias for another record.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CNAME` – 用于指定另一个记录的别名。'
- en: '`RP` – This report contains the responsible person for the domain.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RP` – 该记录包含域名的责任人信息。'
- en: '`SOA` – This record specifies the authority for the domain.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SOA` – 该记录指定域名的授权信息。'
- en: '`SRV` – This record contains the service records such as port numbers for specific
    services on the domain.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SRV` – 该记录包含服务记录，例如该域上特定服务的端口号。'
- en: '`TXT` – This record allows the domain owner to specify a text record. Commonly
    used for verification of ownership for a domain.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TXT` – 该记录允许域名所有者指定文本记录。常用于域名所有权验证。'
- en: 'You''re probably wondering, what does learning about DNS have to do with passive
    reconnaissance and OSINT as a penetration tester? As an aspiring penetration tester,
    DNS enumeration is the technique of probing specific DNS records for a targeted
    domain to retrieve information about an organization’s internet-facing assets
    and identify any security vulnerabilities that can assist in planning a cyber-attack.
    Performing DNS enumeration is simply requesting the DNS records of a targeted
    domain from a public DNS server on the internet. Then, analyzing the collected
    information to create intelligence and better understand how an adversary can
    leverage the intelligence to compromise the targeted organization.Within Kali
    Linux, you will find many DNS analysis tools to help ethical hackers and penetration
    testers to efficiently collect and analyze DNS records of a targeted domain. While
    the preference of using such type of tool is usually depend upon the personal
    choice of the penetration tester, I strongly urge you to try all the available
    tools to better understanding on which ones work best for you. To get started
    with using **DNSrecon** for DNS enumeration, please use the following instructions:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想，学习DNS与作为渗透测试人员的被动侦察和OSINT有什么关系呢？作为一名渴望成为渗透测试人员的人，DNS枚举是探测目标域特定DNS记录的一种技术，可以获取有关组织面向互联网资产的信息，并识别任何可能有助于策划网络攻击的安全漏洞。执行DNS枚举实际上是在互联网上从公共DNS服务器请求目标域的DNS记录。然后，分析收集到的信息，以创建情报并更好地理解对手如何利用这些情报来攻破目标组织。在Kali
    Linux中，你会发现许多DNS分析工具，可以帮助道德黑客和渗透测试人员高效地收集和分析目标域的DNS记录。虽然使用这些工具的偏好通常取决于渗透测试人员的个人选择，但我强烈建议你尝试所有可用的工具，以更好地理解哪些工具最适合你。要开始使用**DNSrecon**进行DNS枚举，请按照以下说明操作：
- en: Power-on the **Kali Linux** virtual machine and log-in.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开启**Kali Linux**虚拟机并登录。
- en: 'Next, open the **Terminal** and use the following commands to retrieve the
    DNS records for a targeted domain:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，打开**终端**并使用以下命令检索目标域的DNS记录：
- en: '[PRE0]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The following screenshot shows DNSrecon was able to retrieve the public DNS
    records for the Microsoft.com domain from Cloudflare’s public DNS server:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了DNSrecon能够从Cloudflare的公共DNS服务器检索到Microsoft.com域的公共DNS记录：
- en: '![](../media/file150.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file150.png)'
- en: Using the `-d` syntax enables you to specify the targeted domain, the `-n` syntax
    enables you to specify a name server to query,
  id: totrans-100
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用`-d`语法可以指定目标域，使用`-n`语法可以指定要查询的名称服务器，
- en: As shown in the preceding screenshot, DNSrecon was able to retrieve various
    DNS records for the targeted domain, such as the A, NS, MX and SOA records. An
    ethical hacker and penetration tester can leverage the information collected to
    identity the public IP address of additional assets owned by the target.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，DNSrecon能够检索到目标域的各种DNS记录，如A记录、NS记录、MX记录和SOA记录。道德黑客和渗透测试人员可以利用收集到的信息识别目标所拥有的其他资产的公共IP地址。
- en: 'In addition, DNSrecon was able to enumerate the SRV records of the targeted
    domain, as shown below:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，DNSrecon还能够枚举目标域的SRV记录，如下所示：
- en: '![](../media/file151.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file151.png)'
- en: As shown in the preceding screenshot, the end of each line indicates the open
    port number for each service. Identifying open ports helps penetration testers
    to determine running services and points of entry into a targeted system.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，每一行的末尾表示每个服务的开放端口号。识别开放端口有助于渗透测试人员确定运行中的服务和目标系统的入口点。
- en: To learn more about DNSrecon and its additional features, use the `dnsrecon
    -h` and `man dnsrecon` commands on Kali Linux.
  id: totrans-105
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 要了解更多关于DNSrecon及其附加功能，请在Kali Linux中使用`dnsrecon -h`和`man dnsrecon`命令。
- en: Having completed this exercise, you have learnt how to enumerate DNS records
    from public DNS servers for a targeted domain. Next, you will learn how to exploit
    a vulnerable DNS server to extract sensitive DNS records.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此练习后，你已经学会了如何从公共DNS服务器枚举目标域的DNS记录。接下来，你将学习如何利用易受攻击的DNS服务器提取敏感的DNS记录。
- en: Exploiting DNS zone transfer
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 利用DNS区域传输
- en: DNS zone transfer allows the zone records from one DNS server to be copied from
    a master DNS server onto another DNS server over a network For instance, from
    a primary DNS server to a secondary DNS server for redundancy. Sometimes, an IT
    professional may forget to secure their DNS server and implement security controls
    to prevent the zone records from being copied to unauthorized DNS servers. If
    a threat actor were to successfully perform a DNS zone transfer on a targeted
    organization, the adversary will be able to retrieve both public and private DNS
    records which helps the attacker to identify critical systems on the internal
    network of the target.In another scenario, the targeted organization may not separate
    their internal and external namespaces from each other on their DNS servers for
    the company. This type of misconfiguration on DNS servers can lead to a future
    DNS zone transfer attack. While nowadays, it’s less likely to discover a target’s
    DNS server with this security vulnerability, it’s still important for both ethical
    hackers and penetration testers understand how adversaries are able to discover
    and exploit this security flaw.However, as security training is applied to almost
    every field within IT courses and certifications, the upcoming generation of IT
    professionals are usually made aware of this security flaw to ensure their systems
    and networks are always secure. Hence, the possibility of a poorly configured
    DNS server may be almost non-existent since, as an aspiring penetration tester,
    you should leave no stone unturned and always test for everything within your
    scope of a penetration test on your target.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: DNS 区域传输允许将一个 DNS 服务器上的区域记录从主 DNS 服务器复制到另一个 DNS 服务器上，例如从主 DNS 服务器复制到次级 DNS 服务器以实现冗余。有时，IT
    专业人员可能会忘记保护他们的 DNS 服务器，并实施安全控制以防止区域记录被复制到未经授权的 DNS 服务器。如果威胁行为者成功地在目标组织上执行 DNS
    区域传输，攻击者将能够获取公共和私有的 DNS 记录，这有助于攻击者识别目标内部网络上的关键系统。在另一种场景下，目标组织可能没有在其 DNS 服务器上将内部和外部命名空间分开。这种
    DNS 服务器配置错误可能导致未来的 DNS 区域传输攻击。虽然如今发现具有这种安全漏洞的目标 DNS 服务器的可能性较小，但对于道德黑客和渗透测试员来说，了解攻击者如何发现并利用这种安全漏洞仍然非常重要。然而，随着安全培训被应用到几乎所有
    IT 课程和认证领域，未来一代的 IT 专业人员通常会意识到这种安全漏洞，以确保他们的系统和网络始终安全。因此，配置不当的 DNS 服务器的可能性几乎可以忽略不计，因为作为一个有抱负的渗透测试员，你应该不留死角，始终在渗透测试的范围内对目标进行全面测试。
- en: The awesome folks at **Digi Ninja** ([https://digi.ninja/](https://digi.ninja/))
    setup an amazing environment to better understand how to test for DNS zone transfer
    vulnerabilities. In addition, they have made their online platform free to the
    public so anyone can learn more about this security vulnerabilities of misconfigured
    DNS servers.
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**Digi Ninja**的优秀团队（[https://digi.ninja/](https://digi.ninja/)）搭建了一个很棒的环境，帮助更好地理解如何测试
    DNS 区域传输漏洞。此外，他们将他们的在线平台免费向公众开放，任何人都可以了解有关 DNS 服务器配置错误的安全漏洞。'
- en: 'To get started with this exercise, please use the following instructions:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始此练习，请按照以下说明操作：
- en: Power-on your **Kali Linux** virtual machine and login.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动你的**Kali Linux**虚拟机并登录。
- en: 'Open the **Terminal** and use the `host` command to retrieve the DNS records
    of `zonetransfer.me`, as shown below:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**终端**并使用`host`命令来获取`zonetransfer.me`的 DNS 记录，如下所示：
- en: '![](../media/file152.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file152.png)'
- en: As shown in the preceding screenshot, various DNS records were retrieved, such
    as the `A` and `MX` records.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，成功检索到多个 DNS 记录，如 `A` 和 `MX` 记录。
- en: 'Next, let’s attempt to retrieve the `NS` records for the targeted domain, use
    the `host -t ns zonetransfer.me` commands, as shown below:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们尝试获取目标域名的 `NS` 记录，使用`host -t ns zonetransfer.me`命令，如下所示：
- en: '![](../media/file153.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file153.png)'
- en: 'As shown in the preceding screenshot, the targeted domain has 2 name servers,
    these are: `nsztm1.digi.ninja` and `nsztm2.digi.ninja`. We can proceed to check
    each of these name servers to determine whether they are misconfigured for unauthorized
    zone transfer.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，目标域名有 2 个名称服务器，分别是：`nsztm1.digi.ninja` 和 `nsztm2.digi.ninja`。我们可以继续检查每个名称服务器，确定它们是否配置错误，允许未经授权的区域传输。
- en: 'Next, let’s query the `nsztm1.digi.ninja` Name Server to identify whether it’s
    vulnerable to DNS zone transfer and retrieve the zone records, use the following
    command:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们查询`nsztm1.digi.ninja`名称服务器，看看它是否存在 DNS 区域传输漏洞并获取区域记录，使用以下命令：
- en: '[PRE1]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The following screenshots all the DNS records that were obtained from the `nsztm1.digi.ninja`
    Name Server for the targeted domain:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了从`nsztm1.digi.ninja`名称服务器获取的所有DNS记录，针对目标域：
- en: '![](../media/file154.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file154.png)'
- en: As shown in the preceding screenshot, there are many interesting hostnames,
    and their corresponding IP addresses were retrieved. These hostnames may not be
    intentionally exposed to the internet by the targeted organization but as a result
    of poorly configured DNS server settings, they were.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 如上述截图所示，有许多有趣的主机名及其对应的IP地址已被检索到。这些主机名可能不是被目标组织有意地暴露在互联网上的，而是由于DNS服务器设置不当而被发现。
- en: Be sure to query all the Name Servers for a given domain – sometimes, one server
    may be misconfigured even though the others are secured.
  id: totrans-123
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 确保查询给定域名的所有名称服务器 - 有时，一个服务器可能配置错误，即使其他服务器都已经保护。
- en: 'Next, to automate the DNS analysis and perform DNS zone transfer on a targeted
    domain, use the **DNSenum** tool with the following commands:'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为了自动化对目标域名进行DNS分析和执行DNS区域传输，请使用**DNSenum**工具和以下命令：
- en: '[PRE2]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The DNSenum tool will attempt to retrieve all DNS records for the targeted
    domain and will attempt to perform DNS zone transfer using all the Name Servers
    that are found. In the following screenshot shows DNSenum was able to retrieve
    the zone records for the targeted domain:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: DNSenum工具将尝试检索目标域名的所有DNS记录，并尝试使用找到的所有名称服务器执行DNS区域传输。以下截图显示DNSenum成功检索到了目标域名的区域记录：
- en: '![](../media/file155.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file155.png)'
- en: 'DNSEnum was able to retrieve additional zone records, as shown here:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: DNSEnum成功检索到了其他区域记录，如下所示：
- en: '![](../media/file156.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file156.png)'
- en: As you can imagine, the collected information can be leverage by both adversaries
    and ethical hackers to discover additional assets that are owned by the targeted
    organization, identify their hostnames and IP addresses.Having completed this
    exercise, you have learnt how to perform DNS enumeration and zone transfer as
    an ethical hacker and penetration tester. Next, you will learn how to automate
    the collection of OSINT using Spiderfoot.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所能想象的，收集到的信息可以被对手和道德黑客利用，以发现目标组织拥有的其他资产，识别它们的主机名和IP地址。完成了这项练习，你将学会如何作为道德黑客和渗透测试员执行DNS枚举和区域传输。接下来，你将学习如何使用Spiderfoot自动收集OSINT。
- en: Automation using Spiderfoot
  id: totrans-131
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用Spiderfoot进行自动化
- en: '**Spiderfoot** is a very popular OSINT tool that helps ethical hackers, penetration
    testers and cybersecurity researchers to automate their processes and workloads
    when gathering intelligence about their targets. This tool provides excellent
    visualization of the all data it has gathered in the form of graphs and tables,
    which helps you easily read and interpret the data that''s been collected.To get
    started with Spiderfoot, please use the following instructions:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '**Spiderfoot** 是一个非常流行的OSINT工具，帮助道德黑客、渗透测试员和网络安全研究人员在收集关于目标的情报时自动化他们的流程和工作负载。该工具以图形和表格的形式提供了所有收集到的数据的优秀可视化，帮助你轻松阅读和解释收集到的数据。要开始使用Spiderfoot，请按照以下说明操作：'
- en: Power-on the **Kali Linux** virtual machine and ensure it has an active internet
    connection.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动**Kali Linux**虚拟机并确保其拥有活动的互联网连接。
- en: 'Next, open the **Terminal** and use the following commands to launch the Spiderfoot
    web interface:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，打开**终端**并使用以下命令启动Spiderfoot Web界面：
- en: '[PRE3]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The following screenshot shows the execution of the preceding commands:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了上述命令的执行：
- en: '![](../media/file157.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file157.png)'
- en: As shown in the preceding screenshot, the `-l` syntax specifies the IP address
    and port number for the Spiderfoot web interface. Where, `0.0.0.0` specifies all
    interfaces and `1234` is the open port for incoming connections to Spiderfoot
    web interface.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 如上述截图所示，`-l`语法指定了Spiderfoot Web界面的IP地址和端口号。其中，`0.0.0.0`指定所有接口，`1234`是Spiderfoot
    Web界面的开放端口，用于接收入站连接。
- en: 'Next, open the web browser within Kali Linux and go to `http://127.0.0.1:1234/`
    to access the Spiderfoot web interface, as shown below:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在Kali Linux内的Web浏览器中打开并转到`http://127.0.0.1:1234/`以访问Spiderfoot Web界面，如下所示：
- en: '![](../media/file158.png)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file158.png)'
- en: 'Next, to automate the OSINT data collection and analysis, click on **New Scan**
    > set a **Scan Name** with a **Scan Target** and use the **Passive** option, then
    click on **Run Scan Now** as shown below:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为了自动化OSINT数据收集和分析，点击**新扫描** > 设置一个**扫描名称**和**扫描目标**并选择**被动**选项，然后点击**立即运行扫描**如下所示：
- en: '![](../media/file159.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file159.png)'
- en: 'Spiderfoot begins to collect and analyze data from multiple data sources on
    the internet about the targeted organization or domain, as shown below:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Spiderfoot开始从互联网上的多个数据源收集并分析有关目标组织或域名的数据，如下所示：
- en: '![](../media/file160.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file160.png)'
- en: 'Select the **Graph** tab to view how each data point is interconnected to the
    target domain, as shown below:'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Graph**标签，查看每个数据点如何与目标域名相互连接，如下所示：
- en: '![](../media/file161.png)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file161.png)'
- en: Clicking a data point shown in the preceding screenshot reveals with a domain
    name, sub-domain, hostname, email address or URL that’s associated to the target.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 点击前面截图中显示的数据点，可以揭示与目标相关联的域名、子域名、主机名、电子邮件地址或网址。
- en: 'Next, to view the data that was collected based on categories, click on **Browse**,
    as shown in the following screenshot:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为了查看根据类别收集的数据，点击**Browse**，如下截图所示：
- en: '![](../media/file162.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file162.png)'
- en: 'Next, click within the **Internet Name** category to see the data that was
    collected, as shown below:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击**Internet Name**类别查看收集的数据，如下所示：
- en: '![](../media/file163.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file163.png)'
- en: As you can imagine, Spiderfoot can dig deeper until it gathers all the data
    about a targeted domain, inclusive of DNS information, and format the data into
    information and convert it into intelligence that can be leverage by ethical hackers
    and penetration testers.Having completed this section, you have gained the hands-on
    experience and skills to perform domain and DNS reconnaissance. In the next section,
    you will learn how to discover sub-domains using OSINT techniques.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所想象的那样，Spiderfoot可以深入挖掘，直到收集到目标域名的所有数据，包括DNS信息，并将数据格式化为信息，并转换成可以被道德黑客和渗透测试员利用的情报。完成这一部分后，你已经掌握了执行域名和DNS侦察的实战经验和技能。在下一部分，你将学习如何使用OSINT技术发现子域名。
- en: Sub-domain harvesting
  id: totrans-153
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 子域名收集
- en: Every day, search engines such as Bing, Google, and Yahoo frequently learn and
    index new and existing websites to improve their search results. If a person searches
    for a company's website, you’re likely to discover the primary domain, such as
    `example.com`. A lot of organizations create sub-domains for various reasons,
    but as an aspiring ethical hacker and penetration tester, discovering all the
    possible sub-domains of a targeted organization can lead to finding sensitive
    locations and resources, such as login portals and unintentionally exposed corporate
    directories, which may contain confidential files and resources.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 每天，像Bing、Google和Yahoo这样的搜索引擎都会频繁地学习并索引新的和现有的网站，以提高它们的搜索结果。如果一个人搜索某个公司的官网，你很可能会发现主要域名，如`example.com`。许多组织出于各种原因创建子域名，但作为一个有抱负的道德黑客和渗透测试员，发现目标组织的所有子域名可能会导致找到敏感的地点和资源，比如登录门户和无意暴露的企业目录，这些目录可能包含机密文件和资源。
- en: Enumeration with DNSmap
  id: totrans-155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用DNSmap进行枚举
- en: '**DNSmap** works a bit differently from the tools we looked at in the previous
    sections. DNSmap attempts to enumerate the sub-domains of a targeted parent domain
    by querying a built-in wordlist within Kali Linux. Once a sub-domain is found,
    DNSmap will also attempt to resolve the IP address automatically.To get started
    using DNSmap, please use the following instructions:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '**DNSmap**的工作方式与我们在前面章节中介绍的工具略有不同。DNSmap通过查询Kali Linux中内置的字典列表，尝试枚举目标父域名的子域名。一旦找到子域名，DNSmap还会尝试自动解析IP地址。要开始使用DNSmap，请按照以下说明操作：'
- en: Power-on the **Kali Linux** virtual machine and ensure it has internet connectivity.
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开启**Kali Linux**虚拟机并确保其有互联网连接。
- en: 'Next, open the **Terminal** and use the following commands to install the latest
    version of DNSmap on Kali Linux:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，打开**终端**，使用以下命令在Kali Linux上安装DNSmap的最新版本：
- en: '[PRE4]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Next, use the following commands to automate the discovery of sub-domains for
    a target using DNSmap:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用以下命令通过DNSmap自动发现目标的子域名：
- en: '[PRE5]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The following screenshot shows DNSmap is identifying the sub-domains of a targeted
    organization and is resolving each hostname/sub-domain to an IP address:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示DNSmap正在识别目标组织的子域名，并解析每个主机名/子域名到IP地址：
- en: '![](../media/file164.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file164.png)'
- en: As a penetration tester, discovering the sub-domains of your target can lead
    to finding vulnerable web applications and even systems. Furthermore, such information
    can be used to build a better profile of your target. Next, you will learn how
    to use another popular tool that leverages OSINT to gather the sub-domains of
    a targeted organization.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试员，发现目标的子域名可以帮助你找到易受攻击的 web 应用程序甚至系统。此外，这些信息可以用来建立对目标的更好分析。接下来，你将学习如何使用另一种流行的工具，它利用
    OSINT 技术收集目标组织的子域名。
- en: Sub-domain discovery with Sublist3r
  id: totrans-165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 Sublist3r 进行子域名发现
- en: 'You can leverage the power of search engines for discovering sub-domains by
    using the **Sublist3r** tool. Sublist3r is a Python-based tool that is used to
    enumerate (extract/obtain) the sub-domains of a targeted public domain using OSINT
    techniques and data sources, such as search engines and other internet indexing
    platforms.To get started using Sublist3r, please use the following instructions:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以利用搜索引擎的强大功能，通过 **Sublist3r** 工具发现子域名。Sublist3r 是一个基于 Python 的工具，利用 OSINT
    技术和数据源（如搜索引擎和其他互联网索引平台）来枚举（提取/获取）目标公共域名的子域名。要开始使用 Sublist3r，请按照以下步骤操作：
- en: Firstly, power-on the **Kali Linux** virtual machine and ensure it has internet
    connectivity.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，启动 **Kali Linux** 虚拟机，并确保它连接到互联网。
- en: 'Next, open the **Terminal** and use the following commands to download the
    **Sublist3r** setup files from a working branch of the application:'
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，打开 **终端**，使用以下命令从该应用程序的有效分支下载 **Sublist3r** 安装文件：
- en: '[PRE6]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The packages from the official GitHub repository for Sublist3r is no longer
    working at the time of writing, therefore we’ll use a known working branch from
    [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r).
  id: totrans-170
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 由于在撰写本文时，官方 GitHub 仓库中的 Sublist3r 包已不再工作，因此我们将使用来自 [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r)
    的已知可用分支。
- en: 'Next, use the following commands to change the present working directory to
    the Sublist3r folder and install the requirements for the tool:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用以下命令将当前工作目录更改为 Sublist3r 文件夹，并安装该工具的必要依赖项：
- en: '[PRE7]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Next, use the following commands to perform sub-domain discovery on a targeted
    domain:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用以下命令对目标域名执行子域名发现：
- en: '[PRE8]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The following screenshot shows the sub-domain discovery process with Sublist3r:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图展示了使用 Sublist3r 进行子域名发现的过程：
- en: '![](../media/file165.png)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file165.png)'
- en: The `-o` syntax enables Sublist3r to create an output file with the results
    and store it in a custom location. For instance, appending the `-o /home/kali/Desktop/subdomains.txt`
    command at the end will create the output on the Desktop of Kali Linux.
  id: totrans-177
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`-o` 语法允许 Sublist3r 创建一个输出文件并将结果存储在自定义位置。例如，添加 `-o /home/kali/Desktop/subdomains.txt`
    命令会将输出文件保存在 Kali Linux 的桌面上。'
- en: Using the information that was found regarding sub-domains, penetration testers
    will need to check these sub-domains to determine where they lead, such as to
    a vulnerable web application or even a login portal for employees or customers.Having
    completed this section, you have learned how to efficiently discover the sub-domains
    of a targeted organization. In the next section, you will learn how to use OSINT
    to identify the technical infrastructure of an organization.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 利用发现的子域名信息，渗透测试员需要检查这些子域名，以确定它们指向的位置，例如一个易受攻击的 web 应用程序，甚至是员工或客户的登录门户。在完成本部分内容后，你已经学会了如何高效地发现目标组织的子域名。接下来，你将学习如何使用
    OSINT 技术识别组织的技术基础设施。
- en: Identifying organizational infrastructure
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 识别组织基础设施
- en: While many organizations think their network infrastructure is hidden behind
    their public IP address and that threat actors are unable to determine their internal
    infrastructure, threat actors uses various OSINT techniques and tools to identify
    the systems and applications that are running within a targeted organization.Over
    the next sub-sections, you will learn how organizations are leaking technical
    details about their internal network and how it can be leveraged by threat actors
    to improve their cyber-attack.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然许多组织认为他们的网络基础设施隐藏在公共 IP 地址后面，威胁行为者无法确定其内部基础设施，但威胁行为者使用各种 OSINT 技术和工具来识别目标组织内部运行的系统和应用程序。在接下来的子章节中，你将学习到组织如何泄露其内部网络的技术细节，以及这些信息如何被威胁行为者利用来提高他们的网络攻击能力。
- en: Data leakage on job websites
  id: totrans-181
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 招聘网站的数据泄露
- en: 'Over the years, I’ve noticed many organizations leak a lot of data about their
    internal infrastructure and systems which can help adversaries to improve their
    plan of attack and identify security vulnerabilities within an organization by
    simply analyzing public information. For instance, a recruiter usually post a
    vacancy on a job board or on their careers section of their company’s website
    for job seekers. Quite often, the recruiter or job poster provides specific technical
    details about the organization’s internal systems to help the job seeker to determine
    whether the position is a good fit for their career development.The following
    are the advantages of companies posting their technologies on recruitment websites:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 多年来，我注意到许多组织泄露了大量关于其内部基础设施和系统的数据，这些数据可以帮助对手通过简单分析公开信息，改进攻击计划并识别组织中的安全漏洞。例如，招聘人员通常会在招聘网站或公司网站的招聘栏目上发布职位空缺，供求职者查看。招聘人员或职位发布者常常会提供关于组织内部系统的具体技术细节，以帮助求职者判断该职位是否适合他们的职业发展。以下是公司在招聘网站上发布技术信息的优势：
- en: The potential candidate will have an idea of the environment and technologies
    they will be working with if they are successful during the interviewing process.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 潜在候选人如果在面试过程中成功，将会对自己将要使用的环境和技术有所了解。
- en: The potential candidate can determine whether they have the skillset required
    for the job beforehand.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 潜在候选人可以事先确定自己是否具备该职位所需的技能。
- en: 'However, a threat actor can leverage the technical details found a job post
    to determine the type of operating systems, applications and versions, networking
    and security solutions are running within the company. In addition, such information
    is usually public information and OSINT which can be leveraged by adversaries
    to determine the attack surface and security vulnerabilities of the company.The
    following are the disadvantages of companies posting their technologies on recruitment
    websites:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，威胁行为者可以利用职位发布中找到的技术细节，确定公司内部运行的操作系统、应用程序及其版本、网络和安全解决方案。此外，这类信息通常是公开信息和开源情报（OSINT），可以被对手用来确定攻击面和公司安全漏洞。以下是公司在招聘网站上发布技术信息的缺点：
- en: The company is leaking details about its technologies to the general public,
    and this information can be leveraged by a threat actor.
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司正在向公众泄露关于其技术的细节，这些信息可能被威胁行为者利用。
- en: A hacker can determine the infrastructure, and select exploits and tools to
    perform a cyber-attack on the targeted organization.
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 黑客可以确定基础设施，并选择漏洞和工具，对目标组织进行网络攻击。
- en: 'As a penetration tester, when recruiters reveal such information, we can easily
    create a portfolio of the targeted organization''s internal infrastructure by
    identifying the operating systems of clients and servers, the vendor of networking
    devices, and the vendor of security appliances and technologies within the company''s
    network.To get a better understanding of developing a hacker mindset as a penetration
    tester, let''s take a look at the following screenshot:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试员，当招聘人员披露此类信息时，我们可以通过识别客户和服务器的操作系统、网络设备供应商以及公司网络中安全设备和技术的供应商，轻松创建目标组织的内部基础设施档案。为了更好地理解如何作为渗透测试员培养黑客思维，我们来看看以下截图：
- en: '![](../media/file166.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file166.png)'
- en: 'As shown in the preceding screenshot, the recruiter listed the main qualifications
    of the ideal candidate. Let''s analyze the information provided by taking a closer
    look at the desired experience. The job poster is looking for someone who’s experienced
    in Microsoft Windows Server 2012, 2016, and 2019\. The following can be derived
    from this information:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，招聘人员列出了理想候选人的主要资格要求。我们通过仔细分析所提供的信息，来更好地了解所需的经验。职位发布者正在寻找一位拥有Microsoft
    Windows Server 2012、2016和2019经验的人。可以从这些信息中得出以下结论：
- en: The hiring organization has a Microsoft Windows environment with some older
    versions of Windows Server, specifically 2012 and 2016.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 招聘组织拥有一个Microsoft Windows环境，并且使用一些较旧版本的Windows Server，特别是2012和2016。
- en: There's the possibility that either the older systems or all Windows servers
    within the organization are not fully patched and contains security vulnerabilities.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织内的旧系统或所有Windows服务器可能未完全打补丁，存在安全漏洞的可能性。
- en: The organization may not have rolled out Windows Server 2019 within their network
    yet or is planning to roll out the newer version of Windows Server soon.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该组织可能还没有在其网络中部署Windows Server 2019，或者计划很快推出更新版本的Windows Server。
- en: The hiring company specified the vendors for their existing networking devices
    and security solutions, which are Cisco routers and switches and Fortinet firewalls.
    This gives the attacker a clear idea of the threat prevention systems that are
    in place.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 招聘公司指定了他们现有的网络设备和安全解决方案的供应商，包括思科路由器和交换机以及Fortinet防火墙。这为攻击者提供了明确的威胁防范系统信息。
- en: The organization is also using Microsoft cloud computing services such as Azure.
    There is a likelihood that their cloud-based servers and applications are not
    secure.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该组织还在使用微软的云计算服务，如Azure。他们的基于云的服务器和应用程序可能存在安全漏洞。
- en: As an aspiring penetration tester, using your favorite search engine, you can
    search for known security vulnerabilities and learn how to exploit each of these
    technologies. As you have seen, the recruiter leaked too much data about the organization
    which can also be used against that same organization by threat actors for malicious
    purposes, as well as by ethical hackers and penetration testers who have been
    hired to simulate a real-world cyber-attack, help the organization identify how
    they are leaking data and the potential impact if the information is leveraged
    by a real attacker.Next, you will learn how to use a special internet search engine
    to find exposed systems from many organizations around the world.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名有抱负的渗透测试员，使用你最喜欢的搜索引擎，你可以搜索已知的安全漏洞，并学习如何利用这些技术。正如你所看到的，招聘人员泄露了过多的关于组织的数据，这些数据也可以被威胁行为者用于对该组织的恶意目的，同时也可以被雇佣的道德黑客和渗透测试员利用，模拟现实世界的网络攻击，帮助组织识别其数据泄露的方式以及如果这些信息被真正的攻击者利用可能带来的影响。接下来，你将学习如何使用一个特殊的互联网搜索引擎，找到世界各地许多组织暴露的系统。
- en: Finding vulnerable systems using Shodan
  id: totrans-197
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用Shodan寻找易受攻击的系统
- en: '**Shodan** is a search engine for **Internet of Things** (**IoT**), systems,
    and networks that are directly connected to the internet. Ethical hackers, penetration
    testers, and even threat actors use Shodan to identify their organization''s or
    target''s assets, and they check whether they have been publicly exposed on the
    internet. This online tool helps cybersecurity professionals quickly determine
    whether their organization''s assets have been exposed on the internet.To provide
    some additional insight, imagine that you want to determine whether your organization
    has any systems, such as servers that are accessible over the internet. These
    servers may include open service ports, vulnerable running applications, and services.
    Imagine that your organization has a legacy system running an older operating
    system that isn''t patched with the latest security updates from the vendor and
    is directly connected to the internet. A penetration tester or threat actor can
    use an online tool, such as Shodan, to discover such systems without even sending
    a probe of any kind directly from the penetration tester''s system to the target
    server, simply because Shodan detects it automatically.To get started using Shodan,
    please use the following instructions:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '**Shodan**是一个用于搜索**物联网**（**IoT**）、系统和直接连接到互联网的网络的搜索引擎。道德黑客、渗透测试员，甚至威胁行为者都会使用Shodan来识别他们组织或目标的资产，并检查这些资产是否已在互联网上公开暴露。这个在线工具帮助网络安全专业人员快速确定他们组织的资产是否已暴露在互联网上。为了提供一些额外的见解，假设你想确定你的组织是否有任何系统，如服务器，能够通过互联网访问。这些服务器可能包含开放的服务端口、易受攻击的运行应用程序和服务。假设你的组织有一个运行旧版操作系统的遗留系统，该操作系统没有及时安装厂商发布的最新安全更新，而且直接连接到互联网。渗透测试员或威胁行为者可以使用在线工具，如Shodan，发现这样的系统，而无需直接从渗透测试员的系统向目标服务器发送任何探测请求，仅仅因为Shodan会自动检测到它。要开始使用Shodan，请按照以下说明操作：'
- en: Using your web browser, go to [https://www.shodan.io/](https://www.shodan.io/)
    and register for an account. You can perform searches on Shodan without an account
    but the results will be very limited.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用你的网页浏览器，访问[https://www.shodan.io/](https://www.shodan.io/)并注册一个账户。没有账户也可以在Shodan上进行搜索，但结果会非常有限。
- en: 'After creating your account, login and use the Shodan search field to enter
    some keywords such as `windows server 2008`, as shown in the following screenshot:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建账户后，登录并使用Shodan的搜索框输入一些关键词，如`windows server 2008`，如下图所示：
- en: '![](../media/file167.png)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file167.png)'
- en: As shown in the preceding screenshot, there are over 200,000 devices around
    the world which are still running the Microsoft Windows Server 2008 operating
    system that are identified using Shodan, and these systems are directly connected
    to the internet. As an ethical hacker and penetration tester, you can use Shodan
    to find exposed assets that are owned by the targeted organization to determine
    the attack surface of the company. Furthermore, once you’re able to identify the
    operating system(s) of the target, you can research known security vulnerabilities
    for these systems.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示的截图显示，全球范围内仍有超过200,000台设备正在运行Microsoft Windows Server 2008操作系统，并使用Shodan识别出这些直接连接到互联网的系统。作为道德黑客和渗透测试人员，您可以使用Shodan查找目标组织拥有的公开资产，以确定公司的攻击面。此外，一旦能够识别出目标的操作系统，您可以研究这些系统已知的安全漏洞。
- en: 'Clicking on any of these system will provide additional information about the
    system, such as open ports, running services, banner and locale details. The following
    screenshot shows the local information of a system:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击任何一个系统都会提供有关系统的额外信息，如开放端口、运行服务、横幅和区域设置详细信息。以下截图显示了系统的本地信息：
- en: '![](../media/file168.png)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file168.png)'
- en: As shown in the preceding screenshot, Shodan was able to retrieve the hostname,
    domain name, **Internet Service Provider** (**ISP**) details and its **Autonomous
    System Number** (**ASN**), and locale information. Such information helps cyber
    criminals and ethical hackers to determine the locality of the targeted organization
    during their reconnaissance phase.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示的截图，Shodan能够检索主机名、域名、**互联网服务提供商**（**ISP**）详细信息及其**自治系统号**（**ASN**），以及区域设置信息。这些信息帮助黑客和道德黑客在其侦察阶段确定目标组织的地理位置。
- en: 'Additionally, Shodan provides details on the open ports and their associated
    services that are running on the targeted system, as shown below:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，Shodan提供了有关开放端口及其关联服务的详细信息，如下所示：
- en: '![](../media/file169.png)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file169.png)'
- en: As shown in the preceding screenshot, Shodan was able to identify exposed services
    and ports on this system. Whether these ports were intentionally exposed by the
    organization, cyber criminals and ethical hackers can use this information to
    determine which services are running on the targeted system and determine whether
    there are any security vulnerabilities.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示的截图，Shodan能够识别出此系统上暴露的服务和端口。无论这些端口是否被组织有意暴露，黑客和道德黑客都可以使用这些信息来确定目标系统上运行的服务，并确定是否存在任何安全漏洞。
- en: 'To learn more about service names and port numbers, please see: [https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml](https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml).'
  id: totrans-209
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 要了解更多有关服务名称和端口号的信息，请参阅：[https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml](https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml)。
- en: For instance, the system is running **Server Message Block** (**SMB**) version
    1, which is known to contain security flaws that enables an attacker to perform
    **Remote Code Execution** (**RCE**) on the targeted system. Furthermore, Shodan
    was able to enumerate a valid username for the **Remote Desktop Protocol** (**RDP**)
    service that’s running on the device. Such details helps the ethical hacker and
    penetration tester to improve their attack and future operations for gaining access
    on the target.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，系统正在运行已知存在安全漏洞的**Server Message Block**（**SMB**）版本1，使攻击者能够在目标系统上执行**远程代码执行**（**RCE**）。此外，Shodan能够枚举出设备上运行的**远程桌面协议**（**RDP**）服务的有效用户名。这些详细信息有助于道德黑客和渗透测试人员改进其攻击和未来操作，以获取目标的访问权限。
- en: As an aspiring ethical hacker and penetration tester, ports are open on a system
    to allow ingress and egress traffic. Identifying open ports helps you to determine
    the entry-points on a targeted system.
  id: totrans-211
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 作为一名有抱负的道德黑客和渗透测试人员，端口开放是为了允许系统进出流量。识别开放端口有助于确定目标系统上的入口点。
- en: 'Additionally, if Shodan detects any known security vulnerabilities on the system
    it will provide the details as shown below:'
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，如果Shodan检测到系统上的任何已知安全漏洞，它将提供以下详细信息：
- en: '![](../media/file170.png)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file170.png)'
- en: As shown in the preceding screenshot, Shodan provides a list of known security
    vulnerabilities with a brief description and their associated **Common Vulnerabilities
    and Exposure** (**CVE**) numbers.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示，Shodan提供了已知安全漏洞的列表，简要描述了这些漏洞及其相关的**常见漏洞与暴露**（**CVE**）编号。
- en: The CVE database allows cybersecurity professionals and researchers to report
    and track security vulnerabilities at [https://cve.mitre.org/](https://cve.mitre.org/).
    Furthermore, cybersecurity professionals use the CVE details to create **Cyber
    Threat Intelligence** (**CTI**) to improve their cyber defenses and mitigate new
    and emerging threats.
  id: totrans-215
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: CVE数据库允许网络安全专业人员和研究人员报告和跟踪安全漏洞，网址为[https://cve.mitre.org/](https://cve.mitre.org/)。此外，网络安全专业人员使用CVE详细信息来创建**网络威胁情报**（**CTI**），以增强他们的网络防御并缓解新兴的威胁。
- en: As shown in the preceding steps, ethical hackers and penetration testers can
    leverage the search algorithm of Shodan to passively collect information to identify
    the attack surface of their targets. Shodan can help you gather OSINT data without
    having to directly engage a target. In the next section, you will discover how
    to use another well-known tool within the industry to gather in-depth intelligence
    on systems on the internet.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，伦理黑客和渗透测试人员可以利用Shodan的搜索算法，主动收集信息，以识别其目标的攻击面。Shodan可以帮助你收集OSINT数据，而无需直接与目标接触。在接下来的部分，你将了解到如何使用行业内另一个知名工具，深入收集互联网系统的情报。
- en: Discovering exposed systems with Censys
  id: totrans-217
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用Censys发现暴露的系统
- en: '**Censys** is another internet search engine which helps cybersecurity professionals
    and researchers to collect and analyze information about internet-facing systems
    and identity their attack surface to better understand how a cyber-criminal leverages
    public information about such as the domain names, IP addresses and digital certificates
    that as associated to a targeted organization.To get started working with Censys,
    please use the following instructions:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '**Censys**是另一个互联网搜索引擎，帮助网络安全专业人员和研究人员收集和分析关于面向互联网的系统的信息，并识别它们的攻击面，以更好地理解网络犯罪分子如何利用公开信息（如域名、IP地址和数字证书等）来攻击目标组织。要开始使用Censys，请遵循以下步骤：'
- en: 'Firstly, go to [https://search.censys.io/](https://search.censys.io/) and register
    for a free user account on the platform:'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，访问[https://search.censys.io/](https://search.censys.io/)并在平台上注册一个免费用户账户：
- en: '![](../media/file171.png)'
  id: totrans-220
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file171.png)'
- en: 'After registering for an account, login and use the **Search** field to enter
    the name, IP address or domain name of your targeted organization and click on
    **Search** to perform a lookup, as shown below:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注册账户后，登录并使用**搜索**字段输入目标组织的名称、IP地址或域名，然后点击**搜索**进行查找，如下所示：
- en: '![](../media/file172.png)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file172.png)'
- en: As shown in the preceding screenshot, a lookup was performed on Cloudflare’s
    **Domain Name Server** (**DNS**) address. The results shows information about
    the network and IP addressing, running services and open ports on the server,
    and the geo-location of the server. Such information is useful when trying to
    find the geo-location or locale data for a targeted organization.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示，已对Cloudflare的**域名服务器**（**DNS**）地址进行了查找。结果显示了有关网络和IP地址、运行的服务、开放端口以及服务器的地理位置的信息。这些信息在尝试查找目标组织的地理位置或地区数据时非常有用。
- en: 'Next, the **Explore** tab provides additional such as association to domain
    names, IPv4 and IPv6 addresses, and other assets owned by the organization, as
    shown below:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，**探索**标签页提供了更多信息，例如与域名、IPv4和IPv6地址以及组织拥有的其他资产的关联，如下所示：
- en: '![](../media/file173.png)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file173.png)'
- en: The **History** tab allows you to view the change which occurred on the targeted
    system. Understand what has changed helps ethical hackers and penetration tester
    to determine if there’s a vulnerability within an application or configuration.
    For instance, installing a new plugin on a web application can introduce new security
    vulnerabilities which can be exploited by a threat actor.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**历史**标签页让你查看目标系统发生的变化。了解变化的内容帮助伦理黑客和渗透测试人员判断应用程序或配置中是否存在漏洞。例如，在Web应用程序上安装新插件可能会引入新的安全漏洞，攻击者可以利用这些漏洞进行攻击。'
- en: The **WHOIS** table provides the domain registration details and contact information
    about the owner of the domain. Sometimes, a domain owner does not pay an additional
    fee during the domain registration process to conceal their personal information.
    It’s common for threat actors and ethical hackers to identify the domain registration
    details to determine the owner’s contact detail and geo-location of the organization.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**WHOIS**表格提供了域名注册的详细信息和域名所有者的联系信息。有时，域名所有者在注册过程中未支付额外费用来隐藏其个人信息。对于威胁行为者和道德黑客来说，识别域名注册详细信息是常见的做法，以确定所有者的联系方式和组织的地理位置。'
- en: Using the information gathered from Censys, ethical hackers and penetration
    testers can create a profile of systems that are publicly available through the
    internet and their open ports. Such information can be leveraged to research security
    vulnerabilities and techniques to compromise those systems. In the next section,
    you will learn how to automate passive reconnaissance techniques and acquiring
    OSINT data.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 使用从 Censys 收集的信息，道德黑客和渗透测试人员可以创建公开可通过互联网访问的系统及其开放端口的档案。这些信息可以用来研究安全漏洞和利用技术来攻破这些系统。在接下来的部分中，你将学习如何自动化被动侦察技术和获取
    OSINT 数据。
- en: Mapping external systems using Maltego
  id: totrans-229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 Maltego 映射外部系统
- en: '**Maltego** is a graphical open source intelligence tool that was created maintained
    by Maltego Technologies. This tool helps ethical hackers and penetration testers
    collect intelligence on a targeted organization''s infrastructure by using a graphical
    interactive data mining application. This application provides the ability to
    query and gather information from multiple data sources on the internet and present
    data in easy-to-understand graphs. These graphs provide visualizations of the
    relationships between each entity and the target, therefore helps penetration
    testers to identify the external attack surface or a targeted system, network
    and organization.To get started with using Maltego for data harvesting, please
    use the following instructions:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '**Maltego** 是一款由 Maltego Technologies 创建并维护的图形化开源情报工具。该工具帮助道德黑客和渗透测试人员通过使用图形交互式数据挖掘应用程序收集目标组织的基础设施情报。该应用程序提供从互联网上多个数据源查询和收集信息的能力，并以易于理解的图形展示数据。这些图形展示了每个实体与目标之间的关系，从而帮助渗透测试人员识别外部攻击面或目标系统、网络和组织。要开始使用
    Maltego 进行数据收集，请按照以下说明进行操作：'
- en: Go to [https://www.maltego.com/ce-registration/](https://www.maltego.com/ce-registration/)
    to register for a free Community Edition (CE) user account for the Maltego application.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 [https://www.maltego.com/ce-registration/](https://www.maltego.com/ce-registration/)
    注册 Maltego 应用程序的免费社区版（CE）用户账户。
- en: Next, power-on the **Kali Linux** virtual machine and log-in.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，启动**Kali Linux**虚拟机并登录。
- en: 'On the **Kali Linux** desktop, open the **Terminal** and use the following
    commands to update the local package repository list and install Maltego:'
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**Kali Linux**桌面，打开**终端**并使用以下命令更新本地软件包库列表并安装 Maltego：
- en: '[PRE9]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Next, click the Kali Linux icon (top-left corner) to expand the applications
    menu, select **01 – Information Gathering** > **OSINT Analysis** > **maltego**,
    as shown below:'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击 Kali Linux 图标（左上角）以展开应用程序菜单，选择**01 – 信息收集** > **OSINT 分析** > **maltego**，如下所示：
- en: '![](../media/file174.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file174.png)'
- en: 'Next, the Maltego **Product Selection** window will appear, select **Maltego
    CE** (**Free**) > **Run** to launch the community edition, as shown below:'
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，Maltego **产品选择**窗口将出现，选择**Maltego CE**（**免费**） > **运行**，以启动社区版，如下所示：
- en: '![](../media/file175.png)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file175.png)'
- en: Next, the **Configure Maltego – License** Agreement windows will appear, accept
    the license agreement and click on **Next**.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，**配置 Maltego – 许可**协议窗口将出现，接受许可协议并点击**下一步**。
- en: Next, the **Configure Maltego – Login** window appears, ensure your user credentials
    that were created during step 1, and click on **Next** to continue.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，**配置 Maltego – 登录**窗口将出现，确保使用第一步中创建的用户凭据，然后点击**下一步**继续。
- en: Click **Next** on the **Login Results**, **Install Transforms**, **Help Improve
    Maltego**, **Web Browser Options**, **Privacy Mode Options** and **Ready** windows.
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**登录结果**、**安装转换**、**帮助改进 Maltego**、**Web 浏览器选项**、**隐私模式选项**和**准备好**窗口中点击**下一步**。
- en: 'To start gathering information on a targeted organization, open a new graph.
    To do this, click on the **Maltego icon** (top-left corner), and then click on
    **New**:'
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要开始收集目标组织的信息，打开一个新图表。操作方法是点击**Maltego图标**（左上角），然后点击**新建**：
- en: '![](../media/file176.png)'
  id: totrans-243
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file176.png)'
- en: As shown in the preceding screenshot, once a new graph is created, you'll see
    various types of entities on the left pane, while on the right side, you'll see
    **Overview**, **Detail View**, and **Property View** panes.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面截图所示，创建新图表后，你会在左侧面板看到各种类型的实体，而右侧则显示**概览**、**详细视图**和**属性视图**面板。
- en: 'Next, to start collecting infrastructure information about a targeted organization,
    from the **Entity Palette** section, drag and drop the **Domain** entity onto
    the middle of the graph pane, as shown below:'
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，要开始收集目标组织的基础设施信息，在**实体调色板**区域，将**域**实体拖动到图表面板的中间，如下所示：
- en: '![](../media/file177.png)'
  id: totrans-246
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file177.png)'
- en: 'Next, double-click on the **Domain** entity on the graph pane to open the **Details**
    window, enter an organization’s domain name within the **Domain Name** field and
    click on **OK** as shown below:'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在图表面板中双击**域**实体，打开**详情**窗口，在**域名**字段中输入组织的域名，并点击**确定**，如下所示：
- en: '![](../media/file178.png)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file178.png)'
- en: 'To retrieve the target’s public DNS records, right-click on the **Domain**
    entity on the graph pane and select **All Transforms** > **To DNS Name – NS**
    (**name server**), as shown below:'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检索目标的公共DNS记录，右键点击图表面板中的**域**实体，选择**全部转换** > **转为DNS名称 – NS**（**名称服务器**），如下所示：
- en: '![](../media/file179.png)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file179.png)'
- en: 'Once the transform executes and retrieved data, Maltego populates the graph
    pane to show the Name Servers of the target. as shown below:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦转换执行并检索到数据，Maltego会在图表面板中填充，显示目标的名称服务器，如下所示：
- en: '![](../media/file180.png)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file180.png)'
- en: 'To retrieve the **Mail Exchange** (**MX**) records to identify a target’s email
    servers, right-click on the **Domain** entity | select **All Transforms** | **To
    DNS Name – MX** (**mail server**), as shown below:'
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检索**邮件交换**（**MX**）记录，以识别目标的邮件服务器，右键点击**域**实体 | 选择**全部转换** | **转为DNS名称 – MX**（**邮件服务器**），如下所示：
- en: '![](../media/file181.png)'
  id: totrans-254
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file181.png)'
- en: 'Once Maltego retrieves the MX records from public DNS servers, the graph pane
    is updated to show the email server(s) of the targeted organization:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦Maltego从公共DNS服务器检索到MX记录，图表面板会更新，显示目标组织的邮件服务器：
- en: '![](../media/file182.png)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file182.png)'
- en: 'To retrieve the public IP address of the name servers or email servers, right-click
    on one of the entities on the graph pane | select **All Transforms** | **To IP
    Address** [**DNS**], as shown below:'
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检索名称服务器或邮件服务器的公共IP地址，右键点击图表面板中的其中一个实体 | 选择**全部转换** | **转为IP地址** [**DNS**]，如下所示：
- en: '![](../media/file183.png)'
  id: totrans-258
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file183.png)'
- en: Next, to discover if there’s a website that’s associated to the targeted domain,
    right-click on the **Domain** entity | select **All Transforms** | **To Website**
    [**Quick lookup**].
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为了发现是否有与目标域名相关的网页，右键点击**域**实体 | 选择**全部转换** | **转为网站** [**快速查找**]。
- en: 'To retrieve the public IP address(es) that are associated to the website address,
    right-click on the **Website** entity | select **All Transforms** | **To IP Address**
    [**DNS**], as shown below:'
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检索与网站地址相关联的公共IP地址，右键点击**网站**实体 | 选择**全部转换** | **转为IP地址** [**DNS**]，如下所示：
- en: '![](../media/file184.png)'
  id: totrans-261
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file184.png)'
- en: 'To retrieve a list of publicly known email addresses which as associated to
    the targeted domain, right-click on the **Domain** entity | select **All Transforms**
    | **To Email addresses** [**PGP**], as shown below:'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检索与目标域名关联的已知公开电子邮件地址列表，右键点击**域**实体 | 选择**全部转换** | **转为电子邮件地址** [**PGP**]，如下所示：
- en: '![](../media/file185.png)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file185.png)'
- en: Lastly, you can save the information collected by Maltego by clicking on the
    Maltego icon on the left-corner and selecting the **Save** option.The relation-mapping
    feature on Maltego helps you analyze information and understand how one component
    is connected to another. Using the information that's been collected from Maltego,
    you can determine publicly available servers, IP addresses, employees' email addresses,
    linked URLs on web pages, and more. As you have seen, using a tool such as Maltego
    can help automate the process of gathering various types of OSINT data from multiple
    data sources on the internet, this helps ethical hackers and penetration tester
    to reducing spent during the reconnaissance phase. Next, you will learn how to
    use Netcraft to identify the external attack surface, assets and technologies
    of a targeted organization.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您可以通过点击左上角的Maltego图标并选择**保存**选项，保存Maltego收集的信息。Maltego的关系映射功能可以帮助您分析信息，并了解一个组件是如何与另一个组件连接的。通过Maltego收集的信息，您可以确定公开可用的服务器、IP地址、员工的电子邮件地址、网页上的关联URL等。如您所见，使用像Maltego这样的工具可以帮助自动化从互联网上多个数据源收集各种类型的OSINT数据，这有助于道德黑客和渗透测试人员在侦察阶段减少投入的时间。接下来，您将学习如何使用Netcraft识别目标组织的外部攻击面、资产和技术。
- en: Identifying infrastructure with Netcraft
  id: totrans-265
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用Netcraft识别基础设施
- en: 'Netcraft enables ethical hackers and penetration testers to collected OSINT
    on a targeted organization to better understand the technologies, operating systems,
    applications and locations of their internet-facing devices. Netcraft provides
    the following data types:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: Netcraft使道德黑客和渗透测试人员能够收集关于目标组织的OSINT，更好地了解其互联网-facing设备的技术、操作系统、应用程序和位置。Netcraft提供以下数据类型：
- en: Network and IP information
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络和IP信息
- en: IP geolocation information
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IP地理位置数据
- en: Website technologies and applications
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网站技术和应用程序
- en: 'To get started using Netcraft to profile a targeted organization/domain, please
    use the following instructions:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用Netcraft来分析目标组织/域名，请使用以下说明：
- en: 'Using a standard web browser, go to [https://sitereport.netcraft.com/](https://sitereport.netcraft.com/),
    then enter a targeted domain name within the domain field and click on **Look
    UP**, as shown below:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用标准的网页浏览器，访问[https://sitereport.netcraft.com/](https://sitereport.netcraft.com/)，然后在域名字段中输入目标域名并点击**Look
    UP**，如下所示：
- en: '![](../media/file186.png)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file186.png)'
- en: 'After a few seconds, Netcraft will automatically display all information it
    knows about the targeted domain and its technologies, as shown below:'
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 几秒钟后，Netcraft将自动显示它所知道的有关目标域名及其技术的所有信息，如下所示：
- en: '![](../media/file187.png)'
  id: totrans-274
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file187.png)'
- en: As shown in the preceding screenshot, ethical hackers and penetration testers
    to use the information to determine the owner of the domain name, the name servers,
    hosting company and public addresses of the target.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示的截图所示，道德黑客和渗透测试人员可以使用这些信息来确定域名的所有者、名称服务器、托管公司和目标的公共地址。
- en: 'Next, to determine the geolocation of the targeted organization, scroll-down
    to the **SSL**/**TLS** section, as shown below:'
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为了确定目标组织的地理位置，向下滚动到**SSL**/**TLS**部分，如下所示：
- en: '![](../media/file188.png)'
  id: totrans-277
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file188.png)'
- en: As shown in the preceding screenshot, Netcraft was able to collect and analyzed
    the information found within the digital certificate for the targeted domain,
    and provides the organization, state and country. Such information is useful for
    ethical hackers when planning a physical penetration test. In addition, the **Subject
    Alternative Name** field provide additional sub-domains which are permitted to
    use this digital certificate, this data helps penetration testers to identify
    additional assets that are owned by the target.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示的截图所示，Netcraft能够收集并分析目标域名数字证书中的信息，并提供组织、州和国家的信息。这些信息对于道德黑客在规划物理渗透测试时非常有用。此外，**Subject
    Alternative Name**字段提供了允许使用该数字证书的附加子域名，这些数据帮助渗透测试人员识别目标所拥有的其他资产。
- en: 'Next, the **Site Technology** section provides valuable information such as
    identifying the server-side and client-side technologies, this information is
    useful when planning a web application penetration test, as shown below:'
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，**站点技术**部分提供了有价值的信息，如识别服务器端和客户端技术，当计划进行Web应用程序渗透测试时，这些信息非常有用，如下所示：
- en: '![](../media/file189.png)'
  id: totrans-280
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file189.png)'
- en: Having completed this exercise, you have gained the skills on how ethical hackers
    are able to leverage Netcraft to identify the public infrastructure of a targeted
    organization. Next, you will learn how to use Recon-ng to automate data collection
    and analysis as an ethical hacker.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此练习后，你将掌握如何利用 Netcraft 辨识目标组织的公共基础设施，成为一名道德黑客。接下来，你将学习如何使用 Recon-ng 自动化数据收集和分析。
- en: Using Recon-ng for data harvesting
  id: totrans-282
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 Recon-ng 进行数据采集
- en: '**Recon-ng** is an OSINT reconnaissance framework written in Python. The tool
    itself contains a lot of modules for additional capabilities, a database for storing
    OSINT, interactive help, and a menu system, similar to Metasploit. Recon-ng can
    perform web-based, information-gathering techniques to collect OSINT from multiple
    online data sources, and it''s one of the must-have tools for any aspiring ethical
    hacker or penetration tester to have within their arsenal.To get started using
    recon-ng for data harvesting, please use the following instructions:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '**Recon-ng** 是一个用 Python 编写的 OSINT 侦察框架。该工具本身包含许多模块以增强功能、存储 OSINT 的数据库、交互式帮助和菜单系统，类似于
    Metasploit。Recon-ng 可以执行基于 Web 的信息收集技术，从多个在线数据源收集 OSINT，是任何有志成为道德黑客或渗透测试员的必备工具。要开始使用
    Recon-ng 进行数据收集，请按照以下说明操作：'
- en: 'Power-on the **Kali Linux** virtual machine and execute the following command
    within the **Terminal** to start Recon-ng:'
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 **Kali Linux** 虚拟机，并在 **Terminal** 中执行以下命令以启动 Recon-ng：
- en: '[PRE10]'
  id: totrans-285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Recon-ng uses various modules which are designed to collect and analyze data
    from multiple data sources. By default, there are no modules pre-installed on
    Recon-ng, therefore use the following commands to install all modules from the
    Recon-ng marketplace:'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Recon-ng 使用各种模块，这些模块旨在从多个数据源收集和分析数据。默认情况下，Recon-ng 没有预安装任何模块，因此请使用以下命令从 Recon-ng
    市场安装所有模块：
- en: '[PRE11]'
  id: totrans-287
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The following screenshot shows Recon-ng is downloading and setting up the modules:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了 Recon-ng 正在下载并设置模块：
- en: '![](../media/file190.png)'
  id: totrans-289
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file190.png)'
- en: 'After the modules are installed, Recon-ng will automatically reload the newly
    installed modules and there will be a lot of warning messages that are written
    in red, as shown below:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 安装模块后，Recon-ng 会自动重新加载新安装的模块，并且会显示大量以红色书写的警告信息，如下所示：
- en: '![](../media/file191.png)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file191.png)'
- en: The preceding screenshot shows there are various Recon-ng modules which requires
    an **Application Programming Interface** (**API**) key to allow Recon-ng to retrieve
    OSINT from the data source.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 上面的截图显示了多个 Recon-ng 模块，这些模块需要 **应用程序接口**（**API**）密钥，以允许 Recon-ng 从数据源获取 OSINT。
- en: The `modules search` command is used to display all current modules with Recon-ng
    and their categories, such as Discovery, Exploitation, Import, Recon and Reporting.
  id: totrans-293
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`modules search` 命令用于显示所有当前的 Recon-ng 模块及其分类，如发现、利用、导入、侦察和报告。'
- en: 'Next, to view a list of supported API keys on Recon-ng, use the following commands:'
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，要查看 Recon-ng 支持的 API 密钥列表，请使用以下命令：
- en: '[PRE12]'
  id: totrans-295
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'As shown in the following screenshot, the key list commands allows us to view
    which API keys are supported and whether there’s already an API in-use:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 如下截图所示，密钥列表命令可以帮助我们查看支持的 API 密钥，并判断是否已在使用某个 API。
- en: '![](../media/file192.png)'
  id: totrans-297
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file192.png)'
- en: Next, to get a supported API key, simply go to the data source such as **BuiltWith**
    at [https://builtwith.com/](https://builtwith.com/) and create a free user account.
    Once account is created, login and go to **Tools** > **API Access** to find the
    API key. Feel free to acquire as many API keys for each supported modules from
    the list of supported APIs.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，要获取支持的 API 密钥，只需访问数据源，例如 **BuiltWith** [https://builtwith.com/](https://builtwith.com/)
    并创建一个免费的用户帐户。账户创建后，登录并转到 **Tools** > **API Access**，即可找到 API 密钥。你可以根据需要为每个支持的模块获取多个
    API 密钥。
- en: 'Consider getting an API key from the following data sources:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑从以下数据源获取 API 密钥：
- en: Hunter - [https://hunter.io](https://hunter.io)
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hunter - [https://hunter.io](https://hunter.io)
- en: Censys - [https://search.censys.io](https://search.censys.io)
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Censys - [https://search.censys.io](https://search.censys.io)
- en: VirusTotal - [https://www.virustotal.com](https://www.virustotal.com)
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirusTotal - [https://www.virustotal.com](https://www.virustotal.com)
- en: Shodan - [https://www.shodan.io/](https://www.shodan.io/)
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shodan - [https://www.shodan.io/](https://www.shodan.io/)
- en: 'Once you’ve acquired your API keys, the next step it to add each API to their
    API-supported modules. Use the `keys add <API-module-name> <API key value>` command.
    For instance, the following commands are used to add an API key for the `builtwith_api`,
    as shown below:'
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦获得API密钥，下一步是将每个API添加到其支持的API模块中。使用`keys add <API-module-name> <API key value>`命令。例如，使用以下命令为`builtwith_api`添加API密钥，如下所示：
- en: '[PRE13]'
  id: totrans-305
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'After adding your API keys, use the `keys list` command to verify whether the
    keys were added successfully, as shown below:'
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加API密钥后，使用`keys list`命令验证密钥是否已成功添加，如下所示：
- en: '![](../media/file193.png)'
  id: totrans-307
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file193.png)'
- en: 'As an ethical hacker and penetration tester, you may be working on multiple
    projects at a time, Recon-ng enables you to create multiple, virtual workspaces
    to help you better manage the collection and analysis of data. To create a new
    workspace, use the following commands:'
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为一名道德黑客和渗透测试员，您可能同时处理多个项目，Recon-ng允许您创建多个虚拟工作空间，以帮助您更好地管理数据的收集和分析。要创建一个新的工作空间，请使用以下命令：
- en: '[PRE14]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Once a new workspace is created, Recon-ng will automatically move your working
    environment from `default` to your new workspace. To view a list of available
    workspaces within Recon-ng, use the `workspaces list` command. Additionally, the
    `workspaces load <workspace-name>` command allows you to select and work within
    a specific workspace, while the `workspaces remove <workspace-name>` command removes
    a workspace from Recon-ng.
  id: totrans-310
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一旦创建了新的工作空间，Recon-ng将自动将您的工作环境从`default`切换到新工作空间。要查看Recon-ng中可用工作空间的列表，请使用`workspaces
    list`命令。此外，`workspaces load <workspace-name>`命令允许您选择并在特定工作空间内工作，而`workspaces remove
    <workspace-name>`命令则从Recon-ng中删除一个工作空间。
- en: 'Next, the `modules search <keyword>` commands enables you to search for specific
    modules based on a keyword. For instance, use the `modules search whois` command
    to view all Recon-ng modules which contains the `whois` keyword, as shown below:'
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，`modules search <keyword>`命令允许您根据关键词搜索特定的模块。例如，使用`modules search whois`命令查看所有包含`whois`关键词的Recon-ng模块，如下所示：
- en: '![](../media/file194.png)'
  id: totrans-312
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file194.png)'
- en: 'Next, to use a specific module within Recon-ng, use the `modules load <module-name>`
    command. For instance, to gather a list of **point-of-contacts** (**POCS**) for
    a targeted domain on the internet, use the following commands:'
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，要在Recon-ng中使用特定模块，使用`modules load <module-name>`命令。例如，要收集目标域名的**point-of-contacts**（**POCS**）列表，可以使用以下命令：
- en: '[PRE15]'
  id: totrans-314
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'As shown in the following screenshot, the info command prints the description
    and required options for the selected module:'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，`info`命令打印了所选模块的描述和所需的选项：
- en: '![](../media/file195.png)'
  id: totrans-316
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file195.png)'
- en: 'To set the required options for the module, use the following commands to set
    `microsoft.com` as the **SOURCE** for our targeted domain:'
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要为模块设置所需的选项，使用以下命令将`microsoft.com`设置为我们的目标域名的**SOURCE**：
- en: '[PRE16]'
  id: totrans-318
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: To unset a value within a module, use the `options unset <parameter/value>`
    command. Ensure that you execute the `info` command afterwards to verify the value
    is unset/removed.
  id: totrans-319
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 要在模块中取消设置某个值，请使用`options unset <parameter/value>`命令。确保执行`info`命令来验证该值是否已取消设置/删除。
- en: 'Next, use the `run` command to execute the module, as shown below:'
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用`run`命令执行该模块，如下所示：
- en: '![](../media/file196.png)'
  id: totrans-321
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file196.png)'
- en: 'Next, use the `back` command to exit a module and `modules search bing` command
    to for modules that can leverage the Bing search engine, as shown below:'
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用`back`命令退出模块，并使用`modules search bing`命令搜索可以利用Bing搜索引擎的模块，如下所示：
- en: '![](../media/file197.png)'
  id: totrans-323
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file197.png)'
- en: 'Next, use the following command to load the `bing_domain_web` module, display
    its information, set the targeted domain and execute the module:'
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用以下命令加载`bing_domain_web`模块，显示其信息，设置目标域名并执行该模块：
- en: '[PRE17]'
  id: totrans-325
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Use the `show hosts` command to view a list of sub-domains and hostnames that
    were collected about the target, as shown below:'
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`show hosts`命令查看有关目标收集的子域名和主机名列表，如下所示：
- en: '![](../media/file198.png)'
  id: totrans-327
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file198.png)'
- en: 'Next, use the `show contacts` command to view a list of contact information
    that was collected, as shown below:'
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用`show contacts`命令查看已收集的联系信息列表，如下所示：
- en: '![](../media/file199.png)'
  id: totrans-329
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file199.png)'
- en: The show command can be used with show [`companies`] [`credentials`] [`hosts`]
    [`locations`] [`ports`] [`pushpins`] [`vulnerabilities`] [`contacts`] [`domains`]
    [`leaks`] [`netblocks`] [`profiles`] [`repositories`] to view specific information
    that was obtained by Recon-ng. Additionally, the `dashboard` command provides
    a summary of all activites in Recon-ng such as showing the number of times a module
    was executed and how much data was collected.
  id: totrans-330
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 可以使用show命令查看特定的信息，这些信息通过Recon-ng获得，命令格式如下：show [`companies`] [`credentials`]
    [`hosts`] [`locations`] [`ports`] [`pushpins`] [`vulnerabilities`] [`contacts`]
    [`domains`] [`leaks`] [`netblocks`] [`profiles`] [`repositories`]。此外，`dashboard`命令提供了Recon-ng所有活动的汇总，例如显示某个模块被执行的次数以及收集的数据量。
- en: 'To view a summary of your activities within the `myfirstproject` workspace,
    use the `dashboard` command, as shown below:'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看`myfirstproject`工作区内活动的总结，请使用`dashboard`命令，如下所示：
- en: '![](../media/file200.png)'
  id: totrans-332
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file200.png)'
- en: 'Next, collecting all the data can overwhelming to process and analyzed, however
    Recon-ng has various reporting modules to help us. Use the `modules search report`
    command to view a list of all reporting modules, as shown below:'
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，收集所有数据可能会让人感到不知所措，然而Recon-ng有多种报告模块可以帮助我们。使用`modules search report`命令查看所有报告模块的列表，如下所示：
- en: '![](../media/file201.png)'
  id: totrans-334
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file201.png)'
- en: 'To generate an HTML-format report, use the following commands to set the required
    parameters and specify the output location for the final report:'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要生成HTML格式的报告，请使用以下命令设置所需的参数，并指定最终报告的输出位置：
- en: '[PRE18]'
  id: totrans-336
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The following screenshot shows the how to preceding commands were applied on
    the module:'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图展示了如何在该模块上应用前述命令：
- en: '![](../media/file202.png)'
  id: totrans-338
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file202.png)'
- en: 'To view the report, simply go to the output directory such as `/home/kali/Desktop`
    and open the report HTML file using the web browser, as shown below:'
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看报告，只需进入输出目录（如`/home/kali/Desktop`），然后使用网页浏览器打开报告HTML文件，如下所示：
- en: '![](../media/file203.png)'
  id: totrans-340
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file203.png)'
- en: This report provides a very easy-to-understand summary of all the data that
    was collected using Recon-ng. The reporting module plays an excellent role in
    helping ethical hackers to correlate data about their target during the reconnaissance
    phase.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 该报告提供了一个非常易于理解的总结，展示了使用Recon-ng收集的所有数据。报告模块在帮助伦理黑客在侦察阶段关联目标数据方面发挥了极好的作用。
- en: 'Next, to access the web interface of Recon-ng, use the following command on
    a new Terminal:'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，要访问Recon-ng的网页界面，请在新的终端中使用以下命令：
- en: '[PRE19]'
  id: totrans-343
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Once the workspace has been initialized, open the web browser within Kali Linux
    and go to `http://127.0.0.1:5000/`, as shown below:'
  id: totrans-344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦工作区初始化完成，请在Kali Linux内打开网页浏览器并访问`http://127.0.0.1:5000/`，如下面所示：
- en: '![](../media/file204.png)'
  id: totrans-345
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file204.png)'
- en: As shown in the preceding screenshot, ethical hackers and penetration testers
    can improve their data collection and analysis using the web interface of Recon-ng.
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如上图所示，伦理黑客和渗透测试人员可以利用Recon-ng的网页界面来改进他们的数据收集和分析工作。
- en: 'To learn more about Recon-ng and its features, please visit the official GitHub
    repository at: [https://github.com/lanmaster53/recon-ng](https://github.com/lanmaster53/recon-ng).'
  id: totrans-347
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 要了解更多关于Recon-ng及其功能的信息，请访问官方GitHub仓库：[https://github.com/lanmaster53/recon-ng](https://github.com/lanmaster53/recon-ng)。
- en: Having completed this exercise, you’ve learnt how to leverage Recon-ng to efficiently
    collect and analysis OSINT from multiple data sources. Next, you will learn how
    to use theHarvester for data harvesting.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此练习后，您已经学会了如何利用Recon-ng高效地从多个数据源收集和分析OSINT。接下来，您将学习如何使用theHarvester进行数据收集。
- en: Data collection with theHarvester
  id: totrans-349
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用theHarvester进行数据收集
- en: 'Using a tool such as **theHarvester** enables to you efficiently collect OSINT
    to identify sub-domains and additional exposed assets of a targeted organization.
    To get started using theHarvester for data collection, please use the following
    instructions:'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 使用像**theHarvester**这样的工具可以高效地收集OSINT，以识别目标组织的子域名和其他暴露的资产。要开始使用theHarvester进行数据收集，请使用以下说明：
- en: Firstly, power-on the **Kali Linux** virtual machine and ensure it has internet
    connectivity.
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，启动**Kali Linux**虚拟机，并确保它具有互联网连接。
- en: 'Next, open the **Terminal** and use the following command to display the menu
    for theHarvester:'
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，打开**终端**，并使用以下命令显示theHarvester的菜单：
- en: '[PRE20]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: The preceding command displays the help menu and provides a list of various
    syntax and how they can be used to retrieve OSINT from online sources. In addition,
    the help menu provides a list of various data sources using the `-b` command.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 上述命令显示了帮助菜单，并提供了各种语法的列表，以及如何使用它们从在线资源中获取 OSINT。此外，帮助菜单还提供了使用 `-b` 命令的各种数据源列表。
- en: 'Next, to retrieve a list of sub-domains of a targeted domain, use the following
    commands:'
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，要检索目标域的子域列表，请使用以下命令：
- en: '[PRE21]'
  id: totrans-356
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The following screenshot shows theHarvester was able to collect multiple sub-domains
    for the targeted domain:'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了 theHarvester 成功收集到了目标域的多个子域：
- en: '![](../media/file205.png)'
  id: totrans-358
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file205.png)'
- en: 'To learn more about the features of theHarvester, please visit the official
    GitHub repository at: [https://github.com/laramies/theHarvester](https://github.com/laramies/theHarvester).
    Some sources require an API key to retrieve data from the online database, to
    learn more how to add an API key to theHarvester, please see: [https://github.com/laramies/theHarvester/wiki/Installation#api-keys](https://github.com/laramies/theHarvester/wiki/Installation#api-keys).'
  id: totrans-359
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 要了解 theHarvester 的更多功能，请访问官方 GitHub 仓库：[https://github.com/laramies/theHarvester](https://github.com/laramies/theHarvester)。某些数据源需要
    API 密钥才能从在线数据库中检索数据，要了解如何将 API 密钥添加到 theHarvester，请参阅：[https://github.com/laramies/theHarvester/wiki/Installation#api-keys](https://github.com/laramies/theHarvester/wiki/Installation#api-keys)。
- en: Having completed this section, you have gained the skills needed to collect
    OSINT information on targeted organizations to identify how they are leaking data
    such as their internal infrastructure to anyone on the internet. In the next section,
    you will learn how to gather employee OSINT.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 完成这一部分后，你将掌握收集目标组织的开放源信息（OSINT）的技能，从而识别它们如何泄露数据，如它们的内部基础设施，向互联网上的任何人公开。在下一部分，你将学习如何收集员工的开放源信息。
- en: Harvesting employees’ data
  id: totrans-361
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 收集员工数据
- en: 'Around the world, employees of many organizations commonly leak and share too
    much information about themselves and their organization without realizing how
    a threat actor or adversary can collect and analyze such information to plan a
    cyber-attack or improve a threat towards their organizations and themselves. Quite
    often, you’ll notice that many employees of the leadership team for an organization
    commonly share their contact details on professional social networking platforms,
    such as the following types of the information:'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 全球范围内，许多组织的员工通常会泄露并分享过多的个人和组织信息，而没有意识到威胁行为者或对手如何收集并分析这些信息，从而计划网络攻击或增强对组织和自身的威胁。你会发现，许多组织的领导层员工通常会在专业的社交网络平台上分享他们的联系信息，以下是一些常见的信息类型：
- en: Full name and job title
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全名和职位
- en: Company’s email address
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司的电子邮件地址
- en: Telephone number
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电话号码
- en: Roles and responsibilities
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 角色与职责
- en: Recent projects with technical details
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最近的项目及其技术细节
- en: Pictures of their employee badges
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 员工徽章的照片
- en: As a penetration tester, it's quite simple to create an account that will function
    as a sock puppet on a site such as LinkedIn, populate some false information on
    the account, such as information stating you're an employee who is working at
    another branch office, and then add some low-level employees from the targeted
    organization as connections. Therefore, other employees of the targeted organization
    will notice your sock puppet profile has mutual connections and may reduce suspicions.There’s
    a possibility the employees will automatically accept the connection/friend request
    because they will see that you're a fellow employee at their company. This will
    provide some leverage for you to connect with the high-profile employees of the
    targeted organization and enabling you collect contact details to plan various
    social engineering attacks and identify your targets.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名渗透测试员，在像 LinkedIn 这样的网站上创建一个账户，作为一个“傀儡”账户，实际上非常简单。你只需要在账户上填充一些虚假的信息，例如声明自己是另一分公司工作的员工，然后将目标组织的一些低级员工添加为联系人。这样，目标组织的其他员工就会注意到你的“傀儡”账户和他们有共同的联系人，这样可能会减少他们的怀疑。员工们有可能会自动接受你的连接/好友请求，因为他们会看到你是他们公司的一名员工。这为你与目标组织中的高层员工建立联系提供了一些杠杆作用，从而使你能够收集联系方式，计划各种社会工程学攻击，并确定你的攻击目标。
- en: Working with Hunter
  id: totrans-370
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 Hunter
- en: 'Hunter is an online data source that harvests both employee and organizational
    data from public sources on the internet. As an ethical hacker and penetration
    tester, this is a must-have resource for gathering employees'' names, telephone
    numbers, email addresses, and even their job titles when planning a social engineering
    attack.To get started using this tool, please use the following instructions:'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: Hunter 是一个在线数据源，从互联网上的公共来源收集员工和组织数据。作为道德黑客和渗透测试员，这是收集员工姓名、电话号码、电子邮件地址甚至职位名称的必备资源，尤其是在规划社交工程攻击时。要开始使用这个工具，请按照以下说明操作：
- en: Firstly, you’ll need to register for a free account at [https://hunter.io/](https://hunter.io/)
    and complete the registration process.
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，您需要在 [https://hunter.io/](https://hunter.io/) 注册一个免费账户并完成注册流程。
- en: Once the registration process is completed, log-in to online platform using
    your user credentials.
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注册过程完成后，使用您的用户凭证登录在线平台。
- en: 'Next, you’ll be presented with the **Domain Search** field, simply enter a
    targeted domain, as shown below:'
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您将看到 **域名搜索** 字段，只需输入一个目标域名，如下所示：
- en: '![](../media/file206.png)'
  id: totrans-375
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file206.png)'
- en: 'While entering a domain within the **Domain Search** field, Hunter will provide
    suggestions for your search, I’ve used `microsoft.com` as an example, as shown
    below:'
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当在 **域名搜索** 字段中输入一个域名时，Hunter 将提供搜索建议，我以 `microsoft.com` 为例，如下所示：
- en: '![](../media/file207.png)'
  id: totrans-377
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file207.png)'
- en: As shown in the preceding screenshot, Hunter can provide a list of employees'
    information, such as their names, email addresses, telephone numbers, and other
    sources of information. In addition, collecting email addresses for a targeted
    organizations helps you to determine the format of employees’ email addresses.
    Therefore, if an adversary or ethical hacker knows the names of employees, then
    it’s a bit easy to guess the email addresses of various employees, this information
    is useful when planning social engineering, password spraying and credential stuffing
    attacks.
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面截图所示，Hunter 可以提供员工信息的列表，如员工的姓名、电子邮件地址、电话号码以及其他信息来源。此外，收集目标组织的电子邮件地址有助于确定员工电子邮件地址的格式。因此，如果攻击者或道德黑客知道员工的姓名，那么猜测员工的电子邮件地址会变得更容易，这些信息在规划社交工程、密码喷射和凭证填充攻击时非常有用。
- en: To learn more about password spraying and credential stuffing attacks, please
    see [https://attack.mitre.org/techniques/T1110/003/](https://attack.mitre.org/techniques/T1110/003/)
    and [https://attack.mitre.org/techniques/T1110/004/](https://attack.mitre.org/techniques/T1110/004/).
  id: totrans-379
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 若要了解更多关于密码喷射和凭证填充攻击的信息，请参阅 [https://attack.mitre.org/techniques/T1110/003/](https://attack.mitre.org/techniques/T1110/003/)
    和 [https://attack.mitre.org/techniques/T1110/004/](https://attack.mitre.org/techniques/T1110/004/)。
- en: 'The following screenshot shows all the sources that Hunter used to collect
    the data for a specific person:'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了 Hunter 用于收集特定人物数据的所有来源：
- en: '![](../media/file208.png)'
  id: totrans-381
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file208.png)'
- en: While employees will provide their contact details on various online platforms,
    including their company's website, such information can be leveraged by a threat
    actor and a penetration tester to perform social engineering attacks against the
    organization.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然员工会在各种在线平台上提供他们的联系信息，包括公司的网站，但这些信息可以被威胁行为者和渗透测试员用于对组织进行社交工程攻击。
- en: Social media reconnaissance
  id: totrans-383
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 社交媒体侦察
- en: 'Employees of an organization often leak too much information about themselves
    and their company. While many employees are very happy to be working in their
    organizations, sometimes, they share information that can be leveraged by threat
    actors to improve their attack on a target. As an aspiring ethical hacker and
    penetration tester, collecting and analyzing information from social media platforms
    can be useful in finding unsecure employee profiles with weak privacy and collecting
    any sensitive data from their profiles.The following is some information that''s
    commonly leaked:'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 组织的员工常常泄露过多关于自己和公司的信息。虽然许多员工很高兴在他们的组织中工作，但有时他们会分享可以被威胁行为者利用的信息，从而增强他们对目标的攻击。作为一名有抱负的道德黑客和渗透测试员，从社交媒体平台收集和分析信息可以帮助发现那些隐私设置较弱、信息安全性较差的员工个人资料，并收集其个人资料中的敏感数据。以下是一些常见的泄露信息：
- en: Employee contact information, such as telephone numbers and email addresses,
    which can be used during social engineering and account takeover attacks.
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 员工的联系信息，如电话号码和电子邮件地址，这些信息可用于社交工程和账户接管攻击。
- en: Sharing photos with their employee badges, which can be used by a threat actor
    to create a fake ID for impersonation for physical penetration testing.
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分享带有员工徽章的照片，这些照片可以被攻击者用来创建假身份进行物理渗透测试中的冒充。
- en: Pictures of an employee's computing systems and desktop, which can inform a
    threat actor about the available device vendors and operating systems.
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 员工计算机系统和桌面的图片，这些可以向攻击者透露可用的设备供应商和操作系统。
- en: Projects that have been completed by the employee may contain specific technical
    details, which can allow a threat actor to profile the internal network infrastructure.
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 员工已完成的项目可能包含特定的技术细节，这些细节可以让攻击者对内部网络基础设施进行分析。
- en: These are just some of the many types of information that are commonly posted
    on social media platforms such as LinkedIn. As a penetration tester, you can create
    a sock puppet, impersonate someone on social media, and trick the employees of
    the targeted organization into performing an action or revealing sensitive information
    (social engineering). Furthermore, imagine performing a physical penetration test,
    where you can print a fake employee ID badge and dress like a typical employee
    by using the information found on the targeted organization's social media page.
    Over the next few sub-sections, you will learn how to perform social media reconnaissance.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 这些只是一些常见的社交媒体平台（如LinkedIn）上发布的信息类型。作为渗透测试员，你可以创建一个虚拟身份，在社交媒体上冒充他人，并欺骗目标组织的员工执行某个动作或泄露敏感信息（社会工程学）。此外，想象一下执行物理渗透测试时，你可以打印一个假员工ID卡，并通过使用目标组织社交媒体页面上的信息，穿着像典型员工一样的服装。接下来的几个小节中，你将学习如何进行社交媒体侦察。
- en: Automating with Sherlock
  id: totrans-390
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用Sherlock进行自动化
- en: '**Sherlock** is an OSINT tool that helps penetration testers quickly determine
    whether their target has any social media accounts and which platforms the accounts
    may exist on. This tool supports over 200 social media websites, automates the
    process of checking each site, and generates a report of the results.To get started
    using Sherlock for social media reconnaissance, please use the following instructions:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: '**Sherlock** 是一款OSINT工具，帮助渗透测试员快速确定目标是否有社交媒体账户，以及这些账户可能存在于哪些平台上。该工具支持200多个社交媒体网站，自动化检查每个站点的过程，并生成结果报告。要开始使用Sherlock进行社交媒体侦察，请按照以下说明操作：'
- en: 'Power-on the **Kali Linux** virtual machine, open the **Terminal** and use
    the following commands to download **Sherlock** from its official GitHub repository:'
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动**Kali Linux**虚拟机，打开**Terminal**并使用以下命令从其官方GitHub仓库下载**Sherlock**：
- en: '[PRE22]'
  id: totrans-393
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Next, use the following commands to install the requirements for Sherlock:'
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用以下命令安装Sherlock所需的依赖项：
- en: '[PRE23]'
  id: totrans-395
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Next, to search for a targeted organization social media presence on the internet,
    use the `python3 sherlock <username>` command, as shown below:'
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，使用以下命令在互联网上搜索目标组织的社交媒体存在，命令如下：
- en: '[PRE24]'
  id: totrans-397
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Notice the `--timeout` command was used to instruct Sherlock to not spend more
    than 5 seconds on any of the social media sites, as shown here:'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，使用了`--timeout`命令来指示Sherlock在任何社交媒体网站上停留的时间不超过5秒，如下所示：
- en: '![](../media/file209.png)'
  id: totrans-399
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file209.png)'
- en: 'When Sherlock completes the task, the results will be stored into a text file
    within the present working directory, as shown below:'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 当Sherlock完成任务后，结果将存储在当前工作目录中的一个文本文件中，如下所示：
- en: '![](../media/file210.png)'
  id: totrans-401
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file210.png)'
- en: Be sure to check each site within the output file to ensure it is valid and
    provides meaningful information about your target. A penetration tester can use
    the information that's been collected to easily identify the social media accounts
    owned by a targeted organization or user. Such information can be also used to
    gather further intelligence of the target.Having completed this section, you have
    learnt how to automate the data collection process of finding user accounts for
    a targeted organization or person using Sherlock.
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 请务必检查输出文件中的每个网站，以确保其有效并提供有关目标的有意义信息。渗透测试员可以利用收集到的信息轻松识别目标组织或用户拥有的社交媒体账户。这些信息还可以用于收集目标的进一步情报。完成这一部分后，你已经学会了如何通过Sherlock自动化收集数据的过程，寻找目标组织或个人的用户账户。
- en: Summary
  id: totrans-403
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: During this chapter, you have learnt how to apply various Google hacking techniques
    to perform advanced search and filtering to identify sensitive directories and
    exposed resources on the internet. In addition, you have gained the hands-on skills
    needed to perform domain reconnaissance to collect and analyze DNS records, perform
    zone transfer and identify sub-domains of a target. Furthermore, you have learned
    how to leverage specialized internet search engines to identify exposed assets
    of companies around the world, and gained a better understanding on how OSINT
    helps ethical hackers and penetration testers to develop a profile about their
    targets.I trust that the knowledge presented in this chapter has provided you
    with valuable insights, supporting your path towards becoming an ethical hacker
    and penetration tester in the dynamic field of cybersecurity. May this newfound
    understanding empower you in your journey, allowing you to navigate the industry
    with confidence and make a significant impact. In the next chapter, *Exploring
    Active Reconnaissance*, you will learn how to perform active reconnaissance techniques
    to identify live systems, open ports and running services.
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您已经学习了如何应用各种 Google 黑客技术，执行高级搜索和过滤，以识别互联网中的敏感目录和暴露资源。此外，您还掌握了进行域名侦察的实践技能，收集和分析
    DNS 记录，执行区域传输，并识别目标的子域名。更进一步，您学会了如何利用专业的互联网搜索引擎识别全球公司暴露的资产，并对 OSINT 如何帮助道德黑客和渗透测试员开发目标档案有了更深的理解。我相信，本章所提供的知识将为您提供宝贵的洞察力，支持您在动态的网络安全领域中成为一名道德黑客和渗透测试员的道路。愿这段新获得的理解为您的旅程赋能，让您能够自信地在行业中导航并产生重要影响。在下一章，*探索主动侦察*中，您将学习如何执行主动侦察技术，以识别活跃系统、开放端口和运行中的服务。
- en: Further Reading
  id: totrans-405
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 深入阅读
- en: Open source intelligence - [https://www.imperva.com/learn/application-security/open-source-intelligence-osint/](https://www.imperva.com/learn/application-security/open-source-intelligence-osint/)
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开源情报 - [https://www.imperva.com/learn/application-security/open-source-intelligence-osint/](https://www.imperva.com/learn/application-security/open-source-intelligence-osint/)
- en: Top OSINT tools - [https://www.csoonline.com/article/567859/what-is-osint-top-open-source-intelligence-tools.html](https://www.csoonline.com/article/567859/what-is-osint-top-open-source-intelligence-tools.html)
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶级 OSINT 工具 - [https://www.csoonline.com/article/567859/what-is-osint-top-open-source-intelligence-tools.html](https://www.csoonline.com/article/567859/what-is-osint-top-open-source-intelligence-tools.html)
- en: What is Whois - [https://www.domaintools.com/support/what-is-whois-information-and-why-is-it-valuable/](https://www.domaintools.com/support/what-is-whois-information-and-why-is-it-valuable/)
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是 Whois - [https://www.domaintools.com/support/what-is-whois-information-and-why-is-it-valuable/](https://www.domaintools.com/support/what-is-whois-information-and-why-is-it-valuable/)
