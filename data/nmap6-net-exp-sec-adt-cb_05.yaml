- en: Chapter 5. Auditing Databases
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5章。审计数据库
- en: Note
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: This chapter shows you how to do some things that in many situations might be
    illegal, unethical, a violation of the terms of service, or just not a good idea.
    It is provided here to give you information that may be of use to protect yourself
    against threats and make your own system more secure. Before following these instructions,
    be sure you are on the right side of the legal and ethical line... use your powers
    for good!
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章向您展示了如何执行在许多情况下可能是非法、不道德、违反服务条款或不明智的一些操作。这里提供这些信息是为了让您了解如何保护自己免受威胁，并使自己的系统更加安全。在遵循这些说明之前，请确保您站在法律和道德的一边...运用您的力量为善！
- en: 'In this chapter, we will cover:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖：
- en: Listing MySQL databases
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列出MySQL数据库
- en: Listing MySQL users
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列出MySQL用户
- en: Listing MySQL variables
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列出MySQL变量
- en: Finding root accounts with empty passwords in MySQL servers
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在MySQL服务器中查找空密码的root帐户
- en: Brute forcing MySQL passwords
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 暴力破解MySQL密码
- en: Detecting insecure configurations in MySQL servers
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检测MySQL服务器中的不安全配置
- en: Brute forcing Oracle passwords
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 暴力破解Oracle密码
- en: Brute forcing Oracle SID names
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 暴力破解Oracle SID名称
- en: Retrieving MS SQL server information
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检索MS SQL服务器信息
- en: Brute forcing MS SQL passwords
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 暴力破解MS SQL密码
- en: Dumping the password hashes of an MS SQL server
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转储MS SQL服务器的密码哈希
- en: Running commands through the command shell on MS SQL servers
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在MS SQL服务器上通过命令行运行命令
- en: Finding sysadmin accounts with empty passwords on MS SQL servers
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在MS SQL服务器上查找具有空密码的sysadmin帐户
- en: Listing MongoDB databases
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列出MongoDB数据库
- en: Retrieving MongoDB server information
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检索MongoDB服务器信息
- en: Listing CouchDB databases
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列出CouchDB数据库
- en: Retrieving CouchDB database statistics
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检索CouchDB数据库统计信息
- en: Introduction
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: Web applications must store different types of information. Depending on the
    case, there could be millions of records needed to be stored somewhere and that
    is where databases come in. Database servers are crucial since they provide a
    convenient way of managing information, and programming APIs are available for
    almost any language and database type.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: Web应用程序必须存储不同类型的信息。根据情况，可能需要存储数百万条记录，并且这就是数据库的用武之地。数据库服务器至关重要，因为它们提供了一种方便的管理信息的方式，并且几乎可以为任何语言和数据库类型提供编程API。
- en: Nmap NSE has added support for numerous database servers. System administrators
    will find it handy that with the help of Nmap we can automate several tasks when
    dealing with a bunch of database servers, such as running a query to informs us
    about the status. On the other hand, securing a database server must be done carefully
    and is as important as securing the web server. Nmap also helps us with this by
    supporting automated actions such as checking for empty root passwords and insecure
    configuration.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap NSE已经为许多数据库服务器添加了支持。系统管理员会发现，借助Nmap，我们可以自动化处理与一堆数据库服务器打交道时的几项任务，例如运行查询以通知我们有关状态。另一方面，谨慎地保护数据库服务器必须小心进行，并且与保护Web服务器一样重要。Nmap还通过支持自动化操作（例如检查空的root密码和不安全配置）来帮助我们。
- en: This chapter covers different NSE scripts for the most common relational databases
    such as MySQL, MS SQL, and Oracle and `nosql` databases such as CouchDB and MongoDB.
    We start by introducing simple tasks such as retrieving status information and
    listing databases, tables, and instances. We also cover brute force password auditing,
    as finding weak passwords, or in some cases no password at all, in databases is
    a common occurrence during penetration testing assessments. In this chapter I
    also talk about one of my favorite NSE scripts that was written for auditing insecure
    configurations using parts of the CIS MySQL security benchmark. After this chapter
    I hope you will learn how to implement different security and integrity checks
    to your infrastructure with the help of these powerful NSE scripts.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖了最常见的关系数据库（如MySQL、MS SQL和Oracle）和`nosql`数据库（如CouchDB和MongoDB）的不同NSE脚本。我们首先介绍了一些简单的任务，如检索状态信息和列出数据库、表和实例。我们还涵盖了暴力破解密码审核，因为在渗透测试评估期间，在数据库中找到弱密码或在某些情况下根本没有密码是常见的。在本章中，我还谈到了一个我最喜欢的NSE脚本，该脚本是使用CIS
    MySQL安全基准的部分编写的，用于审计不安全配置。在本章之后，我希望您能学会如何使用这些强大的NSE脚本来实施不同的安全和完整性检查，以保护您的基础设施。
- en: Listing MySQL databases
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 列出MySQL数据库
- en: MySQL servers may contain several databases. As system administrators with legitimate
    access or penetration testers who just compromised the server, we can list the
    available databases using Nmap.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL服务器可能包含多个数据库。作为具有合法访问权限的系统管理员或刚刚攻破服务器的渗透测试人员，我们可以使用Nmap列出可用的数据库。
- en: This recipe teaches how to use Nmap NSE to list databases in a MySQL server.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 此配方教您如何使用Nmap NSE列出MySQL服务器中的数据库。
- en: How to do it...
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Open a terminal and enter the following command:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 打开终端并输入以下命令：
- en: '[PRE0]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The databases should be listed under the script results.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库应该在脚本结果下列出。
- en: '[PRE1]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: How it works...
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: The argument `-p3306 --script mysql-databases --script-args mysqluser=<user>,mysqlpass=<password>`
    tells Nmap to attempt a connection to the MySQL server using the given credentials
    (`--script-args mysqluser=<user>,mysqlpass=<password>`) and tries to list all
    the available databases in the server.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 使用参数`-p3306 --script mysql-databases --script-args mysqluser=<user>,mysqlpass=<password>`告诉Nmap尝试使用给定的凭据（`--script-args
    mysqluser=<user>,mysqlpass=<password>`）连接到MySQL服务器，并尝试列出服务器中所有可用的数据库。
- en: The script `mysql-databases` was written by Patrik Karlsson to help Nmap users
    enumerate databases in MySQL installations.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mysql-databases`由Patrik Karlsson编写，以帮助Nmap用户枚举MySQL安装中的数据库。
- en: There's more...
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'To try to enumerate databases if an empty root account is found we can use
    the command:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果找到空的root帐户，可以使用以下命令尝试枚举数据库：
- en: '[PRE2]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: If the service is running on an port different than 3306 we can use Nmap's service
    detection (`-sV`), or set the port manually with the argument `-p`.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如果服务运行在3306以外的端口上，我们可以使用Nmap的服务检测（`-sV`），或使用参数`-p`手动设置端口。
- en: '[PRE3]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: See also
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing MySQL users* recipe
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL用户*配方'
- en: The *Listing MySQL variables* recipe
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL变量*食谱'
- en: The *Finding root accounts with empty passwords in MySQL servers* recipe
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MySQL服务器中查找空密码的root账户*食谱'
- en: The *Brute forcing MySQL passwords* recipe
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MySQL密码*食谱'
- en: The *Detecting insecure configurations in MySQL servers* recipe
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检测MySQL服务器中的不安全配置*食谱'
- en: Listing MySQL users
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 列出MySQL用户
- en: MySQL servers support granular access to databases, meaning that there could
    be several users in a single installation.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL服务器支持对数据库的细粒度访问，这意味着单个安装中可能有多个用户。
- en: This recipe shows how to use Nmap to enumerate users in MySQL servers.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 此食谱展示了如何使用Nmap枚举MySQL服务器中的用户。
- en: How to do it...
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Open a terminal and type the following command:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 打开终端并输入以下命令：
- en: '[PRE4]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'A list of usernames will be included in the `mysql-users` section:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 用户名列表将包括在`mysql-users`部分中：
- en: '[PRE5]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: How it works...
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: The argument `-p3306 --script mysql-users --script-args mysqluser=<user>,mysqlpass=<pass>`
    makes Nmap launch the script `mysql-users` if a MySQL server is found on port
    3306.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-p3306 --script mysql-users --script-args mysqluser=<user>,mysqlpass=<pass>`使Nmap在发现运行在3306端口上的MySQL服务器时启动脚本`mysql-users`。
- en: The script `mysql-users` was submitted by Patrik Karlsson and it enumerates
    usernames in MySQL servers using the given authentication credentials. If no authentication
    credentials are set with the script arguments `mysqluser` and `mysqlpass`, it
    will attempt to use the results of `mysql-brute` and `mysql-empty-password`.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mysql-users`由Patrik Karlsson提交，它使用给定的认证凭据在MySQL服务器中枚举用户名。如果没有使用脚本参数`mysqluser`和`mysqlpass`设置认证凭据，它将尝试使用`mysql-brute`和`mysql-empty-password`的结果。
- en: There's more...
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'To enumerate databases and users in MySQL installations with root accounts
    with an empty password use the following command:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 要枚举具有空密码的root账户的MySQL安装中的数据库和用户，请使用以下命令：
- en: '[PRE6]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: If the MySQL server is running on a different port than 3306, you may use Nmap's
    service scan, or set the port manually with the argument `-p`.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如果MySQL服务器运行在3306端口之外，您可以使用Nmap的服务扫描，或者使用参数`-p`手动设置端口。
- en: '[PRE7]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: See also
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing MySQL databases* recipe
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL数据库*食谱'
- en: The *Listing MySQL variables* recipe
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL变量*食谱'
- en: The *Finding root accounts with empty passwords in MySQL servers* recipe
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MySQL服务器中查找空密码的root账户*食谱'
- en: The *Brute forcing MySQL passwords* recipe
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MySQL密码*食谱'
- en: The *Detecting insecure configurations in MySQL servers* recipe
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检测MySQL服务器中的不安全配置*食谱'
- en: Listing MySQL variables
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 列出MySQL变量
- en: MySQL servers have several environment variables that are used in different
    ways by system administrators and web developers.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL服务器有几个环境变量，系统管理员和Web开发人员以不同的方式使用。
- en: This recipe shows you how to use Nmap to list environment variables in MySQL
    servers.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 此食谱向您展示了如何使用Nmap列出MySQL服务器中的环境变量。
- en: How to do it...
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Open your terminal and enter the following Nmap command:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 打开终端并输入以下Nmap命令：
- en: '[PRE8]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The MySQL variables will be listed under `mysql-variables`:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL变量将在`mysql-variables`下列出：
- en: '[PRE9]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: How it works...
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: We used the arguments `-p3306 --script mysql-variables --script-args mysqluser=<root>,mysqlpass=<pass>`
    to make Nmap initiate the script `mysql-variables` if a MySQL server is found
    running on port 3306.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用参数`-p3306 --script mysql-variables --script-args mysqluser=<root>,mysqlpass=<pass>`使Nmap在发现运行在3306端口上的MySQL服务器时启动脚本`mysql-variables`。
- en: The script `mysql-variables` was submitted by Patrik Karlsson and it uses the
    script arguments `mysqluser` and `mysqlpass` as authentication credentials against
    a MySQL server to try to enumerate system variables.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mysql-variables`由Patrik Karlsson提交，它使用脚本参数`mysqluser`和`mysqlpass`作为对MySQL服务器的认证凭据，尝试枚举系统变量。
- en: There's more...
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: If the MySQL server is running on a different port than 3306 we may use Nmap's
    service detection or manually set the port with the `-p` argument.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 如果MySQL服务器运行在3306端口之外，我们可以使用Nmap的服务检测或手动使用`-p`参数设置端口。
- en: '[PRE10]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To retrieve databases, usernames, and variables from a MySQL server with an
    empty root password, use the following command:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 要从具有空root密码的MySQL服务器中检索数据库、用户名和变量，请使用以下命令：
- en: '[PRE11]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: See also
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing MySQL databases* recipe
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL数据库*食谱'
- en: The *Listing MySQL users* recipe
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL用户*食谱'
- en: The *Finding root accounts with empty passwords in MySQL servers* recipe
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MySQL服务器中查找空密码的root账户*食谱'
- en: The *Brute forcing MySQL passwords* recipe
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MySQL密码*食谱'
- en: The *Detecting insecure configurations in MySQL servers* recipe
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检测MySQL服务器中的不安全配置*食谱'
- en: Finding root accounts with empty passwords in MySQL servers
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在MySQL服务器中查找空密码的root账户
- en: New system administrators often make the mistake of leaving the root account
    of a MySQL server with no password. This is a blatant security vulnerability that
    could be exploited by attackers. Penetration testers and system administrators
    need to detect these vulnerable installations before the bad guys do.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 新系统管理员经常犯将MySQL服务器的root账户留空密码的错误。这是一个明显的安全漏洞，可能会被攻击者利用。渗透测试人员和系统管理员需要在坏人之前检测到这些易受攻击的安装。
- en: This recipe will show you how to use Nmap to check for empty root passwords
    on MySQL servers.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 此食谱将向您展示如何使用Nmap检查MySQL服务器上的空root密码。
- en: How to do it...
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Open a terminal and enter the following command:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 打开终端并输入以下命令：
- en: '[PRE12]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'If the accounts `root` or `anonymous` have an empty password, it will be shown
    in the script results:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 如果账户`root`或`anonymous`的密码为空，将在脚本结果中显示：
- en: '[PRE13]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: How it works...
  id: totrans-99
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: The argument `-p3306 --script mysql-empty-password` makes Nmap launch the NSE
    script `mysql-empty-password` if a MySQL server is found running on port 3306.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-p3306 --script mysql-empty-password`使Nmap在发现运行在3306端口上的MySQL服务器时启动NSE脚本`mysql-empty-password`。
- en: This script was submitted by Patrik Karlsson and it connects to a MySQL server
    and tries the accounts `root` and `anonymous` with an empty password.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 此脚本由Patrik Karlsson提交，它连接到MySQL服务器并尝试使用空密码的账户`root`和`anonymous`。
- en: There's more...
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'To try a custom list of usernames you need to modify the NSE script `mysql-empty-password.nse`
    located in your script''s directory. Find the following line in the file:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 要尝试自定义的用户名列表，您需要修改位于脚本目录中的NSE脚本`mysql-empty-password.nse`。在文件中找到以下行：
- en: '[PRE14]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'And replace it with your own username list, like this:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 并用您自己的用户名列表替换它，就像这样：
- en: '[PRE15]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Just save it and run it as shown previously:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 只需保存并按照先前显示的方式运行它：
- en: '[PRE16]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: See also
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing MySQL databases* recipe
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL数据库*配方'
- en: The *Listing MySQL users* recipe
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL用户*配方'
- en: The *Listing MySQL variables* recipe
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL变量*配方'
- en: The *Brute forcing MySQL passwords* recipe
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*强制破解MySQL密码*配方'
- en: The *Detecting insecure configurations in MySQL servers* recipe
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检测MySQL服务器中的不安全配置*配方'
- en: Brute forcing MySQL passwords
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 强制破解MySQL密码
- en: Web servers sometimes return database connection errors that reveal the MySQL
    username used by the web application. Penetration testers could use this information
    to perform brute force password auditing.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: Web服务器有时会返回数据库连接错误，这些错误会显示Web应用程序使用的MySQL用户名。渗透测试人员可以使用这些信息来执行暴力破解密码审计。
- en: This recipe describes how to launch dictionary attacks against MySQL servers
    by using Nmap.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 这个配方描述了如何使用Nmap对MySQL服务器进行字典攻击。
- en: How to do it...
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To perform brute force password auditing against MySQL servers by using Nmap,
    use the following command:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Nmap对MySQL服务器进行暴力破解密码审计，请使用以下命令：
- en: '[PRE17]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'If valid credentials are found, they will be included in the `mysql-brute`
    output section:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 如果找到有效的凭证，它们将包含在`mysql-brute`输出部分中：
- en: '[PRE18]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: How it works...
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The script `mysql-brute` was written by Patrik Karlsson and it is really helpful
    when auditing MySQL servers. It performs dictionary attacks to find valid credentials.
    The success rate will obviously depend on the dictionary files used when running
    the script.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mysql-brute`是由Patrik Karlsson编写的，当审计MySQL服务器时非常有帮助。它执行字典攻击以找到有效的凭证。成功率显然取决于运行脚本时使用的字典文件。
- en: There's more...
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'The MySQL server might be running on a non-standard port. You can set the port
    manually by specifying the `-p` argument, or by using Nmap''s service detection:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 您的MySQL服务器可能在非标准端口上运行。您可以通过指定`-p`参数手动设置端口，或者使用Nmap的服务检测：
- en: '[PRE19]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: The script `mysql-brute` depends on the NSE libraries `unpwdb` and `brute`.
    These libraries have several script arguments that can be used to tune your brute
    force password auditing.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mysql-brute`依赖于NSE库`unpwdb`和`brute`。这些库有几个脚本参数，可以用来调整您的暴力破解密码审计。
- en: 'To use a different username and password lists, set the arguments `userdb`
    and `passdb`, respectively:'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要使用不同的用户名和密码列表，请分别设置参数`userdb`和`passdb`：
- en: '[PRE20]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'To quit after finding one valid account, use the argument `brute.firstOnly`:'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要在找到一个有效帐户后退出，请使用参数`brute.firstOnly`：
- en: '[PRE21]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'To set a different timeout limit, use the argument `unpwd.timelimit`. To run
    it indefinitely, set it to `0`:'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要设置不同的超时限制，请使用参数`unpwd.timelimit`。要无限期运行它，请将其设置为`0`：
- en: '[PRE22]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Brute modes
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Brute模式
- en: 'The `brute` library supports different modes that alter the username/password
    combinations used in the attack. The available modes are:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '`brute`库支持不同的模式，可以改变攻击中使用的用户名/密码组合。可用的模式有：'
- en: '`user`: For each user listed in `userdb`, every password in `passdb` will be
    tried'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`user`：对于`userdb`中列出的每个用户，将尝试`passdb`中的每个密码'
- en: '[PRE23]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '`pass`: For each password listed in `passdb`, every user in `userdb` will be
    tried'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pass`：对于`passdb`中列出的每个密码，将尝试`userdb`中的每个用户'
- en: '[PRE24]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '`creds`: This requires the additional argument `brute.credfile`'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`creds`：这需要额外的参数`brute.credfile`'
- en: '[PRE25]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: See also
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing MySQL databases* recipe
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL数据库*配方'
- en: The *Listing MySQL users* recipe
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL用户*配方'
- en: The *Listing MySQL variables* recipe
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL变量*配方'
- en: The *Finding root accounts with empty passwords in MySQL servers* recipe
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MySQL服务器中查找空密码的root帐户*配方'
- en: The *Detecting insecure configurations in MySQL servers* recipe
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检测MySQL服务器中的不安全配置*配方'
- en: Detecting insecure configurations in MySQL servers
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检测MySQL服务器中的不安全配置
- en: Insecure configurations in databases could be abused by attackers. The **Center
    for Internet Security** (**CIS**) publishes a security benchmark for MySQL, and
    Nmap can use this to audit the security configurations of a MySQL server.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库中的不安全配置可能会被攻击者滥用。**互联网安全中心**（**CIS**）发布了MySQL的安全基准，Nmap可以使用这个基准来审计MySQL服务器的安全配置。
- en: This recipe shows how to detect insecure configurations in MySQL servers by
    using Nmap.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这个配方展示了如何使用Nmap检测MySQL服务器中的不安全配置。
- en: How to do it...
  id: totrans-152
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To detect insecure configurations in MySQL servers, enter the following command:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 要检测MySQL服务器中的不安全配置，请输入以下命令：
- en: '[PRE26]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Each control will be reviewed and a legend of `PASS`, `FAIL`, or `REVIEW` will
    be included in the results:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 每个控件都将被审查，并且结果中将包括`PASS`、`FAIL`或`REVIEW`的图例：
- en: '[PRE27]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: How it works...
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The script arguments `-p3306 --script mysql-audit` tell Nmap to initiate the
    NSE script `mysql-audit` if a MySQL server is found running on port 3306.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本参数`-p3306 --script mysql-audit`告诉Nmap如果发现运行在3306端口上的MySQL服务器，则启动NSE脚本`mysql-audit`。
- en: The script `mysql-audit` was developed by Patrik Karlsson and it checks for
    insecure configurations by using parts of the benchmark CIS MySQL. It is also
    very flexible and allows custom checks by specifying alternate rules.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mysql-audit`是由Patrik Karlsson开发的，它使用基准CIS MySQL的部分检查不安全的配置。它也非常灵活，允许通过指定替代规则进行自定义检查。
- en: There's more...
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'If your MySQL server has administrative accounts other than `root` and `debian-sys-maint`,
    you should locate the following line in `$ nmap_path/nselib/data/mysql-cis.audit`
    and add them to set up the script:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的MySQL服务器除了`root`和`debian-sys-maint`之外还有管理帐户，您应该在`$ nmap_path/nselib/data/mysql-cis.audit`中找到以下行，并将其添加到脚本中：
- en: '[PRE28]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Remember that you can write your own rules in a separate file and use the script
    argument `mysql-audit.fingerprintfile` to reference this. Audit rules look something
    like the following:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，您可以在单独的文件中编写自己的规则，并使用脚本参数`mysql-audit.fingerprintfile`来引用它。审计规则看起来像下面这样：
- en: '[PRE29]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'MySQL servers may run on a non-standard port. Use Nmap''s service detection
    (`-sV`) or set the port manually by specifying the port argument (`-p`):'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL服务器可能在非标准端口上运行。使用Nmap的服务检测（`-sV`）或通过指定端口参数（`-p`）手动设置端口：
- en: '[PRE30]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: See also
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing MySQL databases* recipe
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL数据库*食谱'
- en: The *Listing MySQL users* recipe
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL用户*食谱'
- en: The *Listing MySQL variables* recipe
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MySQL变量*食谱'
- en: The *Finding root accounts with empty passwords in MySQL servers* recipe
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MySQL服务器中查找空密码的根帐户*食谱'
- en: The *Brute forcing MySQL passwords* recipe
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MySQL密码*食谱'
- en: Brute forcing Oracle passwords
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 暴力破解Oracle密码
- en: System administrators managing several databases often need to check for weak
    passwords as part of the organization's policy. Penetration testers also take
    advantage of weak passwords to gain unauthorized access. Conveniently, Nmap NSE
    offers a way of performing remote brute force password auditing against Oracle
    database servers.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 管理多个数据库的系统管理员通常需要根据组织的政策检查弱密码。渗透测试人员也利用弱密码获取未经授权的访问权限。方便的是，Nmap NSE提供了一种执行远程暴力破解密码审计的方法，用于Oracle数据库服务器。
- en: This recipe shows how to perform brute force password auditing against Oracle
    by using Nmap.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 该食谱显示了如何使用Nmap对Oracle进行暴力破解密码审计。
- en: How to do it...
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Open a terminal and run Nmap with the following argument:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 打开终端并使用以下参数运行Nmap：
- en: '[PRE31]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Any valid credentials found will be included in the results in the script output
    section:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 在脚本输出部分将包括找到的任何有效凭据：
- en: '[PRE32]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: How it works...
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The argument `-sV --script oracle-brute --script-args oracle-brute.sid=TEST`
    makes Nmap initiate the script `oracle-brute` against the instance `TEST` if an
    Oracle server is detected.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-sV --script oracle-brute --script-args oracle-brute.sid=TEST`使Nmap在检测到Oracle服务器时针对实例`TEST`启动脚本`oracle-brute`。
- en: The script `oracle-brute` was submitted by Patrik Karlsson and it helps penetration
    testers and system administrators launch dictionary attacks against Oracle servers
    to try to obtain valid credentials.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`oracle-brute`由Patrik Karlsson提交，它帮助渗透测试人员和系统管理员对Oracle服务器发起字典攻击，以尝试获取有效凭据。
- en: There's more...
  id: totrans-184
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Update the file `nselib/data/oracle-default-accounts.lst` to add any default
    accounts.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 更新文件`nselib/data/oracle-default-accounts.lst`以添加任何默认帐户。
- en: The script `oracle-brute` depends on the NSE libraries `unpwdb` and `brute`.
    These libraries have several script arguments that can be used to tune your brute
    force password auditing.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`oracle-brute`依赖于NSE库`unpwdb`和`brute`。这些库有几个脚本参数，可用于调整您的暴力破解密码审计。
- en: 'To use different username and password lists, set the arguments `userdb` and
    `passdb`, respectively:'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要使用不同的用户名和密码列表，请分别设置参数`userdb`和`passdb`：
- en: '[PRE33]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'To quit after finding one valid account, use the argument `brute.firstOnly`:'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要在找到一个有效帐户后退出，请使用参数`brute.firstOnly`：
- en: '[PRE34]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'To set a different timeout limit, use the argument `unpwd.timelimit`. To run
    it indefinitely, set it to `0`:'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要设置不同的超时限制，请使用参数`unpwd.timelimit`。要无限期运行，请将其设置为`0`：
- en: '[PRE35]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Brute modes
  id: totrans-193
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 暴力模式
- en: 'The brute library supports different modes that alter the username/password
    combinations used in the attack. The available modes are:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 暴力库支持不同的模式，这些模式改变了攻击中使用的用户名/密码组合。可用的模式有：
- en: '`user`: For each user listed in `userdb`, every password in `passdb` will be
    tried'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`用户`：对于`userdb`中列出的每个用户，将尝试`passdb`中的每个密码'
- en: '[PRE36]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '`pass`: For each password listed in `passdb`, every user in `userdb` will be
    tried'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`密码`：对于`passdb`中列出的每个密码，将尝试`userdb`中的每个用户'
- en: '[PRE37]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '`creds`: This requires the additional argument `brute.credfile`'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`凭据`：这需要额外的参数`brute.credfile`'
- en: '[PRE38]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: See also
  id: totrans-201
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Brute forcing Oracle SID names* recipe
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解Oracle SID名称*食谱'
- en: Brute forcing Oracle SID names
  id: totrans-203
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 暴力破解Oracle SID名称
- en: Oracle servers have SID names, and penetration testers need to find them. Thanks
    to Nmap we can attempt to list them by performing a dictionary attack against
    the TNS listener.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: Oracle服务器具有SID名称，渗透测试人员需要找到它们。多亏了Nmap，我们可以尝试通过对TNS监听器进行字典攻击来列出它们。
- en: This recipe shows how to brute force Oracle SID names by using Nmap.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 该食谱显示了如何使用Nmap对Oracle SID名称进行暴力破解。
- en: How to do it...
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To brute force Oracle SID names, use the following Nmap command:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 要暴力破解Oracle SID名称，请使用以下Nmap命令：
- en: '[PRE39]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'All of the SIDs found will be included in the NSE script output section for
    `oracle-sid-brute`:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 找到的所有SID将包括在`oracle-sid-brute`的NSE脚本输出部分中：
- en: '[PRE40]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: How it works...
  id: totrans-211
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The argument `-sV --script oracle-sid-brute` tells Nmap to initiate service
    detection (`-sV`) and use the NSE script `oracle-sid-brute`.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-sV --script oracle-sid-brute`告诉Nmap启动服务检测（`-sV`）并使用NSE脚本`oracle-sid-brute`。
- en: The NSE script `oracle-sid-brute` was submitted by Patrik Karlsson to help penetration
    testers enumerate Oracle SIDs by performing a dictionary attack against Oracle's
    TNS. This script will be executed if a host has a running service `oracle-tns`,
    or has port 1521 open.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: NSE脚本`oracle-sid-brute`由Patrik Karlsson提交，以帮助渗透测试人员通过对Oracle的TNS进行字典攻击来枚举Oracle
    SID。如果主机运行服务`oracle-tns`或端口1521打开，则将执行此脚本。
- en: There's more...
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'By default, the script uses the dictionary located at `nselib/data/oracle-sids`
    but you can specify a different file by setting the script argument `oraclesids`:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，该脚本使用位于`nselib/data/oracle-sids`的字典，但您可以通过设置脚本参数`oraclesids`来指定不同的文件：
- en: '[PRE41]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: See also
  id: totrans-217
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Brute forcing Oracle passwords* recipe
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解Oracle密码*食谱'
- en: Retrieving MS SQL server information
  id: totrans-219
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检索MS SQL服务器信息
- en: System administrators and penetration testers often need to gather as much host
    information as possible. MS SQL databases are common in infrastructures based
    on Microsoft technologies, and Nmap can help us gather information from them.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 系统管理员和渗透测试人员通常需要收集尽可能多的主机信息。基于Microsoft技术的基础设施中常见MS SQL数据库，Nmap可以帮助我们从中收集信息。
- en: This recipe shows how to retrieve information from an MS SQL server.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 该食谱显示了如何从MS SQL服务器检索信息。
- en: How to do it...
  id: totrans-222
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To retrieve information from an MS SQL server by using Nmap, run the following
    command:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 要通过使用Nmap从MS SQL服务器检索信息，请运行以下命令：
- en: '[PRE42]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'MS SQL server information, such as instance name, version number, and port,
    will be included in the script output:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: MS SQL服务器信息，如实例名称、版本号和端口，将包含在脚本输出中：
- en: '[PRE43]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: How it works...
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: MS SQL servers usually run on port 1433\. We used the argument `-p1433 --script
    ms-sql-info` to initiate the NSE script `ms-sql-info` if a MS SQL server was running
    on that port.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: MS SQL服务器通常在端口1433上运行。如果MS SQL服务器在该端口上运行，我们使用参数`-p1433 --script ms-sql-info`来启动NSE脚本`ms-sql-info`。
- en: The script `ms-sql-info` was submitted by Chris Woodbury and Thomas Buchanan.
    It connects to an MS SQL server and retrieves the instance name, version name,
    version number, product name, service pack level, patch list, TCP/UDP port, and
    whether it is clustered or not. It collects this information from the SQL Server
    Browser service if available (UDP port 1434) or from a probe to the service.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`ms-sql-info`由Chris Woodbury和Thomas Buchanan提交。它连接到MS SQL服务器并检索实例名称、版本名称、版本号、产品名称、服务包级别、补丁列表、TCP/UDP端口以及是否集群。如果可用，它会从SQL
    Server Browser服务（UDP端口1434）或从服务的探测中收集此信息。
- en: There's more...
  id: totrans-230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'If port 445 is open, you can use it to retrieve the information via pipes.
    It is required that you set the argument `mssql.instance-name` or `mssql.instance-all`:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 如果端口445打开，您可以使用它通过管道检索信息。需要设置参数`mssql.instance-name`或`mssql.instance-all`：
- en: '[PRE44]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'The output is as follows:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE45]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Force scanned ports only in NSE scripts for MS SQL
  id: totrans-235
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 仅在MS SQL的NSE脚本中强制扫描端口
- en: 'The NSE scripts `ms-sql-brute`, `ms-sql-config.nse`, `ms-sql-empty-password`,
    `ms-sql-hasdbaccess.nse,ms-sql-info.nse`, `ms-sql-query.nse`, `ms-sql-tables.nse`,
    and `ms-sql-xp-cmdshell.nse` may try to connect to ports that were not included
    in your scan. To limit NSE to only use scanned ports, use the argument `mssql.scanned-ports-only`:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: NSE脚本`ms-sql-brute`，`ms-sql-config.nse`，`ms-sql-empty-password`，`ms-sql-hasdbaccess.nse,ms-sql-info.nse`，`ms-sql-query.nse`，`ms-sql-tables.nse`和`ms-sql-xp-cmdshell.nse`可能尝试连接到未包括在您的扫描中的端口。要限制NSE仅使用扫描的端口，请使用参数`mssql.scanned-ports-only`：
- en: '[PRE46]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: See also
  id: totrans-238
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Brute forcing MS SQL passwords* recipe
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MS SQL密码*食谱'
- en: The *Dumping the password hashes of an MS SQL server* recipe
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*转储MS SQL服务器的密码哈希*食谱'
- en: The *Running commands through the command shell on MS SQL servers* recipe
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*通过MS SQL服务器的命令shell运行命令*食谱'
- en: The *Finding sysadmin accounts with empty passwords on MS SQL servers* recipe
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MS SQL服务器上查找空密码的sysadmin帐户*食谱'
- en: Brute forcing MS SQL passwords
  id: totrans-243
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 暴力破解MS SQL密码
- en: System administrators and penetration testers often need to check for weak passwords
    as part of the organization's security policy. Nmap can help us to perform dictionary
    attacks against MS SQL servers.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 系统管理员和渗透测试人员通常需要检查弱密码，作为组织安全政策的一部分。Nmap可以帮助我们对MS SQL服务器执行字典攻击。
- en: This recipe shows how to perform brute force password auditing of MS SQL servers
    by using Nmap.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 本食谱介绍了如何使用Nmap对MS SQL服务器执行暴力破解密码审计。
- en: How to do it...
  id: totrans-246
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作步骤...
- en: 'To perform brute force password auditing against an MS SQL server, run the
    following Nmap command:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 对MS SQL服务器执行暴力破解密码审计，运行以下Nmap命令：
- en: '[PRE47]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'If any valid accounts are found, they will be included in the script output
    section:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 如果找到任何有效帐户，它们将包含在脚本输出部分中：
- en: '[PRE48]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: How it works...
  id: totrans-251
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: MS SQL servers usually run on TCP port 1433\. The arguments `-p1433 --script
    ms-sql-brute` initiate the NSE script `ms-sql-brute` if an MS SQL server is found
    running on port 1433.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: MS SQL服务器通常在TCP端口1433上运行。如果在端口1433上发现运行中的MS SQL服务器，参数`-p1433 --script ms-sql-brute`将启动NSE脚本`ms-sql-brute`。
- en: The script `ms-sql-brute` was written by Patrik Karlsson. It performs brute
    force password auditing against MS SQL databases. This script depends on the library
    `mssql`. You can learn more about it at `http://nmap.org/nsedoc/lib/mssql.html`.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`ms-sql-brute`由Patrik Karlsson编写。它对MS SQL数据库执行暴力破解密码审计。此脚本依赖于库`mssql`。您可以在`http://nmap.org/nsedoc/lib/mssql.html`了解更多信息。
- en: There's more...
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'The database server might be running on a non-standard port. You can set the
    port manually by specifying the `-p` argument or by using Nmap''s service detection:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库服务器可能在非标准端口上运行。您可以通过指定`-p`参数手动设置端口，也可以使用Nmap的服务检测：
- en: '[PRE49]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Remember that if an SMB port is open, we can use pipes to run this script by
    setting the argument `mssql.instance-all` or `mssql.instance-name`:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，如果SMB端口打开，我们可以使用管道来通过设置参数`mssql.instance-all`或`mssql.instance-name`来运行此脚本：
- en: '[PRE50]'
  id: totrans-258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'The output is as follows:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE51]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: The script `ms-sql-brute` depends on the NSE libraries `unpwdb` and `brute`.
    These libraries have several script arguments that can be used to tune your brute
    force password auditing.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`ms-sql-brute`依赖于NSE库`unpwdb`和`brute`。这些库有几个脚本参数，可用于调整暴力破解密码审计。
- en: 'To use different username and password lists, set the arguments `userdb` and
    `passdb`:'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要使用不同的用户名和密码列表，设置参数`userdb`和`passdb`：
- en: '[PRE52]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'To quit after finding one valid account, use the argument `brute.firstOnly`:'
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要在找到一个有效帐户后退出，请使用参数`brute.firstOnly`：
- en: '[PRE53]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'To set a different timeout limit, use the argument `unpwd.timelimit`. To run
    it indefinitely, set it to `0`:'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要设置不同的超时限制，请使用参数`unpwd.timelimit`。要无限期运行，请将其设置为`0`：
- en: '[PRE54]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: Brute modes
  id: totrans-268
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 暴力模式
- en: 'The brute library supports different modes that alter the username/password
    combinations used in the attack. The available modes are:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 暴力库支持不同的模式，可改变攻击中使用的用户名/密码组合。可用的模式有：
- en: '`user`: For each user listed in `userdb`, every password in `passdb` will be
    tried'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`user`：对于`userdb`中列出的每个用户，将尝试`passdb`中的每个密码'
- en: '[PRE55]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '`pass`: For each password listed in `passdb`, every user in `userdb` will be
    tried'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pass`：对于`passdb`中列出的每个密码，将尝试`userdb`中的每个用户'
- en: '[PRE56]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '`creds`: This requires the additional argument `brute.credfile`'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`creds`：这需要额外的参数`brute.credfile`'
- en: '[PRE57]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: See also
  id: totrans-276
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Retrieving MS SQL server information* recipe
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检索MS SQL服务器信息*食谱'
- en: The *Dumping the password hashes of an MS SQL server* recipe
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*转储MS SQL服务器的密码哈希*食谱'
- en: The *Running commands through the command shell on MS SQL servers* recipe
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*通过MS SQL服务器的命令shell运行命令*食谱'
- en: The *Finding sysadmin accounts with empty passwords on MS SQL servers* recipe
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MS SQL服务器上查找空密码的sysadmin帐户*食谱'
- en: Dumping the password hashes of an MS SQL server
  id: totrans-281
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 转储MS SQL服务器的密码哈希
- en: After gaining access to an MS SQL server, we can dump all of the password hashes
    of an MS SQL server to compromise other accounts. Nmap can help us to retrieve
    these hashes in a format usable by the cracking tool, **John the Ripper**.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 获得对MS SQL服务器的访问权限后，我们可以转储MS SQL服务器的所有密码哈希以破坏其他帐户。Nmap可以帮助我们以可供**John the Ripper**破解工具使用的格式检索这些哈希。
- en: This recipe shows how to dump crackable password hashes of an MS SQL sever with
    Nmap.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 此教程显示了如何使用Nmap转储MS SQL服务器的可破解密码哈希。
- en: How to do it...
  id: totrans-284
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To dump all the password hashes of an MS SQL server with an empty sysadmin
    password, run the following Nmap command:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 要转储具有空sysadmin密码的MS SQL服务器的所有密码哈希，请运行以下Nmap命令：
- en: '[PRE58]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'The password hashes will be included in the `ms-sql-dump-hashes` script output
    section:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 密码哈希将包含在`ms-sql-dump-hashes`脚本输出部分中：
- en: '[PRE59]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: How it works...
  id: totrans-289
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: MS SQL servers usually run on TCP port 1433\. The argument `-p1433 --script
    ms-sql-empty-password,ms-sql-dump-hashes` initiates the script `ms-sql-empty-password`,
    which finds an empty root sysadmin account, and then runs script `ms-sql-dump-hashes`
    if an MS SQL server is found running on port 1433.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: MS SQL服务器通常在TCP端口1433上运行。参数`-p1433 --script ms-sql-empty-password,ms-sql-dump-hashes`启动脚本`ms-sql-empty-password`，该脚本找到一个空的root
    sysadmin帐户，然后在端口1433上运行脚本`ms-sql-dump-hashes`。
- en: The script `ms-sql-dump-hashes` was written by Patrik Karlsson and its function
    is to retrieve password hashes of MS SQL servers in a format usable by cracking
    tools like John the Ripper. This script depends on the `mssql` library. You can
    learn more about it at `http://nmap.org/nsedoc/lib/mssql.html`.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: '`ms-sql-dump-hashes`脚本由Patrik Karlsson编写，其功能是检索MS SQL服务器的密码哈希，以便像John the Ripper这样的破解工具使用。此脚本依赖于`mssql`库。您可以在`http://nmap.org/nsedoc/lib/mssql.html`了解更多信息。'
- en: There's more...
  id: totrans-292
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'If an SMB port is open, you can use it to run this script using pipes by setting
    the arguments `mssql.instance-all` or `mssql.instance-name`:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 如果SMB端口打开，您可以使用它通过设置参数`mssql.instance-all`或`mssql.instance-name`来运行此脚本：
- en: '[PRE60]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: See also
  id: totrans-295
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Retrieving MS SQL server information* recipe
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检索MS SQL服务器信息*教程'
- en: The *Brute forcing MS SQL passwords* recipe
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MS SQL密码*教程'
- en: The *Running commands through the command shell on MS SQL servers* recipe
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MS SQL服务器上通过命令shell运行命令*教程'
- en: The *Finding sysadmin accounts with empty passwords on MS SQL servers* recipe
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MS SQL服务器上查找具有空密码的sysadmin帐户*教程'
- en: Running commands through the command shell on MS SQL servers
  id: totrans-300
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在MS SQL服务器上通过命令shell运行命令
- en: MS SQL servers have a stored procedure called `xp_cmdshell`. This feature allows
    programmers to execute commands through the MS SQL server. Nmap helps us execute
    custom shell commands when this option is enabled.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: MS SQL服务器有一个名为`xp_cmdshell`的存储过程。此功能允许程序员通过MS SQL服务器执行命令。当启用此选项时，Nmap可以帮助我们执行自定义shell命令。
- en: This recipe shows how to run Windows commands through MS SQL servers by using
    Nmap.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 此教程显示了如何通过Nmap在MS SQL服务器上运行Windows命令。
- en: How to do it...
  id: totrans-303
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Open your terminal and enter the following Nmap command:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 打开您的终端并输入以下Nmap命令：
- en: '[PRE61]'
  id: totrans-305
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'The results will be included in the script output section:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将包含在脚本输出部分中：
- en: '[PRE62]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: How it works...
  id: totrans-308
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: MS SQL servers usually run on TCP port 1433\. The argument `--script-args 'mssql.username="<user>",mssql.password=""'
    --script ms-sql-xp-cmdshell -p1433` makes Nmap initiate the script `ms-sql-xp-cmdshell`
    and then sets the authentication credentials to be used if an MS SQL server is
    running on port 1433.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: MS SQL服务器通常在TCP端口1433上运行。参数`--script-args 'mssql.username="<user>",mssql.password=""'
    --script ms-sql-xp-cmdshell -p1433`使Nmap启动脚本`ms-sql-xp-cmdshell`，然后设置要在端口1433上运行的MS
    SQL服务器使用的身份验证凭据。
- en: The script `ms-sql-xp-cmdshell` was written by Patrik Karlsson. It attempts
    to run an OS command through the stored procedure `xp_cmdshell` found on MS SQL
    servers. This script depends on the `mssql` library. Its documentation can be
    found at [http://nmap.org/nsedoc/lib/mssql.html](http://nmap.org/nsedoc/lib/mssql.html).
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '`ms-sql-xp-cmdshell`脚本由Patrik Karlsson编写。它尝试通过在MS SQL服务器上找到的存储过程`xp_cmdshell`运行OS命令。此脚本依赖于`mssql`库。其文档可以在[http://nmap.org/nsedoc/lib/mssql.html](http://nmap.org/nsedoc/lib/mssql.html)找到。'
- en: There's more...
  id: totrans-311
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'By default, `ms-sql-xp-cmdshell` will attempt to run the command `ipconfig
    /all`, but you can specify a different one by using the script argument `ms-sql-xp-cmdshell.cmd`:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，`ms-sql-xp-cmdshell`将尝试运行命令`ipconfig /all`，但您可以使用脚本参数`ms-sql-xp-cmdshell.cmd`指定不同的命令：
- en: '[PRE63]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'If the server does not have the `xp_cmdshell` procedure enabled, you should
    see the following message:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 如果服务器没有启用`xp_cmdshell`过程，则应该看到以下消息：
- en: '[PRE64]'
  id: totrans-315
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'If you did not provide any valid credentials for authentication, the following
    message will be displayed:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有提供任何有效的身份验证凭据，将显示以下消息：
- en: '[PRE65]'
  id: totrans-317
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Remember that you can use this script in combination with `ms-sql-empty-password`
    to automatically retrieve the network configuration of an MS SQL server with a
    sysadmin account with an empty password:'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，您可以将此脚本与`ms-sql-empty-password`结合使用，以自动检索具有空密码的sysadmin帐户的MS SQL服务器的网络配置：
- en: '[PRE66]'
  id: totrans-319
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: See also
  id: totrans-320
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Retrieving MS SQL server information* recipe
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检索MS SQL服务器信息*教程'
- en: The *Brute forcing MS SQL passwords* recipe
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MS SQL密码*教程'
- en: The *Dumping the password hashes of an MS SQL server* recipe
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*转储MS SQL服务器的密码哈希*教程'
- en: The *Finding sysadmin accounts with empty passwords on MS SQL servers* recipe
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MS SQL服务器上通过命令shell运行命令*教程'
- en: Finding sysadmin accounts with empty passwords on MS SQL servers
  id: totrans-325
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在MS SQL服务器上查找具有空密码的sysadmin帐户
- en: Penetration testers often need to check that no administrative account has a
    weak password. With some help from Nmap NSE, we can easily check that no host
    (or hosts) has a sysadmin account with an empty password.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试人员经常需要检查是否有管理帐户具有弱密码。借助Nmap NSE的一些帮助，我们可以轻松地检查是否有主机（或主机）具有具有空密码的sysadmin帐户。
- en: This recipe teaches us how to use Nmap to find MS SQL servers with an empty
    sysadmin password.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 这个教程教会我们如何使用Nmap查找具有空sysadmin密码的MS SQL服务器。
- en: How to do it...
  id: totrans-328
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To find MS SQL servers with an empty `sa` account, open your terminal and enter
    the following Nmap command:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 要查找具有空`sa`帐户的MS SQL服务器，请打开终端并输入以下Nmap命令：
- en: '[PRE67]'
  id: totrans-330
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'If an account with an empty password is found, it will be included in the script
    output section:'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 如果找到具有空密码的帐户，它将包含在脚本输出部分中：
- en: '[PRE68]'
  id: totrans-332
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: How it works...
  id: totrans-333
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The parameter `-p1433 --script ms-sql-empty-password` makes Nmap initiate the
    NSE script `ms-sql-empty-password` if an MS SQL server is found running on port
    1433.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-p1433 --script ms-sql-empty-password`使Nmap在发现端口1433上运行的MS SQL服务器时启动NSE脚本`ms-sql-empty-password`。
- en: The script `ms-sql-empty-password` was submitted by Patrik Karlsson and improved
    by Chris Woodbury. It tries to connect to an MS SQL server using the username
    `sa` (the sysadmin account) and an empty password.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`ms-sql-empty-password`由Patrik Karlsson提交，并由Chris Woodbury改进。它尝试使用用户名`sa`（系统管理员帐户）和空密码连接到MS
    SQL服务器。
- en: There's more...
  id: totrans-336
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'If port 445 is open, you can use it to retrieve information via pipes. It is
    required that you set the arguments `mssql.instance-name` or `mssql.instance-all`:'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 如果端口445打开，您可以使用它通过管道检索信息。需要设置参数`mssql.instance-name`或`mssql.instance-all`：
- en: '[PRE69]'
  id: totrans-338
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'The output will be as follows:'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下所示：
- en: '[PRE70]'
  id: totrans-340
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: Force scanned ports only in NSE scripts for MS SQL
  id: totrans-341
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 仅在MS SQL的NSE脚本中强制扫描端口
- en: 'The NSE scripts `ms-sql-brute`, `ms-sql-config.nse`, `ms-sql-empty-password`,
    `ms-sql-hasdbaccess.nse,ms-sql-info.nse`, `ms-sql-query.nse`, `ms-sql-tables.nse`,
    and `ms-sql-xp-cmdshell.nse` may try to connect to ports that were not included
    in your scan. To limit NSE to only use scanned ports, use the argument `mssql.scanned-ports-only`:'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: NSE脚本`ms-sql-brute`，`ms-sql-config.nse`，`ms-sql-empty-password`，`ms-sql-hasdbaccess.nse,ms-sql-info.nse`，`ms-sql-query.nse`，`ms-sql-tables.nse`和`ms-sql-xp-cmdshell.nse`可能尝试连接到未包含在您的扫描中的端口。要限制NSE仅使用扫描的端口，请使用参数`mssql.scanned-ports-only`：
- en: '[PRE71]'
  id: totrans-343
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: See also
  id: totrans-344
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Retrieving MS SQL server information* recipe
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检索MS SQL服务器信息*的方法'
- en: The *Brute forcing MS SQL passwords* recipe
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*暴力破解MS SQL密码*的方法'
- en: The *Dumping the password hashes of an MS SQL server* recipe
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*转储MS SQL服务器的密码哈希*的方法'
- en: The *Running commands through the command shell on MS SQL servers* recipe
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在MS SQL服务器上通过命令行运行命令*的方法'
- en: Listing MongoDB databases
  id: totrans-349
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 列出MongoDB数据库
- en: MongoDB may contain several databases in a single installation. Listing databases
    is useful to both system administrators and penetration testers, and there is
    an NSE script that allows them to do this easily, and even in an automated manner.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: MongoDB可能在单个安装中包含多个数据库。列出数据库对系统管理员和渗透测试人员都很有用，而且有一个NSE脚本可以让他们轻松地甚至自动地执行此操作。
- en: This recipe describes how to use Nmap to list databases in MongoDB.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法描述了如何使用Nmap列出MongoDB中的数据库。
- en: How to do it...
  id: totrans-352
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'To list MongoDB databases by using Nmap, enter the following command:'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用Nmap列出MongoDB数据库，输入以下命令：
- en: '[PRE72]'
  id: totrans-354
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'The databases will be shown in the script output section:'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库将显示在脚本输出部分中：
- en: '[PRE73]'
  id: totrans-356
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: How it works...
  id: totrans-357
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: We launch the NSE script `mongodb-databases` if a MongoDB server is found running
    on port 27017 (`-p 27017 --script mongodb-databases`).
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在端口27017上发现运行中的MongoDB服务器，则启动NSE脚本`mongodb-databases`（`-p 27017 --script mongodb-databases`）。
- en: The script `mongodb-databases` was submitted by Martin Holst Swende and it attempts
    to list all databases in a MongoDB installation.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mongodb-databases`由Martin Holst Swende提交，它尝试列出MongoDB安装中的所有数据库。
- en: There's more...
  id: totrans-360
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: MongoDB documentation is located at [http://www.mongodb.org/display/DOCS/Home](http://www.mongodb.org/display/DOCS/Home).
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: MongoDB文档位于[http://www.mongodb.org/display/DOCS/Home](http://www.mongodb.org/display/DOCS/Home)。
- en: This script depends on the library `mongodb`, and its documentation can be found
    at [http://nmap.org/nsedoc/lib/mongodb.html](http://nmap.org/nsedoc/lib/mongodb.html).
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 此脚本依赖于库`mongodb`，其文档可以在[http://nmap.org/nsedoc/lib/mongodb.html](http://nmap.org/nsedoc/lib/mongodb.html)找到。
- en: See also
  id: totrans-363
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Retrieving MongoDB server information* recipe
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检索MongoDB服务器信息*的方法'
- en: Retrieving MongoDB server information
  id: totrans-365
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检索MongoDB服务器信息
- en: During a security assessment for a MongoDB installation, it is possible to extract
    build information such as system details and server status, including the number
    of connections available, uptime, and memory usage.
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 在对MongoDB安装进行安全评估时，可以提取构建信息，如系统详细信息和服务器状态，包括可用连接数，正常运行时间和内存使用情况。
- en: This recipe describes how to retrieve server information from a MongoDB installation
    by using Nmap.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法描述了如何使用Nmap从MongoDB安装中检索服务器信息。
- en: How to do it...
  id: totrans-368
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'Open your terminal and enter the following Nmap command:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 打开你的终端并输入以下Nmap命令：
- en: '[PRE74]'
  id: totrans-370
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'The MongoDB server information will be included in the script output section:'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: MongoDB服务器信息将包含在脚本输出部分中：
- en: '[PRE75]'
  id: totrans-372
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: How it works...
  id: totrans-373
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The argument `-p 27017 --script mongodb-info` makes Nmap initiate the NSE script
    `mongodb-info` if the service is found running on port 27017.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-p 27017 --script mongodb-info`使Nmap在发现端口27017上运行的服务时启动NSE脚本`mongodb-info`。
- en: The script `mongodb-info` was written by Martin Holst Swende. It returns server
    information including status and build details for a MongoDB database.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`mongodb-info`由Martin Holst Swende编写。它返回服务器信息，包括MongoDB数据库的状态和构建详细信息。
- en: There's more...
  id: totrans-376
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: MongoDB documentation is located at [http://www.mongodb.org/display/DOCS/Home](http://www.mongodb.org/display/DOCS/Home).
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: MongoDB文档位于[http://www.mongodb.org/display/DOCS/Home](http://www.mongodb.org/display/DOCS/Home)。
- en: This script depends on the library `mongodb`, and its documentation can be found
    at [http://nmap.org/nsedoc/lib/mongodb.html](http://nmap.org/nsedoc/lib/mongodb.html).
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 此脚本依赖于库`mongodb`，其文档可以在[http://nmap.org/nsedoc/lib/mongodb.html](http://nmap.org/nsedoc/lib/mongodb.html)找到。
- en: See also
  id: totrans-379
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing MongoDB databases* recipe
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出MongoDB数据库*的方法'
- en: Listing CouchDB databases
  id: totrans-381
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 列出CouchDB数据库
- en: CouchDB installations may contain numerous databases. Nmap provides an easy
    way to list the available databases for penetration testers or system administrators
    who may need to monitor for rogue databases.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: CouchDB安装可能包含许多数据库。 Nmap为渗透测试人员或系统管理员提供了一种轻松列出可用数据库的方法，他们可能需要监视恶意数据库。
- en: This recipe will show you how to list databases in CouchDB servers by using
    Nmap.
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 这个食谱将向您展示如何使用Nmap列出CouchDB服务器中的数据库。
- en: How to do it...
  id: totrans-384
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To list all databases in a CouchDB installation with Nmap, enter the following
    command:'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Nmap列出CouchDB安装中的所有数据库，请输入以下命令：
- en: '[PRE76]'
  id: totrans-386
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'The results will include all the databases returned by CouchDB in the `couchdb-databases`
    output section:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将包括CouchDB在`couchdb-databases`输出部分返回的所有数据库：
- en: '[PRE77]'
  id: totrans-388
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: How it works...
  id: totrans-389
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The argument `-p5984 --script couchdb-databases` tells Nmap to initiate the
    NSE script `couchdb-databases` if a CouchDB HTTP service is found running on port
    5984.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-p5984 --script couchdb-databases`告诉Nmap如果在端口5984上发现正在运行的CouchDB HTTP服务，则启动NSE脚本`couchdb-databases`。
- en: 'The script `couchdb-databases` was written by Martin Holst Swende, and it lists
    all of the available databases in CouchDB services. It queries the URI `/_all_dbs`,
    and extracts the information from the returned data:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`couchdb-databases`由Martin Holst Swende编写，它列出了CouchDB服务中所有可用的数据库。它查询URI`/_all_dbs`，并从返回的数据中提取信息：
- en: '[PRE78]'
  id: totrans-392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: There's more...
  id: totrans-393
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: You can find more information about the API used by CouchDB HTTP by visiting
    [http://wiki.apache.org/couchdb/HTTP_database_API](http://wiki.apache.org/couchdb/HTTP_database_API).
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过访问[http://wiki.apache.org/couchdb/HTTP_database_API](http://wiki.apache.org/couchdb/HTTP_database_API)了解有关CouchDB
    HTTP使用的API的更多信息。
- en: See also
  id: totrans-395
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Retrieving CouchDB database statistics* recipe
  id: totrans-396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*检索CouchDB数据库统计信息*食谱'
- en: Retrieving CouchDB database statistics
  id: totrans-397
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检索CouchDB数据库统计信息
- en: CouchDB HTTP servers can return statistics that are invaluable to system administrators.
    This information includes requests per second, sizes, and other useful statistics.
    Fortunately for us, Nmap provides an easy way of retrieving this information.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: CouchDB HTTP服务器可以返回对系统管理员非常有价值的统计信息。这些信息包括每秒请求次数、大小和其他有用的统计信息。幸运的是，Nmap提供了一种简单的方法来检索这些信息。
- en: This recipe describes how to retrieve database statistics for CouchDB HTTP service
    by using Nmap.
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 这个食谱描述了如何使用Nmap检索CouchDB HTTP服务的数据库统计信息。
- en: How to do it...
  id: totrans-400
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Open your terminal and run Nmap with the following arguments:'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 打开您的终端并使用以下参数运行Nmap：
- en: '[PRE79]'
  id: totrans-402
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'The results will be included in the script output section:'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将包括在脚本输出部分中：
- en: '[PRE80]'
  id: totrans-404
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: How it works...
  id: totrans-405
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The argument `-p5984 --script couchdb-stats` tells Nmap to launch the NSE script
    `couchdb-stats` if a CouchDB HTTP server is running.
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`-p5984 --script couchdb-stats`告诉Nmap如果CouchDB HTTP服务器正在运行，则启动NSE脚本`couchdb-stats`。
- en: 'The script `couchdb_stats` was submitted by Martin Holst Swende and it only
    performs one task: retrieving the runtime statistics of a CouchDB HTTP service.
    It does so by requesting the URI `/_stats/` and parsing the serialized data returned
    by the server:'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本`couchdb_stats`由Martin Holst Swende提交，它只执行一个任务：检索CouchDB HTTP服务的运行时统计信息。它通过请求URI`/_stats/`并解析服务器返回的序列化数据来实现这一点：
- en: '[PRE81]'
  id: totrans-408
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: There's more...
  id: totrans-409
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'If you find an installation not protected by authentication, you should also
    inspect the following URIs:'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您发现一个没有受到身份验证保护的安装，您还应该检查以下URI：
- en: '`/_utils/`'
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/_utils/`'
- en: '`/_utils/status.html`'
  id: totrans-412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/_utils/status.html`'
- en: '`/_utils/config.html`'
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/_utils/config.html`'
- en: You can learn more about the runtime statistics on CouchDB HTTP servers at [http://wiki.apache.org/couchdb/Runtime_Statistics](http://wiki.apache.org/couchdb/Runtime_Statistics).
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过访问[http://wiki.apache.org/couchdb/Runtime_Statistics](http://wiki.apache.org/couchdb/Runtime_Statistics)了解有关CouchDB
    HTTP服务器的运行时统计信息。
- en: See also
  id: totrans-415
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: The *Listing CouchDB databases* recipe
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列出CouchDB数据库*食谱'
