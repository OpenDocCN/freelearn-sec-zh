- en: Chapter 12. Educating the Customer and Finishing Up
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第12章。教育客户和结束
- en: If you have made it so far, thank you! You have done it â�� you've learned with
    me how to tackle web penetration testing, to treat it with the focus and detail
    needed to improve your customers' security posture. Web penetration testing is
    a beast Â and worthy of specialization and mastery. As we've seen in this book,
    there is a bewildering variety of vulnerability types, and the fact that they
    are easy to exploit can make them very easy to take advantage of. Enterprises
    have significant concerns across the entire enterprise, but in a way, their web
    applications are necessarily the most vulnerable aspect. How can they best secure
    the very tools that engage most with users outside their control?
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经读到这里，谢谢！你已经学会了如何处理Web渗透测试，以及如何专注和细节来改善客户的安全状况。Web渗透测试是一种野兽，值得专门化和精通。正如我们在本书中所看到的，存在着令人困惑的各种漏洞类型，而它们易于利用的事实使它们很容易被利用。企业在整个企业范围内都存在重大问题，但从某种意义上说，它们的Web应用程序必然是最脆弱的方面。他们如何最好地保护与他们无法控制的用户进行最多互动的工具？
- en: 'Many web application developers and their employers have purchased tools to
    provide safe and secure operations. Good intentions often meet the harsh realities
    of real-world pressures and constraints, and the tool is no sooner purchased before
    its proper operation, maintenance, and upkeep fall by the wayside. Business velocity--the
    speed with which the business adapts and delivers new capabilities â�� pressures
    IT organizations and application teams to move fast; and with inadequate security
    practices there is often a false choice: be secure or be productive. Businesses
    inevitably choose the latter, as it is what pays the bills. Security becomes the
    victim of a false trade-off. Until we can convince teams to bake security in,
    rather than bolt it on, we''ll continue to read about failures at an alarming
    rate.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 许多Web应用程序开发人员及其雇主已购买工具，以提供安全和可靠的运营。良好的意图经常会遇到现实世界的压力和限制，而工具在适当的操作、维护和保养之前就已经被抛在一边。业务速度--业务适应和提供新能力的速度--给IT组织和应用团队带来了压力；而在安全实践不足的情况下，通常会出现一种错误的选择：安全还是高效。企业通常会选择后者，因为这是支付账单的方式。安全成为错误抉择的受害者。除非我们能说服团队将安全融入其中，而不是后期添加，否则我们将继续以惊人的速度阅读失败案例。
- en: Some cynically believe that this is what keeps us in business. If users and
    their employers never clicked on suspicious links, always patched and maintained
    their systems, and only conducted valid business with verified partners, customers,
    and vendors, we'd see a lot less action. We all know this to be a pipe dream.
    The internet is many things, but tidy, orderly, and safe are not some of them.
    As penetration testers, we are uniquely suited to help drive a more holistic strategy
    toward security. We can both ascertain the current state while providing recommendations
    and guidance toward a safer end. Doing this isn't easy â�� it forces us to engage
    many skills we all would likely rather forget, but communications skills, oral
    and written, are what deliver the findings and recommendations with impact.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 有些人愤世嫉俗地认为这就是让我们生意兴隆的原因。如果用户及其雇主从不点击可疑链接，始终修补和维护他们的系统，并且只与经过验证的合作伙伴、客户和供应商进行有效业务，我们将看到更少的行动。我们都知道这是一个白日梦。互联网是很多东西，但整洁、有序和安全不是其中之一。作为渗透测试人员，我们独特地适合帮助推动更全面的安全策略。我们既可以确定当前状态，又可以提供建议和指导，以实现更安全的结果。这并不容易，它迫使我们运用许多技能，我们都更愿意忘记，但沟通技能，口头和书面，是传达发现和建议的关键。
- en: 'The end report is certainly what most of us will focus on, but predictable
    and informative status reports to the customer make or break the process. I will
    do my best to arm you with some resources that can help frame best practices and
    craft your reports. We''ll discuss how we can use both status reports as well
    as deliverables to tell the right story and help our customers find peace. We''ll
    cover some other aspects as well, such as offering advice, delivering bad news,
    and even when to repeat these assessments or how to drive a pen test plan for
    diligent, continuous improvement. In this chapter, we will go through the following
    topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 最终报告无疑是我们大多数人关注的重点，但向客户提供可预测和信息丰富的状态报告是成功与否的关键。我将尽力为您提供一些资源，帮助构建最佳实践并制定您的报告。我们将讨论如何使用状态报告和可交付成果来讲述正确的故事，并帮助我们的客户找到平静。我们还将涵盖其他一些方面，比如提供建议、传递坏消息，甚至何时重复这些评估或如何推动渗透测试计划以进行勤奋的持续改进。在本章中，我们将讨论以下主题：
- en: Weighing methods of validating configurations ,and maintaining their relevance
    in spite of fluid business requirements.
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 权衡验证配置的方法，并在业务需求不断变化的情况下保持其相关性。
- en: Providing guidance as to how to audit code versions and configuration health.
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供如何审计代码版本和配置健康的指导。
- en: Discussing segmentation, role-based access control, and change management.
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 讨论分割、基于角色的访问控制和变更管理。
- en: Discussing the presentation and follow-up steps to any good web penetration
    test. We will also discuss the competitive landscape and complementary tools in
    relation to Kali Linux.Â
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 讨论任何良好的Web渗透测试的演示和后续步骤。我们还将讨论与Kali Linux相关的竞争格局和互补工具。
- en: Comparing some competitive products to Kali Linux that may, in fact, be helpful
    in assessing web application security.
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较一些竞争产品与Kali Linux，这些产品实际上可能有助于评估Web应用程序安全性。
- en: Finishing up
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结束
- en: '* * *'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: All the best work in the world won't mean anything to the customer unless it
    is turned into comprehensive, actionable, and insightful guidance. Many technical
    professions have been ended prematurely or stunted due to an inability to communicate
    the work. Besides permission and intent, the other thing that separates us from
    the black-hat hackers is our communication with the customer. We must be teachers
    and coaches â�� for many of our customers, this will be a scary and gut-wrenching
    process, but we need to deliver guidance that they can use to improve.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 世界上最好的工作对客户来说意味着什么，除非它被转化为全面的、可操作的和有见地的指导。许多技术职业由于无法沟通工作而过早结束或受到限制。除了许可和意图，另一件事将我们与黑帽黑客区分开来，那就是我们与客户的沟通。我们必须成为老师和教练-对于我们的许多客户来说，这将是一个可怕和令人心烦的过程，但我们需要提供他们可以用来改进的指导。
- en: Note
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注
- en: What about clean-up? Well, web application pen testing is (for the most part)
    devoid of permanent changes to the environment. In most of the exploits that we
    have used, a simple cache wipe of the browser or scrub of the fields on the web
    frontend will return the application to its normal operating state.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 清理呢？嗯，Web应用程序渗透测试（在大多数情况下）不会对环境进行永久性更改。在我们使用的大多数利用中，简单地清除浏览器的缓存或清除Web前端的字段将使应用程序恢复到正常运行状态。
- en: Every parent utters the phrase *It's not what you say but how you say it*Â at
    least a few times a week to their children. Kids need to tune their intuition
    for the crowd, and parents are the tuners. Very similarly, we must *know our audience*.Â Much
    of the content and level of detail will be dictated not just by the scope outlined
    in the **Statement of Work** (**SOW**) but by the aptitude of the customer's own
    team. Talking over their head will alienate and offend their staff, and render
    your chances of a follow-on test or repeat business slim-to-none. Some customers
    will also be quite defensive or untrustworthy, and we must remember that their
    own careers may hinge on these findings. It is for these reasons that we want
    to ensure that nothing delivered in the final report is a surprise. We want our
    customers and stakeholders to be well prepared for the findings and ready to take
    on the constructive criticism without fear. We can do this by delivering the news,
    good and bad, in a few different ways and throughout the process.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 每个父母都会对他们的孩子说“重要的不是你说了什么，而是你怎么说的”至少每周说几次。孩子们需要调整他们的直觉以适应人群，而父母则是调音者。非常类似地，我们必须“了解我们的受众”。大部分内容和细节水平将不仅由**工作声明**（SOW）中概述的范围所决定，还将由客户自己团队的能力所决定。对他们的头脑说话会疏远和冒犯他们的员工，并使您进行后续测试或重复业务的机会渺茫。一些客户也可能非常防御或不可信任，我们必须记住他们自己的职业生涯可能取决于这些发现。因此，我们希望确保最终报告中没有任何意外。我们希望我们的客户和利益相关者对发现做好充分准备，并准备接受建设性的批评而不感到恐惧。我们可以通过几种不同的方式和整个过程来传递好坏消息。
- en: Pen testers would be well advised to provide a measured and level-headed approach.
    Some may be tempted to find problems where they may not exist, in order to appear
    to add value. Â Others may try to *ramp up* the urgency to instill fear in the
    customer and make themselves appear indespensible. I would encourage you to focus
    on real issues, present a calm and consistent demeaner, and work toward quality
    findings versus quantity when reporting back to the target customer. In the end,
    this measured and meaningful interaction will help the customer and both instill
    confidence and garner trust in your abilities.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试人员最好提供一个审慎和冷静的方法。有些人可能会试图在可能不存在问题的地方找到问题，以显示增加价值。其他人可能会试图增加紧急性，以在客户心中灌输恐惧，并使自己显得不可或缺。我鼓励您专注于真正的问题，表现出冷静和一贯的态度，并在向目标客户报告时努力追求质量发现而不是数量。最终，这种审慎和有意义的互动将帮助客户，增强信心并获得对您能力的信任。
- en: Avoiding surprises with constant contact
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 避免意外的持续联系
- en: The first thing we should plan on and commit to with the customer is a cadence
    of status reports and tag-up meetings. Even in black-box tests, we can usually
    give progress reports with an advanced set of findings to help apprise them of
    our progress. This can be presented according to the milestones included in a
    SOW, in terms of any turns or adaptations to the plan as dictated by the target
    environment. However it is done, reports should include significant results or
    impressions, both good and bad. In black-box testing especially, the entire stakeholder
    community (us and them) should be prepared for some variability, as each prior
    phase of testing will often dictate the scope of the next phase.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 我们应该计划并承诺与客户一起进行状态报告和标记会议的节奏。即使在黑盒测试中，我们通常也可以提供进展报告，以帮助他们了解我们的进展情况。这可以根据SOW中包括的里程碑来呈现，也可以根据目标环境的要求进行任何转变或调整。无论如何，报告都应包括重要的结果或印象，无论好坏。特别是在黑盒测试中，整个利益相关者社区（我们和他们）都应该为一些变化做好准备，因为测试的每个先前阶段通常会决定下一个阶段的范围。
- en: In general, you should consider both planned and unplanned communications, and
    ideally, craft templates and establish channels for delivering each. Much like
    a doctor's follow-up phone call, we want the customers to know that you and your
    team will reach out at set, times as well as to disclose any worth findings, both
    critical and complimentary of the target environment. Once they know what to expect,
    it can help demystify the process for them and encourage their participation and
    review.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，您应该考虑计划好的和未经计划的沟通，理想情况下，制定模板并建立传递每种沟通的渠道。就像医生的后续电话一样，我们希望客户知道您和您的团队将在设定的时间联系他们，并披露目标环境的任何重要和赞美的发现。一旦他们知道可以期待什么，这可以帮助他们理解这个过程，并鼓励他们的参与和审查。
- en: White-box testing running within an organization may not have the same explicitly
    defined contractual documents, but it does not mean that communications should
    fall off. Even internal testing performed on applications throughout the **Software
    Development Life Cycle** (**SDLC**) can reveal critical vulnerabilities, active
    attacks or breaches, and improper behavior. It is critical that the management
    provides a trusted and objective process for internal testers to use to raise
    these concerns. Fostering this conduit maintains an open culture and results in
    a more secure and robust application.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 组织内进行的白盒测试可能没有明确定义的合同文件，但这并不意味着沟通就应该中断。在整个软件开发生命周期（SDLC）中进行的内部测试可能会揭示关键的漏洞、活动攻击或违规行为。管理层提供一个可信且客观的流程，供内部测试人员提出这些问题至关重要。保持这种渠道的畅通可以维持开放的文化，并使应用程序更加安全和稳健。
- en: Establishing periodic updates
  id: totrans-21
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 建立定期更新
- en: 'Periodic updates are essential to help us establish a rapport and craft a positive,
    constructive narrative with the customer. Our focus should be on helping them
    secure their web applications, and waiting till the end of the process may put
    the customer''s stakeholders on the defensive.Â  We need to be receptive to what
    they are going to see in that final report, to look to it for immediate guidance
    and value. If the leadership already has been prepared with periodic reports that
    key them into the major findings, they will have time to work through any defensive
    instincts they may have and instead look forward to the report for next steps.
    These reports do not need to be highly detailed, but rather should highlight key
    findings, the status against the SOW, recap any ad-hoc reports that we generate
    for critical findings, and provide a look-ahead.Â  A rough outline of this process
    may include the following sections:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 定期更新对于我们建立与客户的关系和构建积极的、建设性的叙述至关重要。我们的重点应该是帮助他们保护他们的网络应用程序，等到流程结束可能会使客户的利益相关者处于防御状态。我们需要接受他们在最终报告中将看到的内容，寻求即时的指导和价值。如果领导层已经准备好定期报告，让他们了解主要发现，他们将有时间克服可能存在的防御本能，而是期待报告的下一步。这些报告不需要非常详细，而应该突出主要发现，与SOW的状态相对比，总结我们为关键发现生成的任何临时报告，并提供展望。这个流程的大致轮廓可能包括以下部分：
- en: Highlighted findings
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 突出的发现
- en: Status update/progress of testing
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试进展/进度更新
- en: Praise (what the customer is doing right)
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 表扬（客户做得对的地方）
- en: Suggestions (make them aware of issues)
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 建议（让他们意识到问题）
- en: Schedule and budget status
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进度和预算状态
- en: The way forward/what to expect
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 前进/预期的方式
- en: Note
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Your own team's templates will vary and may even be custom-tailored based on
    the needs of the customer, but presenting this information to them in a digestible
    form helps them see the value in the test, begin planning their remediation, and
    helps to avoid any surprises â�� everything in the final review and debrief should
    be just that, a review.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您团队的模板可能会有所不同，甚至可能会根据客户的需求进行定制，但以易于理解的形式向他们呈现这些信息有助于他们看到测试的价值，开始规划修复计划，并有助于避免任何意外情况
    - 最终审查和总结应该只是审查。
- en: White-box testing reports will often be included in a formal deliverable just
    as any other verification and validation testing artifacts would. If those deliverables
    are not established standards, then one should be created to ensure the consistent
    application of testing principles. Consistency, in all forms of pen testing and
    reporting, will be essential in helping to train the sponsoring organization and
    their developers on how to prioritize and respond to findings.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 白盒测试报告通常会作为正式交付物的一部分，就像任何其他验证和验证测试成果一样。如果这些交付物不是已经建立的标准，那么应该创建一个标准，以确保一致应用测试原则。在所有形式的渗透测试和报告中保持一致性对于帮助培训资助组织及其开发人员如何对待和回应发现至关重要。
- en: When to hit the big red button
  id: totrans-32
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 何时按下大红按钮
- en: Even with periodic reports to the customer, there will be times when a finding
    or result requires immediate disclosure and a work stoppage until given the go-ahead.
    Critical flaws that could result in data exfiltration, the discovery of an active
    attack, or even human resources related events (the discovery of a mole, insider
    threat, inappropriate content, and so on) should be disclosed immediately. In
    the course of developing the rules of engagement, you or the customer may add
    additional conditions based on the target environment's importance or role that
    also kicks off an immediate notification.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 即使向客户提供定期报告，仍会有时候发现或结果需要立即披露并停止工作，直到得到许可。可能会立即披露的关键缺陷包括可能导致数据外泄、发现活动攻击，甚至与人力资源相关的事件（发现间谍、内部威胁、不当内容等）。在制定约定规则的过程中，您或客户可能会根据目标环境的重要性或角色添加额外的条件，这也会触发立即通知。
- en: A **non-disclosure agreement** (**NDA**) obliges you to keep the test entirely
    within strict confidence, but it is these critical, real-time notifications that
    will require you to be at your best and most diligent. The issues that would initiate
    a disclosure and test-stoppage are typically critical enough, and confidentiality
    is of paramount concern. While planned correspondence may be provided via e-mail
    and secure file shares, depending on the customer's business, it may be necessary
    to establish even more secure processes with them. I would recommend that this
    process be established before final approval to help all sides securely deliver
    this sort of news, whether by in-person meetings, encrypted e-mail or messaging,
    or a bonded courier.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 保密协议要求您严格保守测试结果，但正是这些关键的、实时的通知需要您发挥最佳和最勤奋的作用。可能会触发披露和停止测试的问题通常足够严重，保密性是至关重要的。虽然计划的通讯可能通过电子邮件和安全文件共享提供，但根据客户的业务，可能需要与他们建立更安全的流程。我建议在最终获得批准之前建立这个流程，以帮助所有方面安全地传递这类消息，无论是通过面对面会议、加密电子邮件或消息传递，还是保密信使。
- en: Liability is our next consideration. Timely and complete disclosure to the sponsoring
    customer is important because the implications are often threatening or damaging
    to their business, employees, or clients. In dire situations, your customer may
    also be looking for reasons to project their fear or hold someone else responsible.
    Immediate, complete, and thoughtful disclosure ensures that we are not legally
    liable. They may lash out, but a calm and consistent demeanor can help defuse
    these situations. We need to clearly communicate the difference between facts
    and stated opinions, and in these cases, focus more on what is known than on our
    own perspectives. Once the customer has cooled down or assimilated the information,
    they can prompt us for our interpretation and expert opinions.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 责任是我们接下来要考虑的。及时而完整地向赞助客户披露信息很重要，因为其影响往往对他们的业务、员工或客户构成威胁或损害。在紧急情况下，您的客户可能也在寻找理由来表达他们的恐惧或追究他人的责任。即时、完整和周到的披露确保我们在法律上不承担责任。他们可能会发火，但冷静和一贯的态度可以帮助化解这些情况。我们需要清楚地传达事实和陈述的观点之间的区别，在这些情况下，更多地关注已知的事实而不是我们自己的观点。一旦客户冷静下来或吸收了信息，他们可以促使我们提供我们的解释和专家意见。
- en: Weaving optimism with your action plan
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 将乐观情绪与行动计划结合起来
- en: Writing the capstone penetration testing report for your assessment of the web
    application is the most important phase of the job. You might be thinking, *But
    Mike, you just told us there should be no surprises, what could be left?* While
    you are correct in that, no findings with major implications should be news; here
    in this report your team's recommendations can finally be captured. These recommendations
    are your assessments of the risks and priorities, which are not only welcome here,
    but expected. Your expertise is why you were hired for the gig, and rightfully
    so â�� this insight will help them climb into a more mature, rigorous security
    practice.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 撰写关于您对Web应用程序的评估的顶级渗透测试报告是工作中最重要的阶段。您可能会想，“但是迈克，你刚告诉我们不应该有任何意外，还有什么可以留下的呢？”虽然您是正确的，没有重大影响的发现应该不是新闻；但在这份报告中，您团队的建议最终可以被记录下来。这些建议是您对风险和优先事项的评估，这不仅在这里受到欢迎，而且是预期的。您的专业知识是您被聘用的原因，理所当然地，这种见解将帮助他们进入更成熟、更严格的安全实践。
- en: Good guidance on what the content of your final report should look like can
    be gleaned by looking over onto some of the repositories of publicly available
    pen test reports. While most of the reports listed at sites such asÂ [https://github.com/juliocesarfort/public-pentesting-reports](https://github.com/juliocesarfort/public-pentesting-reports)
    are not explicitly for web applications alone, the sections and general flow are
    instructive and can help in preparing your own team's templates. SomeÂ web application-specific
    ones are the automated test reports provided by **Dynamic Application Security
    Test** (**DAST**) vendor **Veracode** ([www.veracode.com](http://www.veracode.com),
    seen in the following screenshot) and consulting firms such asÂ **CST** ([http://www.cstl.com/CST/Penetration-Test/CST-Web-Application-Testing-Report.pdf](http://www.cstl.com/CST/Penetration-Test/CST-Web-Application-Testing-Report.pdf)).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 关于最终报告内容应该是什么样的良好指导可以通过查看一些公开可用的Pen测试报告存储库来获得。虽然在网站上列出的大多数报告（如[https://github.com/juliocesarfort/public-pentesting-reports](https://github.com/juliocesarfort/public-pentesting-reports)）并不是专门针对Web应用程序的，但这些部分和一般流程是有启发性的，并且可以帮助准备您自己团队的模板。一些特定于Web应用程序的报告是由**动态应用安全测试**（**DAST**）供应商**Veracode**（[www.veracode.com](http://www.veracode.com)）提供的自动测试报告，以及咨询公司如**CST**（[http://www.cstl.com/CST/Penetration-Test/CST-Web-Application-Testing-Report.pdf](http://www.cstl.com/CST/Penetration-Test/CST-Web-Application-Testing-Report.pdf)）。
- en: '![](img/B03918_12_01.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_01.png)'
- en: Sample web application Pen Test report
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 样本Web应用程序Pen测试报告
- en: The sections in the report may be a bundling of automated outputs from scanners
    such asÂ **Arachni**, **Burp Suite**, or **OWASP ZAP**; or they may be an amalgamation
    of outputs from multiple testers and their collaboration. Tools such asÂ Apache
    OpenOffice and Microsoft Office are still the standard for pulling inputs together.Â
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 报告中的部分可能是来自扫描仪（如**Arachni**、**Burp Suite**或**OWASP ZAP**）的自动输出的捆绑；或者它们可能是来自多个测试人员及其合作的输出的混合。像Apache
    OpenOffice和Microsoft Office这样的工具仍然是汇集输入的标准。Â
- en: 'A typical outline may look like the following:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 典型的大纲可能如下所示：
- en: Cover page
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 封面
- en: Executive summary
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行摘要
- en: Table of contents
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目录
- en: Introduction
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍
- en: Background of test
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试背景
- en: Methodology
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法论
- en: Test team
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试团队
- en: Highlights, scoring, and risk recap
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 亮点、评分和风险总结
- en: Risk register
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 风险登记
- en: Guidance/action plan
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指导/行动计划
- en: Detailed findings
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 详细发现
- en: Appendices
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 附录
- en: Definitions
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义
- en: Vulnerability References
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 漏洞参考
- en: Tools and resources
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工具和资源
- en: Recon, scanning, and enumeration data
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 侦察、扫描和枚举数据
- en: Code used
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用的代码
- en: Linked files
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 链接文件
- en: The executive summary
  id: totrans-61
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 执行摘要
- en: The executive summary should do a good job of providing a high-level, quantifiable
    assessment (overall score and major metrics) while giving the management the high-level,
    impactful summary it needs to communicate the test's findings and way forward
    to all of the non-technical folks.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 执行摘要应该很好地提供高层次的、可量化的评估（总体得分和主要指标），同时给管理层提供高层次的、有影响的摘要，以便向所有非技术人员传达测试结果和未来方向。
- en: Introduction
  id: totrans-63
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 介绍
- en: Information on the test methodology can help the customer frame the findings
    and will reinforce that your team's testing was in accordance with the SOW and
    rules of engagement more explicitly captured in the contract phase. This is an
    opportunity to summarize and outline any deviations or expansions of the scope,
    helping ensure they understand what was actually performed.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 测试方法的信息可以帮助客户框定发现，并强化您团队的测试是符合SOW和在合同阶段更明确捕捉的参与规则的。这是一个总结和概述范围的任何偏差或扩展的机会，有助于确保他们理解实际执行了什么。
- en: Note
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注
- en: This is also a fine place to discuss the team (if applicable) and ensure that
    the customer knows who contributed to the testing and report, and who is bound
    by the terms of the contract.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 这也是一个很好的地方来讨论团队（如果适用的话），确保客户知道谁参与了测试和报告，以及谁受到合同条款的约束。
- en: Highlights, scoring, and risk recap
  id: totrans-67
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 重点、评分和风险总结
- en: Several of the tools we've discussed will do a pretty good job of assessing
    the severity of a vulnerability as compared to common test frameworks or ranked
    lists (such as the OWASP Top 10 that has helped to guide our work here). Some
    of those artifacts, such as the sample Arachni report output shown in the following
    screenshot, can help provide an objective ranking of the vulnerabilities and guide
    further testing. What these rankings cannot provide, however, is the target environment's
    context. Some highly rated risks, for instance, may have limited impact in a particular
    target due to the sparing use of that technology or the fact that it is only deployed
    in a low-privilege function or sub-portal. While it may be tempting to lead with
    these ready-made artifacts, more should be done to ensure that the customer understands
    their significance to their circumstances.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们讨论过的一些工具将会很好地评估漏洞的严重程度，与常见的测试框架或排名列表（例如OWASP前10名，它已经帮助我们指导工作）相比。一些这样的工件，比如下面截图中显示的样本Arachni报告输出，可以帮助提供漏洞的客观排名并指导进一步的测试。然而，这些排名无法提供目标环境的背景。例如，一些评分很高的风险可能在特定目标中影响有限，因为该技术的使用很少，或者它只在低权限功能或子门户中部署。虽然使用这些现成的工件可能很诱人，但应该做更多的工作来确保客户理解它们对他们情况的重要性。
- en: '![](img/B03918_12_02.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_02.png)'
- en: Sample Arachni Output â�� Good Starter
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 样本Arachni输出 - 良好的起点
- en: More on risk
  id: totrans-71
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 风险的更多信息
- en: 'Presenting risks and Risk Management is a topic by itself. I have helped implement
    Risk Management efforts in the US Department of Defense development programs and
    in those we prescribed to the Office of the Deputy Assistant Secretary of Defense
    for Systems Engineering''s Risk, Issue, and Opportunity Management Guide for Defense
    Acquisition Programs ([http://bbp.dau.mil/docs/RIO-Guide-Jun2015.pdf](http://bbp.dau.mil/docs/RIO-Guide-Jun2015.pdf)).
    This is far from the only acceptable methodology â�� there are many that exist,
    and you''d be well served to research a RM approach that is akin to the one used
    by a consensus of your typical customers. The general flow that the DoD uses is
    shown in the following screenshot, with portions of the cycle that we have the
    opportunity, as testers, internal or external, to impact:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 呈现风险和风险管理本身就是一个话题。我曾经在美国国防部的开发项目中帮助实施风险管理工作，并且我们遵循了国防采办项目的副助理部长办公室的风险、问题和机会管理指南（[http://bbp.dau.mil/docs/RIO-Guide-Jun2015.pdf](http://bbp.dau.mil/docs/RIO-Guide-Jun2015.pdf)）。这远非唯一可接受的方法论
    - 存在许多方法，你最好研究一种风险管理方法，它类似于你典型客户的共识。美国国防部使用的一般流程如下截图所示，我们作为测试人员，无论是内部还是外部，都有机会影响循环的部分：
- en: '![](img/B03918_12_03.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_03.png)'
- en: US DoD Risk Management Flow
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 美国国防部风险管理流程
- en: 'If anything, I have learned that risk management is worthy of the focus that
    many universities have now given it. In managing risk (and issues or opportunities,
    for that matter), it is beneficial to have a well-defined definition of each grade
    of both potential impact and likelihood. That being said, most risk methodologies
    in IT and applications in particular focus on two major criteria:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有什么，我已经学到了风险管理是值得许多大学现在给予关注的。在管理风险（以及问题或机会），有一个明确定义的每个潜在影响和可能性等级是有益的。也就是说，大多数IT和应用程序中的风险方法主要关注两个主要标准：
- en: '**Potential impact**: Some organizations will measure this in terms of damage,
    mitigation cost, a percentage of the cost of being affected, or some other quantifiable
    effect. This is what most people without RM experience will focus on. This is
    the pain involved with an event happening, as in: *Getting struck by lightning
    can be very harmful, most often fatal â�� ouch!*.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**潜在影响**：一些组织将以损害、减轻成本、受影响成本的百分比或其他可量化的影响来衡量这一点。这是大多数没有风险管理经验的人关注的。这是事件发生时所涉及的痛苦，比如：*被闪电击中可能会非常有害，通常是致命的
    - 疼！*'
- en: '**Probability of occurrence**: Overlooked by many without appropriate focus
    and an aware process, the chance of the pain actually being felt is its probability
    of occurrence. This can be measured as a percentage or frequency (chance per occurrence)
    of some other event (per *x* connections, per account, and so on).'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发生概率**：许多人忽视了适当的关注和意识过程，实际上感受到痛苦的机会就是它发生的概率。这可以用百分比或频率（每次发生的机会）来衡量（每 *x*
    连接、每个账户等）。'
- en: Understanding RM in your customer's eyes is not just a nice way to show you
    care, but essential to understanding how to frame your report. If you can help
    present the findings in a language and context they understand, they will be much
    more likely to bring the constructive criticism onboard and view the input as
    helpful.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在客户眼中理解风险管理不仅是一种表现关心的好方式，而且是理解如何构建报告的关键。如果你能帮助以客户理解的语言和背景呈现调查结果，他们就更有可能接受建设性的批评，并将输入视为有帮助。
- en: Guidance - earning your keep
  id: totrans-79
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 指导 - 赚取你的报酬
- en: Professional penetration testing may be more fun when we're hacking a target
    and pivoting through a particularly challenging environment, but we don't get
    paid for the fun. We get paid to deliver guidance and actionable intelligence.
    Customers hire us because they, or someone compelling them to hire us, realize
    that they cannot hope to be secure without independent verification. The guidance
    we provide should be factually grounded and is best presented as a summary of
    impressions followed by an action plan. Some customers may dictate how that should
    be presented, but in the absence of that you will need to consider how best to
    present the findings.Â
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 专业的渗透测试可能在我们攻击目标并在特别具有挑战性的环境中进行转移时更有趣，但我们并不是为了乐趣而得到报酬。我们得到报酬是为了提供指导和可操作的情报。客户雇佣我们是因为他们或者有人强迫他们雇佣我们意识到，他们无法在没有独立验证的情况下保持安全。我们提供的指导应该有事实根据，并且最好以印象总结后的行动计划形式呈现。一些客户可能会规定应该如何呈现，但在没有规定的情况下，您需要考虑如何最好地呈现调查结果。
- en: More comprehensive testing for a new customer with a heavy load of vulnerabilities
    may benefit from a time-phased action plan that recommends tackling areas of the
    application in order of greatest need. In these cases, it is helpful to refer
    them to remediation options and expected levels of effort. Customers will vary
    greatly, but in general, you'll want to refrain from recommending staffing-related
    issues unless they can be viewed as constructive or will help justify better preparation
    of the staff. Some customers may request the staff to be part of the evaluation,
    however, so your mileage may vary.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 对于具有大量漏洞的新客户进行更全面的测试可能会受益于一个分阶段的行动计划，该计划建议按照最需要的顺序处理应用程序的各个领域。在这些情况下，有助于将他们指向补救选项和预期的努力水平。客户会有很大的差异，但一般来说，您应该避免推荐与人员相关的问题，除非它们可以被视为建设性的，或者将有助于更好地准备员工。然而，一些客户可能要求员工参与评估，因此您的情况可能会有所不同。
- en: Lighter or periodic tests may simply present findings from highest perceived
    severity to lowest, without regard to their interdependence.Â  This might be more
    acceptable in cases where this is a follow-on to a previous test or where the
    results will be factored into another planning effort. White-box testing results
    will often match directly to a larger verification and validation approach or
    document, so it is quite possible that guidance in this case will only be warranted
    if the overarching specification that the pen test is being run against requires
    modification or clarity.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 轻量或定期测试可能只是按照最高感知严重性到最低的顺序呈现结果，而不考虑它们之间的相互依存关系。在这种情况下，这可能更容易接受，因为这是对先前测试的后续，或者结果将被纳入另一个规划工作。白盒测试结果通常会直接匹配到更大的验证和验证方法或文档，因此在这种情况下，只有在针对渗透测试的总体规范需要修改或澄清时，才有可能提供指导。
- en: Detailed findings
  id: totrans-83
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 详细调查结果
- en: Depending on the scope of the report, this section may or may not be present,
    but is almost a given for a black box or Red Team testing. You will want to ensure
    that you explain the vectors chosen, the results gleaned, and the relevance to
    the scoring given. Screenshots and code snippets may be required for customers
    who desire to repeat tests and verify remediation, so you'll want to be certain
    to capture copious logs, screenshots, and catalog any scripts and configurations.
    To that end, there are some tools that can assist and are built right into Kali's
    distribution image or are available with minimal effort to get you up-and-running.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 根据报告的范围，这一部分可能存在，也可能不存在，但对于黑盒测试或红队测试几乎是必须的。您需要确保解释所选择的向量、获得的结果以及与给定评分的相关性。对于希望重复测试和验证补救措施的客户，可能需要屏幕截图和代码片段，因此您需要确保捕获大量日志、屏幕截图，并对任何脚本和配置进行编目。为此，有一些工具可以帮助您，并且已经内置到Kali的发行映像中，或者可以通过最小的努力获得。
- en: A good note application along the lines of Evernote or the included Keepnote
    will go a long way toward helping you document anything the other tools leave
    out. I find that these tool choices and the workflows they support are as varied
    as the people deploying them, so I am in no way going to judge if you decide on
    something else. What matters in the end is that the report can be both printed
    and delivered electronically in formats our customers can consume. For these reasons,
    most testers will still find that Apache OpenOffice ([https://www.openoffice.org/download/other.html](https://www.openoffice.org/download/other.html))
    for Kali,or the Microsoft Office suite on a Mac or Windows PC will be best suited
    for assembling the final report, and that printing to PDF can be accomplished
    withÂ Adobe or the user's favorite office suite.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 类似Evernote或包含的Keepnote的良好笔记应用程序将大大帮助您记录其他工具遗漏的任何内容。我发现这些工具选择和它们支持的工作流程与部署它们的人一样多样化，因此我绝不会判断您是否决定选择其他工具。最重要的是报告最终可以以我们的客户可以消化的格式打印和电子交付。因此，大多数测试人员仍然会发现，Apache
    OpenOffice（https://www.openoffice.org/download/other.html）适用于Kali，或者Mac或Windows
    PC上的Microsoft Office套件最适合组装最终报告，并且可以使用Adobe或用户喜爱的办公套件打印为PDF。
- en: The Dradis framework
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Dradis框架
- en: Collaboration and documentation tools such as the Ruby-based **Dradis****Framework**Â are
    shown in the following screenshotÂ ([https://dradisframework.com/ce/](https://dradisframework.com/ce/)).
    Dradis can be a huge help to us in tying all of the tool sets we employ in our
    testing together, as well as providing an Evernote-like documentation interface.
    Using tools like this keeps us organized, which both ensures complete coverage
    and helps craft a professional report.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 协作和文档工具，如基于Ruby的Dradis框架，如下图所示（https://dradisframework.com/ce/）。Dradis可以帮助我们将测试中使用的所有工具集结在一起，并提供类似Evernote的文档界面。使用这样的工具可以使我们保持有条理，从而确保完整覆盖并帮助制作专业报告。
- en: 'The Community Edition is free for use and powerful in its own right, but the
    professional edition (priced at $79/month at the time of this writing) includes
    some fantastic features that help manage multiple projects at a time, take advantage
    of templates and automated tool imports, and technical support (a comparison can
    be seen here between the free and premium versions: [https://dradisframework.com/pro/editions.html](https://dradisframework.com/pro/editions.html)).
    Templates, methodologies, and sample reports for OSCP, OWASP, PTES, and HIPAA
    are available here for Dradis, with some features only becoming usable in the
    Pro version: [https://dradisframework.com/academy/industry/compliance/](https://dradisframework.com/academy/industry/compliance/).'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 社区版是免费的，而且功能强大，但专业版（在撰写本文时的价格为每月79美元）包括一些出色的功能，可帮助管理多个项目，利用模板和自动化工具导入，并提供技术支持（可以在此处比较免费和高级版本之间的差异：[https://dradisframework.com/pro/editions.html](https://dradisframework.com/pro/editions.html)）。
    Dradis提供了OSCP、OWASP、PTES和HIPAA的模板、方法和示例报告，其中一些功能只能在专业版中使用：[https://dradisframework.com/academy/industry/compliance/](https://dradisframework.com/academy/industry/compliance/)。
- en: '![](img/B03918_12_04.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: ！[](img/B03918_12_04.png)
- en: Dradis Framework with OWASP Template
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Dradis Framework with OWASP Template
- en: Dradis is a fantastic alternative, but far from the only tool available, even
    within Kali itself!
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Dradis是一个很棒的选择，但在Kali中还有其他可用的工具！
- en: MagicTree
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MagicTree
- en: 'Along the same lines as Dradis is a Java application called **MagicTree** ([http://www.gremwell.com/magictreedoc](http://www.gremwell.com/magictreedoc)
    ) from Gremwell. MagicTree is actually a great tool for centrally delivering many
    of the tests you learned about in earlier chapters from a central data collection
    application. As a tool, MagicTree has a lot of great features, but I found that
    it can be a little picky when delivering commands normally run outside. It also
    requires an export to see what produced artifacts will look like, so unless you
    are able to grasp how the X-Path variable insertion and raw data collected are
    going to look intuitively, you are going to need to use trial and error to determine
    what works best within MagicTree to you. Unlike Dradis, MagicTree is not open
    source but is available fully featured for free:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 与Dradis类似的是一个名为**MagicTree**（[http://www.gremwell.com/magictreedoc](http://www.gremwell.com/magictreedoc)）的Java应用程序，来自Gremwell。MagicTree实际上是一个很棒的工具，可以从一个中央数据收集应用程序中提供您在早期章节中学到的许多测试。作为一个工具，MagicTree有很多出色的功能，但我发现它在传递通常在外部运行的命令时可能有点挑剔。它还需要导出才能看到产生的工件的样子，因此，除非您能直观地理解X-Path变量插入和原始数据收集将会是什么样子，否则您将需要使用试错来确定MagicTree中对您最有效的方法。与Dradis不同，MagicTree不是开源的，但可以免费获得完整功能：
- en: '![](img/B03918_12_05.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: ！[](img/B03918_12_05.png)
- en: Â MagicTree by Gremwell
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: Gremwell的MagicTree
- en: Other documentation and organization tools
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他文档和组织工具
- en: Other niche and even manual documentation approaches are certainly out there,
    and I would encourage you to look into using a few of them to help round out your
    report and documentation processes. I have always enjoyed working with **Maltego**,
    for instance, and I find it indispensable for helping organize and present the
    **Open Source Intelligence** (**OSINT**) I deliver in reports. **Maltego Casefile**
    is a wonderful way to present fused OSINT and Social Engineering results, and
    even provides fields to capture likely passwords and similar ones. In the following
    screenshot, we can see that I am highlighting a person within the company and
    seeing how they are interrelated to other entities (locations, hosts, other people,
    and so on). Like a crime movie's yarn chart showing how the mafia soldiers report
    to the boss, this can help our customers visualize quickly how easily and accurately
    a hacker can map the organization.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 其他利基甚至手动的文档方法当然也存在，我鼓励您尝试使用其中的一些方法来完善您的报告和文档流程。例如，我一直喜欢使用**Maltego**，我发现它对于帮助组织和展示我在报告中提供的**开源情报**（**OSINT**）是不可或缺的。**Maltego
    Casefile**是呈现融合的OSINT和社会工程结果的绝妙方式，甚至提供了捕获可能密码和类似密码的字段。在下面的截图中，我们可以看到我正在突出显示公司内的一个人，并查看他们与其他实体（位置、主机、其他人等）的关联。就像犯罪电影中的线图表显示了黑手党士兵如何向老板汇报一样，这可以帮助我们的客户快速地可视化黑客如何轻松准确地绘制组织的地图。
- en: '![](img/B03918_12_06.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: ！[](img/B03918_12_06.png)
- en: Maltego Casefile organizes SET and OSINT outputs.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: Maltego Casefile组织SET和OSINT输出。
- en: Graphics for your reports
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 报告的图形
- en: It is likely that you will be using Kali as a virtual machine, but on the off-chance
    you have a barebones installation, you may need to look into screenshot tools
    to assist you in gathering the visual proof of your conquests in pen testing.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能会将Kali用作虚拟机，但万一您安装了裸机系统，您可能需要查看截图工具，以帮助您收集渗透测试中征服的视觉证据。
- en: Kali Linux has limited options built in, includingÂ **recordmydesktop** and
    **cutycapt**. I prefer tools such asÂ **Screenshot** and **Shutter**. Screenshot
    or a similar tool such asÂ **Scrot** are pretty basic, butÂ Shutter gives you
    some options and a fancier management interface. If I need to work with the picture
    I leverage,Â GIMP ([https://www.gimp.org)](https://www.gimp.org) is a fully-featured
    editor that has installs for most platforms, Kali included. Again, this is where
    your own background and style will come into play, so by all means chart your
    own course!
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux内置了有限的选项，包括**recordmydesktop**和**cutycapt**。我更喜欢使用**Screenshot**和**Shutter**等工具。Screenshot或类似工具如**Scrot**相当基本，但Shutter提供了一些选项和更高级的管理界面。如果我需要处理图片，我会使用GIMP（[https://www.gimp.org)](https://www.gimp.org)是一个功能齐全的编辑器，适用于大多数平台，包括Kali。同样，这取决于您自己的背景和风格，因此请尽管制定自己的计划！
- en: Note
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Keep in mind, these skills will also pay off in crafting your rogue honeypots
    and water-cooler attacks, allowing you to forge realistic yet malicious portals
    to help you compromise targeted users and further your testing â�� talk about
    dual use!
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，这些技能也将在制作您的流氓蜜罐和水冷攻击时发挥作用，使您能够打造逼真而恶意的门户，以帮助您 compromise targeted users
    and further your testing - 谈论双重用途！
- en: Bringing best practices
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 带来最佳实践
- en: '* * *'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: One of the best parts of being involved in cyber security, offensive in particular,
    is that we get to bring experience and know-how from our training and past body
    of work. All the blood, sweat, and tears aren't for naught; those scars actually
    will come in handy. Our test's sponsors are in a tough spot. Working in the target
    environment, they don't often have the perspective that comes with seeing environments
    across verticals, architecture types, and sizes. Their staff, in many cases, will
    not have current training in application security that can help them keep up with
    the trends and upcoming threats.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 参与网络安全，尤其是攻击性的最好部分之一是，我们可以从我们的培训和过去的工作经验中带来经验和专业知识。所有的辛劳和泪水都不是白费的；这些伤疤实际上会派上用场。我们测试的赞助商处境艰难。在目标环境中工作，他们往往没有跨行业、架构类型和规模的环境视角。在许多情况下，他们的员工没有当前的应用安全培训，无法帮助他们跟上趋势和即将到来的威胁。
- en: 'So now, for the fun part, we need to maintain our certifications, continually
    refresh our knowledge base, and find ways to bring lessons learned from earlier
    engagements. Conferences through SANS, ISSA, OWASP, and others are well worth
    attending â�� most provide training and exposure to many new tools and techniques.
    Keeping up online should go without saying: Twitter, LinkedIn, and a huge collection
    of blogs can be great sources of intel on zero-day vulnerabilities and the most
    pressing news that spooks our customers and justifies our existence.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，现在，有趣的部分来了，我们需要保持我们的认证，不断更新我们的知识库，并找到方法从早期的参与中汲取经验教训。通过SANS、ISSA、OWASP等会议绝对值得参加——大多数提供培训和许多新工具和技术的曝光。在线保持更新应该是理所当然的：Twitter、LinkedIn和大量的博客可以成为零日漏洞和最紧迫的新闻的情报来源，这些新闻会让我们的客户感到不安，并证明我们的存在是有必要的。
- en: So how do we provide the help they seek? Where do we interject the experience
    that got us hired? Let's take a look at some ideas for how we can make our report
    and briefs more useful to the team.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 那么我们如何提供他们所寻求的帮助呢？我们在哪里介入我们被聘用的经验？让我们看看一些关于如何使我们的报告和简报对团队更有用的想法。
- en: Baking in security
  id: totrans-110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 融入安全性
- en: 'Application teams and IT organizations in general have been faced with an impossible
    trade-off: be secure or be productive. A lot of this stems from the good old days,
    where security was bolted onto an architecture or application long after it was
    developed and deployed. As applications have become more complex, and their importance
    has skyrocketed, bolt-on security approaches are no longer cutting it. When the
    application is unaware of security and the security solutions are simply layered
    over the top, that disconnect hampers visibility and forces someone to actually
    identify issues manually before adjustments are made. As seen in theÂ following
    screenshotÂ (sourced from [https://blogs.msdn.microsoft.com/usisvde/2012/03/09/windows-azure-security-best-practices-part-3-identifying-your-security-frame/](https://blogs.msdn.microsoft.com/usisvde/2012/03/09/windows-azure-security-best-practices-part-3-identifying-your-security-frame/)),
    even a straightforward web application has too many points of enforcement not
    to have the application''s security baked into the architecture. Not shown in
    this illustration is the simultaneous need to actually sense and correlate events
    at each step, and to combine those with intel gleaned from other components in
    the architecture to identify when attacks are occurring.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 应用团队和IT组织一般面临着一个不可能的折衷：要么安全，要么高效。这在很大程度上源自过去，安全是在架构或应用程序开发和部署之后才被添加上去的。随着应用程序变得更加复杂，其重要性急剧上升，后期添加的安全方法已经不再适用。当应用程序对安全毫无意识，而安全解决方案只是简单地叠加在顶部时，这种脱节会妨碍可见性，并迫使某人在调整之前手动识别问题。如下截图所示（来源于[https://blogs.msdn.microsoft.com/usisvde/2012/03/09/windows-azure-security-best-practices-part-3-identifying-your-security-frame/](https://blogs.msdn.microsoft.com/usisvde/2012/03/09/windows-azure-security-best-practices-part-3-identifying-your-security-frame/)），即使是一个简单的Web应用程序也有太多的执行点，以至于应用程序的安全性必须融入到架构中。这个插图没有显示的是同时需要在每一步实际感知和相关事件，并将其与从架构中其他组件中获得的情报相结合，以确定何时发生攻击。
- en: '![](img/B03918_12_07-1.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_07-1.png)'
- en: Points of Enforcement for an application, according to Microsoft
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 根据微软，应用程序的执行点
- en: Different frameworks and hosting paradigms will have different needs and strengths,
    but the customer should understand what additional measures need to be developed
    alongside the business requirements to address any gaps in the coverage. Depending
    on your relationship with the customer, it may be necessary to drive them towards
    this understanding, or to work within their understanding to help them view their
    application objectively.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的框架和托管范式将有不同的需求和优势，但客户应该了解需要在业务需求旁边开发的额外措施，以解决覆盖范围中的任何差距。根据您与客户的关系，可能需要引导他们达到这种理解，或者在他们的理解范围内工作，帮助他们客观地看待他们的应用程序。
- en: Honing the SDLC
  id: totrans-115
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 完善SDLC
- en: White box testing can and should occur throughout the **Software Development
    Life Cycle** (**SDLC**), issues discovered early in the requirements or design
    phases can be corrected much more cheaply and rapidly than late in the SDLC, and
    in some programs that can be a 100x increase in remediation costs. Closely coupled
    with the RM process discussed earlier, the Security SDLC in theÂ following screenshotÂ is
    championed and documented by OWASP ([https://www.owasp.org/index.php/Secure_SDLC_Cheat_Sheet](https://www.owasp.org/index.php/Secure_SDLC_Cheat_Sheet))[Â and
    should be a standard practice:](https://www.owasp.org/index.php/Secure_SDLC_Cheat_Sheet))
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 白盒测试可以并且应该在**软件开发生命周期**（**SDLC**）的各个阶段进行，早期发现的问题可以比在SDLC后期更便宜、更快速地得到纠正，在某些程序中，纠正成本可能增加100倍。与前面讨论的RM过程密切相关，OWASP在下面的截图中提出并记录了安全SDLC（[https://www.owasp.org/index.php/Secure_SDLC_Cheat_Sheet](https://www.owasp.org/index.php/Secure_SDLC_Cheat_Sheet)）[并应该成为标准做法：](https://www.owasp.org/index.php/Secure_SDLC_Cheat_Sheet)
- en: '![](img/B03918_12_08.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_08.png)'
- en: The Security SDLC from OWASP
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP的安全SDLC
- en: Obviously, this needs to me more than a written policy; it requires that security-focused
    developers, or better yet, penetration testers, are on staff to assist throughout.
    The security SDLC can lay out the extent to which the white-box testing coverage
    exists, and it should also include any external gray or black box test *gates*
    as appropriate to ensure security is driven into the application.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，这需要不仅仅是一份书面政策；它要求有专注于安全的开发人员，或者更好的是渗透测试人员，协助进行。安全SDLC可以阐明白盒测试覆盖的程度，并且应该包括任何外部灰盒或黑盒测试*门*，以确保安全性被驱动到应用程序中。
- en: The most mature processes can even include continuous testing and always-on
    dashboards when integrated within the greater development environment. We should
    also keep in mind that the tools we use as a potential outside consultant will
    likely differ from the tools their development team or in-house penetration testers
    are using, and that is almost, always a good thing.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 最成熟的流程甚至可以在更大的开发环境中集成连续测试和始终开启的仪表板。我们还应该记住，我们作为潜在的外部顾问使用的工具可能与他们的开发团队或内部渗透测试人员使用的工具不同，而且这几乎总是件好事。
- en: Some companies such as Veracode ([http://www.veracode.com](http://www.veracode.com))
    provide extensive detail around how they see testing best conducted within their
    product's workflow. In their high-level methodology shown in theÂ following screenshot,
    you can see that they have tried to wrangle all of the different aspects of training--people,
    development phase, roles, the components of the application, and so on. While
    these templates do offer some value, especially early in your practice, they are,
    by no means, exhaustive and compulsory; you can craft and modify your own internal
    process, and it is likely that your customers have done the same to keep us on
    our toes. The key here is to match our customer's processes with the tools they
    are deploying. They will find that their toolsets are much more productive when
    operating as the developers intended.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 一些公司，如Veracode（[http://www.veracode.com](http://www.veracode.com)），提供了关于他们如何在其产品工作流程中进行最佳测试的详细信息。在下面的高级方法论截图中，你可以看到他们试图整合培训的各个方面--人员、开发阶段、角色、应用程序的组件等等。虽然这些模板在你的实践早期确实提供了一些价值，但它们绝不是穷尽和强制性的；你可以制定和修改自己的内部流程，而且很可能你的客户也已经这样做了，以保持我们的警惕。关键在于将我们的客户流程与他们部署的工具相匹配。他们会发现，当工具按照开发人员的意图运行时，它们的工具集会更加高效。
- en: '![](img/B03918_12_09.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_09.png)'
- en: Veracode's own Testing Lifecycle
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Veracode自己的测试生命周期
- en: Role-play - enabling the team
  id: totrans-124
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 角色扮演 - 启用团队
- en: While engaged in the process of testing and educating the customer on their
    environment, you also have a chance to mentor and share insights. The staff developing,
    maintaining, and operating the application often does not receive the training
    required to bear such a burden. Roles may also be fuzzy, I quite commonly run
    into customers who, despite operating an environment for many years, still do
    not have a clear separation of powers and responsibilities. This last point is
    far and away the biggest indicator of systemic inefficiencies and security gaps
    that I encounter. For these reasons, it is important that you understand the hierarchy
    as it exists today, and that you help the customer fill in those blanks, as you
    identify additional areas or disciplines requiring their attention.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在测试和教育客户的过程中，你还有机会指导和分享见解。开发、维护和操作应用程序的员工通常没有接受承担这样负担所需的培训。角色可能也不清晰，我经常遇到一些客户，尽管在环境中运营多年，仍然没有明确的权力分离和责任。这最后一点远远是我遇到的系统效率低下和安全漏洞的最大指标。因此，重要的是你理解今天存在的层次结构，并帮助客户填补这些空白，同时识别需要他们关注的其他领域或学科。
- en: 'Their own response to events is something that is helpful to understand. I
    get a lot of mileage out of the **RACI Matrix** (**Responsible**, **Accountable**,
    **Consulted**, andÂ **Informed** - [http://racichart.org](http://racichart.org))
    in helping customers to understand where an event or process might fall apart.
    We''re most concerned with the remediation of our findings, but we can deploy
    this technique for any IT process to assist them in getting their heads wrapped
    around the general flow and roles. In theÂ following screenshot, we see an Incident
    Response flow, but Business Continuity, Disaster Recovery, vulnerability remediation,
    and many others can be articulated using this sort of quick-and-dirty exercise:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 他们对事件的自己的反应是有帮助的，理解这一点很重要。我在帮助客户理解事件或流程可能出现问题的地方时，从**RACI矩阵**（**负责人**，**负有责任的**，**征询意见的**和**知情的**
    - [http://racichart.org](http://racichart.org)）中获得了很多收益。我们最关心的是对我们发现的问题进行纠正，但我们可以为任何IT流程部署这种技术，以帮助他们理解一般流程和角色。在下面的截图中，我们看到了一个事件响应流程，但业务连续性、灾难恢复、漏洞纠正等许多其他流程也可以使用这种快速而简单的练习来表达：
- en: '![](img/B03918_12_10.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_10.png)'
- en: Sample RACI Matrix for IR
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: IR的样本RACI矩阵
- en: Roles are also needed to ensure that proper administrative, audit, and user
    access are defined and enforced within the environment. Many of the findings you
    will reveal can be mitigated with conscientious **Role-based Access Control**
    (**RBAC**) and segmentation of responsibilities to ensure the environment benefits
    from the concept of least privilege. If the customer's environment does not yet
    implement RBAC, this should always be offered as a best-practice in your recommendations.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 还需要角色来确保环境内定义和执行适当的管理、审计和用户访问。你将揭示的许多发现可以通过谨慎的**基于角色的访问控制**（**RBAC**）和责任分割来减轻。如果客户的环境尚未实施RBAC，这应该始终作为你的建议中的最佳实践提供。
- en: Picking a winner
  id: totrans-130
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 挑选一个赢家
- en: 'Each of our recommendations needs to steer us clear of ambiguity, or we should
    not offer it at all. These recommendations can come from our experience, but we
    should bolster them whenever possible with the recommendations of the software
    component''s creators, authorities, and any other validated intelligence from
    security analysts who have provided peer-reviewed guidance. The abundance of security
    research teams can be bewildering, but the most highly regarded teams have world-wide
    breadth and well-understood track-records that help to guide the industry towards
    better policy and architecture.Â  Some of the best sites to monitor and check
    with during breaches are listed here:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的每个建议都需要让我们远离模棱两可，否则我们就不应该提供它。这些建议可以来自我们的经验，但我们应该尽可能地加强它们，包括软件组件的创建者、权威人士以及提供同行评审指导的安全分析师的建议。安全研究团队的数量可能令人困惑，但最受尊敬的团队具有全球范围和良好的知名度，有助于引导行业朝着更好的政策和架构发展。一些在遭受侵犯时监视和检查的最佳网站如下：
- en: 'NIST: [https://nvd.nist.gov](https://nvd.nist.gov)'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'NIST: [https://nvd.nist.gov](https://nvd.nist.gov)'
- en: 'MITRE: [https://cve.mitre.org](https://cve.mitre.org)'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'MITRE: [https://cve.mitre.org](https://cve.mitre.org)'
- en: 'US CERT: [https://www.us-cert.gov/ncas](https://www.us-cert.gov/ncas)'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'US CERT: [https://www.us-cert.gov/ncas](https://www.us-cert.gov/ncas)'
- en: 'Google: [https://research.google.com/pubs/SecurityPrivacyandAbusePrevention.html](https://research.google.com/pubs/SecurityPrivacyandAbusePrevention.html)'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Google: [https://research.google.com/pubs/SecurityPrivacyandAbusePrevention.html](https://research.google.com/pubs/SecurityPrivacyandAbusePrevention.html)'
- en: 'Dark Reading: [http://www.darkreading.com/vulnerabilities-threats.asp](http://www.darkreading.com/vulnerabilities-threats.asp)'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Dark Reading: [http://www.darkreading.com/vulnerabilities-threats.asp](http://www.darkreading.com/vulnerabilities-threats.asp)'
- en: 'ThreatPost: [https://threatpost.com/category/web-security/](https://threatpost.com/category/web-security/)'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'ThreatPost: [https://threatpost.com/category/web-security/](https://threatpost.com/category/web-security/)'
- en: When presenting options to the customer to resolve a finding, we should strive
    to be as unambiguous as possible. Architectural changes in particular demand clear
    and concise justification and an action plan. You may find that your customers
    are looking for less of a recommendation and more awareness; you should clarify
    the desired response up front. I would also recommend internal peer review of
    your report with the rest of your team, if applicable, as the more eyes on the
    final product, the better the end result will be.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在向客户提出解决方案时，我们应该尽量明确。特别是在架构变更方面，需要清晰简明的理由和行动计划。您可能会发现您的客户更希望得到更少的建议，而更多的是意识；您应该在一开始就澄清所需的响应。我还建议在适用的情况下，与您的团队一起对报告进行内部同行评审，因为越多的人看最终产品，最终结果就会更好。
- en: Plans and programs
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 计划和程序
- en: Our customers would all benefit greatly from having a standard process understood
    by all that helps them not only test for and detect vulnerabilities but also allows
    them to prioritize, address, and document their responses. Smaller application
    groups will be unable to dedicate resources to this particular endeavor, and so,
    in many ways, they need to seek out ways in which they can combine several necessary
    but resource-demanding processes into a single program. OWASP addresses this with
    its program called the **Comprehesive, Lightweight Application Security Process**
    (**CLASP**, [https://www.owasp.org/index.php/CLASP_Concepts](https://www.owasp.org/index.php/CLASP_Concepts)).
    OWASP envisioned this as an *activity-driven, role-based set of process components
    whose core contains formalized best practices for building security into your
    existing or new-start software development lifecycles in a structured, repeatable,
    and measurable way*.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的客户都会因为拥有一个所有人都理解的标准流程而受益匪浅，这个流程不仅可以帮助他们测试和检测漏洞，还可以让他们对漏洞进行优先级排序、解决和记录响应。较小的应用程序组将无法将资源专门用于这个特定的努力，因此，在许多方面，他们需要寻找方法将几个必要但需求资源的过程合并为一个单一的程序。OWASP通过其名为**全面、轻量级应用安全流程**（**CLASP**，[https://www.owasp.org/index.php/CLASP_Concepts](https://www.owasp.org/index.php/CLASP_Concepts)）的程序来解决这个问题。OWASP将其设想为*一组以活动驱动、基于角色的流程组件，其核心包含了将安全性规范化地纳入现有或新启动的软件开发生命周期的最佳实践*。
- en: As seen in the following screenshot, this process is structured around ever-deeper
    views into aspects of a company's SDLC and integrate Risk Management, change management,
    resource planning, and role assignments while they are at it.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 正如下面的截图所示，这个过程是围绕着对公司SDLC各个方面的深入视图构建的，并整合了风险管理、变更管理、资源规划和角色分配。
- en: '![](img/B03918_12_11.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_11.png)'
- en: OWASP's CLASP Framework for Vulnerability Management
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP的漏洞管理CLASP框架
- en: OWASP has more recently focused on the development of general guides rather
    than prescriptive programs, noting that more detailed and rigid programs can be
    harder to adopt, and has ignored the installed processes already in place. The
    **Application Security Guide** for CISOs ([https://www.owasp.org/index.php/Application_Security_Guide_For_CISOs](https://www.owasp.org/index.php/Application_Security_Guide_For_CISOs))
    is the culmination of those efforts, and it provides guidance across people, processes,
    and technology for a more security-aware business. Along with these guidelines,
    the **Software Engineering Institute's Capability Maturity Model** (**SEI CMM**,
    [http://cmmiinstitute.com](https://www.sei.cmu.edu/cmmi/)), the **Build Security
    In Maturity Model** (**BSIMM**, [https://www.bsimm.com](https://www.bsimm.com)),
    and the **Open Software Assurance Maturity Model** (**SAMM**, [http://www.opensamm.org](http://www.opensamm.org))
    are all compatible with the new guide, giving CISOs and their applications, networks,
    and security teams the freedom to implement these best practices and assimilate
    these ideas as they see fit.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP最近更多地关注了通用指南的制定，而不是规范性的程序，指出更详细和严格的程序可能更难被采纳，并忽视了已经存在的安装程序。CISO的**应用安全指南**（[https://www.owasp.org/index.php/Application_Security_Guide_For_CISOs](https://www.owasp.org/index.php/Application_Security_Guide_For_CISOs)）是这些努力的成果，它为更注重安全的企业提供了跨人员、流程和技术的指导。除了这些指南，**软件工程研究所的能力成熟度模型**（**SEI
    CMM**，[http://cmmiinstitute.com](https://www.sei.cmu.edu/cmmi/)）、**构建安全成熟度模型**（**BSIMM**，[https://www.bsimm.com](https://www.bsimm.com)）和**开放软件保障成熟度模型**（**SAMM**，[http://www.opensamm.org](http://www.opensamm.org)）都与新指南兼容，为CISO及其应用程序、网络和安全团队提供了自由，以实施这些最佳实践并根据需要吸收这些想法。
- en: More on change management
  id: totrans-145
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 更多关于变更管理
- en: '**Change Management** (**CM**) is one of those processes that anyone in IT
    loves to hate, but it serves a critical role. CMÂ provides a structure that all
    changes to an operational or production environment must be conducted within.
    With this process in place,Â all stakeholders theoretically are aware of changes
    and able to weigh in appropriately. We have all been in situations where that
    process was either too lax (and things were missed) or too rigid (people looked
    to avoid it or progress ground to a halt). I think we can all agree that CM is
    needed, and that vulnerability remediation and breach response are no exceptions.
    That being said, we need to ensure that CM processes are agile enough to allow
    for decisive actions to be taken in the name of security, while ensuring that
    all affected parties have bought in.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '**变更管理**（**CM**）是IT中任何人都喜欢讨厌的那些流程之一，但它起着至关重要的作用。CM提供了一个结构，所有对运营或生产环境的变更都必须在其中进行。有了这个流程，理论上所有利益相关者都能意识到变更并适当地权衡。我们都曾处于流程过于松散（导致遗漏）或过于严格（人们试图避开或进展停滞）的情况下。我认为我们都可以同意CM是必要的，漏洞修复和违规响应也不例外。也就是说，我们需要确保CM流程足够灵活，以便在安全的名义下采取果断行动，同时确保所有受影响的方都已经接受。'
- en: Automate and adapt
  id: totrans-147
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 自动化和适应
- en: Proactive security policies are something we should encourage, but haven't caught
    on with enough customers. This is an issue with smaller customer groups. Organizations
    that invest in automated toolsets and vulnerability remediation are one step ahead
    of the game, and many commercial vendors offer solution sets that can be integrated
    automatically within an application's environment, and provide continual analysis
    with intelligence feeds.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 积极的安全策略是我们应该鼓励的，但还没有得到足够客户的认可。这是一个小客户群体的问题。投资于自动化工具集和漏洞修复的组织领先一步，许多商业供应商提供可以自动集成到应用环境中的解决方案集，并提供带有情报源的持续分析。
- en: 'Open source tools also help in this regard, but there are several ways in which
    automated tools actually get deployed:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 开源工具在这方面也有帮助，但实际上有几种自动化工具的部署方式：
- en: '**Static Application Security Testing**Â (**SAST**) usually focuses on the
    earlier phases of the SDLC and concentrates on code and module use as more of
    a white-box testing tool. Source Code Analysis is the most-prevalent of the SAST
    methods, and because it is so closely linked to the code itself, these tools are
    usually integrated within the development environment and sometimes provided by
    the same software vendor. These tools actually inspect the code against known
    vulnerabilities and best practices, flagging the offending snippets. Again, heavy-hitters
    such as IBM, HPE, and Veracode help in finding the issues earlier, which makes
    fixing them cheaper and faster. A great list can be found atÂ [https://www.owasp.org/index.php/Source_Code_Analysis_Tools](https://www.owasp.org/index.php/Source_Code_Analysis_Tools).'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**静态应用安全测试**（**SAST**）通常侧重于SDLC的早期阶段，并集中于代码和模块使用，更像是一个白盒测试工具。源代码分析是SAST方法中最普遍的，因为它与代码本身紧密相关，这些工具通常集成在开发环境中，有时由同一软件供应商提供。这些工具实际上检查已知漏洞和最佳实践的代码，标记出问题的代码片段。再次，像IBM、HPE和Veracode这样的重量级公司有助于更早地发现问题，从而使修复更便宜更快。可以在[https://www.owasp.org/index.php/Source_Code_Analysis_Tools](https://www.owasp.org/index.php/Source_Code_Analysis_Tools)找到一个很好的列表。'
- en: '**Dynamic Application Security Testing**Â (**DAST**) is focused on the latter
    portions of the SDLC, where a near-representative application is in place and
    can be probed and assessed much like what we accomplished with Arachni for black-box
    testing. These tools, much like the bulk of our Kali-based suite, work on the
    fringes of the application to scan, enumerate, and manipulate the requests and
    responses to diagnose issues. Because of that, these tools don''t have the potential
    to catch quite as much as SAST, but they better emulate an outsider threat. We''ve
    used some of these already; Tenable and Rapid7 seem to be the market leaders here,
    but some additional options are listed atÂ [https://www.owasp.org/index.php/Category:Vulnerability_Scanning_Tools](https://www.owasp.org/index.php/Category:Vulnerability_Scanning_Tools).'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**动态应用程序安全测试**（**DAST**）侧重于SDLC的后期阶段，在这个阶段，一个接近代表性的应用程序已经建立起来，可以像我们用Arachni进行黑盒测试一样进行探测和评估。这些工具，就像我们基于Kali的套件的大部分工具一样，工作在应用程序的边缘，扫描、枚举和操纵请求和响应来诊断问题。因此，这些工具没有像SAST那样有捕捉的潜力，但它们更好地模拟了外部威胁。我们已经使用了一些这样的工具；Tenable和Rapid7似乎是市场领导者，但在[https://www.owasp.org/index.php/Category:Vulnerability_Scanning_Tools](https://www.owasp.org/index.php/Category:Vulnerability_Scanning_Tools)上列出了一些其他选项。'
- en: '**Interactive Application Security Testing**Â (**IAST**) is a relative newcomer
    to the arena, and uses agents in the application itself to help identify vulnerabilities
    in the real-time use. The unique positioning of the tool''s sensing agents make
    it able to address much of what both SAST and DAST do in one suite. DAST and SAST,
    when used, are often used together to ensure both spectrums of flaws are unmasked,
    while IAST is already accomplishing this. Many of the established SAST/DAST vendors
    are entering into this market or quickly migrating their solutions to provide
    this sort of capability, while trying to minimize the performance impact that
    is implicit in running these agents.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交互式应用程序安全测试**（**IAST**）是竞技场上的一个相对新手，它使用应用程序中的代理来帮助实时识别漏洞。工具的独特定位使其能够在一个套件中解决SAST和DAST所做的大部分事情。DAST和SAST在使用时通常一起使用，以确保揭示两个方面的缺陷，而IAST已经在做到这一点。许多已经建立起来的SAST/DAST供应商正在进入这个市场，或者迅速迁移他们的解决方案以提供这种能力，同时试图最小化运行这些代理所隐含的性能影响。'
- en: '**Mobile Application Security Testing**Â (**MAST**) is like IAST for mobile
    devices, and the agents are distributed among some or all of the mobile clients
    to help provide telemetry.'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**移动应用程序安全测试**（**MAST**）类似于移动设备的IAST，代理分布在一些或所有移动客户端中，以帮助提供遥测。'
- en: '**Run-time Application Security Protection**Â (**RASP**) is also much like
    IAST, except that the agents actually act as a real-time distributed enforcement
    point, helping to heal or patch breached systems in real-time. This technology
    is very new, and the jury is still out on whether they are in general a good thing
    or if they cause a false sense of security. Stalwarts such as HPE, Whitehat Security,
    Veracode ,and IBM have offerings here, but new companies such as Immunio and Contrast
    are also making waves in this area.'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**运行时应用程序安全保护**（**RASP**）也类似于IAST，只是代理实际上充当实时分布式执行点，帮助实时修复或补丁被侵犯的系统。这项技术非常新颖，人们对它们是否总体上是一件好事还有疑虑，或者它们是否会造成一种虚假的安全感。像HPE、Whitehat
    Security、Veracode和IBM这样的老牌公司在这里提供服务，但新公司如Immunio和Contrast也在这一领域崭露头角。'
- en: Our testing should not take these tools for granted, but should complement them
    and verify their efficacy when both toolsets are implemented correctly. Some of
    these vendors are even branching out into automation with other elements in the
    environment, with companies like Imperva now touting that their **Web Application
    Filtering** (**WAF**) products work in real time with vulnerability scanners to
    stop threats in their tracks.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的测试不应该对这些工具视而不见，而应该补充它们，并在正确实施两种工具集时验证它们的有效性。一些供应商甚至正在扩展到与环境中的其他元素自动化，像Imperva这样的公司现在宣称他们的**Web应用程序过滤**（**WAF**）产品可以与漏洞扫描器实时工作，阻止威胁。
- en: Assessing the competition
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 评估竞争
- en: '* * *'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Many of the DAST tools we discussed are available and can challenge those we've
    used in Kali (Arachni, Nikto, Burp, ZAP, and so on) for use in our preferred pen
    testing toolkit. I would assume everyone reading this book is accustomed to making
    their own choices based on how best they like to work, so in addition to all of
    the tool options out there, I thought it would be helpful to discuss some of the
    alternate operating systems and tool suites that you may want to evaluate before
    going back to Kali â�� after all, it is always nice to see how good we have it.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 我们讨论过的许多DAST工具都可以挑战我们在Kali中使用的工具（如Arachni、Nikto、Burp、ZAP等），用于我们首选的渗透测试工具包。我假设每个阅读本书的人都习惯于根据自己最喜欢的工作方式做出自己的选择，因此除了所有的工具选项之外，我认为讨论一些备选操作系统和工具套件可能会有所帮助，这样你在回到Kali之前可能会想要评估一下。毕竟，看到我们拥有多么好的东西总是很好的。
- en: Backbox Linux
  id: totrans-159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Backbox Linux
- en: Backbox ([https://backbox.org/linux](https://backbox.org/linux), as shown in
    theÂ following screenshot) is an Ubuntu-based pen testing and security distribution
    from some Italian folks that may be easier to use than Kali as a general desktop
    with a security slant. It includes many of the same tools, so it really comes
    down to whether you prefer Kali's Debian/XFCE look and feel or that of Backbox's
    more polished Ubuntu layout.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Backbox ([https://backbox.org/linux](https://backbox.org/linux)，如下图所示)是一个基于Ubuntu的渗透测试和安全发行版，来自一些意大利人，可能比Kali更容易使用，作为一个带有安全倾向的通用桌面。它包括许多相同的工具，因此真正的问题在于你是更喜欢Kali的Debian/XFCE外观和感觉，还是Backbox更加精致的Ubuntu布局。
- en: '![](img/B03918_12_12.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_12.png)'
- en: Backbox Linux home screen
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: Backbox Linux主屏幕
- en: Samurai web testing framework
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 武士网页测试框架
- en: The Samurai WFT as it is known (as shown in the following screenshot, [http://samurai.inguardians.com](http://samurai.inguardians.com))
    is a Live-CD based version of Ubuntu Linux that focuses all of your efforts on
    their four-phase approach (Recon, Mapping, Discovery, and Exploitation) to web
    app pen testing. Other capabilities are on the backburner, and they weave the
    entire process into their built-in wiki, which acts very much like their Dradis
    stand-in.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 武士WFT，如所知（如下图所示，[http://samurai.inguardians.com](http://samurai.inguardians.com)）是基于Ubuntu
    Linux的Live-CD版本，专注于他们的四阶段方法（侦察，映射，发现和利用）对Web应用程序进行渗透测试。其他功能被搁置，他们将整个过程编织到他们内置的维基中，这在很大程度上就像他们的Dradis替身。
- en: '![](img/B03918_12_13.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_13.png)'
- en: Samurai WTF Menu
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 武士WTF菜单
- en: Fedora Security Spin
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Fedora Security Spin
- en: A lot of attention in the pen testing realm is given to the Ubuntu/Debian fork
    of Linux, and this is probably due to their place as the most widely used desktop
    Linux distributions. That doesn't mean you can't use some classic Red Hat/Fedora
    stuff too! Fedora Security Lab is a Spin (customized branch) of Fedora that blends
    in many of the tools we have grown to love and cherish in Kali, but recompiled
    and managed in an RPM-based world.Â  If Red Hat, Centos, or Fedora are your thing,
    you can easily get up-and-running on Fedora Security Spin ([https://labs.fedoraproject.org/en/security/](https://labs.fedoraproject.org/en/security/),
    as shownÂ next).
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在渗透测试领域，很多关注都集中在Ubuntu/Debian的Linux分支上，这可能是因为它们是最广泛使用的桌面Linux发行版。这并不意味着你不能使用一些经典的Red
    Hat/Fedora的东西！Fedora Security Lab是Fedora的一个Spin（定制分支），它融合了我们在Kali中喜爱和珍视的许多工具，但是在基于RPM的世界中重新编译和管理。如果Red
    Hat、Centos或Fedora是你的菜，你可以轻松地在Fedora Security Spin上运行起来（[https://labs.fedoraproject.org/en/security/](https://labs.fedoraproject.org/en/security/)，如下所示）。
- en: '![](img/B03918_12_14.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B03918_12_14.png)'
- en: Fedora Security Spin/Lab
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: Fedora Security Spin/Lab
- en: Other Linux pen test distros
  id: totrans-171
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他Linux渗透测试发行版
- en: 'If the preceding options don''t meet your needs, there are a slew of others
    to choose from. Here is a small list:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 如果前面的选项不符合您的需求，还有许多其他选择。以下是一个小列表：
- en: 'Knoppix-STD: [https://s-t-d.org](https://s-t-d.org)'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Knoppix-STD: [https://s-t-d.org](https://s-t-d.org)'
- en: Bugtraq:Â [https://archiveos.org/bugtraq/](https://archiveos.org/bugtraq/)
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Bugtraq: [https://archiveos.org/bugtraq/](https://archiveos.org/bugtraq/)'
- en: 'Weakerth4n: [http://www.weaknetlabs.com](http://www.weaknetlabs.com)'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Weakerth4n: [http://www.weaknetlabs.com](http://www.weaknetlabs.com)'
- en: 'CAINE: [http://www.caine-live.net](http://www.caine-live.net)'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'CAINE: [http://www.caine-live.net](http://www.caine-live.net)'
- en: What About Windows and macOS?
  id: totrans-177
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Windows和macOS怎么样？
- en: Well, this book was all about using Kali for web app pen testing, but I would
    be remiss if I didn't mention that both the Windows and macOS platforms are capable
    of running many of the tools we have discussed, or running something similar.
    Burp Suite, Metasploit, Arachni, and so on, all have ports to both platforms,
    as do standard tools such as Nmap and Nikto. In short, if you just can't bear
    to run Linux, or need something in a pinch, these operating systems will do. Don't
    expect a lot of love at Defcon or Blackhat conferences though â�� they tend to
    be purists.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 嗯，这本书主要讲的是使用Kali进行Web应用程序渗透测试，但是如果我不提到Windows和macOS平台都能够运行我们讨论过的许多工具，或者运行类似的工具，那就不够完整了。Burp
    Suite，Metasploit，Arachni等等，都有适用于这两个平台的版本，标准工具如Nmap和Nikto也是如此。简而言之，如果你实在无法忍受运行Linux，或者需要临时解决方案，这些操作系统也可以。不过，不要指望在Defcon或Blackhat会议上受到太多关注，因为他们往往是纯粹主义者。
- en: Summary
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: '* * *'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Web application penetration testing is deep, complex, and always changing. On
    the other hand, it is also essential and of high value to all businesses deploying
    web applications these days (that is, all businesses). It is for these reasons
    that we must be ready to help our customers tackle their application's security
    and avoid becoming front-page news. Remember, we're not only testing the platform,
    but we are often clients of other applications, and I would hope that the web
    applications I am using are being tested rigorously and that the findings are
    being treated with proper care.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: Web应用程序渗透测试是深入、复杂且不断变化的。另一方面，它对于部署Web应用程序的所有企业（也就是所有企业）来说也是至关重要且具有很高的价值。正是因为这些原因，我们必须准备好帮助我们的客户解决其应用程序的安全性问题，避免成为头条新闻。记住，我们不仅要测试平台，而且我们经常是其他应用程序的客户，我希望我使用的Web应用程序经过了严格的测试，并且发现得到了适当的处理。
- en: In this chapter, we took a step back from the testing itself and discussed how
    we can present the findings to move our customers one step closer to that most
    noble of goals, *being secure*. We saw how not only our reports and communications
    can help, but the establishment of a security program and processes that clearly
    define *well, what happens now?* Â By doing our job well, we can help ward off
    the breaches and compromises that plague society today. No one in the world can
    escape potential harm, so it falls to us to make a difference and when it comes
    to protection.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们从测试本身退后一步，讨论了如何呈现发现结果，使我们的客户更接近那个最高贵的目标，即*安全*。我们看到，不仅我们的报告和沟通可以帮助，而且建立一个明确定义*那么，现在发生了什么？*的安全程序和流程也可以帮助。通过做好我们的工作，我们可以帮助避免困扰当今社会的侵犯和妥协。世界上没有人能够逃脱潜在的危害，所以我们有责任产生影响，当涉及到保护时。
- en: It should go without saying, but the tools and techniques you are learning in
    this book and your continued practice have two very opposed uses. We need to ensure
    we are using our skills and resources for the betterment of our customers' environments,
    and not for inflicting damage or to hack with malice. Permission and intent should
    both be clear, understood, and documented.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 不用说，但是您在本书中学到的工具和技术以及您的持续练习有两种截然相反的用途。我们需要确保我们使用我们的技能和资源来改善我们客户的环境，而不是为了造成伤害或恶意攻击。权限和意图都应该清晰、明确并有记录。
- en: I have truly enjoyed working through this book with you folks â�� it has been
    a wonderful learning experience, as we have gone from conducting general penetration
    testing to now delving into the web application discipline. As we've seen, it
    is a worthy and noble cause, and I hope that this book has helped you improve
    or even master skills that can be used. If anything, I hope you are all left with
    the curiosity to learn and master more, and to go forth and act as an advocate
    for your field. Happy hacking, and good luck!
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 我真的很享受与你们一起阅读这本书的过程——这是一次美妙的学习经历，我们从进行一般的渗透测试到深入研究Web应用程序学科。正如我们所看到的，这是一项值得的和高尚的事业，我希望这本书能帮助你们提高甚至掌握可以使用的技能。如果有什么，我希望你们都对学习和掌握更多知识充满好奇，并且积极行动，成为你们领域的倡导者。祝你们愉快地黑客，好运！
