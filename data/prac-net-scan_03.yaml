- en: Server-Level Security
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务器级安全
- en: In the previous chapter, we discussed how to build a secure network infrastructure.
    In this chapter, we will discuss how to build and ensure security for servers
    inside a secure network.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们讨论了如何构建安全的网络基础设施。本章将讨论如何在安全网络内部构建和确保服务器安全。
- en: Server/computer security is a critical part of the infrastructure for running
    business smoothly. Information security has evolved over the years due to an increasing
    dependency on public networks not to disclose personal, financial, and other restricted
    information. Consequently, it becomes important to maintain data confidentiality,
    integrity and availability. This chapter focuses on securing data and implementing
    various policies to secure a server infrastructure.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器/计算机安全是确保业务顺利运行的基础设施关键部分。信息安全随着依赖公共网络的增加而发展，以防止个人、财务及其他限制信息的泄露。因此，维护数据的机密性、完整性和可用性变得尤为重要。本章重点介绍如何确保数据安全，并实施各种政策来保护服务器基础设施。
- en: 'We will cover the following topics in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Classification of data
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据分类
- en: Physical security
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理安全
- en: Disk encryption
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 磁盘加密
- en: Hardening server security
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 强化服务器安全
- en: Authentication NTLM versus Kerberos
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 认证 NTLM 与 Kerberos
- en: Password policies
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密码策略
- en: Server-level permissions
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务器级权限
- en: Server antivirus and malware protection
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务器病毒和恶意软件保护
- en: Local security policies
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本地安全策略
- en: Classification of data
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据分类
- en: The main motive for setting up IT infrastructure is to get your applications
    up and running. However, after classifying our assets, we need to address the
    security when it comes to one layer on a server specific infrastructure. In a
    big network of multi-vendor servers and multi-operating system environments, different
    sets of applications are expected. A grouping server based on role, permission,
    and operating system can address multiple security concerns.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 设置 IT 基础设施的主要目的是使应用程序运行起来。然而，在对资产进行分类后，我们需要解决服务器特定基础设施上的安全性问题。在一个包含多个厂商服务器和多操作系统环境的大型网络中，预期会有不同的应用程序集。基于角色、权限和操作系统的服务器分组可以解决多个安全问题。
- en: Physical security
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物理安全
- en: 'In most cases, physical access translates to a total loss of security. Even
    if they can''t access your data, an attacker can do a lot of damage. We''ll take
    a look at the most essential security measures everyone should implement, if they
    haven''t already been done:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，物理访问意味着完全丧失安全性。即使攻击者无法访问你的数据，他们也可以造成大量损害。我们将查看每个人都应该实施的最基本的安全措施，前提是这些措施尚未实施：
- en: '**Lock up the server room**:The server room is the power station of your physical
    network, and someone with physical access to the servers, switches, routers, cables,
    and other devices in that room can do enormous damage.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**锁好服务器机房**：服务器机房是你物理网络的电力站，任何能够物理接触到机房内的服务器、交换机、路由器、电缆和其他设备的人，都可能造成巨大损害。'
- en: '**Set up surveillance**: You need a way to monitor who goes in and out, what
    they do and when they do it. A better solution is to set up biometric scanners
    that are required in order to unlock the doors, and the identity of each technician
    is then recorded. Surveillance cameras can monitor continuously, or they can use
    motion detection technology to record a person''s movement. They can even send
    an email or cell phone notification if motion is detected when it shouldn''t be.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设置监控**：你需要一种方法来监控谁进出，做了什么以及何时做的。更好的解决方案是设置生物识别扫描仪，要求在解锁门时进行验证，并记录每位技术人员的身份。监控摄像头可以进行持续监控，或者使用运动检测技术来记录人的移动。如果在不该有动作的时候检测到运动，它们甚至可以发送电子邮件或手机通知。'
- en: '**Disable the drives**:Of course, for a protected environment, we don''t want
    anybody copying company information to removable media. You should simply disable
    or remove USB ports and other ways of connecting external drives.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**禁用驱动器**：当然，为了保护环境，我们不希望任何人将公司信息复制到可移动媒体。你应该简单地禁用或移除 USB 接口和其他连接外部驱动器的方式。'
- en: '**Educate your employees**:Apart from technology, this is the most important
    factor behind security. It is necessary to train staff on security related issues
    such as password selection, social engineering tactics, and email phishing. This
    will make it almost impossible for an outsider to intrude.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**教育你的员工**：除了技术之外，这是确保安全最重要的因素。必须对员工进行安全相关问题的培训，例如密码选择、社交工程策略和电子邮件钓鱼。这样几乎不可能让外部人员侵入。'
- en: Disk encryption
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 磁盘加密
- en: It is important to secure any server that manages business critical data and
    its customers. The fact that servers reside in a secured facility doesn't prevent
    them from being at risk to data loss or theft. Sometimes storage drives in a server
    are misplaced during transportation, which can lead to data loss. Another example
    would be to prevent offline attacks. If data drives are stolen and inserted into
    another system to boot with another operating system, this basically bypasses
    the password protection. If that drive isn't encrypted, its information can be
    retrieved and exposed to unwanted audiences, leaving an organization at risk of
    regulatory violations, personal lawsuits, and damage to its corporate reputation.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 保护管理业务关键数据及其客户的任何服务器非常重要。尽管服务器存放在安全设施中，但这并不意味着它们不会面临数据丢失或盗窃的风险。有时，服务器中的存储驱动器在运输过程中被错放，这可能导致数据丢失。另一个例子是防止离线攻击。如果数据驱动器被盗并插入到另一台系统中以启动其他操作系统，这基本上绕过了密码保护。如果该驱动器没有加密，其信息可能会被检索出来并暴露给不必要的人员，导致组织面临合规性违规、个人诉讼以及公司声誉受损的风险。
- en: Full-disk encryption
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 全盘加密
- en: Let's explore the process in detail, looking at how the whole disk encryption
    works. Full disk encryption encrypts an entire disk drive. When an authenticated
    user accesses a file from a fully encrypted drive, the encryption technology decrypts
    the file using the decryption key provided at system startup, and the rest of
    the drive remains encrypted. This method ensures the protection of the hard drive
    if a system failure occurs or the system is deliberately shutdown. The primary
    goal of full disk encryption is that the drive and files remain encrypted during
    the system shutdown state. On a running system, the encryption is technically
    not in place for users to access files. This is because the operating system has
    the decryption key to access files on the disk.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们详细探讨一下整个磁盘加密的工作流程。全盘加密会对整个磁盘驱动器进行加密。当经过身份验证的用户从完全加密的驱动器访问文件时，加密技术会使用系统启动时提供的解密密钥对文件进行解密，其余部分的驱动器仍然保持加密状态。这种方法确保了在系统故障或系统故意关闭时硬盘的保护。全盘加密的主要目标是，在系统关闭状态下，驱动器和文件保持加密。在运行中的系统中，加密技术对用户访问文件实际上是不可见的。这是因为操作系统拥有解密密钥来访问磁盘上的文件。
- en: '![](Images/cd8aa858-52d3-43f9-8689-ea9a6cffcec2.jpg)Full disk encryption is
    a perfect solution for devices like notebooks and desktops, which shutdown at
    some point. Full disk encryption helps to protect data in the event of the physical
    loss of a disk and makes more sense for portable devices.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/cd8aa858-52d3-43f9-8689-ea9a6cffcec2.jpg)全盘加密是笔记本电脑和台式机等设备的完美解决方案，因为这些设备会在某些时候关闭。全盘加密有助于在磁盘物理丢失的情况下保护数据，并且更适合便携设备。'
- en: Bitlocker
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Bitlocker
- en: BitLocker is Microsoft native technology that enables you to encrypt entire
    hard disks, including the operating system. To get the best results from BitLocker,
    a hardware system must be equipped with a **Trusted Platform Module** (**TPM**)
    chip. This is a special microchip that enables your device to support advanced
    security features. However, you can also use BitLocker without a TPM by using
    a software-based encryption.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: BitLocker是微软的本地技术，它使你能够加密整个硬盘，包括操作系统。为了获得BitLocker的最佳效果，硬件系统必须配备**受信平台模块**（**TPM**）芯片。这是一种特殊的微芯片，使设备支持高级安全功能。然而，你也可以在没有TPM的情况下使用BitLocker，通过使用基于软件的加密方法。
- en: 'The TPM chip 2.0 can be seen under security devices in the device manager:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在设备管理器的安全设备下可以看到TPM芯片2.0：
- en: '![](Images/eeea5130-7947-4225-bf89-70be1c0a7430.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/eeea5130-7947-4225-bf89-70be1c0a7430.png)'
- en: Virtual Trusted Platform Module – vTPM
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 虚拟受信平台模块 – vTPM
- en: '**Trusted Computing Group** (**TCG**) introduced TPM in 2009\. A **Trusted
    Platform Module** (**TPM**) is a microchip that is often built into the motherboard
    to provide hardware-based security. This can be also be added later for customized
    systems if your motherboard supports it. A TPM chip is a secure crypto-processor
    that is designed to carry out cryptographic operations. If you are using BitLocker
    encryption on a computer with the TPM, part of the key is stored in the TPM itself,
    rather than just on the disk. This means that an attacker can''t just remove the
    drive from the computer and attempt to access its files elsewhere.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '**受信计算组** (**TCG**) 于2009年推出了TPM。**受信平台模块** (**TPM**) 是一个通常集成在主板中的微芯片，提供基于硬件的安全性。如果你的主板支持，也可以在之后为定制系统添加TPM。TPM芯片是一个安全的加密处理器，旨在执行加密操作。如果你在具有TPM的计算机上使用BitLocker加密，部分密钥会存储在TPM本身中，而不仅仅存储在硬盘上。这意味着攻击者无法仅通过将硬盘从计算机中取出并尝试在其他地方访问其文件。'
- en: 'In Windows server 2016 Hyper-v and Windows 10, you can enable vTPM into a VM.
    Virtual instance will be mapped to each VM, as shown in the following diagram:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows Server 2016 Hyper-V和Windows 10中，你可以在虚拟机中启用vTPM。虚拟实例将映射到每个虚拟机，如下图所示：
- en: '![](Images/1cc9c5aa-e00d-40fd-8b31-383c6dbcae39.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/1cc9c5aa-e00d-40fd-8b31-383c6dbcae39.png)'
- en: 'This is what the hardware TPM chip looks like:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 这是硬件TPM芯片的样子：
- en: '![](Images/6babc25c-7ada-4770-8fed-7f31f109d0a4.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/6babc25c-7ada-4770-8fed-7f31f109d0a4.jpg)'
- en: Encrypt your Hyper-V Guest VMs
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加密你的 Hyper-V 客户虚拟机
- en: In a virtualized environment, encrypting guest virtual machines is another layer
    of protection that you can add in Hyper-V. You may wonder what the need is for
    this if encrypting the Hyper-V host itself can protect against stolen physical
    disks. Enabling BitLocker inside your virtual machines protects against stolen
    virtual disks as well. For example, if an attacker manages to gain access to an
    online Hyper-V, host and VHDX or VHD files can be downloaded or stolen.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在虚拟化环境中，加密客户虚拟机是Hyper-V中可以增加的另一层保护。你可能会问，如果加密Hyper-V主机本身能保护物理磁盘被盗，为什么还需要加密虚拟机呢？启用BitLocker加密虚拟机内部的虚拟磁盘也能防止虚拟磁盘被盗。例如，如果攻击者设法访问了一个在线的Hyper-V主机，VHDX或VHD文件就可能被下载或窃取。
- en: 'Here is the screenshot from Hyper-V 2016 in which the vTPM option is disabled
    by default. As soon you turn on the feature, it can share virtualized TPM instances
    with VMs:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 这是来自Hyper-V 2016的截图，其中vTPM选项默认禁用。一旦启用该功能，它可以与虚拟机共享虚拟化TPM实例：
- en: '![](Images/30cb6462-d061-4974-a669-67f42adfa866.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/30cb6462-d061-4974-a669-67f42adfa866.png)'
- en: Cloud VM disk encryption
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云虚拟机磁盘加密
- en: 'In this diagram, I have taken a screenshot of the running Azure VM which shows
    a disk associated with a VM that is not encrypted (ENCRYPTION not enabled). Having
    said that, it also states that the disk is encrypted at rest with **Storage Service
    Encryption** (**SSE**). For more information, you can refer to Azure documentation.
    Rest is the default data protection technique achieved by encrypting the service
    provider''s full disk in order to protect data in case of physical theft or loss
    of the disk:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在此图中，我截取了正在运行的Azure虚拟机的截图，显示与未加密的虚拟机相关联的磁盘（ENCRYPTION未启用）。但它也指出该磁盘在静态时已使用**存储服务加密**
    (**SSE**)进行加密。欲了解更多信息，你可以参考Azure文档。静态加密是通过加密服务提供商的整个磁盘来保护数据，以防磁盘被盗或丢失时发生数据泄露：
- en: '![](Images/e09838c1-f3cb-48cb-8ec2-e02e3b2e83b5.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/e09838c1-f3cb-48cb-8ec2-e02e3b2e83b5.png)'
- en: What is encryption at rest?
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是静态加密？
- en: Encryption at rest refers to the cryptographic encoding of data when it is persevered
    on physical media. Encryption at rest is supposed to protect data from at rest
    attacks, including attempts to obtain physical media access where the data is
    stored. In such an attack, a server's hard drive may have been stolen or misplaced,
    allowing an attacker to recover data from the hard drive by putting it into a
    compute device of their own. Encryption at rest is designed to prevent critical
    data access by unauthorized persons by ensuring that the data remains encrypted
    when it resides on a disk. An attacker can obtain a hard drive with data in an
    encrypted format, but without access to the encryption keys, they would not be
    able to decode the data. Encryption at rest is highly recommended and is a high-priority
    requirement for many organizations, including cloud service providers, to allow
    them to comply with state law government regulations and industry standards such
    as HIPAA and PCI.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 静态加密是指在数据存储在物理介质上时对其进行加密编码。静态加密旨在保护数据免受静态攻击，包括尝试获取数据存储介质物理访问的攻击。在此类攻击中，服务器的硬盘可能被盗或丢失，攻击者可能会通过将其插入自己的计算设备来恢复硬盘上的数据。静态加密旨在通过确保数据在磁盘上存储时仍然加密，防止未经授权的人访问关键数据。攻击者可以获取包含加密数据的硬盘，但如果没有加密密钥，他们将无法解码数据。静态加密被高度推荐，并且是许多组织的优先要求，包括云服务提供商，以使其符合国家法律、政府规定和行业标准，如
    HIPAA 和 PCI。
- en: Google, Amazon, and Azure Cloud service providers encrypt customer data stored
    at rest by default, with no additional action required from you.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: Google、Amazon 和 Azure 云服务提供商默认会加密存储在静态状态下的客户数据，您无需进行额外操作。
- en: Hardening server security
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 强化服务器安全
- en: Most of us assume that systems or servers are already secure, and this might
    be a false assumption. Imagine if any system server, firewall or router is stolen
    without first being hardened. An attacker would probably first try to crack a
    targeted system with a default username and password. For a Linux based machine,
    my default username would be `root`*,* the password would be `root`, and most
    of us would continue to use it. Server hardening involves identifying and re-mediating
    security vulnerabilities. We will discuss server hardening and the best practices
    you can implement immediately in order to reduce the risk of attackers compromising
    your business's critical systems and data.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 我们大多数人认为系统或服务器已经是安全的，但这可能是一个错误的假设。试想一下，如果任何系统服务器、防火墙或路由器在没有先进行加固的情况下被盗，攻击者很可能会首先尝试使用默认的用户名和密码破解目标系统。对于基于
    Linux 的机器，我的默认用户名是`root`，密码是`root`，我们大多数人可能会继续使用它。服务器加固包括识别和修复安全漏洞。我们将讨论服务器加固以及您可以立即实施的最佳实践，以降低攻击者危害您企业关键系统和数据的风险。
- en: Check for open ports or services
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查开放端口或服务
- en: Identifying open ports on servers requires the port to be opened and unnecessary
    services to be disabled or shutdown. The server should have a minimal operating
    system configuration.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 识别服务器上的开放端口需要将端口打开并禁用或关闭不必要的服务。服务器应具有最小化的操作系统配置。
- en: 'For Windows, run the following command using the Command Prompt:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows，请使用命令提示符运行以下命令：
- en: '[PRE0]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The ouptu of the preceding command is as shown in the screenshot:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 上述命令的输出如截图所示：
- en: '![](Images/4f606062-9e39-4ad5-9d3d-256915530d93.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/4f606062-9e39-4ad5-9d3d-256915530d93.png)'
- en: 'For Linux/Unix, run the following command using the shell prompt:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Linux/Unix，请使用 Shell 提示符运行以下命令：
- en: '[PRE1]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](Images/4c83620a-c0b7-4480-abd5-8aab6fdd40db.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/4c83620a-c0b7-4480-abd5-8aab6fdd40db.png)'
- en: System firewall configuration
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 系统防火墙配置
- en: To restrict traffic based on firewall rules, traffic should only be allowed
    into ports that need to be open for services. For example, secure web servers
    will need to provide access to TCP port `443` to most users, but they do not need
    **Remote Desktop Protocol** (**RDP**) or **Secure Shell** (**SSH**) management
    access from all source IPs.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 为了基于防火墙规则限制流量，应该只允许流量进入需要为服务开放的端口。例如，安全的 Web 服务器需要为大多数用户提供对 TCP 端口`443`的访问，但它们不需要所有源
    IP 地址的**远程桌面协议**(**RDP**)或**安全外壳**(**SSH**)管理访问。
- en: 'For Windows, you can configure new inbound and outbound rules using advanced
    security options:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows，您可以使用高级安全选项配置新的入站和出站规则：
- en: '![](Images/ae27dcf7-4b07-4ba0-a5a8-0b4b46eb87db.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/ae27dcf7-4b07-4ba0-a5a8-0b4b46eb87db.png)'
- en: 'For Linux, `sudo iptables -L` lists your current rules in `iptables`. If you
    have just set up your server, you will have no rules and the output should be
    similar to the following screenshot:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux，`sudo iptables -L`会列出当前在`iptables`中的规则。如果你刚刚设置了服务器，应该没有任何规则，输出应类似于以下截图：
- en: '![](Images/755345e6-210d-4528-b3df-fa0991a2aab9.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/755345e6-210d-4528-b3df-fa0991a2aab9.png)'
- en: System update
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 系统更新
- en: The first thing to do after the first boot is to update the system. Critical
    updates should be applied as soon as possible. Be sure to test these updates in
    test environments. First, do this to confirm proper function. If there are no
    compatibility issues, you should then test them in production.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次启动后的第一件事就是更新系统。应该尽快应用重要更新。一定要在测试环境中测试这些更新。首先做这个以确认功能正常。如果没有兼容性问题，再在生产环境中测试。
- en: 'The following screenshot is from 2016 Server, which you can update using the
    PowerShell prompt:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图来自2016服务器，你可以使用PowerShell提示符进行更新：
- en: '![](Images/0ca73993-23f9-4606-9219-7f795e003e92.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/0ca73993-23f9-4606-9219-7f795e003e92.png)'
- en: 'For Linux, you can run a command to fetch all updates:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux，你可以运行一个命令来获取所有更新：
- en: '[PRE2]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](Images/ecc81001-c78c-443b-b6b5-8b7df7d6247e.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/ecc81001-c78c-443b-b6b5-8b7df7d6247e.png)'
- en: Disable USB
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 禁用USB
- en: '**Universal Serial Bus** (**USB**) connections are typically plug and play
    devices. For example, hard disks or pen drives for your computer. Being plug and
    play in nature, an operating system automatically identifies the device and installs
    a driver for it. Since USB devices are portable and can be connected easily to
    computers, these devices can cause real security threats. To prevent employees
    from saving sensitive information on USB drives, financial organizations do not
    allow USB devices. The system administrator can disable or block USB devices using
    group policy. We will now take a look at the steps on how to disable USB devices
    using group policy.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**通用串行总线**（**USB**）连接通常是即插即用设备。例如，计算机的硬盘或优盘。由于其即插即用特性，操作系统会自动识别设备并为其安装驱动程序。由于USB设备便于携带且可以轻松连接到计算机，这些设备可能带来真正的安全威胁。为了防止员工将敏感信息保存在USB驱动器上，金融机构不允许使用USB设备。系统管理员可以通过组策略禁用或阻止USB设备。现在我们来看看如何通过组策略禁用USB设备的步骤。'
- en: 'For Windows, from Group Policy Management Editor, you can enable All Removal
    Storage classes: Deny all access as shown in the following screenshot:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows，在组策略管理编辑器中，你可以启用“所有移除存储类：拒绝所有访问”，如下图所示：
- en: '![](Images/60c4c44f-745a-44a6-9ada-f2494357a760.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/60c4c44f-745a-44a6-9ada-f2494357a760.png)'
- en: For Linux, you can edit this file by adding `blacklist usb_storage`.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux，你可以通过编辑该文件并添加`blacklist usb_storage`来禁用USB存储。
- en: '![](Images/796a7bc7-2e21-49e6-8d45-35fe8880d2d2.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/796a7bc7-2e21-49e6-8d45-35fe8880d2d2.png)'
- en: Hard disk encryption
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 硬盘加密
- en: Disk encryption is important in the case of theft. This is because the attackers
    who stole your computer won't be able to decode your data if they connect the
    hard disk to their machine and try to retrieve the data. We have already discussed
    this option in detail in the *Full-disk encryption* section of this chapter.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 磁盘加密在防止盗窃时非常重要。这是因为盗窃你电脑的攻击者，如果将硬盘连接到他们的机器并试图恢复数据，他们将无法解码你的数据。我们已经在本章的*全盘加密*部分详细讨论了这一选项。
- en: BIOS protection
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: BIOS保护
- en: It is important to protect the BIOS of the system with a password so that attackers
    won't be able to use it to change security settings. You also need to disable
    the booting from external media devices (USB/CD/DVD). BIOS protection is only
    an authentication mechanism designed to prevent unauthorized physical access to
    BIOS. BIOS now comes with out-of-band access, meaning that, with the right hardware
    configuration, you have full remote access to your computer, no matter what state
    it is in.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 保护系统BIOS密码非常重要，这样攻击者就无法利用它来更改安全设置。你还需要禁用从外部媒体设备（如USB/CD/DVD）启动。BIOS保护只是一个认证机制，旨在防止未经授权的物理访问。现在的BIOS支持带外访问，意味着只要硬件配置正确，你就可以完全远程访问计算机，无论计算机处于何种状态。
- en: Check the installed packages
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查已安装的软件包
- en: List all packages installed on your operating system, and remove the unnecessary
    ones. Disabling unnecessary services will reduce the attack surface. Let's look
    at how to check installed packages on different OSes.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 列出操作系统上安装的所有软件包，并移除不必要的包。禁用不必要的服务将减少攻击面。让我们看看如何在不同操作系统上检查已安装的软件包。
- en: 'For Windows, run the following command from PowerShell in admin mode:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows，从管理员模式下的PowerShell运行以下命令：
- en: '[PRE3]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](Images/7f977d2b-793a-4487-88d7-5e8ff58d1502.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/7f977d2b-793a-4487-88d7-5e8ff58d1502.png)'
- en: For Linux, Telnet comes with a default configuration. Do we need Telnet in a
    secured environment? Maybe, but personally I don't recommend using it in a secured
    environment because the data exchange used by a Telnet connection is in plain
    text.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux，Telnet自带默认配置。在一个安全环境中，我们是否需要Telnet？也许需要，但个人来说，我不推荐在安全环境中使用它，因为Telnet连接所使用的数据交换是明文的。
- en: '![](Images/754f8603-23a5-481a-a143-882695bc28e1.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/754f8603-23a5-481a-a143-882695bc28e1.png)'
- en: Password policies
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 密码策略
- en: Don't forget to protect your passwords and do not reuse them. Use a password
    policy to ensure that accounts on the server can't be compromised or broken by
    some sort of brute-force attack. If your server is a member of **Active Directory
    Domain Services** (**ADDS**), the password policy will be set at the domain level.
    We will discuss password policies in detail in an upcoming section.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 不要忘记保护你的密码，也不要重复使用密码。使用密码策略来确保服务器上的账户不会被暴力破解或攻击。如果你的服务器是**Active Directory Domain
    Services** (**ADDS**)的成员，密码策略将会在域级别进行设置。我们将在接下来的章节中详细讨论密码策略。
- en: Secure and encrypt remote access
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全加密远程访问
- en: SSH uses the cryptography process running at the backend, and therefore is considered
    very secure. However, you still need to harden this service as well. Make sure
    you are running the latest version of SSH protocol, and SSH sources can be further
    restricted with IP subnet. Remote Desktop sessions operate over an encrypted channel,
    preventing anyone from snooping your session on the network. However, there is
    a vulnerability in the method used to encrypt sessions in earlier versions of
    RDP. The best approach would be to update your software, restrict access using
    firewalls, and set an account lockout policy for additional security. You can
    also change your RDP port from `3389` to something else, using RDP gateways and
    then finally using 2FA.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: SSH使用后台运行的加密过程，因此被认为是非常安全的。然而，你仍然需要对该服务进行加固。确保你正在运行最新版本的SSH协议，并且可以通过IP子网进一步限制SSH来源。远程桌面会话通过加密通道操作，防止任何人在网络上窃听你的会话。然而，早期版本的RDP在加密会话时所用的方法存在漏洞。最佳做法是更新软件，使用防火墙限制访问，并设置账户锁定策略以增强安全性。你还可以将RDP端口从`3389`更改为其他端口，使用RDP网关，并最终使用双因素认证（2FA）。
- en: Implement activity logging
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现活动日志记录
- en: You need to make sure that your logs and monitoring are configured and are capturing
    the data you want so that whenever there is a problem, you can quickly discover
    who, when, and what you need to fix it. You must set up a centralized log management
    solution to monitor logs, server health like disk space, CPU, memory, and network
    activity.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要确保日志和监控已配置，并捕获你想要的数据，这样在出现问题时，你可以迅速发现问题发生的人员、时间和需要修复的内容。你必须设置集中式日志管理解决方案，监控日志、服务器健康状况（如磁盘空间、CPU、内存和网络活动）。
- en: Document the host information
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 记录主机信息
- en: Finally, you should have proper documents which include host information such
    as the system name, IP address, MAC address, asset tag, and owner information.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你应该有适当的文档，包含主机信息，如系统名称、IP地址、MAC地址、资产标签和所有者信息。
- en: Authentication NTLM versus Kerberos
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 身份验证 NTLM 与 Kerberos
- en: '**NT LAN Manager** (**NTLM**) and Kerberos are both authentication protocols
    that do not play any role in terms of authorization. NTLM is a proprietary authentication
    protocol developed by Microsoft, whereas Kerberos is a standard protocol. Starting
    with Win2K, Microsoft implements Kerberos as the default authentication protocol
    for the Windows OS. However, if the Kerberos protocol is not negotiated for some
    reason, then **Active Directory** (**AD**) will use LM, NTLM, or **NTLM version
    2** (**NTLMv2**).'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '**NT LAN Manager** (**NTLM**) 和 Kerberos 都是身份验证协议，但它们在授权方面不起作用。NTLM是微软开发的专有身份验证协议，而Kerberos是标准协议。从Win2K开始，微软将Kerberos作为Windows操作系统的默认身份验证协议。然而，如果因为某些原因无法协商使用Kerberos协议，那么**Active
    Directory** (**AD**) 将使用LM、NTLM或**NTLM版本2** (**NTLMv2**)。'
- en: 'Kerberos is a cryptographic network protocol that works for authenticating
    users to resources, which involves a client, server, and a **Key Distribution
    Center** (**KDC**). Kerberos was named after Cerberus, the three-headed dog of
    Greek mythology, because of its three components. KDC has two components: an **Authentication
    Server** and a **Ticket Granting Service**, as well as the **Client** and the
    **Print Server** that the Client wants to access, as shown in the following diagram:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: Kerberos 是一种加密网络协议，用于对用户进行身份验证以访问资源，它涉及客户端、服务器和 **Key Distribution Center**（**KDC**）。Kerberos
    的名字来源于希腊神话中的三头犬 Cerberus，因为它有三个组成部分。KDC 由 **Authentication Server** 和 **Ticket
    Granting Service** 两个部分组成，同时还有客户端和客户端想要访问的 **Print Server**，如以下图所示：
- en: '![](Images/b627e6c4-7223-420c-b78a-1b7bce774efa.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/b627e6c4-7223-420c-b78a-1b7bce774efa.png)'
- en: 'Let''s try to understand the process step by step:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们一步步理解这个过程：
- en: For network domain authentication, a Client provides a username and a password,
    which is validated by the Authentication Server, a component of KDC.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于网络域身份验证，客户端提供用户名和密码，由 KDC 的认证服务器进行验证。
- en: The KDC grants a **Ticket Getting Ticket** (**TGT**) with a default duration
    of 10 hours.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: KDC 会授予一个 **Ticket Getting Ticket**（**TGT**），其默认有效期为 10 小时。
- en: When the client attempts to access the Print Server in the domain, the TGT is
    used to make the request instead of entering credentials again and again. The
    Client obtains a service ticket from the Ticket Granting Server, a component of
    KDC.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当客户端尝试访问域中的打印服务器时，TGT 被用来发起请求，而不是一次又一次地输入凭证。客户端从 KDC 的一个组件 Ticket Granting Server
    获取服务票证。
- en: A service ticket is created for the Client and the Server that the Client wants
    to access. The service ticket consists of a ticket and a session key.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 服务票证是为客户端和客户端想要访问的服务器创建的。服务票证由票证和会话密钥组成。
- en: The Client presents the service ticket to create a session with the service
    on the Server. The Server uses its key to decrypt the information from the TGS,
    and the Client is authenticated to the Server.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 客户端提供服务票证以创建与服务器上服务的会话。服务器使用其密钥解密来自 TGS 的信息，并对客户端进行身份验证。
- en: 'The major differences can be seen in the following table:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 主要的区别可以在下表中看到：
- en: '![](Images/b12f93ae-23c9-4557-8c12-b59b36099f33.png)System admins need to make
    sure they run Kerberos by default. In any scenarios where you need to turn on
    NTLM, it should be used with caution, keeping risks in mind.'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/b12f93ae-23c9-4557-8c12-b59b36099f33.png)系统管理员需要确保默认运行 Kerberos。在任何需要启用
    NTLM 的情况下，都应谨慎使用，并牢记风险。'
- en: Password policies
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 密码策略
- en: 'Passwords are an important characteristic of computer security. A poorly constructed,
    weak password may result in unauthorized access or exploitation of organization
    IT resources. This password construction guideline applies to all passwords, including
    (but not limited to) user-level accounts, system-level accounts, web accounts,
    email accounts, and local router logins. On a Windows system, you can run `secpol.msc`
    from the Command Prompt:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 密码是计算机安全的重要特征。构建不当或弱密码可能导致未经授权的访问或滥用组织的 IT 资源。此密码构建指南适用于所有密码，包括（但不限于）用户级账户、系统级账户、Web
    账户、电子邮件账户和本地路由器登录。在 Windows 系统上，您可以从命令提示符运行 `secpol.msc`：
- en: '![](Images/1461fc27-69e3-45c0-ad72-3bf71e46feca.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/1461fc27-69e3-45c0-ad72-3bf71e46feca.png)'
- en: 'Strong passwords have the following characteristics:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 强密码具有以下特点：
- en: They contain at least twelve alphanumeric characters
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们至少包含十二个字母数字字符
- en: They contain both upper and lowercase letters
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们包含大写字母和小写字母
- en: They contain at least one number (for example, 0-9)
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们至少包含一个数字（例如，0-9）
- en: They contain at least one special character (for example, !$%^*()_+|~-=\`{}[]:";'?,/)
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们至少包含一个特殊字符（例如，!$%^*()_+|~-=\`{}[]:";'?,/）
- en: 'Following are some of the password policies we must remember:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们必须记住的一些密码策略：
- en: '**Protect your password**:It is very challenging to remember your password
    without writing it down somewhere, so choose a strong password or passphrase that
    you will easily remember. If you have a lot of passwords, you can use password
    management tools or vaults, but make sure you choose a strong master key and remember
    it. Change your password periodically. Even if it hasn''t been compromised, you
    can set a policy to change the password every 90 days, as a standard guideline.
    Do not use the same password for multiple websites containing sensitive information.'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**保护你的密码**：记住密码而不将其写在某个地方是非常具有挑战性的，因此请选择一个你容易记住的强密码或密码短语。如果你有很多密码，可以使用密码管理工具或保险库，但务必选择一个强大的主密钥并记住它。定期更改密码，即使它没有被泄露，你也可以设置一个每90天更改一次密码的政策，作为标准指南。不要为包含敏感信息的多个网站使用相同的密码。'
- en: '**Set a lockout policy**: We''ve all forgotten a password at some point, and
    it has taken a few tries to get back into the system. However, you should set
    an acceptable number of login attempts that when exceeded with unsuccessful attempts,
    will lock the user out. This will protect your system from any type of Brute-Force
    attack.'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设置锁定策略**：我们都曾在某个时刻忘记过密码，并且经过几次尝试才能重新进入系统。然而，你应该设置一个可接受的登录尝试次数，当尝试失败次数超过时，将锁定用户。这将保护你的系统免受任何类型的暴力破解攻击。'
- en: '**Enforce password history**:This security setting determines the number of
    unique new passwords that have to be associated with a user account before an
    old password can be reused. The value must be between zero and twenty four passwords
    on domain controllers.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**强制密码历史**：此安全设置确定在可以重新使用旧密码之前，必须与用户帐户关联的唯一新密码的数量。该值必须在零到二十四个密码之间，适用于域控制器。'
- en: '**Minimum password age**: This setting determines the minimum number of days
    a password must be in use before it can be changed. Only when the minimum password
    age expires are users allowed to change their password. This ensures that users
    don''t change their password too often. The value can be set between zero and
    nine hundred and ninety-nine days. The default value is one for domain controllers
    and zero for standalone servers.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最小密码使用期限**：此设置确定密码必须使用的最短天数才能更改。只有当最小密码使用期限到期时，用户才允许更改密码。这确保用户不会更频繁地更改密码。该值可以设置为零到九百九十九天之间。域控制器的默认值为一，独立服务器的默认值为零。'
- en: '**Minimum password length**:This setting determines the minimum number of characters
    a password should contain. The value can be set between zero and fourteen. The
    default value is seven on domain controllers and zero on stand-alone servers.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最小密码长度**：此设置确定密码应包含的最小字符数。该值可以设置为零到十四之间。域控制器的默认值为七，独立服务器的默认值为零。'
- en: Server-level permissions
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务器级别权限
- en: 'In an organization, firstly you need to identify assets based on the type of
    server, where each server has a specific role to perform. Server-level roles are
    server-wide in their permissions scope. You can add server-level principals (server
    logins, user accounts, and Windows security groups) into server-level roles. Security
    groups can provide an efficient way to assign access to resources on your network:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个组织中，首先你需要根据服务器的类型识别资产，每个服务器都有一个特定的角色要执行。服务器级别的角色在权限范围内是全局性的。你可以将服务器级别的主体（服务器登录、用户帐户和Windows安全组）添加到服务器级别的角色中。安全组可以提供一种高效的方式来分配对网络资源的访问权限：
- en: '**Security groups in Active Directory**:User rights are assigned to a security
    group to determine what members of that group can do within the scope of a domain
    or forest. For example, default domain admins have full permission on all server
    parts of that specific domain irrespective of server roles. However, we can create
    user defined groups and add the required user account to that group to limit access.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Active Directory中的安全组**：用户权限分配给安全组，以确定该组成员在域或森林的范围内可以执行哪些操作。例如，默认域管理员对该特定域的所有服务器部分具有完全权限，无论服务器角色如何。然而，我们可以创建用户定义的组并将所需的用户帐户添加到该组，以限制访问权限。'
- en: '**Windows service accounts**: There are applications that run on Windows servers
    that need an account that is specific to that service. A service account helps
    in solving this problem and acts as a user identity that is associated with a
    service executable for the purpose of providing a security context for that service.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows服务账户**：一些在Windows服务器上运行的应用程序需要专门的账户来运行。服务账户可以帮助解决这个问题，它作为一个用户身份，与服务可执行文件关联，为该服务提供安全上下文。'
- en: Server antivirus and malware protection
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务器防病毒与恶意软件保护
- en: Understanding the difference between malware, spyware, trojans, ransomware,
    scareware, and viruses is very important. For example, a computer virus is the
    most famous type of malware. *Malware* is short for malicious software or code
    and is used as a single term to refer to a virus, spyware, worm, and so on, written
    to disrupt, exploit, steal data, or disable computers over networks. It is important
    that all users know how to recognize and protect themselves from malware in all
    of its forms. By nature, computer viruses and worms spread by making copies of
    themselves. Most of us feel that a firewall does protect us from malware, but,
    in reality, normal stateful (we will discuss how stateful firewalls work in detail
    in the [Chapter 10](8f12cf3b-642b-4bef-a5ec-431ebeef98c9.xhtml), *Firewall Placement
    and Detection Techniques*) firewalls don't protect against malicious content on
    websites, but anti-malware protects servers and workstations. I would like to
    clarify here that next-generation firewalls come with antivirus and malware protection,
    but it has to be configured for the traffic you would like to inspect. You still
    need endpoint protection.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 理解恶意软件、间谍软件、木马病毒、勒索病毒、恐吓软件和计算机病毒之间的区别非常重要。例如，计算机病毒是最著名的恶意软件类型。*恶意软件*是恶意软件或代码的缩写，是一个统一的术语，用于指代病毒、间谍软件、蠕虫等，这些软件通过网络破坏、利用、窃取数据或禁用计算机。所有用户都必须了解如何识别并保护自己免受各种形式的恶意软件侵害。由于其特性，计算机病毒和蠕虫通过自我复制传播。大多数人认为防火墙能够保护我们免受恶意软件侵害，但实际上，正常的有状态防火墙（我们将在[第10章](8f12cf3b-642b-4bef-a5ec-431ebeef98c9.xhtml)，*防火墙部署与检测技术*中详细讨论有状态防火墙的工作原理）并不能保护我们免受网站上的恶意内容侵害，而反恶意软件则能保护服务器和工作站。在这里我想澄清的是，下一代防火墙通常配备有防病毒和恶意软件保护功能，但需要根据您希望检查的流量进行配置。您仍然需要端点保护。
- en: 'A robust antivirus software package is the primary layer of technological defenses
    that every personal and business computer system must have. Well-designed antivirus
    protection comes with several characteristics:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 一款强大的防病毒软件包是每个个人和企业计算机系统必须具备的主要技术防御层。设计良好的防病毒保护具有以下几个特点：
- en: Ransomware protection
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 勒索病毒保护
- en: Malware protection
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意软件保护
- en: Web security
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网站安全
- en: Email security
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电子邮件安全
- en: Scan engine
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扫描引擎
- en: Anti-keylogger
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 反键盘记录器
- en: The WannaCry ransomware outbreak infected millions of Windows based systems
    across the globe in May 2017\. WannaCry searches for and encrypts 176 different
    file types. The ransom note indicates that the payment amount will be doubled
    after three days. If payment is not made after seven days, it claims that the
    encrypted files will be deleted. WannaCry has affected individuals, as well as
    government organizations, hospitals, and universities. You can finally remove
    WannaCry using an antivirus software, but unfortunately this doesn't magically
    decrypt your files owing to a strong combined encryption of AES-128 with the RSA-2048
    being used.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: WannaCry勒索病毒在2017年5月感染了全球数百万基于Windows的系统。WannaCry会搜索并加密176种不同的文件类型。勒索信中指出，支付金额将在三天后翻倍。如果七天内未支付，信中表示加密的文件将被删除。WannaCry已经影响了个人用户，以及政府机构、医院和大学。你最终可以通过防病毒软件移除WannaCry，但不幸的是，由于使用了AES-128与RSA-2048的强加密方式，这并不会神奇地解密你的文件。
- en: To stay safe from WannaCry ransomware attacks, it's important to keep your software,
    especially your operating system, up to date. It is recommended to install a second
    layer of protection through an endpoint antivirus package.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 为了防止WannaCry勒索病毒攻击，保持软件更新，尤其是操作系统，是非常重要的。建议通过端点防病毒软件安装第二层保护。
- en: Local security policies
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本地安全策略
- en: 'Local security polices are specific to local systems or machines. This makes
    it possible to enforce many systems, user- and security-related settings, such
    as password policies, audit policies and user permissions. Most of the default
    policy settings in Windows are okay, but a few need adjustments for enhanced security. These
    policies can be modified using the local group policy editor, which normally contains
    account policies, local policies, firewalls, security, and so on. On a Windows
    system, you can access the policy editor by running the `gpedit.msc` command, using
    the Command Prompt. The following screenshot shows the Local Group Policy Editor:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 本地安全策略是特定于本地系统或机器的。这使得可以强制执行许多系统、用户和安全相关的设置，例如密码策略、审计策略和用户权限。大多数 Windows 默认的策略设置是可以接受的，但有一些需要调整以增强安全性。这些策略可以通过本地组策略编辑器进行修改，该编辑器通常包含帐户策略、本地策略、防火墙、安全等内容。在
    Windows 系统上，您可以通过运行`gpedit.msc`命令并使用命令提示符来访问策略编辑器。以下截图显示了本地组策略编辑器：
- en: '![](Images/6296810d-a30e-45ef-a658-aeaf0eda9732.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/6296810d-a30e-45ef-a658-aeaf0eda9732.png)'
- en: Summary
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: No matter how secure your network infrastructure is and no matter what services
    your server runs, there are certain basic hardening techniques you must apply.
    In this chapter, we focused specifically on hardening steps that apply to any
    server. In particular, we discussed the physical security of server resources,
    followed by disk encryption techniques one can use for on-premises and cloud infrastructure.
    We have established that almost every server has some sort of internet-facing
    connectivity and has to be protected by antivirus and malware solutions. To complement
    these security solutions, we can also harden our servers and adjust local security
    polices and permissions. Finally, we discussed some server management techniques
    to restrict access to a specific set of IP addresses for SSH and RDP services.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 无论您的网络基础设施有多安全，也无论您的服务器运行哪些服务，您都必须应用一些基本的强化技术。在本章中，我们特别关注适用于任何服务器的硬化步骤。我们讨论了服务器资源的物理安全，然后介绍了可以用于本地和云基础设施的磁盘加密技术。我们已经确定几乎每台服务器都有某种面对互联网的连接，并且必须通过防病毒和恶意软件解决方案进行保护。为了补充这些安全解决方案，我们还可以强化我们的服务器，并调整本地安全策略和权限。最后，我们讨论了一些服务器管理技术，用于限制对特定
    IP 地址集的 SSH 和 RDP 服务访问。
- en: Questions
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What is not a good practice associated with password policies?
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与密码策略相关的不良做法是什么？
- en: Deciding the maximum age of a password
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 决定密码的最大使用期限
- en: Restricting password reuse and history
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 限制密码重用和历史记录
- en: Encrypting passwords
  id: totrans-145
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加密密码
- en: Changing a password every two years
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每两年更改一次密码
- en: What is not a feature of encryption?
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么不是加密的特点？
- en: Protecting data from unauthorized access during transmission
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保护数据在传输过程中免受未经授权的访问
- en: Ensuring user authentication
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保用户身份验证
- en: Ensuring data integrity
  id: totrans-150
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保数据完整性
- en: Ensuring data corruption doesn't occur
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保数据不发生损坏
- en: What is not an encryption standard?
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么不是加密标准？
- en: AES
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AES
- en: TES
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: TES
- en: Triple DES
  id: totrans-155
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 三重 DES
- en: DES
  id: totrans-156
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: DES
- en: What is the role of the Key Distribution Center?
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 密钥分发中心的作用是什么？
- en: It is used to distribute keys to everyone in the world
  id: totrans-158
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它用于将密钥分发给全世界的每个人
- en: It is intended to reduce the inherent risks of exchanging keys
  id: totrans-159
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其目的是减少交换密钥时的固有风险
- en: All of the above
  id: totrans-160
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上所有
- en: None of the above
  id: totrans-161
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上都不是
- en: Ideally, what characters should you use in a password to make it strong?
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 理想情况下，应该在密码中使用哪些字符来确保其强度？
- en: Letters and numbers only
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅限字母和数字
- en: Mixed case (upper and lower) characters
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 混合大小写字母（大写和小写）
- en: Special characters
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 特殊字符
- en: All of the above
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上所有
- en: Further reading
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'For more information, you can refer to the following links:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 如需更多信息，您可以参考以下链接：
- en: '[https://www.kerberos.org/software/tutorial.html](https://www.kerberos.org/software/tutorial.html)'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.kerberos.org/software/tutorial.html](https://www.kerberos.org/software/tutorial.html)'
- en: '[https://www.symantec.com/content/en/us/enterprise/white_papers/b-how-drive-encryption-works_WP_21275920.pdf](https://www.symantec.com/content/en/us/enterprise/white_papers/b-how-drive-encryption-works_WP_21275920.pdf)'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.symantec.com/content/en/us/enterprise/white_papers/b-how-drive-encryption-works_WP_21275920.pdf](https://www.symantec.com/content/en/us/enterprise/white_papers/b-how-drive-encryption-works_WP_21275920.pdf)'
- en: '[https://blogs.msdn.microsoft.com/azuresecurity/2016/01/22/azure-disk-encryption-white-paper-updated/](https://blogs.msdn.microsoft.com/azuresecurity/2016/01/22/azure-disk-encryption-white-paper-updated/)'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://blogs.msdn.microsoft.com/azuresecurity/2016/01/22/azure-disk-encryption-white-paper-updated/](https://blogs.msdn.microsoft.com/azuresecurity/2016/01/22/azure-disk-encryption-white-paper-updated/)'
