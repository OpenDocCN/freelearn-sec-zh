- en: Chapter 3. Network Vulnerability Assessment
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第3章。网络漏洞评估
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下内容：
- en: Using nmap for manual vulnerability assessment
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用nmap进行手动漏洞评估
- en: Integrating nmap with Metasploit
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将nmap与Metasploit集成
- en: Walkthrough of Metasploitable assessment with Metasploit
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Metasploit进行Metasploitable评估的详细步骤
- en: Vulnerability assessment with OpenVAS framework
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用OpenVAS框架进行漏洞评估
- en: Introduction
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: Previously, we covered the discovery of live servers over the network along
    with service enumeration. Here, we will discuss what a vulnerability assessment
    is. A vulnerability assessment is a process in which a tester aims to determine
    the services running on the ports and check if they are vulnerable. Vulnerabilities
    when exploited can lead us to have unauthenticated access, denial of service,
    or information leakage. Vulnerability assessment is essential as it gives us a
    holistic picture of the security of the network being tested.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 之前，我们已经涵盖了在网络上发现活动服务器以及服务枚举。在这里，我们将讨论什么是漏洞评估。漏洞评估是一个过程，测试人员旨在确定端口上运行的服务，并检查它们是否存在漏洞。当利用漏洞时，可能会导致我们获得未经身份验证的访问、拒绝服务或信息泄露。漏洞评估是必不可少的，因为它给我们提供了被测试网络安全的全面图景。
- en: 'In this chapter, we will be checking whether services running on open ports
    have vulnerabilities. It is vital to know the operating system on which the service
    is running since it is one of the crucial factors in reconnaissance for vulnerability
    discovery where remote code execution is involved. The reason is that the same
    services on different operating systems will have different exploits due to architecture
    difference. Let''s talk about one vulnerability: the SMB service, which is vulnerable
    as per MS08-067 netapi vulnerability. This vulnerability persists on old Windows
    systems, but not on the new ones. For example, Windows XP is vulnerable to this
    attack; however, Windows Vista is not because it got patched. Hence, it is really
    important to have the map of what OS and service pack version the system is running,
    along with the service on the open port, if you are to find any vulnerabilities.
    In this chapter, we will be learning different ways in which we can detect vulnerabilities
    over target IPs.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将检查运行在开放端口上的服务是否存在漏洞。了解服务运行的操作系统非常重要，因为这是在涉及远程代码执行的漏洞发现中的关键因素之一。原因是不同操作系统上的相同服务由于架构差异将具有不同的漏洞利用。让我们谈谈一个漏洞：SMB服务，根据MS08-067
    netapi漏洞是易受攻击的。这个漏洞存在于旧的Windows系统上，但在新系统上不存在。例如，Windows XP容易受到这种攻击的影响；然而，Windows
    Vista不会，因为它已经修补了。因此，了解系统正在运行的操作系统和服务包版本，以及开放端口上的服务，如果要发现任何漏洞，这是非常重要的。在本章中，我们将学习在目标IP上检测漏洞的不同方法。
- en: Using nmap for manual vulnerability assessment
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用nmap进行手动漏洞评估
- en: By now it is evident that nmap plays a very important role right from IP discovery.
    Nmap also has a vulnerability assessment functionality, which is achieved via
    the **Nmap Scripting Engine** (**NSE**). It allows the user to run vulnerability
    detection scripts. The NSE contains a very large set of scripts that range right
    from discovery to exploitation. These scripts are available in the `nmap` folder,
    and are segregated by their categories. These categories can be better understood
    by reading the `scripts.db` file, located in the `nmap` folder. However, in this
    chapter we will limit ourselves to vulnerability detection.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，很明显nmap从IP发现开始就扮演着非常重要的角色。nmap还具有漏洞评估功能，通过**Nmap脚本引擎**（**NSE**）实现。它允许用户运行漏洞检测脚本。NSE包含一组非常庞大的脚本，涵盖了从发现到利用的各种脚本。这些脚本位于`nmap`文件夹中，并按其类别进行了分离。可以通过阅读位于`nmap`文件夹中的`scripts.db`文件更好地理解这些类别。然而，在本章中，我们将限制自己只进行漏洞检测。
- en: Getting ready
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In order to begin this chapter, we will be using nmap to check the NSE scripts
    located in nmap under the `scripts` folder. For demonstration purposes, we will
    be using Metasploitable 2 and Windows XP SP1.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 为了开始本章，我们将使用nmap来检查位于`scripts`文件夹下的nmap中的NSE脚本。为了演示目的，我们将使用Metasploitable 2和Windows
    XP SP1。
- en: How to do it...
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'The steps for this recipe are as follows:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 此食谱的步骤如下：
- en: 'We should first see where the NSE scripts are located. Type the following command:'
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们应该首先看看NSE脚本的位置。输入以下命令：
- en: '[PRE0]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_001.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_001.jpg)'
- en: 'In order to understand all the different categories that these scripts belong
    to, type:'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了了解这些脚本属于的所有不同类别，输入：
- en: '[PRE1]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_002.jpg)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_002.jpg)'
- en: 'You might notice from the preceding screenshot that there is a category called
    `vuln`. We will be working mainly with this category. To run a simple `vuln` category
    scan, use the following command on your terminal window:'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可能会注意到前面的截图中有一个名为`vuln`的类别。我们将主要使用这个类别。要运行简单的`vuln`类别扫描，请在终端窗口上使用以下命令：
- en: '[PRE2]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Let''s say we want a quick assessment of just a few sets of ports. We can run
    a port-based `vuln` assessment scan:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设我们只想快速评估几组端口。我们可以运行基于端口的`vuln`评估扫描：
- en: '[PRE3]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_003.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_003.jpg)'
- en: 'We can see that it revealed a lot of information, and showed us many possible
    attack vectors; it even detected the SQL injection for a potential attack:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到它揭示了很多信息，并向我们展示了许多可能的攻击向量；它甚至检测到了SQL注入以进行潜在攻击：
- en: '![How to do it...](img/image_03_004.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_004.jpg)'
- en: 'Let''s say we want to know the detail of what the script category `vuln` does.
    We can simply check that by typing the following command in the terminal:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设我们想知道脚本类别`vuln`的详细信息。我们可以通过在终端中输入以下命令来简单检查：
- en: '[PRE4]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_005.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![操作步骤...](img/image_03_005.jpg)'
- en: 'Let''s check whether the remote machine that is running is vulnerable to SMB.
    We first find out whether the SMB port is open:'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们检查远程运行的机器是否容易受到SMB的攻击。我们首先找出SMB端口是否开放：
- en: '[PRE5]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_006.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![操作步骤...](img/image_03_006.jpg)'
- en: 'Once we detect that the port is open, we run an `smb` vulnerability detection
    script, shown as follows:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦我们检测到端口是开放的，我们运行一个`smb`漏洞检测脚本，如下所示：
- en: '[PRE6]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_007.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![操作步骤...](img/image_03_007.jpg)'
- en: So, one can use the various scripts available in nmap with the category of `vuln`
    to perform an assessment over the target IP and find vulnerabilities based on
    the port and services running.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，可以使用nmap中可用的各种带有`vuln`类别的脚本对目标IP进行评估，并根据端口和服务运行情况找出漏洞。
- en: How it works...
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: 'Understanding all the parameters is rather easy; we have been toying with the
    scripts available in the NSE engine. Let''s understand a few of the commands used
    in this method:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 理解所有参数相当容易；我们一直在玩NSE引擎中可用的脚本。让我们了解一下这种方法中使用的一些命令：
- en: The `scripts.db` file contains all the NSE categorizing information that it
    uses to specify which scripts can be considered a particular kind of vulnerability.
    There are different categories, such as `auth`, `broadcast`, `brute`, `default`,
    `dos`, `discovery`, `exploit`, `external`, `fuzzer`, `intrusive`, `malware`, `safe`,
    `version`, and `vuln`.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scripts.db`文件包含了所有NSE分类信息，用于指定哪些脚本可以被视为特定类型的漏洞。有不同的类别，如`auth`、`broadcast`、`brute`、`default`、`dos`、`discovery`、`exploit`、`external`、`fuzzer`、`intrusive`、`malware`、`safe`、`version`和`vuln`。'
- en: In the preceding example, we ran an `nmap` command with the `vuln` parameter
    along for the script. We were simply instructing nmap to use the `vuln` category
    and run all the scripts that are categorized under `vuln`.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在前面的示例中，我们使用了带有`vuln`参数的`nmap`命令。我们只是指示nmap使用`vuln`类别并运行所有类别为`vuln`的脚本。
- en: Note
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The scan for this takes a long time as it will run many vulnerability assessments
    on many detected open ports.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这个扫描需要很长时间，因为它将在许多检测到的开放端口上运行许多漏洞评估。
- en: At one point, we specified an additional port parameter to the `vuln` category
    scan. This just makes sure that the script only runs for the specified ports and
    not the other ones, thereby saving us a lot of time.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某个时候，我们为`vuln`类别扫描指定了一个额外的端口参数。这只是确保脚本仅在指定的端口上运行，而不是其他端口，从而节省了我们大量的时间。
- en: The `--script-help <filename>|<category>|<directory>|<expression>|all[,...]`
    command is the help feature for the NSE engine. The `help` command should always
    be accompanied by the category or a specific filename of the NSE script, or an
    expression. For example, to check for all SMB-related help, one can simply use
    the expression `*smb*`.
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--script-help <filename>|<category>|<directory>|<expression>|all[,...]`命令是NSE引擎的帮助功能。`help`命令应始终与NSE脚本的类别或特定文件名或表达式一起使用。例如，要检查所有与SMB相关的帮助，可以简单地使用表达式`*smb*`。'
- en: In the `--script-args=unsafe=1` command, the `script-args` syntax is similar
    to the additional parameters to be passed to the script that we just selected;
    in this scenario, we are passing an additional `unsafe` parameter with the value
    `1`, stating that the script has permission to run dangerous scripts that could
    cause a service crash.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`--script-args=unsafe=1`命令中，`script-args`语法类似于要传递给我们刚选择的脚本的附加参数；在这种情况下，我们正在传递一个额外的`unsafe`参数，值为`1`，表示脚本有权限运行可能导致服务崩溃的危险脚本。
- en: There's more...
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: We have learned how to use the NSE for vulnerability assessment. The `script-args`
    parameter is used for many purposes, such as providing the file for username and
    passwords, specifying the credentials for a given service so that the NSE can
    extract information, post authentication, and so on. This is recommended so that
    you have a deeper insight of the `script-args` feature.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经学会了如何使用NSE进行漏洞评估。`script-args`参数用于许多目的，例如提供用户名和密码的文件，指定给定服务的凭据，以便NSE可以在认证后提取信息等。这是建议的，以便您更深入地了解`script-args`功能。
- en: See also...
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅...
- en: More information can be found in the NSE documentation at  [https://nmap.org/book/nse-usage.html](https://nmap.org/book/nse-usage.html)
    .
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更多信息可以在NSE文档中找到，网址为[https://nmap.org/book/nse-usage.html](https://nmap.org/book/nse-usage.html)。
- en: Integrating nmap with Metasploit
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将nmap与Metasploit集成
- en: Performing a vulnerability assessment with only nmap is insufficient since vulnerabilities
    keep increasing in number, day after day. There are many vulnerabilities reported
    within a month, and therefore it is recommended that you make use of more than
    one vulnerability scanning tool. In the previous chapter, we saw how we can export
    the output of the nmap scan to an XML file; here, we will learn how to integrate
    the nmap output with Metasploit for vulnerability assessment purposes.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 仅使用nmap进行漏洞评估是不够的，因为漏洞数量日益增加。一个月内报告了许多漏洞，因此建议您使用多个漏洞扫描工具。在上一章中，我们看到了如何将nmap扫描的输出导出到XML文件；在这里，我们将学习如何将nmap输出与Metasploit集成，用于漏洞评估。
- en: Getting ready
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: We will have to first set up and update Metasploit in the Kali Linux machine.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先需要在Kali Linux机器上设置和更新Metasploit。
- en: One thing to note is that, for demonstration purposes, we have added more services
    to the Windows operating system to understand the activity better, since by default
    only a handful of ports are shown open. To prepare for the activity, we perform
    a scan on the Windows machine and save an XML output for the same.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的一点是，为了演示目的，我们已经向Windows操作系统添加了更多服务，以更好地了解活动，因为默认情况下只有少数端口是开放的。为了准备这项活动，我们对Windows机器进行了扫描，并保存了相同的XML输出。
- en: How to do it...
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作步骤...
- en: 'We will first save the nmap XML file for the Metasploitable 2 server using
    the following command:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将使用以下命令将nmap XML文件保存为Metasploitable 2服务器：
- en: '[PRE7]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The file will be saved in the current working directory of your terminal.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 文件将保存在您终端的当前工作目录中。
- en: 'In order to start Metasploit, we will start the services involved in the Metasploit
    program. We will start the Postgres SQL service and the Metasploit service. To
    do this, use the following command:'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了启动Metasploit，我们将启动Metasploit程序中涉及的服务。我们将启动Postgres SQL服务和Metasploit服务。要做到这一点，请使用以下命令：
- en: '[PRE8]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_008.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_008.jpg)'
- en: 'Once the service is started, we''ll start Metasploit by entering the following
    in the command line:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦服务启动，我们将通过在命令行中输入以下内容来启动Metasploit：
- en: '[PRE9]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_009.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_009.jpg)'
- en: 'First, we will import the nmap scan into Metasploit. To do so, enter the following
    command:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将把nmap扫描导入Metasploit。为此，请输入以下命令：
- en: '[PRE10]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The command imports the file from the specified path. Make sure to keep a note
    to import from the path where the reader has stored the file.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 该命令从指定路径导入文件。请确保记下从读者存储文件的路径导入。
- en: '![How to do it...](img/image_03_010.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_010.jpg)'
- en: 'Once the import is successful, we will search for the IP running the SMB service,
    using the following command in Metasploit:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦导入成功，我们将在Metasploit中使用以下命令搜索运行SMB服务的IP：
- en: '[PRE11]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The output for this will be as follows:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 这将产生以下输出：
- en: '![How to do it...](img/image_03_011.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_011.jpg)'
- en: 'Now that we have found that there is a port of interest, we will try to dig
    deeper. Let''s try to display the SMB shares. Enter the following in the Metasploit
    console:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们已经发现有一个感兴趣的端口，我们将尝试深入挖掘。让我们尝试显示SMB共享。在Metasploit控制台中输入以下内容：
- en: '[PRE12]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_012.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_012.jpg)'
- en: In order to list the available shares, we will run the scanner auxiliary module.
    Simply type `run` or `exploit` in the Metasploit console; both commands work for
    the job.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了列出可用的共享，我们将运行扫描器辅助模块。只需在Metasploit控制台中输入`run`或`exploit`，这两个命令都可以完成工作。
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截屏所示：
- en: '![How to do it...](img/image_03_013.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_013.jpg)'
- en: 'As we can see, we were able to receive the details of one IP address. Let''s
    look a little closer at the live host. We will try to enumerate the type of pipe
    auditors available for this host. Type the following in the Metasploit console:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正如我们所看到的，我们能够收到一个IP地址的详细信息。让我们更仔细地查看一下活动主机。我们将尝试枚举此主机可用的管道审计员类型。在Metasploit控制台中输入以下内容：
- en: '[PRE13]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: A named pipe serves as an endpoint for communication; it is a logical connection
    between the client and the server; an `smb` name pipe is related to the connection
    with respect to Server Message blog. If we are lucky, we might be able to retrieve
    information like available public shares.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 命名管道用作通信的端点；它是客户端和服务器之间的逻辑连接；`smb`命名管道与与Server Message Block相关的连接有关。如果我们幸运的话，我们可能能够检索到像可用的公共共享这样的信息。
- en: 'Once you are done, you can check that all the parameters are entered properly.
    Since there are a few tabs that must be entered before the exploit can be checked
    for the attack, you can use the following command:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，您可以检查所有参数是否正确输入。由于在检查攻击之前必须输入一些选项卡，您可以使用以下命令：
- en: '[PRE14]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'It should look like this:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 它应该是这样的：
- en: '![How to do it...](img/image_03_014.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_014.jpg)'
- en: 'After checking online for any vulnerability on the given port, it was found
    that SMB shares are vulnerable to `ms08_067_netapi` attacks for all Windows versions
    earlier than Windows XP Service Pack 2\. Let''s try and find out if our live host
    is vulnerable to this attack. Enter the following to load the `ms08_067_netapi`
    module in the Metasploit window:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在检查给定端口的漏洞时，发现SMB共享对于早于Windows XP Service Pack 2的所有Windows版本都容易受到`ms08_067_netapi`攻击。让我们尝试找出我们的活动主机是否容易受到这种攻击。在Metasploit窗口中输入以下内容以加载`ms08_067_netapi`模块：
- en: '[PRE15]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'To check if the IP is vulnerable, use the `check` command and you will get
    the output stating if it can be a successful attack vector:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查IP是否存在漏洞，请使用`check`命令，您将得到输出，说明它是否可能是一个成功的攻击向量：
- en: '![How to do it...](img/image_03_015.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_015.jpg)'
- en: As you can see, the target is vulnerable.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的，目标是有漏洞的。
- en: How it works...
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: 'As you can see, we first imported the nmap result into Metasploit. This is
    very convenient when we have a bulk list of IP outputs in nmap, as we can import
    all of them and, at our convenience, perform the vulnerability assessment phase.
    Let us have a look at the understanding of all preceding the commands we used:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，我们首先将nmap结果导入到Metasploit中。当我们在nmap中有大量IP输出时，这非常方便，因为我们可以导入所有这些IP，并在方便的时候执行漏洞评估阶段。让我们来看看我们使用的所有命令的理解：
- en: '`service postgresql start`: This starts the Postgres SQL service.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`service postgresql start`：这将启动Postgres SQL服务。'
- en: '`service metasploit start`: This starts the Metasploit client service'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`service metasploit start`：这将启动Metasploit客户端服务'
- en: '`msfconsole`: This starts the Metasploit console'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`msfconsole`：这将启动Metasploit控制台'
- en: '`db_import`: This command allows Metasploit to import the nmap result from
    the XML file and adds it to the database containing the host list with all the
    information available via nmap'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`db_import`：此命令允许Metasploit从XML文件中导入nmap结果，并将其添加到包含通过nmap获得的所有信息的主机列表的数据库中'
- en: '`services -p ( port no) -R`: This command shows the service running on the
    specified port and, if an IP exists which satisfies the criteria, then it would
    add it to the Metasploit host list via the `-R` command'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`services -p（端口号）-R`：此命令显示在指定端口上运行的服务，如果存在满足条件的IP，则会通过`-R`命令将其添加到Metasploit主机列表中'
- en: '`use <scanning module>`: The `use` command selects the type of module you want
    to select from Metasploit'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use <扫描模块>`：`use`命令选择要从Metasploit中选择的模块类型'
- en: '`check`: In certain scenarios Metasploit allows the user to run the check command
    which in turn fingerprints the service and tells us if it is vulnerable or not.
    However it will not work in cases of DDOS modules.'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`check`：在某些情况下，Metasploit允许用户运行检查命令，该命令会对服务进行指纹识别，并告诉我们它是否存在漏洞。但在DDOS模块的情况下不起作用。'
- en: There's more...
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: There are more options available in Metasploit that can help you operate different
    auxiliary modules
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Metasploit中还有更多可帮助您操作不同辅助模块的选项
- en: Walkthrough of Metasploitable assessment with Metasploit
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Metasploit进行Metasploitable评估的演练
- en: In this section, we are going to learn how to perform an assessment on a vulnerable
    server called Metasploitable 2\. This section will give you a walk through of
    some of the assessment tests that are carried out in the vulnerability assessment
    environment. Vulnerability assessment is a very extensive phase. We need to perform
    many tasks, such as finding out which ports are open on the server, what services
    are running on them, and whether the services are vulnerable. The same can be
    done by searching online for a known service vulnerability. All the information
    gathering and exploit compatibility checking can be done at the vulnerability
    assessment end. The point where we start exploiting the system for root or shell
    attacks can be termed as penetration testing.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习如何对一个名为Metasploitable 2的易受攻击的服务器进行评估。本节将为您介绍在漏洞评估环境中进行的一些评估测试。漏洞评估是一个非常广泛的阶段。我们需要执行许多任务，比如找出服务器上开放的端口，运行在这些端口上的服务，以及这些服务是否存在漏洞。同样的，也可以通过在线搜索已知的服务漏洞来完成。所有的信息收集和漏洞兼容性检查都可以在漏洞评估结束时完成。我们开始利用系统进行root或shell攻击的地方可以称为渗透测试。
- en: Getting ready...
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作...
- en: For this exercise, we will require Metasploitable 2, a deliberately created
    vulnerable virtual machine with many services which contain vulnerabilities. The
    virtual machine of this can be downloaded at ( [https://www.vulnhub.com/entry/metasploitable-2,29/](https://www.vulnhub.com/entry/metasploitable-2,29/)
    ), along with a Kali Linux machine which we already possess. We will first see
    how to install and set up the Metasploitable 2 lab in order to commence the vulnerability
    assessment.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个练习，我们需要Metasploitable 2，这是一个故意创建的虚拟机，其中包含许多含有漏洞的服务。可以在（[https://www.vulnhub.com/entry/metasploitable-2,29/](https://www.vulnhub.com/entry/metasploitable-2,29/)）下载这个虚拟机，以及我们已经拥有的Kali
    Linux虚拟机。我们将首先看看如何安装和设置Metasploitable 2实验室，以便开始漏洞评估。
- en: How to do it...
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Once the image has been downloaded, load it on the virtual machine. One can
    use either Virtual box or VMplayer; installation is as follows:![How to do it...](img/image_03_016.jpg)
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦图像被下载，将其加载到虚拟机中。可以使用Virtual box或VMplayer；安装如下：![如何操作...](img/image_03_016.jpg)
- en: Once loaded, it will be loaded into the virtual machine. It will show in the
    **Virtual** tab like this:![How to do it...](img/image_03_017.jpg)
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载后，它将加载到虚拟机中。它将显示在**虚拟**选项卡中，如下所示：![如何操作...](img/image_03_017.jpg)
- en: Configure the **Network Adapter** device to **Bridge** mode so that it acquires
    a LAN IP. For VMware users, right click on the image, click on **Settings**, and
    select the network adapter options and select bridge mode. For VirtualBox users,
    right click on the Metasploitable image, select **Settings**, go to network and
    set the **Connect to** option to **Bridged**.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**网络适配器**设备配置为**桥接**模式，以便获得LAN IP。对于VMware用户，右键单击图像，单击**设置**，选择网络适配器选项并选择桥接模式。对于VirtualBox用户，右键单击Metasploitable图像，选择**设置**，转到网络并将**连接到**选项设置为**桥接**。
- en: 'One can choose to set this to **NAT** or **Host only** mode as well; ensure
    that both the machines are on the same network setting; in **Host only** mode
    however, the user will not have access to Internet. Since this activity is conducted
    in a controlled environment, the settings have been permitted to **Bridged** network.
    However, as a reader, it is recommended that you keep these virtual machines in
    a **NAT** environment or **Host only** environment:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 用户也可以选择将其设置为**NAT**或**仅主机**模式；确保两台机器都处于相同的网络设置；然而，在**仅主机**模式下，用户将无法访问互联网。由于此活动是在受控环境中进行的，设置已被允许为**桥接**网络。然而，作为读者，建议您将这些虚拟机保持在**NAT**环境或**仅主机**环境中：
- en: '![How to do it...](img/image_03_018.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_018.jpg)'
- en: Once the same is done, power on the machine. Since we have set the connection
    to bridged, we will automatically be assigned the IP. The same can be checked
    with the `ifconfig` command. However if we are not allocated one, run `dhclient`
    in super user. The username is `msfadmin` and the password is `msfadmin`.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦完成，启动机器。由于我们已将连接设置为桥接，我们将自动分配IP。可以使用`ifconfig`命令检查。但是，如果我们没有分配一个，以超级用户身份运行`dhclient`。用户名为`msfadmin`，密码为`msfadmin`。
- en: 'We will now begin the vulnerability assessment on our Kali machine. First,
    we will perform an `nmap` scan to see the open ports on the Metasploitable 2 machine.
    Enter the following command in your Kali terminal:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在将在我们的Kali机器上开始漏洞评估。首先，我们将执行一个`nmap`扫描，以查看Metasploitable 2机器上的开放端口。在Kali终端中输入以下命令：
- en: '[PRE16]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截图所示：
- en: '![How to do it...](img/image_03_019.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_019.jpg)'
- en: 'Once the port numbers are found, we will run the information gathering modules
    or the NSE scripts for more information. Enter the following command in the terminal:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦找到端口号，我们将运行信息收集模块或NSE脚本以获取更多信息。在终端中输入以下命令：
- en: '[PRE17]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'The output provides us with a lot of information. Let''s have a look:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 输出为我们提供了大量信息。让我们来看一下：
- en: '![How to do it...](img/image_03_020.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_020.jpg)'
- en: 'The preceding screenshot shows us that the server is running `ftp`, `openssh`,
    `telnet`, `smtp`, `domain`, and so on. More information has been retrieved. Let''s
    look at the following screenshot:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的截图显示了服务器正在运行`ftp`、`openssh`、`telnet`、`smtp`、`domain`等。已检索到更多信息。让我们看看以下截图：
- en: '![How to do it...](img/image_03_021.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_021.jpg)'
- en: We can also see a `mysql` service, `postgresql` service, `vnc` service, `x11`,
    and `IRC` running on the system. Now let's start with the vulnerability assessment
    of the Metasploitable 2 server.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以看到系统上运行着`mysql`服务、`postgresql`服务、`vnc`服务、`x11`和`IRC`。现在让我们开始对Metasploitable
    2服务器进行漏洞评估。
- en: 'We will use Metasploit throughout this process. Let''s analyze the `ftp` service
    to see if it is vulnerable to any known component. If the `Rhosts` option does
    not show our target IP address, we can fill it manually. Enter the following command
    in the Metasploit console:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在整个过程中，我们将使用Metasploit。让我们分析`ftp`服务，看看它是否容易受到已知组件的攻击。如果`Rhosts`选项没有显示我们的目标IP地址，我们可以手动填写。在Metasploit控制台中输入以下命令：
- en: '[PRE18]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下截图所示：
- en: '![How to do it...](img/image_03_022.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_022.jpg)'
- en: 'We will try to use the authentication bypass for `mysql` and see if we are
    successful. Run the following command on the `msf` terminal:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将尝试使用`mysql`的身份验证绕过，看看我们是否成功。在`msf`终端上运行以下命令：
- en: '[PRE19]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下截图所示：
- en: '![How to do it...](img/image_03_023.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_023.jpg)'
- en: 'We also know that there was an `nfs` service running. Let''s run the information
    gathering module `nfsmount`. Enter the following commands:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还知道有一个运行中的`nfs`服务。让我们运行信息收集模块`nfsmount`。输入以下命令：
- en: '[PRE20]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下截图所示：
- en: '![How to do it...](img/image_03_024.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_024.jpg)'
- en: 'We can even try a brute force attack on the `postgresql` service via the `metasploit`
    module. To do this, enter the following commands in the `mfs` terminal:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们甚至可以通过`metasploit`模块对`postgresql`服务进行暴力破解攻击。要做到这一点，在`mfs`终端中输入以下命令：
- en: '[PRE21]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下截图所示：
- en: '![How to do it...](img/image_03_025.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_025.jpg)'
- en: 'There is an `smtp` service running as well. We can run the `smtp enumuser`
    script of Metasploit to list the available usernames. Run the following command
    in the `msf` terminal:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还有一个`smtp`服务正在运行。我们可以运行Metasploit的`smtp enumuser`脚本来列出可用的用户名。在`msf`终端中输入以下命令：
- en: '[PRE22]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下截图所示：
- en: '![How to do it...](img/image_03_026.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_026.jpg)'
- en: 'We performed an assessment on the VNC service as well. To do this, enter the
    following command in the `msf` terminal:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还对VNC服务进行了评估。要做到这一点，在`msf`终端中输入以下命令：
- en: '[PRE23]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下截图所示：
- en: '![How to do it...](img/image_03_027.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_027.jpg)'
- en: 'There is an `x11` plugin to check for open `x11` connections. Let''s test for
    an `x11` service running on the system. Type the following in the `msf` terminal:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有一个`x11`插件用于检查开放的`x11`连接。让我们测试系统上是否运行了`x11`服务。在`msf`终端中输入以下内容：
- en: '[PRE24]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下截图所示：
- en: '![How to do it...](img/image_03_028.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_028.jpg)'
- en: There is also an IRC channel that is running on the server on port `6667`. The
    name of the IRC is `unreal IRC`. For verification, you can run a version detection
    scan on the given port using nmap. If we Google possible exploits for this service,
    we see the following:![How to do it...](img/image_03_029.jpg)
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 服务器还在端口`6667`上运行一个IRC频道。IRC的名称是`unreal IRC`。为了验证，您可以使用nmap在给定端口上运行版本检测扫描。如果我们搜索该服务的可能漏洞，我们会看到以下内容：![如何操作...](img/image_03_029.jpg)
- en: 'By clicking on the [https://www.exploit-db.com/exploits/16922/](https://www.exploit-db.com/exploits/16922/)
    link, we see the following:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 点击[https://www.exploit-db.com/exploits/16922/](https://www.exploit-db.com/exploits/16922/)链接，我们看到以下内容：
- en: '![How to do it...](img/image_03_030.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_03_030.jpg)'
- en: This confirms that the IRC service may be vulnerable to backdoor command execution.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 这证实了IRC服务可能容易受到后门命令执行的攻击。
- en: How it works...
  id: totrans-166
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: We have successfully assessed the Metasploitable 2 server. We haven't done all
    the tests, but we have covered a few of them.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已成功评估了Metasploitable 2服务器。我们没有完成所有测试，但我们已经涵盖了其中的一些。
- en: 'We have used the following commands:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用了以下命令：
- en: '`use auxiliary/scanner/ftp/anonymous`: This command loads the anonymous `ftp`
    assessment script, which will help us understand if the specified IP is vulnerable
    to the anonymous ftp.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use auxiliary/scanner/ftp/anonymous`：该命令加载匿名`ftp`评估脚本，这将帮助我们了解指定的IP是否容易受到匿名ftp的攻击。'
- en: '`use auxiliary/scanner/mysql/mysql_authbypass_hashdump`: This command loads
    the `mysql` authentication bypass `hashdump` check if it is available.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use auxiliary/scanner/mysql/mysql_authbypass_hashdump`：该命令加载`mysql`身份验证绕过`hashdump`检查（如果可用）。'
- en: '`use auxiliary/scanner/nfs/nfsmount`: This command loads the `nfs` check and
    shows us what content has been shared by the server.'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use auxiliary/scanner/nfs/nfsmount`：该命令加载`nfs`检查，并显示服务器共享了哪些内容。'
- en: '`use auxiliary/scanner/postgres/postgres_login`: This module brute forces with
    the available list of credentials.'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use auxiliary/scanner/postgres/postgres_login`：该模块使用可用的凭据列表进行暴力破解。'
- en: '`use auxiliary/scanner/smtp/smtp_enum`: This command loads the module that
    helps list the available usernames on the SMTP service.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use auxiliary/scanner/smtp/smtp_enum`：该命令加载模块，帮助列出SMTP服务上可用的用户名。'
- en: '`use auxiliary/scanner/vnc/vnc_login`: This command loads the `vnc` credential
    `bruteforce` script.'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use auxiliary/scanner/vnc/vnc_login`：该命令加载`vnc`凭据`bruteforce`脚本。'
- en: '`use auxiliary/scanner/x11/open_x11`: This command loads the `x11` open terminal
    enumeration script on Metasploit.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use auxiliary/scanner/x11/open_x11`：该命令在Metasploit上加载`x11`开放终端枚举脚本。'
- en: '`show options`: This command shows the parameters needed to execute the scripts.
    All of the scripts mentioned here fit this description.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`show options`：此命令显示执行脚本所需的参数。这里提到的所有脚本都符合此描述。'
- en: '`exploit/run`: This command executes the script and provides the outputs for
    the respective script run.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`exploit/run`：此命令执行脚本并提供相应脚本运行的输出。'
- en: There's more...
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: More of the scanning scripts can be found at the `/usr/share/metasploit-framework/modules/auxiliary/scanner
    directory`.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 更多的扫描脚本可以在`/usr/share/metasploit-framework/modules/auxiliary/scanner`目录下找到。
- en: 'It should look like this:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 它应该看起来像这样：
- en: '![There''s more...](img/image_03_031.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![还有更多...](img/image_03_031.jpg)'
- en: These are all the available scripts for vulnerability assessment, as long as
    we find a corresponding that runs on the target machine.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是漏洞评估的所有可用脚本，只要我们找到在目标机器上运行的相应脚本。
- en: See also...
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅...
- en: For more information, visit [https://www.offensive-security.com/metasploit-unleashed/auxiliary-module-reference/](https://www.offensive-security.com/metasploit-unleashed/auxiliary-module-reference/)
    .
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关更多信息，请访问[https://www.offensive-security.com/metasploit-unleashed/auxiliary-module-reference/](https://www.offensive-security.com/metasploit-unleashed/auxiliary-module-reference/)。
- en: Vulnerability assessment with OpenVAS framework
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用OpenVAS框架进行漏洞评估
- en: 'We have seen how manual vulnerability assessment testing takes place with the
    help of `metasploit`, `nmap` scripts. We will now look at how to use an automated
    scanner. OpenVAS is a framework consisting of several services and tools with
    comprehensive and powerful vulnerability scanning capabilities. OpenVAS is a part
    of the Kali Linux OS. It is available for download at [http://www.openvas.org/](http://www.openvas.org/)
    , and it is open source software. In this recipe, we will learn how to set up
    the OpenVAS. We will install, update, and start using the services. Here is the
    architecture to understand how the scanner operates:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到了如何使用`metasploit`，`nmap`脚本进行手动漏洞评估测试。现在我们将看看如何使用自动化扫描程序。OpenVAS是一个框架，包括几个具有全面和强大的漏洞扫描能力的服务和工具。OpenVAS是Kali
    Linux操作系统的一部分。它可以在[http://www.openvas.org/](http://www.openvas.org/)下载，并且是开源软件。在这个教程中，我们将学习如何设置OpenVAS。我们将安装、更新并开始使用这些服务。以下是了解扫描程序如何运行的架构：
- en: '![Vulnerability assessment with OpenVAS framework](img/image_03_032.jpg)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![使用OpenVAS框架进行漏洞评估](img/image_03_032.jpg)'
- en: Note
  id: totrans-188
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Find more information on OpenVAS at [http://www.openvas.org/](http://www.openvas.org/)
    .
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在[http://www.openvas.org/](http://www.openvas.org/)找到更多关于OpenVAS的信息。
- en: Getting ready
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: First, we will have to update all the packages and libraries. Once the installation
    of OpenVAS is done, we will update the plugins and use the scanner on the Metasploitable
    2 machine.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们必须更新所有软件包和库。安装OpenVAS完成后，我们将更新插件并在Metasploitable 2机器上使用扫描程序。
- en: How to do it...
  id: totrans-192
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'First, we will update and upgrade our OS to make sure our packages and libraries
    are up to date. To perform that, enter the following in the command line:'
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将更新和升级我们的操作系统，以确保我们的软件包和库是最新的。为此，请在命令行中输入以下内容：
- en: '[PRE25]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截图所示：
- en: '![How to do it...](img/image_03_033.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_033.jpg)'
- en: It will take quite some time to update and upgrade all your packages. Once this
    is done, browse to the following location and start the OpenVAS setup:![How to
    do it...](img/image_03_034.jpg)
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新和升级所有软件包需要一些时间。完成后，浏览到以下位置并启动OpenVAS设置：![如何做...](img/image_03_034.jpg)
- en: The setup is self-explanatory, and you will come across the following screens.
    It updates the OpenVAS NVT Feed, as shown in the following screenshot:![How to
    do it...](img/image_03_035.jpg)
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置是自解释的，您将看到以下屏幕。它更新了OpenVAS NVT Feed，如下截图所示：![如何做...](img/image_03_035.jpg)
- en: As the installation proceeds, it updates the CVE feeds. **CVE** stands for **Common
    Vulnerabilities and Exposures**.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 随着安装的进行，它会更新CVE feeds。**CVE**代表**通用漏洞和暴露**。
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截图所示：
- en: '![How to do it...](img/image_03_036.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_036.jpg)'
- en: Once the download completes, a user is created and the services are made available
    to us, as shown in the following screenshot:![How to do it...](img/image_03_037.jpg)
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载完成后，将创建一个用户并向我们提供服务，如下截图所示：![如何做...](img/image_03_037.jpg)
- en: 'We will now check if the installation has been done properly using the following
    command in the terminal:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们将使用终端中的以下命令检查安装是否已正确完成：
- en: '[PRE26]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截图所示：
- en: '![How to do it...](img/image_03_038.jpg)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_038.jpg)'
- en: 'On successful installation, we will be shown the following:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 安装成功后，将显示以下内容：
- en: '![How to do it...](img/image_03_039.jpg)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_039.jpg)'
- en: 'This shows that our installation has been successful. We will restart the services
    at once:'
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这表明我们的安装已经成功。我们将立即重新启动服务：
- en: '[PRE27]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截图所示：
- en: '![How to do it...](img/image_03_040.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_040.jpg)'
- en: 'Let''s also create a new password for the user, as well as a new user:'
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们也为用户创建一个新密码，以及一个新用户：
- en: '[PRE28]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下截图所示：
- en: '![How to do it...](img/image_03_041.jpg)'
  id: totrans-216
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/image_03_041.jpg)'
- en: Now that we know that the installation has been done successfully, we will access
    the Greenbone Security Assistant. Enter the `https://127.0.0.1:9392/login/login.html`
    URL in the Iceweasel browser and enter our credentials:![How to do it...](img/image_03_042.jpg)
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 既然我们知道安装已经成功完成，我们将访问Greenbone Security Assistant。在Iceweasel浏览器中输入`https://127.0.0.1:9392/login/login.html`
    URL并输入我们的凭据：![如何做...](img/image_03_042.jpg)
- en: Once logged in, this is how the screen will look. We will enter the target IP
    address as seen in the following screenshot:![How to do it...](img/image_03_043.jpg)
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录后，屏幕将如下所示。我们将输入目标IP地址，如下截图所示：![如何做...](img/image_03_043.jpg)
- en: Once we hit the **Start Scan** option, the scanner uses its knowledge of all
    the plugins and checks for any known vulnerabilities on the application. It is
    a time-consuming process and totally depends on the number of ports open on the
    server. Once the scan completes, the total number of vulnerabilities detected
    is shown:![How to do it...](img/image_03_044.jpg)
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦我们点击**开始扫描**选项，扫描器将利用其对所有插件的知识，并检查应用程序上是否存在已知漏洞。这是一个耗时的过程，完全取决于服务器上开放的端口数量。扫描完成后，将显示检测到的漏洞总数：![如何操作...](img/image_03_044.jpg)
- en: As shown in the preceding screenshot, to view the reports we will click on the
    **Scan Management** tab and click on the **Reports** option, which takes us to
    the reporting page. Then, we will select the IP address that we scanned, which
    will show us all the vulnerabilities:![How to do it...](img/image_03_045.jpg)
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如前面的截图所示，要查看报告，我们将点击**扫描管理**选项卡，然后点击**报告**选项，这将带我们到报告页面。然后，我们将选择我们扫描的IP地址，这将显示所有的漏洞：![如何操作...](img/image_03_045.jpg)
- en: We can export a PDF report with these details. Above the reports, as the mouse
    pointer indicates in the following screenshot, there will be a download option,
    and we can save it from there:![How to do it...](img/image_03_046.jpg)
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以导出包含这些细节的PDF报告。在报告上方，就像鼠标指针在下面的截图中所示的那样，会有一个下载选项，我们可以从那里保存：![如何操作...](img/image_03_046.jpg)
- en: The saved PDF file will look as shown in the following screenshot:![How to do
    it...](img/image_03_047.jpg)
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存的PDF文件将如下截图所示：![如何操作...](img/image_03_047.jpg)
- en: This file can then be used to enumerate the different kinds of vulnerabilities,
    and then we can check for the false positives-if there are any-among the list
    of vulnerabilities.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 然后可以使用此文件来枚举不同类型的漏洞，然后我们可以检查漏洞列表中是否存在任何误报。
- en: How it works...
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: As you can see, it is pretty easy to set up and operate the OpenVAS vulnerability
    scanner. Let's look at what actually happens in the backend, and what a few of
    the preceding commands that we used mean.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的，设置和操作OpenVAS漏洞扫描器非常简单。让我们看看后端实际发生了什么，以及我们使用的一些前面的命令的含义。
- en: 'Let''s look at the commands first:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先看看命令：
- en: '`openvas-check-setup`: This command verifies that our OpenVAS setup is installed
    correctly and warns us of any incomplete installation of files. It also recommends
    any necessary fixes to get the software up and running.'
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openvas-check-setup`：此命令验证我们的OpenVAS设置是否正确安装，并警告我们任何文件安装不完整。它还建议任何必要的修复以使软件正常运行。'
- en: '`openvas-stop`: This command stops the services involved in the OpenVAS, such
    as the OpenVAS scanner, manager, and the Greenbone Security Assistant.'
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openvas-stop`：此命令停止OpenVAS中涉及的所有服务，如OpenVAS扫描仪、管理器和Greenbone安全助理。'
- en: '`openvas-start`: This command starts all the services involved in the OpenVAS,
    such as the OpenVAS scanner, manager, and the Greenbone Security Assistant.'
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openvas-start`：此命令启动OpenVAS中涉及的所有服务，如OpenVAS扫描仪、管理器和Greenbone安全助理。'
- en: '`openvasmd --user=<Your Username> --new-password=<Your password>`: This commands
    helps set a new password for the user you created.'
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openvasmd --user=<您的用户名> --new-password=<您的密码>`：此命令帮助设置创建的用户的新密码。'
- en: '`openvasmd --create-user <Username>`: This command creates a user with the
    username specified.'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openvasmd --create-user <用户名>`：此命令创建一个指定用户名的用户。'
- en: 'When we initiate a scan, the scanner loads all the modules and plugins to perform
    assessment on all the available ports. The procedure is as follows:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们启动扫描时，扫描器会加载所有模块和插件，对所有可用的端口进行评估。该过程如下：
- en: Scans for open ports
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扫描开放端口
- en: Runs plugins for all the open ports and their services
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行所有开放端口及其服务的插件
- en: Runs known vulnerabilities from the CVE database and OpenVAS NVT feeds
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行来自CVE数据库和OpenVAS NVT feeds的已知漏洞
- en: Based on the plugins assessment, we are provided with the output of the positive
    possible vulnerabilities of the target we are assessing
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于插件评估，我们得到了我们正在评估的目标的可能漏洞的输出
- en: There's more...
  id: totrans-237
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: We can even configure the scan as per our convenience with the help of the **Configuration**
    tab in the Greenbone Security Assistant. We can set the credentials of the system
    for a system configuration review as well, and customize the alerts, the filters,
    and the ports that we want to scan.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 我们甚至可以通过Greenbone安全助理中的**配置**选项卡根据自己的需要配置扫描。我们还可以设置系统的凭据进行系统配置审查，并自定义警报、过滤器和要扫描的端口。
- en: It is not easy to understand the term "vulnerability assessment" just by looking
    at a few examples. There needs to be a standard that can be followed to get the
    basic idea of how the assessment really happens. In this section, we will learn
    what vulnerability assessment means.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 仅通过查看一些示例，很难理解“漏洞评估”这个术语。需要有一个可以遵循的标准，以便基本了解评估的实际发生情况。在本节中，我们将学习漏洞评估的含义。
- en: Vulnerability assessment is confused with penetration testing at times. The
    core purpose of vulnerability assessment throughout the entire procedure is to
    identify threats to a system, environment, or an organization. During a vulnerability
    assessment process, the main goals are to find entry points into the system and
    find out if they are using vulnerable services or vulnerable components. Rigorous
    testing is then done to determine whether various types of known threats are present
    on the system.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 漏洞评估有时会与渗透测试混淆。整个漏洞评估过程的核心目的是识别系统、环境或组织的威胁。在漏洞评估过程中，主要目标是找到系统的入口点，并查明它们是否使用了易受攻击的服务或易受攻击的组件。然后进行严格的测试，以确定系统上是否存在各种已知威胁。
- en: However, penetration testing is something that goes beyond mere identification.
    When you start to attack the system in order to gain a shell, or crash a service,
    then you are involved in penetration testing. In order to have an organized approach
    to vulnerability assessment, one can refer to the open source. There is a very
    good article that helps understand the silver lining between Vulnerability Assessment
    and Penetration testing written by Daniel Meissler. Here is a link to the article: 
    [https://danielmiessler.com/study/vulnerability-assessment-penetration-test/](https://danielmiessler.com/study/vulnerability-assessment-penetration-test/)
    .
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，渗透测试是一种超越简单识别的东西。当您开始攻击系统以获得shell或崩溃服务时，您就参与了渗透测试。为了对漏洞评估有组织的方法，可以参考开源。有一篇非常好的文章，可以帮助理解Daniel
    Meissler撰写的漏洞评估和渗透测试之间的微妙差别。以下是文章的链接：[https://danielmiessler.com/study/vulnerability-assessment-penetration-test/](https://danielmiessler.com/study/vulnerability-assessment-penetration-test/)。
- en: 'Some examples of testing methodologies are as follows:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 一些测试方法的例子如下：
- en: '**Penetration Testing Execution Standard** (**PTES**)'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**渗透测试执行标准**（**PTES**）'
- en: '**Open Web Application Security Project** (**OWASP**): Web Application Testing
    Guide'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开放网络应用安全项目**（**OWASP**）：Web应用程序测试指南'
- en: '**Open Source Security Testing Methodology Manual** (**OSSTMM**)'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开放源安全测试方法手册**（**OSSTMM**）'
- en: Web Application Hacker's Methodology (Web application hacker's handbook)
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web应用程序黑客方法论（Web应用程序黑客手册）
- en: PTES
  id: totrans-247
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: PTES
- en: 'The Penetration Testing Execution Standard can be found at [http://www.pentest-standard.org/index.php/Main_Page](http://www.pentest-standard.org/index.php/Main_Page)
    and it comprises seven main sections:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试执行标准可在[http://www.pentest-standard.org/index.php/Main_Page](http://www.pentest-standard.org/index.php/Main_Page)找到，包括七个主要部分：
- en: '*Pre-engagement Interactions*'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*前期互动*'
- en: '*Intelligence Gathering*'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*情报收集*'
- en: '*Threat Modelling*'
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*威胁建模*'
- en: '*Vulnerability Analysis*'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*漏洞分析*'
- en: '*Exploitation*'
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*利用*'
- en: '*Post-Exploitation*'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*后期利用*'
- en: '*Reporting*'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*报告*'
- en: As summarized by the PTES, "*Vulnerability testing is the process of discovering
    flaws in systems and applications which can be leveraged by an attacker. These
    flaws can range anywhere from host and service misconfiguration, or insecure application
    design. Although the process used to look for flaws varies and is highly dependent
    on the particular component being tested, some key principals apply to the process.*"
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 正如PTES所总结的：“*漏洞测试是发现系统和应用程序中可以被攻击者利用的缺陷的过程。这些缺陷可以是主机和服务配置错误，或不安全的应用程序设计。尽管用于查找缺陷的过程因特定组件的测试而异，并且高度依赖于特定组件的测试，但是一些关键原则适用于该过程。*”
- en: PTES is a very detailed technical series of guidelines, and can be found at
    [http://www.pentest-standard.org/index.php/PTES_Technical_Guidelines](http://www.pentest-standard.org/index.php/PTES_Technical_Guidelines)
    .
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: PTES是一系列非常详细的技术指南，可以在[http://www.pentest-standard.org/index.php/PTES_Technical_Guidelines](http://www.pentest-standard.org/index.php/PTES_Technical_Guidelines)找到。
- en: OWASP
  id: totrans-258
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: OWASP
- en: The Open Web Application Security Project mainly deals with web application-based
    security assessments. The OWASP is a non-profit charitable organization that aims
    to improve the security of software. It is a widely used, web-based security organization.
    OWASP can be found at [https://www.owasp.org/](https://www.owasp.org/) .
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 开放网络应用安全项目主要处理基于Web应用程序的安全评估。OWASP是一个旨在提高软件安全性的非营利性慈善组织。它是一个广泛使用的基于Web的安全组织。OWASP可以在[https://www.owasp.org/](https://www.owasp.org/)找到。
- en: 'The goals of OWASP are best summed up by the organization itself: "*Everyone
    is free to participate in OWASP and all of our materials are available under a
    free and open software license. You''ll find everything about OWASP here on or
    linked from our wiki and current information on our OWASP blog. OWASP does not
    endorse or recommend commercial products or services, allowing our community to
    remain vendor neutral with the collective wisdom of the best minds in software
    security worldwide.*'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP的目标最好由组织本身总结：“*每个人都可以自由参与OWASP，我们所有的材料都在自由和开放的软件许可下可用。您可以在我们的维基或链接到我们的维基上找到关于OWASP的一切信息，以及我们的OWASP博客上的最新信息。OWASP不认可或推荐商业产品或服务，这使我们的社区能够保持与全球软件安全最优秀的头脑的集体智慧保持供应商中立。*
- en: '*We ask that the community look out for inappropriate uses of the OWASP brand
    including use of our name, logos, project names and other trademark issues.*"'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '*我们要求社区注意OWASP品牌的不当使用，包括我们的名称、标志、项目名称和其他商标问题。*'
- en: The OWASP testing guide can be found at [https://www.owasp.org/index.php/Web_Application_Penetration_Testing](https://www.owasp.org/index.php/Web_Application_Penetration_Testing)
    .
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP测试指南可以在[https://www.owasp.org/index.php/Web_Application_Penetration_Testing](https://www.owasp.org/index.php/Web_Application_Penetration_Testing)找到。
- en: Web Application Hacker's Methodology
  id: totrans-263
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Web应用程序黑客方法论
- en: 'This methodology has been well defined in the book, *The Web Application Hacker''s
    Handbook: Finding and Exploiting Security Flaws, 2ed.*  The same is available
    on [http://www.amazon.in/Web-Application-Hackers-Handbook-Exploiting/dp/8126533404/&keywords=web+application+hackers+handbook](http://www.amazon.in/Web-Application-Hackers-Handbook-Exploiting/dp/8126533404/&keywords=web+application+hackers+handbook).'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法已经在书中得到很好的定义，《Web应用程序黑客手册：发现和利用安全漏洞，第2版》。同样可以在[http://www.amazon.in/Web-Application-Hackers-Handbook-Exploiting/dp/8126533404/&keywords=web+application+hackers+handbook](http://www.amazon.in/Web-Application-Hackers-Handbook-Exploiting/dp/8126533404/&keywords=web+application+hackers+handbook)上找到。
- en: 'To summarize the methodology, have a look at the following diagram:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 总结该方法，请查看以下图表：
- en: '![Web Application Hacker''s Methodology](img/image_03_048.jpg)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![Web应用程序黑客方法论](img/image_03_048.jpg)'
- en: See also...
  id: totrans-267
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅...
- en: For more information regarding the working of OpenVAS, refer to the video tutorial
    by NetSecNow at [https://www.youtube.com/watch?v=0b4SVyP0IqI](https://www.youtube.com/watch?v=0b4SVyP0IqI)
    .
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关OpenVAS工作原理的更多信息，请参考NetSecNow的视频教程[https://www.youtube.com/watch?v=0b4SVyP0IqI](https://www.youtube.com/watch?v=0b4SVyP0IqI)。
