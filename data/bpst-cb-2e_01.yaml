- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: Getting Started with Burp Suite
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 入门
- en: This chapter provides the setup instructions necessary to proceed through the
    material in this book. Starting with downloading Burp, the details include the
    two main Burp editions available and their distinguishing characteristics.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章提供了继续学习本书材料所需的设置说明。从下载 Burp 开始，详细介绍了两种主要的 Burp 版本及其区别。
- en: To use Burp Suite, a penetration tester requires a target application. This
    chapter includes instructions on downloading and installing OWASP applications
    contained within a **Virtual Machine** (**VM**). Such applications will be used
    throughout this book as targeted vulnerable web applications.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Burp Suite 时，渗透测试员需要一个目标应用程序。本章包含下载和安装包含在**虚拟机**（**VM**）中的 OWASP 应用程序的说明。这些应用程序将在全书中作为目标脆弱的
    Web 应用程序使用。
- en: This chapter includes instructions to configure the Burp Suite Proxy listener.
    This listener is required to capture all HTTP traffic flowing between your local
    browser and the target website. Default settings for the listener include an **Internet
    Protocol** (**IP**) address, **127.0.0.1**, and a port number, **8080**.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章包括配置 Burp Suite 代理监听器的说明。此监听器用于捕获在本地浏览器和目标网站之间流动的所有 HTTP 流量。监听器的默认设置包括**互联网协议**（**IP**）地址
    **127.0.0.1** 和端口号 **8080**。
- en: Finally, this chapter will conclude with the options for starting Burp Suite.
    This includes how to start Burp Suite at the command line, with an optional headless
    mode, and using the executable.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，本章将介绍启动 Burp Suite 的选项，包括如何通过命令行启动 Burp Suite，选择性地使用无头模式，以及使用可执行文件启动。
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下内容：
- en: Downloading Burp Suite (Community and Professional editions)
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下载 Burp Suite（社区版和专业版）
- en: Setting up a web app pentesting lab
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置 Web 应用渗透测试实验室
- en: Creating a PortSwigger account to access Web Security Academy
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 PortSwigger 账户以访问 Web 安全学院
- en: Starting Burp Suite at a command line or as an executable
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过命令行或可执行文件启动 Burp Suite
- en: Listening for HTTP traffic using Burp
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Burp 监听 HTTP 流量
- en: Downloading Burp Suite (Community and Professional editions)
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载 Burp Suite（社区版和专业版）
- en: 'The first step in learning the techniques contained within this book is to
    download the Burp Suite application. The download page is available here: [https://portswigger.net/burp/](https://portswigger.net/burp/).
    You will need to decide which edition of Burp Suite you would like to download
    from the following:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 学习本书中包含的技术的第一步是下载 Burp Suite 应用程序。下载页面在这里：[https://portswigger.net/burp/](https://portswigger.net/burp/)。你需要决定下载哪个版本的
    Burp Suite，以下是可供选择的版本：
- en: Professional
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专业版
- en: Community
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社区版
- en: 'Enterprise (not covered): This product is designed for large companies to run
    Burp Scanner across thousands of targets'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业版（未涵盖）：该产品专为大型公司设计，可在成千上万的目标上运行 Burp 扫描器
- en: 'Dastardly (not covered): This edition only provides Burp Scanner capabilities
    and is specifically designed to integrate with Jenkins and other CI tools as jobs
    within a DevOps pipeline'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dastardly（未涵盖）：此版本仅提供 Burp 扫描器功能，专门设计为与 Jenkins 和其他 CI 工具集成，作为 DevOps 流水线中的作业
- en: What is now termed **Community** was once labeled **Free Edition**. You may
    see both referenced on the internet, but they are the same. At the time of writing,
    the Professional edition costs $449.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 现在被称为**社区版**的产品曾经被称为**免费版**。你可能会在互联网上看到这两者的引用，但它们是一样的。截止目前，专业版的价格为 $449。
- en: To help you make your decision, let’s compare the two. The Community version
    offers many of the functions used in this book, but not all. For example, the
    Community version does not include any scanning functionality. In addition, the
    Community version contains some forced throttling of threads when using the Burp
    Suite Intruder functionality. There are no built-in payloads in the Community
    version, though you can load custom ones. And, finally, several Burp Suite extensions
    that require the Professional edition will, obviously, not work in the Community
    edition.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 为了帮助你做出选择，我们将比较这两个版本。社区版提供了本书中使用的许多功能，但并非全部。例如，社区版不包括任何扫描功能。此外，使用 Burp Suite
    Intruder 功能时，社区版在使用线程时有一定的强制性限制。社区版没有内置的有效负载，但你可以加载自定义负载。最后，许多需要专业版的 Burp Suite
    扩展显然在社区版中无法使用。
- en: The Professional version has all the functionality enabled, including passive
    and active scanners. There is no forced throttling. **PortSwigger** (that is,
    the name of the company that writes and maintains Burp Suite) provides several
    built-in payloads for fuzzing and brute-forcing. Burp Suite extensions that use
    scanner-related API calls work in the Professional version as well.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: Professional 版本启用了所有功能，包括被动和主动扫描器。没有强制性的流量限制。**PortSwigger**（即编写并维护 Burp Suite
    的公司名称）提供了多个内置的有效载荷用于模糊测试和暴力破解。使用扫描器相关 API 调用的 Burp Suite 扩展也能在 Professional 版本中正常工作。
- en: 'In this book, we will be using the Professional version, which provides access
    to an extensive array of functionality compared to the Community edition. However,
    when a feature is used in this book that’s specific to the Professional edition,
    a special icon will indicate this:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将使用 Professional 版本，它相比 Community 版本提供了更丰富的功能。不过，当本书中使用到仅限于 Professional
    版本的功能时，会通过一个特殊的图标进行标示：
- en: "![Figure 1.1 – Burp Suite Profession\uFEFFa\uFEFFl icon](image/B21173_Figure_1.1.jpg)"
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.1 – Burp Suite Professional 图标](image/B21173_Figure_1.1.jpg)'
- en: Figure 1.1 – Burp Suite Professional icon
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – Burp Suite Professional 图标
- en: Getting ready
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'To begin our adventure together, go to [https://portswigger.net/burp](https://portswigger.net/burp)
    and download the edition of Burp Suite you wish to use. The page provides a slider,
    as shown here, which highlights the features of Professional and Community, allowing
    you to compare them:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 为了开始我们的共同冒险，请访问 [https://portswigger.net/burp](https://portswigger.net/burp)
    并下载你希望使用的 Burp Suite 版本。页面上提供了一个滑块，如下所示，突出显示了 Professional 和 Community 版本的功能，允许你进行对比：
- en: '![Figure 1.2 – Burp Suite Professional versus Community features](image/B21173_Figure_1.2.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.2 – Burp Suite Professional 与 Community 功能对比](image/B21173_Figure_1.2.jpg)'
- en: Figure 1.2 – Burp Suite Professional versus Community features
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – Burp Suite Professional 与 Community 功能对比
- en: You may wish to choose the Community edition to gain familiarity with the product
    before purchasing the Professional version.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在购买 Professional 版本之前，你可能希望选择 Community 版本，以便先熟悉该产品。
- en: Should you choose to purchase or use the trial version of the Professional edition,
    you will need to complete forms or payments and subsequent email confirmations
    will be sent to you. Once your account is created, you may log in and perform
    the download from the links provided in our account.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你选择购买或使用 Professional 版本的试用版，你需要填写表格或进行支付，并随后会收到邮件确认。一旦账户创建完成，你可以登录并通过我们的账户提供的链接进行下载。
- en: Software tool requirements
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 软件工具要求
- en: 'To complete this recipe, you will need the following:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 完成本配方需要以下内容：
- en: Oracle Java ([https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/))
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oracle Java ([https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/))
- en: Burp Proxy Community or Professional ([https://portswigger.net/burp/](https://portswigger.net/burp/))
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Burp Proxy Community 或 Professional ([https://portswigger.net/burp/](https://portswigger.net/burp/))
- en: Mozilla Firefox browser ([https://www.mozilla.org/en-US/firefox/new/](https://www.mozilla.org/en-US/firefox/new/))
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mozilla Firefox 浏览器 ([https://www.mozilla.org/en-US/firefox/new/](https://www.mozilla.org/en-US/firefox/new/))
- en: How to do it...
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'After deciding on the edition you need, you have two installation options,
    including an executable or a plain JAR file. The executable is only available
    in Windows and is offered in both 32-bit and 64-bit versions. The plain JAR file
    is available for Windows, macOS, and Linux. You can find all the available download
    options here: [https://portswigger.net/burp/releases/professional-community-2023-4-5?requestededition=community&requestedplatform=](https://portswigger.net/burp/releases/professional-community-2023-4-5?requestededition=community&requestedplatform=).'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在确定所需版本后，你有两种安装选项，包括可执行文件或普通 JAR 文件。可执行文件仅适用于 Windows，并且提供 32 位和 64 位版本。普通 JAR
    文件适用于 Windows、macOS 和 Linux。你可以在此处找到所有可用的下载选项：[https://portswigger.net/burp/releases/professional-community-2023-4-5?requestededition=community&requestedplatform=](https://portswigger.net/burp/releases/professional-community-2023-4-5?requestededition=community&requestedplatform=)。
- en: 'The Windows executable is self-contained and will create icons in your program
    listing. However, the plain JAR file requires your platform to have Java ([https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/))
    pre-installed. You may choose the current version of Java (JRE or JDK), so feel
    free to choose the latest version:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Windows 可执行文件是自包含的，将在您的程序列表中创建图标。然而，普通 JAR 文件要求您的平台预先安装 Java ([https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/))。您可以选择当前版本的
    Java（JRE 或 JDK），因此可以自由选择最新版本：
- en: "![Figure 1.3 – PortSwigger’s Downl\uFEFFo\uFEFFads page](image/B21173_Figure_1.3.jpg)"
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.3 – PortSwigger 的下载页面](image/B21173_Figure_1.3.jpg)'
- en: Figure 1.3 – PortSwigger’s Downloads page
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.3 – PortSwigger 的下载页面
- en: Setting up a web app pentesting lab
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置 web 应用渗透测试实验室
- en: The **Broken Web Application** (**BWA**) is an OWASP project that provides a
    self-contained VM complete with a variety of applications with known vulnerabilities.
    The applications within this VM enable students to learn about web application
    security, practice and observe web attacks, and make use of penetration tools
    such as Burp Suite.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**破损的 Web 应用** (**BWA**) 是 OWASP 项目，提供一个完整的虚拟机，包含多种已知漏洞的应用程序。该虚拟机中的应用程序让学生可以了解
    web 应用安全，实践和观察 web 攻击，并使用如 Burp Suite 等渗透工具。'
- en: To follow the recipes shown in this book, we will utilize OWASP’s BWA VM. At
    the time of writing this book, the OWASP BWA VM can be downloaded from [https://sourceforge.net/projects/owaspbwa/files/](https://sourceforge.net/projects/owaspbwa/files/).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 为了按照本书中的教程进行操作，我们将使用 OWASP 的 BWA 虚拟机。在本书写作时，您可以从 [https://sourceforge.net/projects/owaspbwa/files/](https://sourceforge.net/projects/owaspbwa/files/)
    下载 OWASP BWA 虚拟机。
- en: Getting ready
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: We will download the OWASP BWA VM along with supportive tools to create our
    web app pentesting lab.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将下载 OWASP BWA 虚拟机及其辅助工具，以创建我们的 web 应用渗透测试实验室。
- en: Software tool requirements
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 软件工具要求
- en: 'To complete this recipe, you will need the following:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成此教程，您将需要以下内容：
- en: 'Oracle VirtualBox ([https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads)):
    Choose an executable specific to your platform'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Oracle VirtualBox ([https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads)):
    选择适用于您的平台的可执行文件'
- en: Mozilla Firefox browser ([https://www.mozilla.org/en-US/firefox/new/](https://www.mozilla.org/en-US/firefox/new/))
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mozilla Firefox 浏览器 ([https://www.mozilla.org/en-US/firefox/new/](https://www.mozilla.org/en-US/firefox/new/))
- en: 7-Zip file archiver ([https://www.7-zip.org/download.html](https://www.7-zip.org/download.html))
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7-Zip 文件归档工具 ([https://www.7-zip.org/download.html](https://www.7-zip.org/download.html))
- en: OWASP BWA VM ([https://sourceforge.net/projects/owaspbwa/files/](https://sourceforge.net/projects/owaspbwa/files/))
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP BWA 虚拟机 ([https://sourceforge.net/projects/owaspbwa/files/](https://sourceforge.net/projects/owaspbwa/files/))
- en: Burp Proxy Community or Professional ([https://portswigger.net/burp/](https://portswigger.net/burp/))
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Burp Proxy 社区版或专业版 ([https://portswigger.net/burp/](https://portswigger.net/burp/))
- en: Oracle Java ([https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/))
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oracle Java ([https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/))
- en: How to do it...
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'For this recipe, you will need to download the OWASP BWA VM and install it
    by performing the following steps:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本教程，您需要下载 OWASP BWA 虚拟机，并通过以下步骤安装它：
- en: Click **Download Latest Version** after clicking the OWASP BWA VM link provided
    earlier and unzip the **OWASP_Broken_Web_Apps_VM_1.2.7z** file.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击提供的 OWASP BWA 虚拟机链接后，点击 **下载最新版本** 并解压 **OWASP_Broken_Web_Apps_VM_1.2.7z**
    文件。
- en: 'You will be presented with a listing of several files, as follows:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到如下所示的多个文件列表：
- en: '![Figure 1.4 – File listing after unzipping OWASP_Broken_Web_Apps_VM_1.2.7z](image/B21173_Figure_1.4.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.4 – 解压 OWASP_Broken_Web_Apps_VM_1.2.7z 后的文件列表](image/B21173_Figure_1.4.jpg)'
- en: Figure 1.4 – File listing after unzipping OWASP_Broken_Web_Apps_VM_1.2.7z
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – 解压 OWASP_Broken_Web_Apps_VM_1.2.7z 后的文件列表
- en: All file extensions shown indicate that the VM can be imported into Oracle VirtualBox
    or VMware Player/Workstation. To set up the web application pentesting lab for
    this book, we will use Oracle VirtualBox.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有显示的文件扩展名表明该虚拟机可以导入到 Oracle VirtualBox 或 VMware Player/Workstation 中。为了设置本书中的
    web 应用渗透测试实验室，我们将使用 Oracle VirtualBox。
- en: Make a note of the **OWASP Broken Web Apps-cl1.vmdk** file. Open VirtualBox
    Manager (that is, the Oracle VM VirtualBox program).
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 记下 **OWASP Broken Web Apps-cl1.vmdk** 文件。打开 VirtualBox 管理器（即 Oracle VM VirtualBox
    程序）。
- en: Within the VirtualBox Manager screen, select **Machine** | **New** from the
    top menu and type a name for the machine – for example, **OWASP BWA**.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 VirtualBox 管理器界面中，选择**机器** | **新建**从顶部菜单中输入虚拟机名称，例如**OWASP BWA**。
- en: 'Set **Type** to **Linux** and **Version** to **Ubuntu (64-bit)**, and then
    click **Next**, as follows:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**类型**设置为**Linux**，**版本**设置为**Ubuntu (64-bit)**，然后点击**下一步**，如下所示：
- en: '![Figure 1.5 – Create Virtual Machine](image/B21173_Figure_1.5.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.5 – 创建虚拟机](image/B21173_Figure_1.5.jpg)'
- en: Figure 1.5 – Create Virtual Machine
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5 – 创建虚拟机
- en: The next screen allows you to adjust the RAM or leave it as-is. Click **Next**.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一个屏幕允许你调整内存或保持默认设置。点击**下一步**。
- en: On the next screen, choose **Use an existing virtual hard** **disk file**.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个屏幕上，选择**使用现有虚拟硬盘文件**。
- en: 'Use the folder icon on the right to select the **OWASP Broken Web Apps-cl1.vmdk**
    file from the extracted list and click **Create**, as follows:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用右侧的文件夹图标，从提取的文件列表中选择**OWASP Broken Web Apps-cl1.vmdk**文件并点击**创建**，如下所示：
- en: '![Figure 1.6 – Hard disk allocation](image/B21173_Figure_1.6.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.6 – 硬盘分配](image/B21173_Figure_1.6.jpg)'
- en: Figure 1.6 – Hard disk allocation
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6 – 硬盘分配
- en: Your VM will have been loaded into VirtualBox Manager. Let’s make some minor
    adjustments. Highlight the **OWASP BWA** entry and select **Settings** from the
    top menu.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的虚拟机已经加载到 VirtualBox 管理器中。让我们进行一些小的调整。高亮显示**OWASP BWA**条目并从顶部菜单选择**设置**。
- en: 'Select the **Network** section in the left-hand pane and change **Attached
    to:** to **Host-only Adapter**. Click **OK**:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧窗格中选择**网络**部分，并将**附加到：**更改为**仅主机适配器**。点击**确定**：
- en: '![Figure 1.7 – Network adapter settings](image/B21173_Figure_1.7.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.7 – 网络适配器设置](image/B21173_Figure_1.7.jpg)'
- en: Figure 1.7 – Network adapter settings
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.7 – 网络适配器设置
- en: 'Now, let’s start the VM. Right-click and then choose **Start** | **Normal Start**:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，让我们启动虚拟机。右键点击，然后选择**启动** | **正常启动**：
- en: '![Figure 1.8 – Starting the VM](image/B21173_Figure_1.8.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.8 – 启动虚拟机](image/B21173_Figure_1.8.jpg)'
- en: Figure 1.8 – Starting the VM
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.8 – 启动虚拟机
- en: 'Wait until the Linux system is fully booted, which may take a few minutes.
    After the booting process is complete, you should see the following screen. Note
    that the IP address shown will be different for your machine:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待直到 Linux 系统完全启动，这可能需要几分钟。启动过程完成后，你应该会看到以下屏幕。请注意，显示的 IP 地址与你的机器不同：
- en: '![Figure 1.9 – Your assigned IP address for the VM](image/B21173_Figure_1.9.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.9 – 你的虚拟机分配的 IP 地址](image/B21173_Figure_1.9.jpg)'
- en: Figure 1.9 – Your assigned IP address for the VM
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.9 – 你的虚拟机分配的 IP 地址
- en: The information presented on this screen identifies the URL where you can access
    vulnerable web applications running on the VM. For example, in the previous screenshot,
    the URL is **http://192.168.56.101/**. You will be given a prompt to administer
    the VM, but it is not necessary to log in at this time.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此屏幕上显示的信息指明了你可以访问虚拟机上运行的易受攻击 web 应用程序的网址。例如，在前一个屏幕截图中，网址是**http://192.168.56.101/**。你将会被提示管理虚拟机，但此时无需登录。
- en: Open the Firefox browser on your host system, not in the VM. Using the Firefox
    browser on your host machine, enter the URL provided (for example, **http://192.168.56.101/**),
    where the IP address is specific to your machine.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的宿主系统中打开 Firefox 浏览器，而不是在虚拟机中。使用宿主机器上的 Firefox 浏览器，输入提供的网址（例如**http://192.168.56.101/**），其中
    IP 地址是特定于你的机器的。
- en: 'In your browser, you will be presented with an index page containing links
    to vulnerable web applications. These applications will be used as targets throughout
    this book:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的浏览器中，你将看到一个包含指向易受攻击的 web 应用程序的链接的索引页面。这些应用程序将在本书中作为目标进行使用：
- en: "![Figure 1.10 – Splash pag\uFEFFe of the VM](image/B21173_Figure_1.10.jpg)"
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.10 – 虚拟机的启动页](image/B21173_Figure_1.10.jpg)'
- en: Figure 1.10 – Splash page of the VM
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.10 – 虚拟机的启动页
- en: How it works…
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Leveraging a customized VM created by OWASP, we can quickly set up a web app
    pentesting lab containing purposefully vulnerable applications that we can use
    as legal targets for our exercises throughout this book.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 利用 OWASP 创建的定制虚拟机，我们可以快速设置一个包含故意易受攻击应用程序的 web 应用渗透测试实验室，这些应用程序将作为我们本书中的合法测试目标。
- en: Creating a PortSwigger account to access Web Security Academy
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建 PortSwigger 账户以访问 Web 安全学院
- en: In this edition, we’ve added more web security-related labs to enrich your experience
    with Burp Suite. To follow along and complete these labs, you must register an
    account with PortSwigger.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在本版中，我们添加了更多与 web 安全相关的实验室，以丰富你使用 Burp Suite 的体验。为了跟进并完成这些实验室，你必须在 PortSwigger
    上注册一个账户。
- en: PortSwigger provides free, online web security training through Web Security
    Academy ([https://portswigger.net/web-security](https://portswigger.net/web-security)).
    Academy consists of learning materials, hands-on labs, and practice exams. We
    will use some of these labs to demonstrate hacking techniques within this book.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: PortSwigger 通过 Web 安全学院 ([https://portswigger.net/web-security](https://portswigger.net/web-security))
    提供免费的在线 web 安全培训。学院包含学习材料、实操实验和练习考试。在本书中，我们将使用其中一些实验来演示黑客技术。
- en: Getting ready
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'Browse to the PortSwigger site ([https://portswigger.net/](https://portswigger.net/))
    and look for the **LOGIN** button. Click the **LOGIN** button to navigate to the
    login page, which has a registration button:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 浏览到 PortSwigger 网站 ([https://portswigger.net/](https://portswigger.net/)) 并查找**登录**按钮。点击**登录**按钮，进入登录页面，页面上有一个注册按钮：
- en: '![Figure 1.11 – PortSwigger LOGIN button](image/B21173_Figure_1.11.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.11 – PortSwigger 登录按钮](image/B21173_Figure_1.11.jpg)'
- en: Figure 1.11 – PortSwigger LOGIN button
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.11 – PortSwigger 登录按钮
- en: How to do it…
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Follow these steps:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤操作：
- en: 'Go to [https://portswigger.net/users](https://portswigger.net/users) and select
    the **Create account** button at the bottom, next to the **Log** **In** button:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问 [https://portswigger.net/users](https://portswigger.net/users)，然后选择底部的**创建账户**按钮，旁边是**登录**按钮：
- en: '![Figure 1.12 – The Create account button](image/B21173_Figure_1.12.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.12 – 创建账户按钮](image/B21173_Figure_1.12.jpg)'
- en: Figure 1.12 – The Create account button
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.12 – 创建账户按钮
- en: 'You must provide a valid email address to receive your password for logging
    into the site:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您必须提供有效的电子邮件地址，以便接收登录网站的密码：
- en: '![Figure 1.13 – PortSwigger account creation page](image/B21173_Figure_1.13.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.13 – PortSwigger 账户创建页面](image/B21173_Figure_1.13.jpg)'
- en: Figure 1.13 – PortSwigger account creation page
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.13 – PortSwigger 账户创建页面
- en: You should receive the password for the account within a short amount of time.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该很快就能收到账户的密码。
- en: Starting Burp Suite at a command line or as an executable
  id: totrans-103
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过命令行或可执行文件启动 Burp Suite
- en: For non-Windows users or those Windows users who chose the plain JAR file option,
    you will start Burp at a command line each time you wish to run it. As such, you
    will require a particular Java command to do so.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 对于非 Windows 用户或选择普通 JAR 文件选项的 Windows 用户，您每次想运行 Burp 时都需要在命令行启动它。因此，您需要一个特定的
    Java 命令来启动。
- en: In some circumstances, such as automated scripting, you may wish to invoke Burp
    at the command line as a line item in your shell script. Additionally, you may
    wish to run Burp without a **Graphical User Interface** (**GUI**), referred to
    as **headless mode**. This recipe describes how to perform these tasks.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，例如自动化脚本，您可能希望在命令行中调用 Burp，作为 shell 脚本中的一行命令。此外，您还可能希望在没有**图形用户界面**（**GUI**）的情况下运行
    Burp，这种模式称为**无头模式**。本方法将介绍如何执行这些任务。
- en: How to do it...
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'We will review the commands and actions required to start the Burp Suite product:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将回顾启动 Burp Suite 产品所需的命令和操作：
- en: 'After running the installer from the downloaded **.exe** file, start Burp in
    Windows by double-clicking the icon on your desktop or selecting it from the programs
    listing:'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从下载的**.exe**文件运行安装程序后，您可以通过双击桌面上的图标或从程序列表中选择来启动 Windows 中的 Burp：
- en: '![Figure 1.14 – Burp Suite menu items after installation](image/B21173_Figure_1.14.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.14 – 安装后 Burp Suite 菜单项](image/B21173_Figure_1.14.jpg)'
- en: Figure 1.14 – Burp Suite menu items after installation
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.14 – 安装后 Burp Suite 菜单项
- en: When using the plain JAR file, the **java** executable is followed by the option
    of **-****jar**, followed by the name of the download JAR file.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用普通 JAR 文件时，**java** 可执行文件后跟**-jar**选项，再跟下载的 JAR 文件名。
- en: 'Start Burp at the command line (minimal) with the plain JAR file (Java must
    be installed first):'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 在命令行（最小化）使用普通 JAR 文件启动 Burp（首先必须安装 Java）：
- en: '[PRE0]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If you wish to have more control over the heap size settings (that is, the amount
    of memory allocated for the program), you may modify the **java** command.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望更好地控制堆内存大小设置（即分配给程序的内存量），您可以修改**java**命令。
- en: The **java** executable is followed by **-****jar**, followed by the memory
    allocation. In this case, 2 GB (that is, **2g**) is allocated for **read access
    memory** (**RAM**), followed by the name of the JAR file. If you receive an error
    to the effect that you cannot allocate that much memory, just drop the amount
    down to something like 1,024 MB (that is, **1024m**) instead.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '**java** 可执行文件后跟**-jar**，然后是内存分配。在这种情况下，为**读取访问内存**（**RAM**）分配了 2 GB（即**2g**），接着是
    JAR 文件的名称。如果您收到无法分配这么多内存的错误，请将内存量降低至 1,024 MB（即**1024m**）之类的值。'
- en: 'Start Burp at the command line (optimize) with the plain JAR file (Java must
    be installed first):'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在命令行启动 Burp（优化版）并使用纯 JAR 文件（首先需要安装 Java）：
- en: '[PRE1]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: It is possible to start Burp Suite from the command line and run it in headless
    mode. Headless mode means running Burp without the GUI.
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以从命令行启动 Burp Suite 并以无头模式运行。无头模式意味着在没有图形用户界面的情况下运行 Burp。
- en: Note
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For this book, we will not be running Burp in headless mode since we are learning
    through the GUI. However, you may require this information in the future, which
    is why it is presented here.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中，我们不会在无头模式下运行 Burp，因为我们是通过图形界面学习的。然而，您可能将来会需要这些信息，所以这里呈现给您。
- en: 'Start Burp Suite from the command line so that it can be run in headless mode
    with the plain JAR file (Java must be installed first):'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 从命令行启动 Burp Suite，以便它可以使用纯 JAR 文件在无头模式下运行（首先需要安装 Java）：
- en: '[PRE2]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Note the placement of the **-Djava.awt.headless=true** parameter immediately
    following the **-jar** option and before the name of the JAR file.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，**-Djava.awt.headless=true** 参数紧随 **-jar** 选项之后，并位于 JAR 文件名称之前。
- en: 'If successful, you should see the following:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 如果成功，您应看到以下内容：
- en: '[PRE3]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Press *Ctrl* + *C* or *Ctrl* + *Z* to stop the process.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 按下*Ctrl* + *C* 或 *Ctrl* + *Z* 可停止进程。
- en: It is possible to provide a configuration file to the headless mode command
    so that you can customize the port number and IP address where the proxy listener
    is located.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 可以为无头模式命令提供一个配置文件，以便您自定义代理监听器所在的端口号和 IP 地址。
- en: Note
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Please consult PortSwigger’s support pages for more information on this topic:
    [https://support.portswigger.net/customer/portal/questions/16805563-burp-command-line](https://support.portswigger.net/customer/portal/questions/16805563-burp-command-line).'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 请查阅 PortSwigger 的支持页面，了解更多相关信息：[https://support.portswigger.net/customer/portal/questions/16805563-burp-command-line](https://support.portswigger.net/customer/portal/questions/16805563-burp-command-line)。
- en: 'In each startup scenario described, you should be presented with a **splash
    screen**:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在每种启动场景中，您应看到一个**启动画面**：
- en: 'The splash screen label will match whichever edition you decided to download,
    either Professional or Community:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动画面标签将与您下载的版本匹配，无论是专业版还是社区版：
- en: '![Figure 1.15 – Burp Suite splash screen](image/B21173_Figure_1.15.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.15 – Burp Suite 启动画面](image/B21173_Figure_1.15.jpg)'
- en: Figure 1.15 – Burp Suite splash screen
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – Burp Suite 启动画面
- en: You may be prompted to update the version; feel free to do this, if you like.
    New features are constantly added to Burp to help you find vulnerabilities, so
    upgrading the application is a good idea. Choose **Update Now**, if applicable.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可能会提示您更新版本；如果愿意，可以进行更新。Burp 会不断添加新功能以帮助您发现漏洞，因此升级应用程序是一个好主意。如果适用，请选择**立即更新**。
- en: 'Next, you will be presented with a dialog box asking about project files and
    configurations:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您将看到一个对话框，询问有关项目文件和配置的问题：
- en: '![Figure 1.16 – Project options upon startup](image/B21173_Figure_1.16.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.16 – 启动时的项目选项](image/B21173_Figure_1.16.jpg)'
- en: Figure 1.16 – Project options upon startup
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.16 – 启动时的项目选项
- en: If you are using the Community edition, you will only be able to create a temporary
    project. If you are using the Professional edition, create a new project on disk,
    saving it in an appropriate location so that you can find it. Click **Next**.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您使用的是社区版，您将只能创建一个临时项目。如果您使用的是专业版，请在磁盘上创建一个新项目，并将其保存在一个合适的位置，以便您能够找到它。点击**下一步**。
- en: 'The subsequent splash screen will ask you about the configurations you would
    like to use. At this point, we don’t have any yet, so choose **Use Burp defaults**.
    As you progress through this book, you may wish to save configuration settings
    and load them from this splash screen in the future, as follows:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 随后的启动画面会询问您希望使用的配置选项。此时，我们还没有任何配置，所以请选择**使用 Burp 默认配置**。随着本书的进展，您可能希望保存配置设置，并在将来从此启动画面加载它们，如下所示：
- en: '![Figure 1.17 – Configuration options upon startup](image/B21173_Figure_1.17.jpg)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.17 – 启动时的配置选项](image/B21173_Figure_1.17.jpg)'
- en: Figure 1.17 – Configuration options upon startup
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.17 – 启动时的配置选项
- en: Finally, we are ready to click **Start Burp**.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们准备点击**启动 Burp**。
- en: How it works...
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Using either the plain JAR file or the Windows executable, you can launch Burp
    to start the proxy listener to capture HTTP traffic. Burp offers temporary or
    permanent project files so that you can save activities performed in the suite.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 使用纯 JAR 文件或 Windows 可执行文件，你可以启动 Burp 来启动代理监听器，以捕获 HTTP 流量。Burp 提供临时或永久的项目文件，以便保存套件中执行的活动。
- en: Listening for HTTP traffic using Burp
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Burp 监听 HTTP 流量
- en: Burp is described as an intercepting proxy. This means Burp sits between the
    user’s web browser and the application’s web server and intercepts or captures
    all the traffic flowing between them. This type of behavior is commonly referred
    to as a **proxy service**.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: Burp 被描述为一个拦截代理。这意味着 Burp 位于用户的 web 浏览器与应用的 web 服务器之间，拦截或捕获它们之间流动的所有流量。这种行为通常被称为**代理服务**。
- en: Penetration testers use intercepting proxies to capture traffic flowing between
    a web browser and a web application for analysis and manipulation. For example,
    a tester can pause any HTTP request, thus allowing parameter tampering before
    the request is sent to the web server.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 渗透测试人员使用拦截代理捕获浏览器与 web 应用之间的流量，以便进行分析和操控。例如，测试人员可以暂停任何 HTTP 请求，从而在请求发送到 web
    服务器之前进行参数篡改。
- en: Intercepting proxies, such as Burp, allow testers to intercept both HTTP requests
    and HTTP responses. This allows a tester to observe the behavior of the web application
    under different conditions. And, as we shall see, sometimes the behaviors are
    unintended, deviating from what the original developer expected.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 拦截代理，如 Burp，允许测试人员拦截 HTTP 请求和 HTTP 响应。这使得测试人员能够在不同条件下观察 web 应用的行为。如我们所见，有时这些行为是意外的，偏离了原开发者的预期。
- en: To see Burp Suite in action, you need to configure your Firefox browser’s **Network
    Settings** so that they point to your running instance of Burp. This enables Burp
    to capture all HTTP traffic that is flowing between your browser and the target
    web application.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看 Burp Suite 的工作效果，你需要配置 Firefox 浏览器的**网络设置**，使其指向正在运行的 Burp 实例。这样，Burp 就能捕获浏览器与目标
    web 应用之间所有的 HTTP 流量。
- en: Getting ready
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: We will configure the Firefox browser to allow Burp to listen to all HTTP traffic
    flowing between the browser and the OWASP BWA VM. This will allow the proxy service
    within Burp to capture traffic for testing purposes.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将配置 Firefox 浏览器，允许 Burp 监听浏览器与 OWASP BWA 虚拟机之间的所有 HTTP 流量。这将使 Burp 内部的代理服务能够捕获流量以进行测试。
- en: Instructions for this are available on PortSwigger at [https://support.portswigger.net/customer/portal/articles/1783066-configuring-firefox-to-work-with-burp](https://support.portswigger.net/customer/portal/articles/1783066-configuring-firefox-to-work-with-burp).
    We will step through this process in this recipe.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 有关此操作的说明可以在 PortSwigger 上找到：[https://support.portswigger.net/customer/portal/articles/1783066-configuring-firefox-to-work-with-burp](https://support.portswigger.net/customer/portal/articles/1783066-configuring-firefox-to-work-with-burp)。我们将在本食谱中逐步讲解此过程。
- en: How to do it...
  id: totrans-153
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Follow these steps to start listening to all HTTP traffic using Burp:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤使用 Burp 启动 HTTP 流量监听：
- en: Open the Firefox browser and go to **Options**.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 Firefox 浏览器并进入**选项**。
- en: In the **General** tab, scroll down to the **Network Proxy** section and then
    click **Settings**.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**常规**选项卡中，向下滚动到**网络代理**部分，然后点击**设置**。
- en: In the **Connection Settings** window, select **Manual proxy configuration**
    and type in an IP address of **127.0.0.1** with the port set to **8080**. Select
    the **Use this proxy server for all** **protocols** checkbox.
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**连接设置**窗口中，选择**手动代理配置**，并输入 IP 地址**127.0.0.1**，端口设置为**8080**。选中**对所有协议使用此代理服务器**复选框。
- en: 'Make sure the **No proxy for** text box is blank, as shown in the following
    screenshot, and then click **OK**:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 确保**不使用代理的地址**文本框为空，如下截图所示，然后点击**确定**：
- en: '![Figure 1.18 – Manually configuring the Firefox browser to send HTTP traffic
    to Burp](image/B21173_Figure_1.18.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.18 – 手动配置 Firefox 浏览器将 HTTP 流量发送到 Burp](image/B21173_Figure_1.18.jpg)'
- en: Figure 1.18 – Manually configuring the Firefox browser to send HTTP traffic
    to Burp
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.18 – 手动配置 Firefox 浏览器将 HTTP 流量发送到 Burp
- en: With the OWASP BWA VM running in the background and using Firefox to browse
    to the URL specific to your machine (that is, the IP address shown on the Linux
    VM in VirtualBox), click the reload button (the arrow in a circle) to see the
    traffic captured in Burp.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在后台运行 OWASP BWA 虚拟机，并使用 Firefox 浏览器访问与你的机器相关的 URL（即 VirtualBox 中 Linux 虚拟机显示的
    IP 地址），点击重新加载按钮（一个圆圈中的箭头），以查看 Burp 捕获的流量。
- en: 'If you don’t happen to see any traffic, check whether **Proxy** | **Intercept**
    is holding up the request. If the button labeled **Intercept is on** is depressed,
    as shown in the following screenshot, then click the button again to disable the
    interception. After doing so, the traffic should flow freely into Burp, as follows:'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你没有看到任何流量，请检查 **Proxy** | **Intercept** 是否阻止了请求。如果标有 **Intercept is on** 的按钮被按下，如下图所示，那么再次点击该按钮以禁用拦截。完成后，流量应顺利流入
    Burp，如下所示：
- en: '![Figure 1.19 – By default, Intercept is on](image/B21173_Figure_1.19.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.19 – 默认情况下，Intercept 是开启的](image/B21173_Figure_1.19.jpg)'
- en: Figure 1.19 – By default, Intercept is on
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.19 – 默认情况下，Intercept 是开启的
- en: 'In the following screenshot, the **Proxy** | **Intercept** button is disabled:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在下图中，**Proxy** | **Intercept** 按钮被禁用：
- en: '![Figure 1.20 – Turning Intercept off to see traffic](image/B21173_Figure_1.20.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.20 – 关闭 Intercept 以查看流量](image/B21173_Figure_1.20.jpg)'
- en: Figure 1.20 – Turning Intercept off to see traffic
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.20 – 关闭 Intercept 以查看流量
- en: If everything is working properly, you will see traffic in your **Target** |
    **Site map** tab, similar to what is shown in the following screenshot. Your IP
    address will be different, of course, and you may have more items shown within
    your **Site map** area. Congratulations! You now have Burp listening to all of
    your browser traffic!
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果一切正常，你将在 **Target** | **Site map** 标签中看到流量，类似于下图所示。你的 IP 地址会不同，当然，你的 **Site
    map** 区域中可能显示更多的项目。恭喜！你现在已经让 Burp 监听了你所有的浏览器流量！
- en: "![Figure 1.21 – Confirmation of HTTP traff\uFEFFic flowing into Burp](image/B21173_Figure_1.21.jpg)"
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.21 – 确认 HTTP 流量已流入 Burp](image/B21173_Figure_1.21.jpg)'
- en: Figure 1.21 – Confirmation of HTTP traffic flowing into Burp
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.21 – 确认 HTTP 流量已流入 Burp
- en: How it works...
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: The Burp Proxy service is listening on **127.0.0.1** at port **8080**. Either
    of these settings can be changed so that you can listen on an alternative IP address
    or port number. However, for learning purposes, we will use the default settings.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: Burp Proxy 服务正在 **127.0.0.1** 上监听，端口号为 **8080**。你可以更改这些设置，以便在其他 IP 地址或端口上进行监听。然而，为了学习目的，我们将使用默认设置。
- en: There’s more…
  id: totrans-173
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多……
- en: 'As a simpler alternative, you can use the browser built into Burp. To access
    this, go to **Proxy** from the top menu, choose the **Intercept** sub-menu, and
    then click the **Open** **browser** button:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一个更简单的替代方案，你可以使用 Burp 内置的浏览器。要访问它，请从顶部菜单中选择 **Proxy**，然后选择 **Intercept** 子菜单，接着点击
    **Open** **browser** 按钮：
- en: '![Figure 1.22 – Using Burp’s built-in browser instead of using an external
    browser (for example, Firefox)](image/B21173_Figure_1.22.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.22 – 使用 Burp 内置的浏览器，而不是使用外部浏览器（例如，Firefox）](image/B21173_Figure_1.22.jpg)'
- en: Figure 1.22 – Using Burp’s built-in browser instead of using an external browser
    (for example, Firefox)
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.22 – 使用 Burp 内置的浏览器，而不是使用外部浏览器（例如，Firefox）
