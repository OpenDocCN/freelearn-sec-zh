- en: '*Chapter 8*: Enhancing Your Network Defensive Skills'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第8章*: 提升你的网络防御技能'
- en: '*"The digital economy and the knowledge society is supported by immense masses
    of data that navigate in cyberspace, enabling the interaction between systems,
    humans and companies. Thus, the future of connected humanity depends on the investment,
    robustness and cybersecurity of telecommunications networks."*'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '*“数字经济和知识社会依赖于在网络空间中流动的大量数据，这些数据使得系统、人类与企业之间能够互动。因此，连接的人类的未来依赖于电信网络的投资、韧性和网络安全。”*'
- en: '*– Luis Adrian Salazar, Former Minister of Science Technology and Telecommunication
    of Costa Rica*'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*– 路易斯·阿德里安·萨拉萨尔，前哥斯达黎加科学技术与电信部长*'
- en: The foundation of a network security strategy should be based on knowledge of
    the data that is passing through this network.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 网络安全策略的基础应建立在对网络中传输数据的了解之上。
- en: You will be amazed by the huge amount of overhead that is passing through your
    network.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你会对流经你网络的大量开销感到惊讶。
- en: But most importantly, you will be surprised with the amount of network traffic
    that flows through your network even when you are not using it. Programs requesting
    updates, programs sending encoded data to their servers (something that we agree
    to when we install social media apps such as TikTok and Facebook), and many other
    things are the cause of this constant flow of data.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 但最重要的是，你会对即使在你不使用网络时，网络中流动的数据量感到惊讶。程序请求更新、程序向其服务器发送编码数据（这是我们在安装像TikTok和Facebook这样的社交媒体应用时同意的），还有许多其他原因，都是这种持续数据流动的根源。
- en: 'Now let''s take a look at all the juicy content that is waiting for you in
    this chapter:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来看看本章等待你探索的精彩内容：
- en: Understanding the *phases of a cyber attack.*
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解*网络攻击的各个阶段*。
- en: 'A deep dive on one of the best tools for your defensive security arsenal: **Nmap**.'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 深入探索你防御安全工具箱中最好的工具之一：**Nmap**。
- en: A collection of guided examples to get hands-on experience on **Nmap**.
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一系列引导实例，帮助你获得**Nmap**的实操经验。
- en: A walk through the *biggest security flaws and vulnerabilities on wireless networks.*
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 走进无线网络上*最大安全漏洞和弱点*。
- en: We will create the best-in-class *safety guide for wireless users*.
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将为无线用户创建一份行业最佳的*安全指南*。
- en: 'We will also review another great tool for network analysis: *the mighty Wireshark.*'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还将回顾另一个优秀的网络分析工具：*强大的Wireshark*。
- en: We will look at some vulnerable protocols, plus some *guided demos to show how
    easy it would be for an attacker to capture sensitive data* if those protocols
    were in use.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将研究一些易受攻击的协议，以及一些*引导演示，展示如果这些协议在使用中，攻击者如何轻松捕获敏感数据*。
- en: You will also learn the basics about **IPS** and **IDS**, and their similarities
    and differences, and have a quick look at the best free IPS and IDS available
    to you.
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你还将学习关于**IPS**和**IDS**的基础知识，它们的相似性与差异，并快速了解最好的免费IPS和IDS。
- en: Plus, this chapter has a **bonus** – yes, a bonus! – in which you will learn
    how to *play old-school games, visit an ancient virtual museum, and even watch
    an ASCII movie for free using Telnet.*
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，本章还有一个**附加内容**——没错，就是附加内容！——你将学会如何*通过Telnet玩复古游戏、参观古老的虚拟博物馆，甚至免费观看ASCII电影*。
- en: Technical requirements
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To make the best of this chapter, you need to install Kali Linux. This way,
    you can play around with the tools that we will overview.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 为了最大限度地利用本章内容，你需要安装Kali Linux。这样，你可以玩转我们将要介绍的工具。
- en: Kali Linux is very light so you can install it on pretty much any old computer
    with internet access.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux非常轻便，所以你几乎可以在任何有互联网连接的老旧电脑上安装它。
- en: Another option is to use a virtual machine, but in that case, you may need to
    tweak some settings (especially network settings) to ensure that all tools will
    behave as expected.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选择是使用虚拟机，但那时你可能需要调整一些设置（尤其是网络设置），以确保所有工具能够按预期工作。
- en: 'All images, including pre-built virtual images for virtual machines, can be
    found here: [https://www.kali.org/downloads/](https://www.kali.org/downloads/).'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 所有的图像，包括为虚拟机预建的虚拟镜像，都可以在这里找到：[https://www.kali.org/downloads/](https://www.kali.org/downloads/)。
- en: Using the master tool of network mapping – Nmap
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用网络映射的主力工具——Nmap
- en: First, let's start by understanding the importance of *network mapping tools*.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们从理解*网络映射工具*的重要性开始。
- en: Cyber attacks are normally composed of five phases in which network mapping
    is the core of the second phase, known as **scanning**. To better understand this,
    let's take a quick look at those five phases of a cyber attack.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 网络攻击通常由五个阶段组成，其中第二阶段的核心是网络映射，也称为**扫描**。为了更好地理解这一点，让我们快速浏览一下网络攻击的五个阶段。
- en: Phases of a cyber attack
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络攻击的阶段
- en: These phases were not created as a set of best practices that attackers need
    to follow; instead, they were designed by cybersecurity professionals to categorize
    the most common steps that an attacker will be most likely to follow when performing
    a cyber attack.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这些阶段并不是作为攻击者必须遵循的一套最佳实践创建的；相反，它们是由网络安全专业人士设计的，用于对攻击者在进行网络攻击时最有可能遵循的常见步骤进行分类。
- en: Let me explain those stages by telling the story of an attacker that wants to
    gather some data from a fictional company called **Bravix**.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 让我通过讲述一个攻击者的故事来解释这些阶段，故事中的攻击者想要从一家名为**Bravix**的虚构公司获取一些数据。
- en: Phase 1 – Reconnaissance
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第一阶段 – 侦察
- en: First, the attacker needs to acquire some basic information about Bravix, such
    as web page name, type of security, basic structure, web services in use, and
    so on. Additionally, the attacker may also want to get other public information
    about the company, such as its location and any information about their employees
    that can be used later in targeted social engineering attacks.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，攻击者需要获取一些关于Bravix的基本信息，如网页名称、安全类型、基本结构、使用的网络服务等。此外，攻击者还可能希望获得公司其他公开的信息，如公司位置以及关于员工的信息，这些都可以在后续的定向社交工程攻击中使用。
- en: Normally, all the data is collected manually using public sources such as a
    simple Google search.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，所有数据都是通过简单的Google搜索等公共来源手动收集的。
- en: Phase 2 – Scanning
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第二阶段 – 扫描
- en: 'Now that the attacker knows the web pages associated with Bravix (`bravix.com`,
    `store.bravix.com`, and `mail.bravix.com`), it is time to *scan them* to collect
    more technical information that will be used during the attack:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 现在攻击者已经知道了与Bravix相关的网页（`bravix.com`、`store.bravix.com`和`mail.bravix.com`），是时候*扫描它们*以收集更多将在攻击过程中使用的技术信息了：
- en: OS versions.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作系统版本。
- en: IP addresses.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IP地址。
- en: Web services used.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用的网络服务。
- en: Opened ports.
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开放端口。
- en: The version of the **Content Management System** (**CMS**). Most web pages now
    use a CMS as a platform to run their web pages.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容管理系统**（**CMS**）的版本。如今大多数网页都使用CMS作为平台来运行它们的网页。'
- en: As mentioned, this stage is more technical than the previous one and the attacker
    will leverage tools such as vulnerability scanners and network scanners to gather
    this data (*we will see how soon*).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，这一阶段比前一阶段更具技术性，攻击者将利用漏洞扫描器和网络扫描器等工具来收集这些数据（*我们很快就会看到*）。
- en: Phase 3 – Gaining access
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第三阶段 – 获取访问权限
- en: With all that information, the attacker can determine the vulnerabilities on
    the victim's web pages (or web resources) and exploit them to gain access to the
    data.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有所有这些信息后，攻击者可以确定受害者网页（或网络资源）中的漏洞，并利用它们来获取数据。
- en: Phase 4 – Maintaining access
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第四阶段 – 维持访问
- en: This is an optional phase that is executed in more elaborate attacks in which
    the attacker wants to harvest more data from the victim; however, in this example,
    the attacker may just grab the information needed from Bravix's web servers and
    run.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个可选阶段，通常在更复杂的攻击中执行，攻击者希望从受害者那里收集更多数据；然而，在这个例子中，攻击者可能只从Bravix的网络服务器上获取所需的信息并离开。
- en: Phase 5 – Covering or deleting their tracks
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第五阶段 – 掩盖或删除踪迹
- en: Of course, this intrusion was illegal, therefore to avoid jail, the attacker
    will try to delete any track of this exfiltration of data by deleting any logs
    that may serve as evidence of this crime.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，这次入侵是非法的，因此为了避免监禁，攻击者将尽力删除任何可能作为此犯罪证据的日志，以清除任何数据外泄的痕迹。
- en: 'The following figure shows the five stages of a cyber attack; however, it is
    very important to highlight that these phases are not always sequential, and in
    fact many times they overlap. For example, an attacker may start covering their
    tracks from the first phase by using a VPN to avoid detection:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图显示了网络攻击的五个阶段；然而，非常重要的一点是，这些阶段并不总是按顺序进行，事实上，它们很多时候是重叠的。例如，攻击者可能从第一阶段开始就通过使用VPN来掩盖自己的踪迹，以避免被发现：
- en: '![Figure 8.1 – Phases of a cyber attack'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.1 – 网络攻击的阶段'
- en: '](img/Figure_8.1_B16290.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.1_B16290.jpg)'
- en: Figure 8.1 – Phases of a cyber attack
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.1 – 网络攻击的阶段
- en: OK; based on what we just learned, we can determine the importance of the *scanning
    phase* because the more information the attacker gathers here, the higher the
    risk of the attack.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 好的；基于我们刚刚学到的内容，我们可以确定*扫描阶段*的重要性，因为攻击者在这里收集的信息越多，攻击的风险就越高。
- en: Therefore, let's understand how we can leverage the same tools that attackers
    will use against us to proactively protect our systems from attack.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，让我们理解如何利用攻击者可能用来攻击我们的相同工具，主动保护我们的系统免受攻击。
- en: Nmap
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Nmap
- en: 'Nmap is *must-have* tool for *network discovery* and *security auditing* that
    allows us to do the following:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap是*网络发现*和*安全审计*的*必备*工具，允许我们执行以下操作：
- en: Perform an inventory of our network.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对我们的网络进行清单盘点。
- en: Gather uptime data for services or hosts.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集服务或主机的正常运行时间数据。
- en: Determine the hosts on a given network.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定给定网络上的主机。
- en: Determine the services offered (or enabled) by those hosts.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定这些主机提供（或启用）的服务。
- en: Determine the OS version of said host machines.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定所述主机的操作系统版本。
- en: Determine any packet filters or firewalls in use.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定使用的任何数据包过滤器或防火墙。
- en: Basically, Nmap leverages IP packets to gather all of this data and presents
    it very cleanly using a command-line interface or even a GUI called Zenmap.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 基本上，Nmap利用IP数据包收集所有这些数据，并通过命令行界面或名为Zenmap的GUI清晰地呈现这些信息。
- en: Nmap is available for most OSes, including Windows, Linux, and macOS, and can
    be downloaded for free from [https://nmap.org/](https://nmap.org/).
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap适用于大多数操作系统，包括Windows、Linux和macOS，并可以从[https://nmap.org/](https://nmap.org/)免费下载。
- en: Warning
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Scanning someone's system or network without written authorization from the
    owner is *illegal* in many countries, so before moving any further, make sure
    you only do these scans on systems for which you are authorized.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多国家，没有得到所有者书面授权扫描某人的系统或网络是*非法的*，因此在进一步操作之前，确保你只对那些你被授权的系统进行这些扫描。
- en: The good news is that if you want to test your knowledge or simply practice
    with Nmap, you can use a system that the people behind Nmap have generously created
    for educational purposes. The page is [http://scanme.nmap.org/](http://scanme.nmap.org/).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 好消息是，如果你想测试自己的知识，或者仅仅是想通过Nmap进行练习，你可以使用Nmap背后的人们慷慨创建的一个系统，供教育用途。该页面为[http://scanme.nmap.org/](http://scanme.nmap.org/)。
- en: 'Now, let''s see how this works by executing the basic `nmap` command on that
    test server:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们通过在测试服务器上执行基本的`nmap`命令来看看这如何工作：
- en: '[PRE0]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: As shown in *Figure 8.2*, the basic command provides very valuable information
    about the server.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如*图 8.2*所示，基本命令提供了关于服务器的非常有价值的信息。
- en: Here you can see the ports that are open, and the service associated with each
    port.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以看到哪些端口是开放的，以及与每个端口关联的服务。
- en: This is very useful when auditing your infrastructure to confirm *that just
    the required ports and services are open* and if there are discrepancies, apply
    immediate actions to remediate the vulnerability before the bad guys discover
    it.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在审计你的基础设施以确认*仅打开必要的端口和服务*时，这非常有用。如果发现不一致，应该立即采取措施修复漏洞，防止坏人发现它。
- en: '![Figure 8.2 – nmap basic output'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.2 – nmap 基本输出'
- en: '](img/Figure_8.2_B16290.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.2_B16290.jpg)'
- en: Figure 8.2 – nmap basic output
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.2 – nmap 基本输出
- en: 'Now, let''s be more *aggressive* by adding the `-A` parameter:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，通过添加`-A`参数，让我们变得更加*激进*：
- en: '[PRE1]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'As shown in *Figure 8.3*, the `-A` parameter gives us some additional and useful
    information such as the following:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如*图 8.3*所示，`-A`参数为我们提供了一些额外且有用的信息，例如以下内容：
- en: '**Name and version of the service running on the port**: This is a very important
    auditing tool that enables you to easily identify outdated and vulnerable services,
    so that you can contact the server owner to get them patched ASAP. Additionally,
    and depending on the criticality of the vulnerability (for example, a very old
    version that may jeopardize the entire infrastructure), you can create a policy
    that if the service is not patched in *X* days, then the server will be removed
    from the network. This will cover you from having exposed services on your infrastructure
    but also puts some pressure on the system administrators to ensure that they get
    the service in question patched ASAP.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**端口上运行的服务的名称和版本**：这是一个非常重要的审计工具，它能让你轻松识别过时且易受攻击的服务，从而可以联系服务器所有者尽快进行修补。此外，根据漏洞的严重性（例如，可能危及整个基础设施的非常旧的版本），你可以制定政策，如果服务在*X*天内没有修复，那么该服务器将被从网络中移除。这不仅可以保护你的基础设施免受暴露的服务影响，还能向系统管理员施加压力，确保他们尽快修复相关服务。'
- en: '**OS version**: This will help you to determine if an unsupported OS is present
    in your infrastructure.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**操作系统版本**：这将帮助你确定你的基础设施中是否存在不受支持的操作系统。'
- en: '![Figure 8.3 – nmap -A output'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.3 – nmap -A 输出'
- en: '](img/Figure_8.3_B16290.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.3_B16290.jpg)'
- en: Figure 8.3 – nmap -A output
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.3 – nmap -A 输出
- en: 'As we mentioned, `Nmap` is a great tool for auditing, and you may need to send
    these results to the server owner so they can take action. The good news is that
    you can use this simple command to export the `nmap` results to a `.txt` file
    so that you can easily send it to the server owner as an attachment:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，`Nmap` 是一个非常适合审计的工具，你可能需要将这些结果发送给服务器所有者，以便他们采取行动。好消息是，你可以使用这个简单的命令将 `nmap`
    结果导出到 `.txt` 文件中，这样你就可以轻松地将其作为附件发送给服务器所有者：
- en: '[PRE2]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'As you can see in the following figure, the result of the preceding `nmap`
    command created a document called `server_audit.txt` and saved it to your working
    directory, ready for you to include in your audit results:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，前面提到的 `nmap` 命令生成了一个名为 `server_audit.txt` 的文档，并将其保存在你的工作目录中，准备将其包含在审计结果中：
- en: '![Figure 8.4 – nmap result exported to .txt file'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.4 – nmap 结果导出到 .txt 文件'
- en: '](img/Figure_8.4_B16290.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.4_B16290.jpg)'
- en: Figure 8.4 – nmap result exported to .txt file
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.4 – nmap 结果导出到 .txt 文件
- en: 'You can also target sections of your network by using an IP range. For example,
    the following command will scan all IPs from `192.168.0.1` to `192.168.0.100`:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以通过使用 IP 范围来定位网络的特定部分。例如，以下命令将扫描从`192.168.0.1`到`192.168.0.100`的所有 IP：
- en: '[PRE3]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Notice that we also included the `-v` (for *verbose*) parameter, which outputs
    additional information about the process of the scan.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，我们还包括了 `-v`（表示*详细*）参数，它会输出有关扫描过程的更多信息。
- en: Tip
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: By default, `Nmap` scans 1,000 ports, but you can increase, decrease, or specify
    that number by using parameters such as `-F` (fast scan of fewer ports), `-p`
    (to specify the ports to scan), or `-r` (to scan all ports in consecutive order).
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，`Nmap`扫描 1,000 个端口，但你可以通过使用如 `-F`（快速扫描较少的端口）、`-p`（指定要扫描的端口）或 `-r`（按连续顺序扫描所有端口）等参数来增加、减少或指定端口数量。
- en: 'There are many more parameters that you can use with `nmap`. To explore them,
    simply type the following:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用更多的参数来与 `nmap` 一起使用。要探索它们，只需键入以下命令：
- en: '[PRE4]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '*But there is more!* `nmap` supports scripts created by the community to augment
    their capabilities, as explained in the next section.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '*但还有更多！* `nmap` 支持社区创建的脚本来增强其功能，具体内容将在下一节中讲解。'
- en: Nmap scripts
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Nmap 脚本
- en: Let's review some of the best `nmap` scripts that you can leverage in defensive
    security.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾一下你可以在防御性安全中利用的一些最佳 `nmap` 脚本。
- en: vulners
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: vulners
- en: This script will make your life easier. It will provide you all `Nmap` scan.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 这个脚本会让你的生活更轻松。它将提供所有 `Nmap` 扫描的结果。
- en: What is a CVE?
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 什么是 CVE？
- en: 'In [*Chapter 2*](B16290_02_Final_JC_ePub.xhtml#_idTextAnchor035), *Managing
    Threats, Vulnerabilities, and Risks*, we talked about one of the best places to
    go to find vulnerabilities: the **CVE site** at [https://cve.mitre.org/](https://cve.mitre.org/).'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [*第 2 章*](B16290_02_Final_JC_ePub.xhtml#_idTextAnchor035) 中，*管理威胁、漏洞和风险*，我们谈到了一个寻找漏洞的最佳地点：**CVE
    网站**，网址为 [https://cve.mitre.org/](https://cve.mitre.org/)。
- en: 'The magical script is called `vulners` and can be found on the following link:
    [https://github.com/vulnersCom/nmap-vulners](https://github.com/vulnersCom/nmap-vulners).'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这个神奇的脚本叫做 `vulners`，你可以在以下链接找到它：[https://github.com/vulnersCom/nmap-vulners](https://github.com/vulnersCom/nmap-vulners)。
- en: This script is loaded by default into the standard **Nmap Scripting Engine**
    (**NSE**) library, so there is no need to install it.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 这个脚本默认加载到标准**Nmap 脚本引擎**（**NSE**）库中，因此无需额外安装。
- en: 'The command structure is very simple, so let''s explain it:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 命令结构非常简单，下面让我们来解释一下：
- en: '[PRE5]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: First, we have the standard `nmap` command, then we use the `-sV` parameter
    because the script needs the version to properly gather the CVE.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们使用标准的 `nmap` 命令，然后使用 `-sV` 参数，因为脚本需要版本信息才能正确收集 CVE。
- en: Then we call the script by using the `--script {script_name}` parameter.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们使用`--script {script_name}`参数来调用该脚本。
- en: 'We can optionally use the `mincvss` script argument to limit the results to
    CVEs with a score greater than the value provided. An example is as follows:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以选择使用 `mincvss` 脚本参数来限制结果为 CVE 分数大于提供的值。示例如下：
- en: '[PRE6]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Now, the script will look for all CVEs related to that `nmap` result. Note that
    the script uses a huge database of more than 250 GB, so the scan may take some
    minutes to run.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，脚本将查找与该 `nmap` 结果相关的所有 CVE。请注意，脚本使用一个超过 250 GB 的巨大数据库，因此扫描可能需要几分钟才能完成。
- en: 'The following figure shows a big list of vulnerabilities related to the version
    of Apache running on the server:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了与服务器上运行的 Apache 版本相关的大量漏洞列表：
- en: '![Figure 8.5 – vulners script result'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.5 – vulners 脚本结果'
- en: '](img/Figure_8.5_B16290.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.5_B16290.jpg)'
- en: Figure 8.5 – vulners script result
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.5 – vulners 脚本结果
- en: Also notice that the script provides a link to a web page about the CVE so that
    you can easily gather more information about the vulnerability.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 还请注意，脚本提供了一个关于 CVE 的网页链接，方便你进一步了解漏洞的详细信息。
- en: As we saw before, you can use the `>> {file_name}` option at the end of the
    preceding command to export the result to a `.txt` file to make it easier to send
    to the server owner (to get the vulnerabilities fixed ASAP). Also, having the
    file exported as `.txt` is great for keeping as evidence for audits.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，你可以使用`>> {file_name}`选项，将前一个命令的结果导出到`.txt`文件中，这样更方便发送给服务器所有者（以便尽快修复漏洞）。另外，将文件导出为`.txt`格式也是为审计保留证据的好方法。
- en: vulscan
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: vulscan
- en: This is another super cool script that will search for vulnerabilities related
    to the version found in the `nmap` results.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 这是另一个非常酷的脚本，它将根据在`nmap`结果中找到的版本，搜索相关的漏洞。
- en: 'By default, the script will look for vulnerabilities on the following databases:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，脚本会在以下数据库中查找漏洞：
- en: '**scipvuldb.csv** - [https://vuldb.com](https://vuldb.com)'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**scipvuldb.csv** - [https://vuldb.com](https://vuldb.com)'
- en: '**cve.csv** - [https://cve.mitre.org](https://cve.mitre.org)'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**cve.csv** - [https://cve.mitre.org](https://cve.mitre.org)'
- en: '**securityfocus.csv** - [https://www.securityfocus.com/bid/](https://www.securityfocus.com/bid/)'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**securityfocus.csv** - [https://www.securityfocus.com/bid/](https://www.securityfocus.com/bid/)'
- en: '**xforce.csv** - [https://exchange.xforce.ibmcloud.com/](https://exchange.xforce.ibmcloud.com/)'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xforce.csv** - [https://exchange.xforce.ibmcloud.com/](https://exchange.xforce.ibmcloud.com/)'
- en: '**expliotdb.csv** - [https://www.exploit-db.com](https://www.exploit-db.com)'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**expliotdb.csv** - [https://www.exploit-db.com](https://www.exploit-db.com)'
- en: '**openvas.csv** - [http://www.openvas.org](http://www.openvas.org)'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**openvas.csv** - [http://www.openvas.org](http://www.openvas.org)'
- en: '**securitytracker.csv** - [https://www.securitytracker.com](https://www.securitytracker.com)
    (end-of-life)'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**securitytracker.csv** - [https://www.securitytracker.com](https://www.securitytracker.com)（已停止维护）'
- en: '**osvdb.csv** - [http://www.osvdb.org](http://www.osvdb.org) (end-of-life)'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**osvdb.csv** - [http://www.osvdb.org](http://www.osvdb.org)（已停止维护）'
- en: 'Unfortunately, this script is not loaded by default. But no worries, here are
    the steps to easily install it in Kali Linux:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，默认情况下没有加载此脚本。不过不用担心，以下是在 Kali Linux 中轻松安装它的步骤：
- en: 'Navigate to the `nmap` `scripts` directory:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 `nmap` 的 `scripts` 目录：
- en: '[PRE7]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Create a directory for the installation of the files:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个目录来安装文件：
- en: '[PRE8]'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Access the directory:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问目录：
- en: '[PRE9]'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Install the files:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装文件：
- en: '[PRE10]'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Once installed, the script is very simple to run:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，运行该脚本非常简单：
- en: '[PRE11]'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'In this case, as demonstrated in the following figure, the script did not find
    any vulnerability associated with the current version of OpenSSH on those databases:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，如下图所示，脚本未在这些数据库中找到与当前 OpenSSH 版本相关的漏洞：
- en: '![Figure 8.6 – vulscan script result'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.6 – vulscan 脚本结果'
- en: '](img/Figure_8.6_B16290.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.6_B16290.jpg)'
- en: Figure 8.6 – vulscan script result
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.6 – vulscan 脚本结果
- en: 'This script can also be run against additional databases. To do that, just
    add the following argument:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 此脚本还可以针对其他数据库运行。为此，只需添加以下参数：
- en: '[PRE12]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: As mentioned, one of the cool features of `nmap` is that you can create your
    own scripts.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，`nmap` 的一个酷功能是你可以创建自己的脚本。
- en: If you want to learn more about how to create your scripts, I highly recommend
    the book *Mastering the Nmap Scripting Engine* by *Paulino Calderon*, available
    from *Packt*.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想了解更多关于如何创建脚本的知识，我强烈推荐*Paulino Calderon*的《Mastering the Nmap Scripting Engine》一书，由*Packt*出版。
- en: Improving the protection of wireless networks
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提高无线网络的保护
- en: To better explain this, let's split this section in two.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地解释这一点，我们将此部分分为两部分。
- en: In the first part, we will do *a technical deep dive on the most dangerous wireless
    network vulnerabilities* that you need to know.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一部分，我们将*深入探讨最危险的无线网络漏洞*，这是你需要知道的。
- en: The second part will focus on the user, so it will basically be a *user guide
    to help them to stay secure when using a wireless connection at home*. Remember
    that these kinds of guides are your best bet to reduce the biggest risk to your
    infrastructure and data, *the inadvertent user*.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 第二部分将重点关注用户，因此它基本上是一个*用户指南，帮助他们在使用家庭无线连接时保持安全*。记住，这类指南是减少基础设施和数据最大风险的最佳选择，即*不小心的用户*。
- en: Wireless network vulnerabilities
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 无线网络漏洞
- en: As mentioned, here we are going to look at the protocols, features, and practices
    that represent the top vulnerabilities to wireless networks. Due to the recent
    increase in the number of users working from home, this guide will include vulnerabilities
    that affect both enterprise and home systems.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，我们将在这里讨论代表无线网络顶级漏洞的协议、特性和实践。由于最近远程办公用户的增加，本指南将涵盖影响企业和家庭系统的漏洞。
- en: Wi-Fi Protected Setup (WPS) – the problem
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Wi-Fi保护设置（WPS）– 问题
- en: This is the perfect example of a tradeoff between security and usability (or
    convenience). The reason is that **WPS** was created to make it easier for non-technical
    users to connect new devices such as smart TVs, game consoles, and laptops to
    the network.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这是安全性与可用性（或便利性）之间权衡的完美例子。原因是**WPS**的创建是为了让非技术用户更容易将智能电视、游戏机和笔记本电脑等新设备连接到网络。
- en: The problem is that the protocol is extremely insecure and has several vulnerabilities
    that lower the security of your network.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 问题在于该协议极为不安全，存在多个漏洞，降低了网络的安全性。
- en: 'There are two main WPS implementations: one is **PIN based** and the other
    one is known as **Push Button Control (PBC**).'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: WPS有两种主要的实现方式：一种是**基于PIN码**，另一种被称为**按键控制（PBC）**。
- en: The **PBC** implementation includes two methods. One method is initiated by
    pressing the WPS button on both devices as seen in *Figure 8.7*. Normally, here
    you have to press the WPS button on your Wi-Fi then you press the WPS button on
    your device to establish the connection.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '**PBC**实现包括两种方法。一种方法是通过按下两台设备上的WPS按钮来启动，如*图8.7*所示。通常，你需要先按下Wi-Fi上的WPS按钮，然后按下设备上的WPS按钮来建立连接。'
- en: '![Figure 8.7 – WPS connection by pressing the button'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.7 – 按下按钮进行WPS连接'
- en: '](img/Figure_8.7_B16290.jpg)'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.7_B16290.jpg)'
- en: Figure 8.7 – WPS connection by pressing the button
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.7 – 按下按钮进行WPS连接
- en: There is also a hybrid mode in which you have to first open an app on your device
    to scan for WPS-enabled devices and then press the WPS button on the router to
    establish the connection, as shown in *Figure 8.8*.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一种混合模式，在这种模式下，你需要先在设备上打开一个应用程序以扫描WPS启用的设备，然后按下路由器上的WPS按钮来建立连接，如*图8.8*所示。
- en: Some routers also have the option to trigger WPS through the router's web interface,
    but that option is only available on a few models and is used by very few people
    (because it lacks the usability part of the solution).
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 一些路由器还提供通过路由器的网页接口触发WPS的选项，但这个选项仅在少数型号中可用，而且使用的人很少（因为它缺乏解决方案的可用性部分）。
- en: '![Figure 8.8 – WPS hybrid connection mode'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.8 – WPS混合连接模式'
- en: '](img/Figure_8.8_B16290.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.8_B16290.jpg)'
- en: Figure 8.8 – WPS hybrid connection mode
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.8 – WPS混合连接模式
- en: The other WPS implementation is by using a **PIN code**, which is way easier
    to remember than your super-long and secure password.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种WPS实现方式是使用**PIN码**，这种方式比起你那超长且安全的密码，记起来要容易得多。
- en: But wait…. What is the point of having a super-secure password if we are also
    going to enable insecure PIN access? This is like having a super-secure one-million-dollar
    door that can be bypassed by an open window.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 但等等……如果我们还要启用不安全的PIN访问，那拥有一个超级安全的密码又有什么意义呢？这就像有一个超级安全的百万美元大门，但你却可以通过一扇开着的窗户轻松绕过。
- en: Why is the PIN method less secure?
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么PIN方法不安全？
- en: The PIN is an 8-digit number, which means that the entropy (number of possible
    password combinations) is really small in contrast to an alphanumeric password
    in which you can introduce lower- and uppercase letters to significantly increase
    the entropy. In fact, using a modern cracking engine, an attacker can crack an
    8-digit PIN in less than 8 hours.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: PIN码是一个8位数字，这意味着它的熵（可能的密码组合数）相比于包含大小写字母的字母数字密码非常小，从而大大降低了安全性。事实上，使用现代破解引擎，攻击者可以在不到8小时的时间内破解一个8位数字的PIN码。
- en: But this is not the only vulnerability present on WPS. Researchers also found
    a couple of vulnerabilities in the cryptographic protocol. One is related to the
    fact that some of the digits of the PIN are checksums (which can be calculated),
    reducing the time needed to crack the password.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 但这并不是WPS中唯一存在的漏洞。研究人员还发现了加密协议中的几个漏洞。其中之一与PIN码的一些数字是校验和（可以计算）有关，这减少了破解密码所需的时间。
- en: The other vulnerability is related to the mechanism used by the protocol to
    validate the PIN, called a *cryptodance*, in which one of the steps of the validation
    is not properly encrypted, allowing an attacker to get easy access to the PIN.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个漏洞与协议验证 PIN 码的机制有关，这个过程叫做*密码舞*，其中验证步骤之一没有被正确加密，导致攻击者能够轻松获取 PIN 码。
- en: Additionally, researchers also found some correlation between the MAC address
    and/or the serial number of the router, enabling an attacker to calculate the
    PIN based on those values.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，研究人员还发现了路由器的 MAC 地址和/或序列号之间的某些关联，攻击者可以基于这些值计算 PIN 码。
- en: '![Figure 8.9 – WPS data pasted on the back of the router'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.9 – WPS 数据贴在路由器背面'
- en: '](img/Figure_8.9_B16290.jpg)'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.9_B16290.jpg)'
- en: Figure 8.9 – WPS data pasted on the back of the router
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.9 – WPS 数据贴在路由器背面
- en: As seen in the preceding figure, those values can be located on a sticker on
    the back of the router, but an attacker can remotely gather them by leveraging
    the vulnerabilities of the probe request packets, which are unencrypted and broadcasted
    by the router, meaning anyone can receive and read them, and they may contain
    the MAC address as well as the serial number. If you want know more about probe
    request vulnerabilities, see [*Chapter 5*](B16290_05_Final_JC_ePub.xhtml#_idTextAnchor109),
    *Cybersecurity Technologies and Tools*,under the *Advanced wireless tools for
    cybersecurity* section.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 如前图所示，这些值可以在路由器背面的贴纸上找到，但攻击者可以通过利用探测请求包的漏洞远程收集它们。由于这些请求包是未加密并由路由器广播的，因此任何人都可以接收并读取它们，而且它们可能包含
    MAC 地址以及序列号。如果你想了解更多关于探测请求漏洞的内容，请参阅[*第 5 章*](B16290_05_Final_JC_ePub.xhtml#_idTextAnchor109)，*网络安全技术与工具*，在*网络安全高级无线工具*部分下。
- en: WPS – the solution
  id: totrans-174
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: WPS – 解决方案
- en: You may be surprised to know that *WPS is enabled by default* on most routers,
    so you may even have this vulnerability at home without knowing it.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会惊讶地发现，大多数路由器默认*启用 WPS*，因此你家里可能已经存在这个漏洞，却未曾察觉。
- en: So, the best recommendation here is *to completely disable WPS* from your router
    (step-by-step instructions will be provided in the *User's safety guide for wireless
    networks* section).
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，这里最好的建议是*完全禁用 WPS*（逐步操作说明会在*无线网络用户安全指南*部分提供）。
- en: If for some reason you need to have WPS enabled, then leave the **PCB** *enabled*
    and make sure you *disable the PIN option* (as it is more vulnerable).
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 如果出于某种原因，你需要启用 WPS，那么可以保持**PCB** *启用*，并确保你*禁用 PIN 选项*（因为它更容易受到攻击）。
- en: Also make sure that you *update your router's firmware* to ensure that your
    router contains the latest WPS fixes and security updates.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 同时确保你*更新路由器的固件*，以确保你的路由器包含最新的 WPS 修复和安全更新。
- en: 'There are some legacy routers that will not allow you to disable WPS. In those
    cases, you have two options:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些旧版路由器不允许你禁用 WPS。在这些情况下，你有两个选择：
- en: Update the router's firmware to see if the new update gives you the option to
    disable WPS.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新路由器固件，看看新的更新是否提供禁用 WPS 的选项。
- en: Change your router immediately.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 立即更换你的路由器。
- en: 'Now, let''s look at a little-known wireless feature that may bring some vulnerabilities
    to your network: **Universal Plug and Play** (**UPnP**).'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们来看一个鲜为人知的无线功能，它可能会给你的网络带来一些安全漏洞：**通用即插即用**（**UPnP**）。
- en: UPnP – the problem
  id: totrans-183
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: UPnP – 问题
- en: '**UPnP** was also created with the idea of making life easier for users, as
    it enables the sharing of data between devices on a given network.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '**UPnP**的创建初衷是为了简化用户操作，它允许设备之间在同一网络中共享数据。'
- en: The problem is that this was created mostly for sharing data between *trusted*
    devices on a home network, therefore UPnP does not do authentication and attackers
    know how to exploit this.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 问题在于，这一功能最初是为在家庭网络中共享数据而设计的，通常共享的设备是*受信任*的设备，因此 UPnP 不进行身份验证，攻击者知道如何利用这一点。
- en: One of the features of UPnP is port forwarding, and attackers can leverage that
    vulnerability to take control of computers and use them as proxies during DDoS
    attacks. This was the case in the famous *Mirai* attack in which this technique
    prevented security systems from identifying the command and control servers, as
    thousands of infected machines around the world were used as proxies between the
    "bot" machines and the real command and controls servers.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: UPnP 的其中一个功能是端口转发，攻击者可以利用这一漏洞控制计算机，并将其作为 DDoS 攻击中的代理。这就是著名的*Mirai*攻击中的情况，该攻击使用此技术防止安全系统识别指挥和控制服务器，因为全球数千台被感染的机器被用作“僵尸”机器与真实的指挥和控制服务器之间的代理。
- en: Other examples of malicious trojans that leverage UPnP vulnerabilities include
    the banking trojan *Pinkslipbot*, also known as *QakBot* or *QBot*. These trojans
    are very dangerous as they use a keylogger to capture keystrokes and send financial
    information and credentials to remote command and control servers.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 利用UPnP漏洞的其他恶意木马实例包括银行木马*Pinkslipbot*，也被称为*QakBot*或*QBot*。这些木马非常危险，因为它们使用键盘记录器来捕获按键并将财务信息和凭证发送到远程指挥控制服务器。
- en: UPnP – the solution
  id: totrans-188
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: UPnP - 解决方案
- en: 'The best way to protect against all these vulnerabilities is by *disabling
    UPnP* in your router (step-by-step instructions will be provided in the *User''s
    safety guide for wireless networks* section). However, if you really need UPnP
    (to enhance the experience of a device), then you must follow these tips:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 保护这些漏洞的最佳方法是*禁用UPnP*（详细步骤将在*无线网络用户安全指南*部分提供）。然而，如果你真的需要UPnP（以提升某设备的体验），那么你必须遵循以下这些建议：
- en: Check the model of your router on the internet and verify that the manufacturer
    has released a patch for the latest vulnerabilities related to UPnP. In fact,
    in late 2020, researchers found a vulnerability called **CallStranger** that enabled
    an attacker to exfiltrate data from your systems; therefore, if you want to have
    UPnP enabled, you must keep checking for vulnerabilities and make sure you patch
    them. To find the list of current vulnerabilities, please visit [https://cve.mitre.org](https://cve.mitre.org).
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查你的路由器型号在网上，并确认制造商是否发布了最新的UPnP相关漏洞补丁。事实上，在2020年底，研究人员发现了一种叫做**CallStranger**的漏洞，攻击者可以利用这个漏洞从你的系统中窃取数据；因此，如果你需要启用UPnP，你必须持续检查漏洞，并确保修补它们。要查找当前漏洞的列表，请访问[https://cve.mitre.org](https://cve.mitre.org)。
- en: Filter all external traffic trying to use UPnP.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过滤所有尝试使用UPnP的外部流量。
- en: Monitor network traffic to find abuses of UPnP.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 监控网络流量，发现UPnP的滥用情况。
- en: You may have a lot of technical and administrative controls at the office to
    secure your wireless network, but what about users working from home? Do they
    have the same level of security on their wireless connection at home?
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 你在办公室可能有很多技术和管理控制措施来保护你的无线网络，但在家工作的用户呢？他们在家中的无线连接是否有相同级别的安全性？
- en: This should be a major concern for you because maybe even most of your users
    are now working from home, therefore it is imperative to establish and distribute
    clear guidelines (administrative controls) to the users to ensure they have acceptable
    levels of security to avoid additional risks to business data and systems.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该是你主要关注的事项，因为现在甚至大部分用户可能都在家工作，因此，制定并分发清晰的指导方针（管理控制）给用户，确保他们拥有可接受的安全级别，从而避免对商业数据和系统的额外风险，是至关重要的。
- en: User's safety guide for wireless networks
  id: totrans-195
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 无线网络用户安全指南
- en: As the person in charge of security for your organization, you must provide
    guidance to the users to reduce the risks of attack.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 作为组织的安全负责人，你必须为用户提供指导，减少攻击风险。
- en: Taking in consideration that most users use Wi-Fi to connect to the internet,
    then it would be a great idea for you to create a *manual of best practices when
    using wireless networks* and distribute it to all employees.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到大多数用户通过Wi-Fi连接互联网，那么为你来说，创建一份*无线网络使用最佳实践手册*并分发给所有员工，将是一个很好的主意。
- en: Tip
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: Also, remember that the key here is to ensure that all users are familiar with
    these guidelines, so some good ideas would be to create infographics to share
    by email or to create some cool videos to call people's attention to this campaign.
    Also, you can designate some influential employees as *security champions* to
    help you disseminate these strategies among all employees.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，请记住，这里关键是确保所有用户都熟悉这些指导方针，因此一些好的建议是，创建图文并茂的资料通过邮件分享，或者制作一些有趣的视频吸引人们关注这个活动。此外，你还可以指定一些有影响力的员工作为*安全冠军*，帮助你将这些策略传播给所有员工。
- en: Most of the security settings are configured on the Wi-Fi router, so let's start
    by showing the steps to log on to the administrative console of the Wi-Fi.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数安全设置是在Wi-Fi路由器上配置的，因此让我们首先展示如何登录到Wi-Fi的管理控制台。
- en: Accessing your router
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 访问你的路由器
- en: 'Here are the five simple steps required to access your router settings:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 这是访问路由器设置所需的五个简单步骤：
- en: Go to Google and enter the name of your router (brand and model) and the phrase
    `admin password`. For example, `Linksys E1200 admin password`.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开Google，输入你的路由器名称（品牌和型号）和短语`admin password`。例如，`Linksys E1200 admin password`。
- en: Then click on the relevant link from the manufacturer (in this case, [linksys.com](http://linksys.com)).
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后点击制造商提供的相关链接（在这种情况下是 [linksys.com](http://linksys.com)）。
- en: As shown in the following figure, the link sent us to the manufacturer support
    page, which confirms that the default username and password for this router are
    `admin`/`admin`:![Figure 8.10 – Default admin username and password
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如下图所示，链接将我们带到制造商的支持页面，确认该路由器的默认用户名和密码是 `admin`/`admin`：![Figure 8.10 – 默认的管理员用户名和密码
- en: '](img/Figure_8.10_B16290.jpg)'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_8.10_B16290.jpg)'
- en: Figure 8.10 – Default admin username and password
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.10 – 默认的管理员用户名和密码
- en: '*To access the router, you just need to type the IP address of the router into
    your internet browser*. In this case, the support page mentions the default IP
    address; however, that address may change. But don''t worry, this is very simple
    to confirm with the following steps:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*要访问路由器，您只需要在互联网浏览器中输入路由器的 IP 地址*。在这种情况下，支持页面提到了默认的 IP 地址；然而，这个地址可能会改变。但别担心，以下步骤可以很简单地确认：'
- en: a. Press ![](img/Image.png) + *R* to launch the `cmd` and hit *Enter* to open
    Command Prompt.
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a. 按下 ![](img/Image.png) + *R* 启动 `cmd` 并按 *Enter* 打开命令提示符。
- en: b. On Command Prompt, type `ipconfig` and hit *Enter*.
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b. 在命令提示符中，键入 `ipconfig` 并按 *Enter*。
- en: 'c. Then look for the value called `192.168.0.1`:'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: c. 然后查找名为 `192.168.0.1` 的值：
- en: '![Figure 8.11 – Router''s IP address'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![Figure 8.11 – 路由器的 IP 地址'
- en: '](img/Figure_8.11_B16290.jpg)'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_8.11_B16290.jpg)'
- en: Figure 8.11 – Router's IP address
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.11 – 路由器的 IP 地址
- en: Once you type the IP address on your browser, it should prompt you with a login
    page asking for your credentials. In this example, both the username and password
    are `admin`.
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦您在浏览器中输入 IP 地址，它应该会提示您输入登录页面，要求您提供凭证。在这个例子中，用户名和密码都是 `admin`。
- en: Tip
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 提示
- en: All web interfaces are different (depending on the manufacturer), but the information
    should be the same, so take some time to explore the interface and get familiar
    with it. Linksys has an emulator that you can use to get familiar with the interface
    at [http://ui.linksys.com/E1200/1.0.00/](http://ui.linksys.com/E1200/1.0.00/).
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 所有的网页界面都是不同的（取决于制造商），但信息应该是相同的，因此请花一些时间探索界面并熟悉它。Linksys 提供了一个模拟器，您可以使用它来熟悉界面，链接为
    [http://ui.linksys.com/E1200/1.0.00/](http://ui.linksys.com/E1200/1.0.00/)。
- en: Now let's see what attributes you must change here to make your wireless router
    more secure.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看您需要更改哪些属性，以使无线路由器更加安全。
- en: Admin password
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 管理员密码
- en: As you just saw, *the password of your router may be very weak* (and known to
    everyone), so the very first step is to secure the router by changing it. Depending
    on the router, it could be under a tab called **Management**, **Security**, **Login**,
    or **Users**.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 如您刚才看到的，*路由器的密码可能非常弱*（并且是众所周知的），所以第一步就是通过更改密码来保护路由器。根据路由器的不同，这个选项可能会出现在一个名为
    **管理**、**安全**、**登录** 或 **用户** 的标签下。
- en: Tip – Use a passphrase
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 提示 – 使用密码短语
- en: The longer the password, the harder it is for an attacker to crack it, so use
    a phrase that you can easily remember as your password, for example, `I.Love.my.wife.since.2014`,
    or something motivational like `I.am.sure.I.will.get.my.masters.in.2021`. Of course,
    these are just examples, but create one that is unique to you with at least 25
    characters. As with any other password, using special characters, slang, and popular
    phrases is better, because then your password will be strong against brute-force
    and dictionary attacks.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 密码越长，攻击者破解的难度就越大，因此使用一个您可以轻松记住的短语作为密码，例如 `I.Love.my.wife.since.2014`，或者像 `I.am.sure.I.will.get.my.masters.in.2021`
    这样激励性的短语。当然，这些只是示例，您可以创建一个具有至少 25 个字符、独一无二的密码。像其他任何密码一样，使用特殊字符、俚语和流行短语更好，因为这样您的密码能够抵御暴力破解和字典攻击。
- en: Admin user
  id: totrans-223
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 管理员用户
- en: Attackers knows that the default username to connect to the router is normally
    `admin`, however some routers allow you to change that username. So, if you have
    that option, it is highly recommended that you change that username as it will
    prevent most attacks as they will be targeted at a nonexistent user.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者知道，连接路由器的默认用户名通常是 `admin`，然而某些路由器允许您更改该用户名。所以，如果您有这个选项，强烈建议您更改用户名，因为这将防止大多数攻击，因为它们将针对一个不存在的用户。
- en: Wireless password
  id: totrans-225
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 无线密码
- en: As mentioned in the preceding section, the use of a strong (long) passphrase
    is recommended for your wireless network. Also, a good practice is to change it
    at least every 6 months.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一节所述，建议为您的无线网络使用强密码（长密码）。另外，好的做法是至少每 6 个月更换一次密码。
- en: Wireless security (security mode)
  id: totrans-227
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 无线安全（安全模式）
- en: 'Here you have three encryption options: **WEP** (highly insecure), **WPA**
    (vulnerable), **WPA2** (recommended).'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有三个加密选项：**WEP**（极不安全）、**WPA**（有漏洞）、**WPA2**（推荐）。
- en: Wireless network name (SSID)
  id: totrans-229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 无线网络名称（SSID）
- en: By default, the SSID could be the brand of your wireless router plus some random
    numbers. This is not only ugly, but also dangerous because everyone will know
    the model of your router, so attacking it will be easier. So, as a first step,
    *change the name of your SSID* to a name of your preference. Also avoid using
    your own name in the SSID because that could make you an easier target. Therefore,
    an SSID like *Harper Family* should be avoided.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，SSID 可能是你无线路由器的品牌加上一些随机数字。这不仅丑陋，而且危险，因为每个人都能知道你的路由器型号，这样攻击它就会更容易。所以，第一步是，*将你的
    SSID 名称更改为你喜欢的名称*。同时避免在 SSID 中使用你自己的名字，因为这可能会让你成为更容易的攻击目标。因此，像*Harper Family*这样的
    SSID 应该避免使用。
- en: Tip – 2.4 GHz and 5 GHz
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 提示 – 2.4 GHz 和 5 GHz
- en: Most modern routers have two bands (2.4 GHz and 5 GHz) and in most cases, you
    need to configure them as if they are two different routers (meaning different
    SSIDs, different security modes, different passphrases, different guest accounts,
    and so on). Therefore, make sure that all settings are the same on both networks
    to avoid leaving holes in one of them.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数现代路由器具有两个频段（2.4 GHz 和 5 GHz），在大多数情况下，你需要将它们配置成两个不同的路由器（即不同的 SSID、不同的安全模式、不同的密码、不同的客户账号等）。因此，请确保两个网络上的所有设置相同，以避免在其中一个网络中留下漏洞。
- en: Guest accounts
  id: totrans-233
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 客户账号
- en: 'Imagine that your neighbor needs to connect to your Wi-Fi for a minute to send
    an urgent email. That means that you need to reveal your ultra-secure passphrase,
    but now your passphrase is saved on their device, so they can connect at any time
    they want. Now, if you change your passphrase to avoid that, then it means that
    you will have to re-enter the new passphrase on all your devices. Therefore, to
    avoid all that trouble, you can enable **guest accounts**. Guest accounts enable
    you to create an account for external people, which has a lot of advantages including
    the following:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你的邻居需要连接你的 Wi-Fi 一分钟来发送一封紧急邮件。这意味着你需要透露你的超级安全密码，但现在密码已经保存在他们的设备上，他们可以随时连接。现在，如果你改变密码以避免这种情况，那就意味着你必须在所有设备上重新输入新密码。因此，为了避免所有这些麻烦，你可以启用**客户账号**。客户账号允许你为外部人员创建账户，这有很多优点，包括以下几点：
- en: They can be enabled temporarily and then disabled to prevent any further access.
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们可以临时启用，然后禁用以防止进一步访问。
- en: You can change the password any time you want without affecting your other devices.
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以随时更改密码，而不会影响其他设备。
- en: Since you can use them as *temporary* accounts, you can create a new password
    every time that you use them, making it almost impossible to crack.
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于你可以将其用作*临时*账户，因此每次使用时都可以创建一个新密码，使得破解几乎不可能。
- en: Remote access
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 远程访问
- en: Some routers have the option for you to access the management console from a
    remote location (through the internet). This is very insecure as it opens the
    doors to attackers to gain access to your router (and then your network and data).
    Therefore, *always disable the remote access feature.*
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 一些路由器提供远程访问管理控制台的选项（通过互联网）。这非常不安全，因为它为攻击者提供了访问你路由器（进而访问你的网络和数据）的途径。因此，*始终禁用远程访问功能。*
- en: Disable WPS (both the button and PIN versions)
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 禁用 WPS（包括按钮和 PIN 版本）
- en: As mentioned in the preceding section, WPS is a highly vulnerable protocol that
    must be disabled (and is normally enabled by default).
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一节所述，WPS 是一个高度脆弱的协议，必须禁用（并且通常默认启用）。
- en: 'To do so is very simple – just look for **WPS settings** on your router (as
    shown in the following figure) and click to disable WPS:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 这样做非常简单——只需在路由器上找到**WPS 设置**（如下图所示），然后点击禁用 WPS：
- en: '![Figure 8.12 – WPS settings'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.12 – WPS 设置'
- en: '](img/Figure_8.12_B16290.jpg)'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.12_B16290.jpg)'
- en: Figure 8.12 – WPS settings
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.12 – WPS 设置
- en: Disable UPnP
  id: totrans-246
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 禁用 UPnP
- en: 'Similar to WPS, **UPnP** is highly vulnerable and the worst part is that it
    is enabled by default on most routers, so to prevent that vulnerability, it is
    highly recommended to disable it, as shown in the following figure:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于 WPS，**UPnP** 是高度脆弱的，最糟糕的是它在大多数路由器上默认启用，因此为了防止这种漏洞，强烈建议禁用它，如下图所示：
- en: '![Figure 8.13 – UPnP settings'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.13 – UPnP 设置'
- en: '](img/Figure_8.13_B16290.jpg)'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.13_B16290.jpg)'
- en: Figure 8.13 – UPnP settings
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.13 – UPnP 设置
- en: Fing app
  id: totrans-251
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Fing 应用
- en: '**Fing** is a mobile app that enables you to see all the devices connected
    to your network.'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '**Fing** 是一款移动应用程序，它可以让你查看所有连接到你网络的设备。'
- en: This is a great tool to confirm if an unauthorized user is connected to your
    network and if so, change the router password immediately.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个很好的工具，可以确认是否有未经授权的用户连接到你的网络，如果有，立即更改路由器密码。
- en: 'As seen in *Figure 8.14*, **Fing** gives us a lot of useful information about
    the connected devices, such as the following:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 如 *图 8.14* 所示，**Fing** 提供了许多关于连接设备的有用信息，如下所示：
- en: Device name
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设备名称
- en: Device type
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设备类型
- en: Device model
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设备型号
- en: IP address
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IP 地址
- en: Manufacturer or brand
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 制造商或品牌
- en: '![Figure 8.14 – Fing app'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.14 – Fing 应用'
- en: '](img/Figure_8.14_B16290.jpg)'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.14_B16290.jpg)'
- en: Figure 8.14 – Fing app
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.14 – Fing 应用
- en: Use of NFC tags
  id: totrans-263
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 NFC 标签
- en: Another cool idea is that you can use **NFC cards** to store your wireless settings,
    so instead of typing your secure (long) password, you can just put the tag near
    the phone and it will automatically connect to your Wi-Fi.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个很酷的想法是，你可以使用 **NFC 卡** 来存储你的无线设置，这样你就不需要输入你的安全（长）密码，只需将标签靠近手机，它就会自动连接到你的
    Wi-Fi。
- en: 'The other advantage of this method is that you don''t need to remember the
    password, which enables you to use a super-secure passphrase like this:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法的另一个优点是，你不需要记住密码，这样你就可以使用像这样的超安全密码短语：
- en: '*ds9*e-sd4SDF-#ta+Dua-43v3r00-#D/*#ef#sfM.?$-#iD2#l¡GE.#d-9#a*'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '*ds9*e-sd4SDF-#ta+Dua-43v3r00-#D/*#ef#sfM.?$-#iD2#l¡GE.#d-9#a*'
- en: As you can see in this guide, once you have the right knowledge about your router,
    securing your wireless network is a very easy task.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你在本指南中看到的，一旦你掌握了路由器的正确知识，保护你的无线网络就变得非常简单。
- en: 'Now, let''s take a look at one of the most famous cybersecurity tools: **Wireshark**.'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来看看最著名的网络安全工具之一：**Wireshark**。
- en: Introducing Wireshark
  id: totrans-269
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍 Wireshark
- en: Wireshark is one of the best cybersecurity tools used to monitor and secure
    networks.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark 是用于监控和保护网络的最佳网络安全工具之一。
- en: This chapter aims to give you an overview of the tool and the main things that
    you can achieve with it. However, if you want to learn more about Wireshark, look
    at the book *Learn Wireshark* by *Lisa Bock*, also from *Packt*, which has more
    than 400 pages full of knowledge that will help you to become an expert with this
    tool.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 本章旨在向你概述该工具以及你可以用它实现的主要功能。然而，如果你想深入了解 Wireshark，可以阅读 *Lisa Bock* 编写的《Learn Wireshark》一书，该书由
    *Packt* 出版，内容超过 400 页，充满了有助于你成为该工具专家的知识。
- en: The main characteristic of Wireshark is the ability to gather all network traffic
    passing through a given network adapter and *decode* the captured bits into a
    human-readable format. This is achieved by using decoders or dissectors that are
    constantly updated by the community.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark 的主要特点是能够收集通过给定网络适配器传输的所有网络流量，并 *解码* 捕获的比特为人类可读的格式。这是通过使用解码器或分析器实现的，这些解码器和分析器由社区不断更新。
- en: Wireshark can be installed on any OS, but as you may know, it comes preinstalled
    on **Kali Linux**, so for this example we are going to use the version on Kali,
    which in our case is **3.2.7**.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark 可以安装在任何操作系统上，但如你所知，它在 **Kali Linux** 上预装，因此在这个示例中，我们将使用 Kali 上的版本，当前版本是
    **3.2.7**。
- en: 'The very first step to start capturing our first packets will be *to select
    the network card that we want to "listen" to*. As shown in the following figure,
    the Wireshark landing page already shows us the available network cards so that
    we can easily select one and start capturing the packets:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 开始捕获第一个数据包的第一步是 *选择我们想要“监听”的网卡*。如以下图所示，Wireshark 启动页面已经显示了可用的网卡，以便我们可以轻松选择一个并开始捕获数据包：
- en: '![Figure 8.15 – Wireshark''s initial screen'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.15 – Wireshark 初始界面'
- en: '](img/Figure_8.15_B16290.jpg)'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.15_B16290.jpg)'
- en: Figure 8.15 – Wireshark's initial screen
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.15 – Wireshark 初始界面
- en: However, if you have several network cards (interfaces), it could be confusing
    to know which one you need to select.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果你有多个网卡（接口），可能会让你困惑，不知道该选择哪个。
- en: The trick here is to click on **Interfaces**, which will display a window with
    detailed information about all network interfaces. From there, you can determine
    which is your active interface by looking at the traffic column.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的技巧是点击 **Interfaces**，它会显示一个窗口，提供有关所有网络接口的详细信息。从那里，你可以通过查看流量列来确定哪个是你的活动接口。
- en: 'If there is no activity on the traffic column, then just ping a server, for
    example, `ping` [www.google.com](http://www.google.com), and as shown in the following
    figure, you will start seeing the traffic column move on your active network interface.
    In this case, we can determine that our active network interface is **eth0**,
    so we can click on it and then click on **Start** to begin the capture of packets:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '如果流量栏没有活动，那么只需ping一个服务器，例如，`ping` [www.google.com](http://www.google.com)，如下面的图所示，你将开始看到流量栏在你活动的网络接口上移动。在这种情况下，我们可以确定我们的活动网络接口是**eth0**，因此我们可以点击它，然后点击**开始**来开始捕获数据包：  '
- en: '![Figure 8.16 – Active interfaces on Wireshark'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.16 – Wireshark上的活动接口  '
- en: '](img/Figure_8.16_B16290.jpg)'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.16_B16290.jpg)  '
- en: Figure 8.16 – Active interfaces on Wireshark
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '图8.16 – Wireshark上的活动接口  '
- en: OK, now that we started the monitoring, let's see what happens when we open
    a web page.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '好的，现在我们开始监控，让我们看看打开网页时会发生什么。  '
- en: Tip
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: '提示  '
- en: Most pages have a lot of ads that will make the scan very *noisy*, so in order
    to avoid all the noise, we will open the page of a university for this example.
    Additionally, using a virtual machine with Kali is great because it does not have
    all the network overhead carried on Windows systems (if you run Wireshark on a
    Windows machine, you will see a lot of packets even if you are *supposedly* not
    using the network).
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '大多数网页都有大量广告，这会使扫描结果非常*嘈杂*，因此为了避免所有噪音，我们将打开一个大学的网页作为本示例。此外，使用Kali的虚拟机非常好，因为它没有Windows系统所带来的网络负担（如果你在Windows机器上运行Wireshark，即使你*理论上*没有使用网络，也会看到很多数据包）。  '
- en: 'The following figure shows the output of a scan that we performed on a web
    page so that you can become familiar with the outputs of the tool and better understand
    them:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '以下图展示了我们对一个网页进行扫描的结果，帮助你熟悉工具的输出并更好地理解它们：  '
- en: '![Figure 8.17 – Wireshark scan results'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.17 – Wireshark扫描结果  '
- en: '](img/Figure_8.17_B16290.jpg)'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.17_B16290.jpg)  '
- en: Figure 8.17 – Wireshark scan results
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '图8.17 – Wireshark扫描结果  '
- en: Let's start by analyzing the outputs from the top of the preceding figure. You
    will see there that the very first packet is your computer asking the DNS server
    for the IP of the web page. Here, for example, you can validate that the request
    is going to the required DNS server – in our case it is going to `8.8.8.8` (Google's
    DNS). If you notice another DNS then you may be in the presence of a DNS attack
    that may reroute your traffic to malicious sites.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从分析前面图形顶部的输出开始。你会看到，第一个数据包是你的计算机向DNS服务器请求网页IP地址。在这里，例如，你可以验证请求是否发送到了所需的DNS服务器——在我们的例子中，它请求的是`8.8.8.8`（Google的DNS）。如果你发现请求是发往另一个DNS，那么你可能遇到了DNS攻击，攻击者可能会将你的流量重定向到恶意网站。
- en: Once we obtained the IP from the DNS server, we start to see some exchange of
    basic TCP packets. After that, we receive some HTTP packets (which is basically
    the web page that we requested), and finally, we see some TLS packets, which means
    that the web page is encrypted with an SSL certificate (HTTPS).
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: '一旦我们从DNS服务器获取到IP地址，就会开始看到一些基本的TCP数据包交换。之后，我们收到一些HTTP数据包（这基本上就是我们请求的网页），最后，我们看到一些TLS数据包，这意味着网页是通过SSL证书加密的（HTTPS）。  '
- en: Tip
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: '提示  '
- en: You can easily sort the results by column by simply clicking on the name of
    the column. For example, you can click on the protocol tab to sort all the packets
    captured by protocol.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: '你可以通过点击列名来轻松按列对结果进行排序。例如，你可以点击协议标签，按协议对捕获的所有数据包进行排序。  '
- en: OK, now let's review more advanced ways to leverage Wireshark to enhance your
    security.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '好的，现在让我们回顾一下利用Wireshark增强安全性的一些更高级的方式。  '
- en: Finding users using insecure protocols
  id: totrans-296
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '查找使用不安全协议的用户  '
- en: As you know, users will always find creative ways to bypass your administrative
    and technical controls. In those cases, using a monitoring tool such as Wireshark
    is a great way to find and stop those wrongdoers.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '正如你所知道的，用户总是会找到创造性的方法绕过你的管理和技术控制。在这种情况下，使用像Wireshark这样的监控工具是发现并阻止这些不法分子的好方法。  '
- en: Telnet vulnerabilities
  id: totrans-298
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 'Telnet漏洞  '
- en: Telnet is an old client/server protocol for machine-to-machine communications.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 'Telnet是一种用于机器间通信的旧版客户端/服务器协议。  '
- en: The problem is that it does not offer encryption, therefore ALL communication
    is transmitted as cleartext.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: '问题在于它没有提供加密，因此所有通信都会以明文形式传输。  '
- en: Due to that risk, Telnet (both server and client) is disabled by default on
    most systems including Windows and even Kali Linux.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '由于这个风险，Telnet（包括服务器和客户端）在大多数系统中默认被禁用，包括Windows系统和Kali Linux。  '
- en: Therefore, due to this risk, *you must ensure that you have all technical and
    administrative controls in place to prevent the use of telnet for server login
    and communications*.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，由于这一风险，*你必须确保你已具备所有技术和管理控制措施，以防止使用 Telnet 进行服务器登录和通信*。
- en: The good news is that you can easily detect if someone is using Telnet with
    Wireshark by simply filtering your results by protocol.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 好消息是，你可以通过 Wireshark 轻松检测是否有人使用 Telnet，只需通过协议过滤结果即可。
- en: Capturing Telnet data in real time
  id: totrans-304
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 实时捕获 Telnet 数据
- en: 'To perform this example, we first need to install the Telnet client on Kali
    Linux with the following command:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 要执行此示例，我们首先需要使用以下命令在 Kali Linux 上安装 Telnet 客户端：
- en: '[PRE13]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Now that the **Telnet client** is installed, we can connect to a **Telnet server**,
    and for this example we are going to use an open (and funny) Telnet sever.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，**Telnet 客户端**已安装，我们可以连接到 **Telnet 服务器**，在本示例中我们将使用一个开放的（且有趣的）Telnet 服务器。
- en: But wait, didn't you say that Telnet was insecure?
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 等等，你不是说 Telnet 不安全吗？
- en: Yes, there are several vulnerabilities in Telnet servers and Telnet communications,
    however installing a Telnet client does not represent a vulnerability on your
    system.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 是的，Telnet 服务器和 Telnet 通信存在多个漏洞，然而安装 Telnet 客户端并不代表系统存在漏洞。
- en: 'Let''s go back to Wireshark to set it up to capture all Telnet data, which
    is a super simple task. As you can see in the following figure, you just need
    to type `telnet` in the **filter** bar to see all Telnet connections in real time:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到 Wireshark，设置它以捕获所有 Telnet 数据，这是一项非常简单的任务。如下面的图所示，你只需在 **过滤器** 栏中输入 `telnet`，就能实时查看所有
    Telnet 连接：
- en: '![Figure 8.18 – Wireshark filter field'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.18 – Wireshark 过滤器字段'
- en: '](img/Figure_8.18_B16290.jpg)'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.18_B16290.jpg)'
- en: Figure 8.18 – Wireshark filter field
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.18 – Wireshark 过滤器字段
- en: Now, let's navigate to a test Telnet server and create an account to see if
    we can capture it.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们导航到一个测试 Telnet 服务器并创建一个账户，看看我们能否捕获到它。
- en: 'To do that, just open a Terminal on our Kali Linux and type the following to
    access the Telnet server:'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 要做到这一点，只需在我们的 Kali Linux 上打开一个终端，并输入以下命令以访问 Telnet 服务器：
- en: '[PRE14]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'And, as shown in the following figure, we are now connected to the **telehack**
    Telnet server:'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，我们现在已连接到 **telehack** Telnet 服务器：
- en: '![Figure 8.19 – Telnet connection open to the telehack.com server'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.19 – 与 telehack.com 服务器建立的 Telnet 连接'
- en: '](img/Figure_8.19_B16290.jpg)'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.19_B16290.jpg)'
- en: Figure 8.19 – Telnet connection open to the telehack.com server
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.19 – 与 telehack.com 服务器建立的 Telnet 连接
- en: Now, let's go back to Wireshark to see what we have captured.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们回到 Wireshark 看看我们捕获了什么。
- en: The results are very interesting and, as highlighted in *Figure 8.20*, we were
    able to capture in plain text all the information that the Telnet server sent
    (which is the same information that we saw on the command line of *Figure 8.19*).
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 结果非常有趣，正如 *图 8.20* 中所强调的，我们成功地以明文捕获了 Telnet 服务器发送的所有信息（这与我们在 *图 8.19* 的命令行中看到的信息相同）。
- en: '![Figure 8.20 – Capture of Telnet packets'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.20 – 捕获 Telnet 数据包'
- en: '](img/Figure_8.20_B16290.jpg)'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.20_B16290.jpg)'
- en: Figure 8.20 – Capture of Telnet packets
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.20 – 捕获 Telnet 数据包
- en: So, we have proved that Telnet communications are not secure and can easily
    be captured. Now, let's see if we can also capture some login details.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们已经证明了 Telnet 通信不安全，并且很容易被捕获。现在，让我们看看是否也能捕获一些登录详情。
- en: To achieve that, let's create an account by using the `login` command. Then
    the system will ask for our username and we need to reply `Y` to confirm the creation
    of a new account (see *Figure 8.21*).
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一目标，让我们使用 `login` 命令创建一个账户。然后系统会要求输入用户名，我们需要回复 `Y` 以确认创建新账户（见 *图 8.21*）。
- en: '![Figure 8.21 – Creation of an account on a Telnet server'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.21 – 在 Telnet 服务器上创建账户'
- en: '](img/Figure_8.21_B16290.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.21_B16290.jpg)'
- en: Figure 8.21 – Creation of an account on a Telnet server
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.21 – 在 Telnet 服务器上创建账户
- en: 'Now, as shown in the following figure, the system will ask for a password,
    so let''s enter a random password and hit *Enter* to finish the creation of the
    account:'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，如下图所示，系统会要求输入密码，我们输入一个随机密码并按 *Enter* 键完成账户创建：
- en: '![Figure 8.22 – Password setup over Telnet'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.22 – 通过 Telnet 设置密码'
- en: '](img/Figure_8.22_B16290.jpg)'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.22_B16290.jpg)'
- en: Figure 8.22 – Password setup over Telnet
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.22 – 通过 Telnet 设置密码
- en: OK, now, let's go back again to Wireshark and see if it captured the password
    that we just created on the server.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 好的，现在让我们回到 Wireshark，看看它是否捕获了我们刚刚在服务器上创建的密码。
- en: 'You may notice that there are too many packets, and in some cases, it looks
    like there is one packet per letter. But no worries – to make our lives easier,
    Wireshark has an option called **TCP stream** that presents all data in a very
    user-friendly way. To access that option, just right-click on one of the packets
    and select **Follow | TCP Stream** (as shown in the following figure):'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会注意到有太多的包，有时看起来每个字母都对应一个包。但不用担心 – 为了让我们的生活更轻松，Wireshark 提供了一个叫做 **TCP 流**
    的选项，它以非常友好的方式展示所有数据。要访问该选项，只需右键点击其中一个数据包并选择 **Follow | TCP Stream**（如以下图所示）：
- en: '![Figure 8.23 – TCP Stream option in Wireshark'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.23 – Wireshark 中的 TCP 流选项'
- en: '](img/Figure_8.23_B16290.jpg)'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.23_B16290.jpg)'
- en: Figure 8.23 – TCP Stream option in Wireshark
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.23 – Wireshark 中的 TCP 流选项
- en: Now Wireshark will present us a window like in *Figure 8.24*, showing all the
    communication between the client and the server. We can effectively see the password
    in *cleartext*.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，Wireshark 会展示一个像 *图 8.24* 中的窗口，显示客户端和服务器之间的所有通信。我们可以有效地看到密码以 *明文* 形式展示。
- en: '![Figure 8.24 – Password captured in plain text'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.24 – 密码以明文形式被捕获'
- en: '](img/Figure_8.24_B16290.jpg)'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.24_B16290.jpg)'
- en: Figure 8.24 – Password captured in plain text
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.24 – 密码以明文形式被捕获
- en: Challenge
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 挑战
- en: Try to do the same exercise but over an SSH connection. In that case, you will
    notice that all packets with data will be encrypted, so the information will be
    secure.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试在 SSH 连接上做同样的练习。那样你会注意到，所有包含数据的包都会被加密，因此信息是安全的。
- en: Before moving to the next section, let's have a breakand show you how you can
    leverage the **Telnet client** that you just installed to have some fun (and maybe
    impress some friends).
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 在进入下一节之前，让我们休息一下，向你展示如何利用刚刚安装的 **Telnet 客户端** 来玩得开心（也许还可以给一些朋友留下深刻印象）。
- en: Bonus (having fun with Telnet)
  id: totrans-347
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 奖励（玩 Telnet）
- en: 'There are a lot of Telnet servers out there with funny information for you
    to explore (without risk). There are three types:'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 目前有很多有趣的 Telnet 服务器供你探索（没有风险）。它们有三种类型：
- en: '**Muds**: Old-school games'
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Muds**：老式游戏'
- en: '**Bulletin Board Systems** (**BBSes**): An old system to share information
    (Facebook''s prehistoric ancestor?)'
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**公告板系统** (**BBSes**)：一种古老的信息共享系统（Facebook 的史前祖先？）'
- en: '**Talkers**: Servers configured to *talk* about a given topic such as telling
    jokes (chatbot''s lost grandpa)'
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Talkers**：配置为 *讲述* 特定话题的服务器，如讲笑话（聊天机器人的失落祖父）'
- en: 'Now, here is a compilation for you to have fun connecting to them (*Just keep
    in mind that everything you type can be captured, so if you create a user, use
    a dummy password*):'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，这里为你整理了一些有趣的 Telnet 服务器，你可以通过连接它们来玩得开心（*只要记住，你输入的所有内容都可能被捕获，因此如果你创建了一个用户，使用一个虚拟密码*）：
- en: '**Star Wars ASCII animation (in case Netflix is down)**:'
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**星际大战 ASCII 动画（如果 Netflix 崩溃了）**：'
- en: '[PRE15]'
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![Figure 8.25 – The Star Wars movie over telnet'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.25 – 通过 Telnet 玩《星际大战》电影'
- en: '](img/Figure_8.25_B16290.jpg)'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.25_B16290.jpg)'
- en: Figure 8.25 – The Star Wars movie over telnet
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.25 – 通过 Telnet 玩《星际大战》电影
- en: '**NASA JPL HORIZONS Solar System data**:'
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**NASA JPL HORIZONS 太阳系数据**：'
- en: '[PRE16]'
  id: totrans-359
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '**Weather via telnet**:'
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通过 Telnet 获取天气**：'
- en: '[PRE17]'
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '**Telehack** **(the one we used in the preceding example, which is considered
    an internet museum)**:'
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Telehack** **（我们在前面的示例中使用的那个，被认为是一个互联网博物馆）**：'
- en: '[PRE18]'
  id: totrans-363
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '**Achaea, Dreams of Devine Land (Game)**:'
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Achaea, 梦想中的神圣之地（游戏）**：'
- en: '[PRE19]'
  id: totrans-365
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '**Free chess game**:'
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**免费国际象棋游戏**：'
- en: '[PRE20]'
  id: totrans-367
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: The following figure shows a really cool, retro way to play chess… Cool!!!
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图像展示了一种非常酷的复古方式来玩国际象棋… 酷！
- en: '![Figure 8.26 – Telnet chess game'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.26 – Telnet 国际象棋游戏'
- en: '](img/Figure_8.26_B16290.jpg)'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.26_B16290.jpg)'
- en: Figure 8.26 – Telnet chess game
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.26 – Telnet 国际象棋游戏
- en: OK, enough games for today, now let's go back to keep learning about other insecure
    protocols.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 好了，今天的游戏就到这里，接下来我们继续学习其他不安全的协议。
- en: FTP, HTTP, and other unencrypted traffic
  id: totrans-373
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: FTP、HTTP 和其他未加密的流量
- en: Telnet is not the only insecure protocol – other unencrypted protocols such
    as FTP and HTTP also send unencrypted data that can be easily captured.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: Telnet 不是唯一的不安全协议 – 其他未加密的协议，如 FTP 和 HTTP，也会发送未加密的数据，容易被捕获。
- en: 'As shown in the following figure, the username and password are clearly sent
    over plaintext when logging in to an FTP server:'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，在登录 FTP 服务器时，用户名和密码以明文形式发送：
- en: '![Figure 8.26 – Telnet chess game'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.26 – Telnet 国际象棋游戏'
- en: '](img/Figure_8.27_B16290.jpg)'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.27_B16290.jpg)'
- en: Figure 8.27 – FTP username and password captured in plaintext
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.27 – FTP 用户名和密码以明文形式被捕获
- en: Therefore, make sure you promote the use of more secure protocols such as **Secure
    FTP** (**SFTP**) and **Secure HTTP** (**HTTPS**) across your organization.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，确保你在组织内推广使用更安全的协议，如**安全FTP**（**SFTP**）和**安全HTTP**（**HTTPS**）。
- en: Wireshark for defensive security
  id: totrans-380
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 用于防御安全的Wireshark
- en: Now that you know the basics of Wireshark, let's see how you can leverage Wireshark
    in your defensive security role.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经了解了Wireshark的基础知识，接下来让我们看看如何在你的防御性安全角色中利用Wireshark。
- en: Awareness campaigns
  id: totrans-382
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 意识提升活动
- en: As you just witnessed, the previous examples are a very good way to show to
    users and systems administrators *the dangers of not following the policies and
    using insecure channels to transmit sensitive information* (such as usernames
    and passwords).
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你刚刚看到的，之前的示例是向用户和系统管理员展示*不遵循政策并使用不安全的渠道传输敏感信息*（例如用户名和密码）*的危险*的一个非常好的方式。
- en: Doing this kind of demonstration live to the employees of your company as part
    of events such as the annual cybersecurity week will help you to reduce a lot
    of risks and also to transform those users from security adversaries to security
    promoters.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在公司的年度网络安全周等活动中向员工进行这种现场演示，有助于减少许多风险，同时将这些用户从安全对立者转变为安全推广者。
- en: Another means of delivery could be by making videos of the preceding demos and
    distributing them to your teams as part of the annual cybersecurity mandatory
    training that your employees *must* complete.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种传递方式是通过制作前面演示的录像，并将其分发给你的团队，作为员工必须完成的年度网络安全强制培训的一部分。
- en: Advanced network audits
  id: totrans-386
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 高级网络审计
- en: 'Wireshark enables you to perform a deep analysis of the network to help you
    achieve the following objectives:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark使你能够对网络进行深入分析，以帮助你实现以下目标：
- en: Compliance audits
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合规审计
- en: Internal security audits
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内部安全审计
- en: Performance analysis
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 性能分析
- en: Network risk assessments
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络风险评估
- en: Malware traffic analysis
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意流量分析
- en: Vulnerability assessments
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 漏洞评估
- en: Identification of data exfiltration
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据外泄识别
- en: Network-hardening analysis
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络加固分析
- en: Those tasks can be performed either by an internal cybersecurity professional
    or by a service provider (either a third-party company or an external cybersecurity
    professional).
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 这些任务可以由内部的网络安全专业人员或服务提供商（第三方公司或外部网络安全专家）来执行。
- en: Consulting work
  id: totrans-397
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 咨询工作
- en: Wireshark is a great tool that can be used by independent consults to provide
    data-driven advice to companies to improve the security of their data, systems,
    and networks.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark是一个非常好的工具，可以供独立顾问使用，提供基于数据的建议，帮助公司改善其数据、系统和网络的安全性。
- en: Network troubleshooting
  id: totrans-399
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网络故障排除
- en: While you may not be directly in charge of doing the troubleshooting, it is
    important for you to know that in many cases, network specialists will use Wireshark
    to troubleshoot network issues such as latency, availability, and stability.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管你可能不是直接负责故障排除，但了解在许多情况下，网络专家会使用Wireshark来排除网络问题，如延迟、可用性和稳定性，是非常重要的。
- en: Tip
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: Wireshark is not an **intrusion detection system** (**IDS**), meaning it will
    not give you an alert when an intruder accesses your network, but it is a great
    tool to investigate further if an intrusion was detected.
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: Wireshark不是**入侵检测系统**（**IDS**），这意味着它不会在入侵者访问你的网络时发出警报，但它是调查入侵事件的一个极好工具。
- en: Don't worry, in the next section we will cover the basics about **Intrusion
    Detection Systems** (**IDSes**) and **Intrusion Prevention Systems** (**IPSes**)
    and even look at a comparison between them.
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 不用担心，在下一部分我们将介绍**入侵检测系统**（**IDSes**）和**入侵防御系统**（**IPSes**）的基础知识，甚至对比它们之间的差异。
- en: Working with IPS/IDS
  id: totrans-404
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用IPS/IDS
- en: In this section, we will explain what an **IDS** and an **IPS** are, provide
    some examples of these systems, and also consider the differences between these
    two similar technologies.
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们将解释**IDS**和**IPS**是什么，提供这些系统的一些示例，并考虑这两种相似技术之间的差异。
- en: What is an IDS?
  id: totrans-406
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 什么是IDS？
- en: An **IDS** is a passive monitoring solution that detects unwanted intrusions
    in our networks.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: '**IDS**是一种被动监控解决方案，用于检测网络中的不良入侵。'
- en: 'Once the intrusion is detected, the IDS will send an alert to a security analyst
    for further investigation and action (as shown in the following figure):'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦检测到入侵，IDS会向安全分析员发送警报，以便进一步调查和处理（如以下图所示）：
- en: '![Figure 8.28 – IDS representation'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.28 – IDS示意图'
- en: '](img/Figure_8.28_B16290.jpg)'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.28_B16290.jpg)'
- en: Figure 8.28 – IDS representation
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.28 – IDS示意图
- en: In terms of deployment, an IDS can be deployed at the host level (HIDS) or network
    level (NIDS).
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 就部署而言，入侵检测系统（IDS）可以在主机级别（HIDS）或网络级别（NIDS）进行部署。
- en: There are two main IDS engines, one that is based on signatures (examples are
    classic antiviruses that use a database of signature to detect malicious software),
    and one that is anomaly-based, which detects intrusions based on deviations from
    established patterns. In this latter category, there are also systems that leverage
    cognitive computing to enhance the recognition and identification of these patterns.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种主要的IDS引擎，一种基于签名（例如经典的杀毒软件使用签名数据库来检测恶意软件），另一种是基于异常的，通过检测偏离既定模式的行为来识别入侵。在后者类别中，还有一些系统利用认知计算来增强这些模式的识别与识别能力。
- en: What is an IPS?
  id: totrans-414
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 什么是IPS？
- en: An **IPS** is an active system that prevents access to your network by unauthorized
    users.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: '**IPS**是一种主动系统，可以防止未经授权的用户访问你的网络。'
- en: 'As represented in the following figure, an IPS will automatically block any
    traffic that may be considered a threat to your network:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，IPS会自动阻止任何可能被认为是对你的网络构成威胁的流量：
- en: '![Figure 8.29 – IPS representation'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.29 – IPS表示'
- en: '](img/Figure_8.29_B16290.jpg)'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.29_B16290.jpg)'
- en: Figure 8.29 – IPS representation
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.29 – IPS表示
- en: In terms of deployment and the backend (engine) of an IPS, these are very similar
    to the ones mentioned for IDS.
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 在部署和IPS的后台（引擎）方面，这些与IDS提到的非常相似。
- en: Free IDS/IPS
  id: totrans-421
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 免费IDS/IPS
- en: There is no excuse for not having an IDS/IPS – in fact, here are some free IDS/IPS
    that you can implement in your infrastructure.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 没有理由不使用IDS/IPS——事实上，这里有一些免费的IDS/IPS，你可以在你的基础设施中实现。
- en: Snort
  id: totrans-423
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Snort
- en: Probably the most famous IPS/IDS, Snort's engine is mostly signature based.
    The system comes with a base set of policies, but you can expand this by creating
    your own.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 可能是最著名的IPS/IDS，Snort的引擎主要基于签名。该系统附带一组基本的策略，但你可以通过创建自己的策略来扩展它。
- en: You can also integrate Snort with Wireshark to provide alerting capabilities
    to Wireshark.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以将Snort与Wireshark集成，为Wireshark提供警报功能。
- en: Snort is available on Windows, Fedora, CentOS, FreeBSD, and Kali Linux.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: Snort支持Windows、Fedora、CentOS、FreeBSD和Kali Linux。
- en: For more information, visit [https://www.snort.org/](https://www.snort.org/).
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 如需更多信息，请访问[https://www.snort.org/](https://www.snort.org/)。
- en: Security Onion
  id: totrans-428
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Security Onion
- en: This is a Linux distribution that includes an IPS and IDS engine and uses OSSEC
    for host-based IDS/IPS and Snort and Suricata for network-based IDS/IPS.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个Linux发行版，包含IPS和IDS引擎，并使用OSSEC进行基于主机的IDS/IPS，使用Snort和Suricata进行基于网络的IDS/IPS。
- en: For more information, visit their GitHub repo at [https://github.com/Security-Onion-Solutions/security-onion](https://github.com/Security-Onion-Solutions/security-onion).
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 如需更多信息，请访问他们的GitHub仓库：[https://github.com/Security-Onion-Solutions/security-onion](https://github.com/Security-Onion-Solutions/security-onion)。
- en: IPS versus IDS
  id: totrans-431
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: IPS与IDS
- en: 'The following figure highlights the main differences between an IPS and IDS,
    as well as some of the features they have in common:'
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 下图突出显示了IPS和IDS之间的主要区别，以及它们的某些共同特征：
- en: '![Figure 8.30 – Differences between IDS and IPS'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.30 – IDS与IPS的区别'
- en: '](img/Figure_8.30_B16290.jpg)'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_8.30_B16290.jpg)'
- en: Figure 8.30 – Differences between IDS and IPS
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.30 – IDS与IPS的区别
- en: Most experts agree that each system complements the other, so the best implementation
    is to deploy them in parallel to enhance the security of your network.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数专家一致认为，每个系统是互补的，因此最佳的实施方式是并行部署它们，以增强你的网络安全性。
- en: Summary
  id: totrans-437
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we started by reviewing the *different phases of a cyber attack*.
    Then we learned *how to use Nmap to check for vulnerabilities* in our infrastructure
    and make the scanning phase of an attack harder for an attacker.
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们首先回顾了*网络攻击的不同阶段*。然后，我们学习了*如何使用Nmap检查基础设施中的漏洞*，并使攻击的扫描阶段对攻击者更具挑战性。
- en: Then we reviewed the *most common Wi-Fi vulnerabilities* and how to address
    them. Additionally, we also learned *how to create a Wi-Fi user security guide*
    to reduce risks when using a wireless network. This is a great asset that you
    can leverage to support your *network security strategy* and educate users.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们回顾了*最常见的Wi-Fi漏洞*及其解决方法。此外，我们还学习了*如何创建Wi-Fi用户安全指南*，以减少使用无线网络时的风险。这是你可以利用的一个重要资产，有助于支持你的*网络安全策略*并教育用户。
- en: After that, we moved to a more technical topic and learned *how to use Wireshark*
    to find vulnerabilities and even did a couple of labs to see in real time *how
    attackers can capture your data* (including passwords) when you use insecure protocols.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 在那之后，我们转向了一个更技术性的主题，学习了*如何使用Wireshark*来发现漏洞，甚至做了几个实验，实时查看*攻击者如何在你使用不安全协议时捕获你的数据*（包括密码）。
- en: And finally, we closed this journey through network security by doing an *overview
    of IDS and IPS*, what they are, some examples of them, and a comparison between
    them for you to better understand the differences between these two technologies.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们通过对IDS和IPS的*概述*来结束了这次网络安全之旅，讲解了它们是什么，提供了一些例子，并进行了它们之间的比较，帮助你更好地理解这两项技术的区别。
- en: Now, get ready, because in the next chapter we are going to learn *all you need
    to know about physical security*, its associated threats, and how to master the
    defensive techniques (tools, systems, and methods) to protect against those threats.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，做好准备，因为在下一章我们将学习*关于物理安全你需要知道的一切*，它的相关威胁，以及如何掌握防御技巧（工具、系统和方法）来保护自己免受这些威胁。
