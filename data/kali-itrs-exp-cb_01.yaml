- en: Chapter 1. Getting Started - Setting Up an Environment
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章。 入门-设置环境
- en: 'In this chapter, we will cover the basic tasks related to setting up Kali Linux
    for first time use. The recipes include:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍与首次使用Kali Linux设置相关的基本任务。 配方包括：
- en: Installing Kali Linux on Cloud - Amazon AWS
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在云上安装Kali Linux-Amazon AWS
- en: Installing Kali Linux on Docker
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Docker上安装Kali Linux
- en: Installing NetHunter on OnePlus One
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在OnePlus One上安装NetHunter
- en: Installing Kali Linux on a virtual machine
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在虚拟机上安装Kali Linux
- en: Customizing Kali Linux for faster package updates
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定制Kali Linux以实现更快的软件包更新
- en: Customizing Kali Linux for faster operations
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定制Kali Linux以实现更快的操作
- en: Configuring remote connectivity services - HTTP, TFTP, and SSH
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置远程连接服务-HTTP，TFTP和SSH
- en: Configuring Nessus and Metasploit
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置Nessus和Metasploit
- en: Configuring third-party tools
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置第三方工具
- en: Installing Docker on Kali Linux
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Kali Linux上安装Docker
- en: Introduction
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: Kali Linux was a complete revamp of the most popular Linux penetration testing
    distribution, Backtrack. Kali Linux 2.0 launched on August 11, 2015, is an improved
    version of Kali Linux, which features brand new kernel 4.0, and is based on the
    Jessie version of Debian with improved hardware and wireless driver coverage,
    support for a variety of desktop environments (GNOME, KDE, XFCE, MATE, e17, LXDE,
    and i3wm) and tools, and the list goes on.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux是最受欢迎的Linux渗透测试发行版Backtrack的全面改版。 Kali Linux 2.0于2015年8月11日推出，是Kali
    Linux的改进版本，具有全新的内核4.0，并基于Debian的Jessie版本，具有改进的硬件和无线驱动程序覆盖范围，支持各种桌面环境（GNOME，KDE，XFCE，MATE，e17，LXDE和i3wm）和工具等等。
- en: If you are upgrading to Kali Linux 2.0 from Kali Linux, there is a good news.
    The good news is that now we have a rolling distribution. For example, the Kali
    Linux core gets updated continuously.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您要从Kali Linux升级到Kali Linux 2.0，那么有一个好消息。 好消息是现在我们有了一个滚动的发行版。 例如，Kali Linux核心不断更新。
- en: Kali Linux has got everything you will need for penetration testing and security
    assessment without thinking of downloading, installing, and setting up the environment
    for each tool in your arsenal. Kali Linux 2.0 includes over 300 security tools.
    You can now get the most preferred security tools by professionals all over the
    world, all at one place installed, configured, and ready to use.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux具有您进行渗透测试和安全评估所需的一切，而无需考虑下载，安装和为您的工具库中的每个工具设置环境。 Kali Linux 2.0包括300多种安全工具。
    您现在可以在一个地方安装，配置和准备使用全球专业人士最喜欢的安全工具。
- en: All security tools have been logically categorized and mapped to the testers
    performing a combination of steps while assessing a target, for example, reconnaissance,
    scanning, exploitation, privilege escalation, maintaining access, and covering
    tracks.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 所有安全工具都已经被逻辑地分类并映射到执行一系列步骤的测试人员，例如，侦察，扫描，利用，权限提升，保持访问权限和覆盖轨迹。
- en: Security tools are usually expensive but Kali Linux is free. The biggest advantage
    of using Kali is that it contains open source or community versions of various
    commercial security products.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 安全工具通常很昂贵，但Kali Linux是免费的。 使用Kali的最大优势是它包含各种商业安全产品的开源或社区版本。
- en: 'Kali Linux 2.0 now supports even more hardware devices than ever. Since ARM-based
    systems are getting cheaper and readily available, running Kali Linux on these
    devices is now possible with ARMEL and ARMHF support. Currently, Kali Linux can
    be used for the following ARM Devices:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux 2.0现在支持比以往更多的硬件设备。 由于基于ARM的系统变得更便宜和更易获得，现在可以使用ARMEL和ARMHF支持在这些设备上运行Kali
    Linux。 目前，Kali Linux可用于以下ARM设备：
- en: Raspberry Pi (Raspberry Pi 2, Raspberry Pi A/B+, and Raspberry Pi A/B+ TFT)
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 树莓派（树莓派2，树莓派A/B+和树莓派A/B+ TFT）
- en: CompuLab - Utilite and Trim-Slice
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CompuLab-Utilite和Trim-Slice
- en: BeagleBone Black
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BeagleBone Black
- en: ODROID U2/X2
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ODROID U2/X2
- en: Chromebook - HP, Acer and Samsung
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chromebook-HP，Acer和Samsung
- en: Cubieboard 2
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cubieboard 2
- en: CuBox (CuBox and CuBox-i)
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CuBox（CuBox和CuBox-i）
- en: Nexus 5 (Kali Nethunter)
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nexus 5（Kali Nethunter）
- en: Odroid (U2, XU, and XU3)
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Odroid（U2，XU和XU3）
- en: USBArmory
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: USBArmory
- en: RioTboard
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RioTboard
- en: FriendlyARM
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FriendlyARM
- en: BananaPi
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BananaPi
- en: Installing Kali Linux on Cloud - Amazon AWS
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在云上安装Kali Linux-Amazon AWS
- en: Almost 2 years ago, Kali Linux has been listed in Amazon EC2 Marketplace. It
    was a really good news for penetration testers, as they can setup their very own
    Kali Linux in **Amazon AWS Infrastructure** and use for penetration testing, moreover
    it is even eligible for Free Tier, wherein you can use it to set up your EC2 instance
    for $0, as long as you stay within the designated limits, which is fair enough.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 将Kali Linux列入Amazon EC2 Marketplace已经将近2年了。 这对于渗透测试人员来说是一个非常好的消息，因为他们可以在Amazon
    AWS基础架构中设置自己的Kali Linux并用于渗透测试，而且甚至符合免费套餐的条件，只要您在指定的限制范围内使用它，这是相当公平的。
- en: The steps provided in this recipe will help you in setting up an instance running
    a Kali Linux on Amazon AWS EC2 console securely within minutes.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 本配方中提供的步骤将帮助您在Amazon AWS EC2控制台上安全地设置运行Kali Linux的实例，仅需几分钟。
- en: Getting ready
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备好
- en: 'For this recipe, you require:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个配方，您需要：
- en: An Amazon AWS Account
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个Amazon AWS帐户
- en: Minimum 2 GB RAM, if you want to run Metasploit
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 至少2GB RAM，如果要运行Metasploit
- en: How to do it...
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Perform the following steps for this recipe:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 按照本配方执行以下步骤：
- en: Once you have the Amazon AWS account created, login to [https://aws.amazon.com](https://aws.amazon.com)
    and navigate to **Amazon Web Services** dashboard as shown in the following screenshot.
    Go to **EC2** | **Launch Instance**:![How to do it...](img/image_01_001.jpg)
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建了Amazon AWS帐户后，登录到[https://aws.amazon.com](https://aws.amazon.com)，并转到**Amazon
    Web Services**仪表板，如下面的屏幕截图所示。 转到**EC2** | **Launch Instance**：![如何做...](img/image_01_001.jpg)
- en: You will need to select **Amazon Machine Image (AMI)** as shown in the following
    screenshot:![How to do it...](img/image_01_002.jpg)
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您需要选择**Amazon Machine Image (AMI)**，如下面的屏幕截图所示：![如何做...](img/image_01_002.jpg)
- en: Click on the **AWS Marketplace** option and search for Kali Linux on **AWS Marketplace**
    as shown in the following screenshot:![How to do it...](img/image_01_003.jpg)
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**AWS Marketplace**选项，并在**AWS Marketplace**上搜索Kali Linux，如下面的屏幕截图所示：![操作步骤...](img/image_01_003.jpg)
- en: Click on **Select** and then click on **Continue** as shown in the following
    screenshot:![How to do it...](img/image_01_004-1.jpg)
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**Select**，然后单击**Continue**，如下面的屏幕截图所示：![操作步骤...](img/image_01_004-1.jpg)
- en: Now you are on the screen displayed in step 2\. Here you can select an instance
    type; be informed that only **t1.micro** and **t2.micro** will be eligible for
    free tier. However, running Metasploit requires minimum 2 GB RAM. For this you
    can opt for **t2.small** or**t2.medium** as per your budget as shown in the following
    screenshot:![How to do it...](img/image_01_005-1.jpg)
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在您已经在第2步显示的屏幕上。在这里，您可以选择实例类型；请注意，只有**t1.micro**和**t2.micro**才符合免费套餐的条件。但是，运行Metasploit需要至少2GB的RAM。为此，您可以根据预算选择**t2.small**或**t2.medium**，如下面的屏幕截图所示：![操作步骤...](img/image_01_005-1.jpg)
- en: Click on **Review and Launch**. You will see a popup window asking you to use
    SSD as your boot volume. Select **Make general purpose (SSH)...(recommended)**
    and click on **Next**, as shown in the following screenshot:![How to do it...](img/image_01_006-1.jpg)
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**Review and Launch**。您将看到一个弹出窗口，询问您是否要将SSD用作启动卷。选择**Make general purpose
    (SSH)...(recommended)**，然后单击**Next**，如下面的屏幕截图所示：![操作步骤...](img/image_01_006-1.jpg)
- en: You will be directly taken to step 7 for review, as shown in the following screenshot:![How
    to do it...](img/image_01_007.jpg)
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将直接进入第7步进行审查，如下面的屏幕截图所示：![操作步骤...](img/image_01_007.jpg)
- en: You will first see the warning, which is to improve your instance security;
    click on **6\. Configure Security Group**, as shown in the following screenshot:![How
    to do it...](img/image_01_008-1.jpg)
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先会看到一个警告，提示您改善实例安全性；单击**6.配置安全组**，如下面的屏幕截图所示：![操作步骤...](img/image_01_008-1.jpg)
- en: Click on the **Source** listbox and select **My IP**, it will automatically
    detect your public IP range. Click on **Review and Launch**. Note that it would
    only work if you have a dedicated public IP. If you have a dynamic IP, you will
    need to login back to the AWS console and allow your updated IP address:![How
    to do it...](img/image_01_009-1.jpg)
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**Source**下拉列表，选择**My IP**，它将自动检测您的公共IP范围。单击**Review and Launch**。请注意，这仅在您拥有专用公共IP时才有效。如果您有动态IP，您需要重新登录到AWS控制台，并允许您的更新IP地址：![操作步骤...](img/image_01_009-1.jpg)
- en: As you can see, there is a warning that says you are not eligible for free usage
    tier since we have selected **m2.medium** for minimum 2GB RAM:![How to do it...](img/image_01_010-1.jpg)
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正如您所看到的，有一个警告说您不符合免费使用套餐的条件，因为我们选择了**m2.medium**，需要至少2GB的RAM：![操作步骤...](img/image_01_010-1.jpg)
- en: Click on **Launch**; here you need to create a new key pair before and download
    it before you can proceed, as shown in the following screenshot:![How to do it...](img/image_01_011-1.jpg)
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**Launch**；在这里，您需要在继续之前创建并下载一个新的密钥对，如下面的屏幕截图所示：![操作步骤...](img/image_01_011-1.jpg)
- en: Once you have downloaded the key pair, go ahead and click on **Launch Instances**,
    as shown in the following screenshot:![How to do it...](img/image_01_012-1.jpg)
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载了密钥对后，继续单击**Launch Instances**，如下面的屏幕截图所示：![操作步骤...](img/image_01_012-1.jpg)
- en: How it works...
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作步骤...
- en: '**EC** in EC2 stands for **elastic computing**, and the short answer is bringing
    up a virtual server in the cloud. Amazon AWS has a collection of all the popular
    OS images already available and all you need to do is select the one you need
    for your requirement, followed by the hardware requirement. Based on your OS and
    the hardware configuration you selected, AWS will provision that hardware configuration
    and install that OS. You can select the type of storage you want, traditional
    or SSD, and then attach/de-attach the hard drive based on your requirement. Best
    of all, you only pay for the time you want to use it, and when you stop the EC2
    machine, AWS will free up those resources and add them back its stock, that''s
    how flexible AWS is. Now, it''s time for a quick recap of what we did in this
    recipe. As a prerequisite, you need to first create an amazon AWS account, which
    is very easy to create. Then, step 1 shows you how to select EC2\. Steps 2 and
    3 show how to search and select Kali Linux''s minimal image. In step 4, you get
    to read everything that Kali Linux AMI has to offer, the basic requirements and
    the user login information. Step 5 shows you how to select an instance type depending
    on your requirement and budget. In steps 6 to 7 you will go through the simple
    wizard while choosing the default recommended SSD to boot from. Step 8 shows you
    the final page with warnings and points you should take care of or be aware of.
    In step 9, you choose to set up a security group on SSH protocol port `22` only
    to allow you from a specific IP range that belongs to you. In step 10, you are
    shown the review page, where based on your instance type selection it informs
    you whether you are eligible for free tier or not. In step 11, you create a new
    SSH Key pair and download it on your local machine. In step 12, you finally click
    on launch to start the instance.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: EC2中的EC代表弹性计算，简而言之就是在云中启动虚拟服务器。亚马逊AWS已经有了所有流行的操作系统镜像，并且您只需要选择您的需求，然后选择硬件需求。根据您选择的操作系统和硬件配置，AWS将配置该硬件并安装该操作系统。您可以选择您想要的存储类型，传统或SSD，然后根据您的需求附加/分离硬盘。最重要的是，您只需支付您想要使用的时间，当您停止EC2机器时，AWS将释放这些资源并将它们添加回其库存，这就是AWS的灵活性。现在，是时候快速回顾一下我们在这个配方中所做的事情了。作为先决条件，您需要首先创建一个亚马逊AWS帐户，这非常容易创建。然后，步骤1向您展示如何选择EC2。步骤2和3展示了如何搜索和选择Kali
    Linux的最小镜像。在第4步中，您可以阅读Kali Linux AMI提供的所有内容，基本要求和用户登录信息。第5步向您展示如何根据您的需求和预算选择实例类型。在第6到7步中，您将通过简单的向导选择默认推荐的SSD进行引导。第8步向您展示了最终页面，其中包含您应该注意或了解的警告和要点。在第9步中，您选择在SSH协议端口`22`上设置安全组，只允许您从属于您的特定IP范围访问。在第10步中，您将看到审查页面，根据您的实例类型选择，它会告诉您是否有资格获得免费套餐。在第11步中，您创建一个新的SSH密钥对并将其下载到本地计算机。在第12步中，您最终点击启动实例。
- en: There's more...
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Having Kali Linux installed in Amazon AWS infrastructure with a public IP address,
    with just few clicks, can prove to be very helpful during external penetration
    testing. As you know, we have selected and installed Kali Linux's minimal image
    for use in AWS infrastructure, due to which our installation does not have any
    tools installed by default.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在亚马逊AWS基础设施中安装了Kali Linux，并具有公共IP地址，只需点击几下，就可以在外部渗透测试期间非常有帮助。正如您所知，我们已经选择并安装了Kali
    Linux的最小镜像，用于在AWS基础设施中使用，因此我们的安装默认没有安装任何工具。
- en: In our next recipe, we will cover how to use SSH and setup Kali Linux on Amazon
    AWS box for use. In this recipe, we will also solve few problems that you might
    face while updating the repository and installing Kali Linux tools and setting
    up GUI and installing all the required tools we will need for use.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的下一个配方中，我们将介绍如何使用SSH并在亚马逊AWS盒子上设置Kali Linux以供使用。在这个配方中，我们还将解决您在更新存储库和安装Kali
    Linux工具以及设置GUI和安装我们将需要使用的所有必需工具时可能遇到的一些问题。
- en: Installing Kali Linux on Docker
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Docker上安装Kali Linux
- en: I think a little introduction about Docker is justified here. Docker is a new
    open source container technology, released in March 2013 that automates the deployment
    of applications inside self-sufficient software containers. Docker (built on top
    of Linux containers) provides a much simpler way of managing multiple containers
    on a single machine. Think of it as a virtual machine but it is more lightweight
    and efficient.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我认为在这里对Docker进行一点介绍是合理的。Docker是一种新的开源容器技术，于2013年3月发布，它自动化了在自包含软件容器内部部署应用程序。Docker（建立在Linux容器之上）提供了一种更简单的方式来管理单台机器上的多个容器。将其视为虚拟机，但它更轻量级和高效。
- en: The beauty of this is that you can install Kali Linux on almost any system,
    which can run Docker. Let's say, for example, you want to run Kali on Digital
    Ocean droplet but it does not let you spin-off a Kali Linux directly like it does
    for Ubuntu. But now, you can simply spin-off Ubuntu or centos on digital ocean
    and install Docker on it and pull the Kali Linux Docker image and you are good
    to go.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这样做的美妙之处在于您几乎可以在任何可以运行Docker的系统上安装Kali Linux。比如，例如，您想在Digital Ocean droplet上运行Kali，但它不允许您直接像Ubuntu那样快速启动Kali
    Linux。但现在，您可以在数字海洋上简单地快速启动Ubuntu或Centos，并在其上安装Docker，然后拉取Kali Linux Docker镜像，您就可以开始了。
- en: Since Docker provides another layer of abstraction, it is beneficial from security
    standpoint as well. Let's say, if you are running an apache server that is hosting
    an application, you can simply create a Docker container for this and run it.
    Even if your application gets compromised, the attacker would be self-contained
    within the Docker image only and will not be able to harm your host operating
    system.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Docker提供了另一层抽象，从安全的角度来看也是有益的。比如，如果您运行的是托管应用程序的apache服务器，您可以简单地为其创建一个Docker容器并运行它。即使您的应用程序受到攻击，攻击者也只能被限制在Docker镜像中，无法伤害您的主机操作系统。
- en: Having said all that, now with installing Docker on your machine, for the purpose
    of demonstration we will be installing Docker on a Mac operating system.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 说了这么多，现在在您的机器上安装Docker，为了演示的目的，我们将在Mac操作系统上安装Docker。
- en: Getting ready
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: 'For this recipe, you will need the following things:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个操作，你需要以下东西：
- en: Connection to the Internet
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接到互联网
- en: An installed Virtualbox
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已安装的Virtualbox
- en: How to do it...
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps for this recipe:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤进行此操作：
- en: To install Docker on Mac operating system, you need to download and install
    Docker toolbox from [https://www.docker.com/docker-toolbox](https://www.docker.com/docker-toolbox)
    . On running this installer on your mac, you will setup the Docker environment;
    the toolbox will install Docker Client, Machine, Compose (Mac only), Kitematic
    and VirtualBox.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在Mac操作系统上安装Docker，你需要从[https://www.docker.com/docker-toolbox](https://www.docker.com/docker-toolbox)下载并安装Docker工具箱。在你的Mac上运行此安装程序后，你将设置Docker环境；工具箱将安装Docker客户端、Machine、Compose（仅限Mac）、Kitematic和VirtualBox。
- en: Once the installation is done, go to **Applications** | **Docker** | **Docker
    Quickstart Terminal.app** or simply open the Launchpad and click on Docker Quickstart,
    When you double-click on the application, you will see the terminal window as
    shown in the following screenshot:![How to do it...](img/image_01_013-1.jpg)
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，转到**应用程序** | **Docker** | **Docker快速启动终端.app**，或者直接打开启动台并点击Docker快速启动。当你双击该应用程序时，你将看到终端窗口，如下面的屏幕截图所示：![如何操作...](img/image_01_013-1.jpg)
- en: 'To check whether your installation has succeeded, you can run the following
    command:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检查你的安装是否成功，你可以运行以下命令：
- en: '[PRE0]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You will see the following output if your installation succeeded:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的安装成功，你将看到以下输出：
- en: '![How to do it...](img/image_01_014-1.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_01_014-1.jpg)'
- en: Now, let's go to Docker hub ( [https://hub.docker.com](https://hub.docker.com)
    ) and search for `Kali Linux` image, as shown in the following screenshot:![How
    to do it...](img/image_01_015-1.jpg)
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，让我们去Docker hub（[https://hub.docker.com](https://hub.docker.com)）搜索`Kali Linux`镜像，如下面的屏幕截图所示：![如何操作...](img/image_01_015-1.jpg)
- en: 'As you can see, the official Kali image is available; we will use the following
    command to pull and run it in our Docker:'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正如你所看到的，官方的Kali镜像是可用的；我们将使用以下命令在我们的Docker中拉取并运行它：
- en: '[PRE1]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Now, you have your minimal base version of Kali Linux running in Docker; there
    are no tools added to this image, you can install them as per your need or you
    can refer to [https://www.kali.org/news/kali-linux-metapackages/](https://www.kali.org/news/kali-linux-metapackages/)
    .
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你在Docker中运行了Kali Linux的最小基础版本；这个镜像中没有添加任何工具，你可以根据需要安装它们，或者你可以参考[https://www.kali.org/news/kali-linux-metapackages/](https://www.kali.org/news/kali-linux-metapackages/)。
- en: Let's say, you just want to run only Metasploit; for that you can search for
    `kali Metasploit` image on the hub and install the one with the highest number
    of pulls so far, as shown in the following screenshot:![How to do it...](img/image_01_016-1.jpg)
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设你只想运行Metasploit；为此，你可以在hub上搜索`kali Metasploit`镜像，并安装到目前为止拉取次数最多的镜像，如下面的屏幕截图所示：![如何操作...](img/image_01_016-1.jpg)
- en: 'Pull the image using the following command; but before you do that, note that
    this is not an official image. Therefore, it is at your discretion whether you
    want to trust this image:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令拉取镜像；但在这之前，请注意这不是官方镜像。因此，你可以自行决定是否信任这个镜像：
- en: '[PRE2]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Then, run the Docker image with the `docker run` command as shown:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，使用`docker run`命令运行Docker镜像，如下所示：
- en: '[PRE3]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The output will be as shown in the following screenshot:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将如下所示：
- en: '![How to do it...](img/image_01_017-1.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_01_017-1.jpg)'
- en: 'Once the framework is prepared it is unpacked and executed, it should look
    as follows:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 框架准备好后，解压并执行，应该如下所示：
- en: '![How to do it...](img/image_01_018-1.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/image_01_018-1.jpg)'
- en: 'As you can see, you have Metasploit updated and running. But this is not it;
    all the changes you have made are not permanent, until you commit the changes.
    Once you commit the changes, you can pick up next time from where you left off.
    To commit the changes, open another console window and type the following command:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，你已经更新并运行了Metasploit。但这还不是全部；你所做的所有更改都不是永久的，直到你提交这些更改。一旦你提交了更改，下次可以从你离开的地方继续。要提交更改，打开另一个控制台窗口并输入以下命令：
- en: '[PRE4]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: On running this command, you will see the following output, as shown in the
    following screenshot:![How to do it...](img/image_01_019.jpg)
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行此命令后，你将看到以下输出，如下面的屏幕截图所示：![如何操作...](img/image_01_019.jpg)
- en: 'To commit the changes, you need to enter the command in the following format:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要提交更改，你需要按照以下格式输入命令：
- en: '[PRE5]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'On successful commit, you will see the following output:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 成功提交后，你将看到以下输出：
- en: '[PRE6]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: How it works...
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: In this recipe, we need Virtualbox already installed as a prerequisite, and
    we downloaded and installed the Docker toolbox. Once Docker toolbox is installed,
    simply open the **Docker Quickstart Terminal.app** and pull the image you want
    to run, you can search for the desired image from [https://hub.docker.com](https://hub.docker.com)
    and use the `docker run` command to run it. Once you have performed your operations,
    simply commit the changes with the `docker commit` command.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个操作中，我们需要先安装Virtualbox作为先决条件，然后下载并安装Docker工具箱。一旦Docker工具箱安装完成，只需打开**Docker快速启动终端.app**并拉取你想要运行的镜像，你可以从[https://hub.docker.com](https://hub.docker.com)搜索所需的镜像，并使用`docker
    run`命令来运行它。完成操作后，只需使用`docker commit`命令提交更改。
- en: Here, we have used the `-i` and `-t` switches. For interactive processes (such
    as a shell), you must use `-i` `-t` together in order to allocate a **teletype**
    (**TTY**) for the container process. The`-i` `-t` switches is often written `-it`.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们使用了`-i`和`-t`开关。对于交互式进程（如shell），你必须同时使用`-i` `-t`来为容器进程分配**电传打字机**（**TTY**）。`-i`
    `-t`开关通常写作`-it`。
- en: There's more...
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: You can learn more about Docker at [https://www.docker.com](https://www.docker.com)
    . To search for public images, you can visit [https://hub.docker.com](https://hub.docker.com)
    . To install Kali Linux meta-packages, you can visit [https://www.kali.org/news/kali-linux-metapackages/](https://www.kali.org/news/kali-linux-metapackages/)
    .
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[https://www.docker.com](https://www.docker.com)了解有关Docker的更多信息。要搜索公共映像，您可以访问[https://hub.docker.com](https://hub.docker.com)。要安装Kali
    Linux元软件包，您可以访问[https://www.kali.org/news/kali-linux-metapackages/](https://www.kali.org/news/kali-linux-metapackages/)。
- en: Installing NetHunter on OnePlus One
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在OnePlus One上安装NetHunter
- en: Kali Linux NetHunter is the first open source network pen testing platform for
    nexus and one plus devices. In this chapter, we will see how to install Kali Linux
    NetHunter on One Plus One.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux NetHunter是Nexus和One Plus设备的第一个开源网络渗透测试平台。在本章中，我们将看到如何在One Plus One上安装Kali
    Linux NetHunter。
- en: Before we begin, make sure you backup your device data before proceeding to
    do any of the following.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，请确保在进行以下任何操作之前备份设备数据。
- en: Getting ready
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'In order to commence with this, you will require the following:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 为了开始，您将需要以下内容：
- en: A OnePlus One device, 64 GB
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一部OnePlus One设备，64GB
- en: A USB cable
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一根USB电缆
- en: Any Windows operating system
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何Windows操作系统
- en: NetHunter Windows Installer
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NetHunter Windows安装程序
- en: Active Internet connection
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 活动的互联网连接
- en: How to do it...
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Perform the following steps for this recipe:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤进行此操作：
- en: Download the Kali NetHunter Windows Installer at [http://www.nethunter.com/download/](http://www.nethunter.com/download/)
    , you will see the following page:![How to do it...](img/image_01_020.jpg)
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[http://www.nethunter.com/download/](http://www.nethunter.com/download/)下载Kali
    NetHunter Windows安装程序，您将看到以下页面：![如何做...](img/image_01_020.jpg)
- en: Install the downloaded setup, as shown in the following screenshot:![How to
    do it...](img/image_01_021.jpg)
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装下载的设置，如下截图所示：![如何做...](img/image_01_021.jpg)
- en: Once the installation is complete, run the shortcut created on the desktop:![How
    to do it...](img/image_01_022.jpg)
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，在桌面上创建的快捷方式上运行：![如何做...](img/image_01_022.jpg)
- en: Once the application loads, make sure you check for any updates. If there are
    none, click on the **Next** button:![How to do it...](img/image_01_023.jpg)
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用程序加载后，请确保检查是否有更新。如果没有，请单击**下一步**按钮：![如何做...](img/image_01_023.jpg)
- en: Now we will select the device for rooting. Our recipe sticks to OnePlus, so
    let's select the **ONEPLUSONE-BACON (A0001) - 64GB** option and click on **Next**:![How
    to do it...](img/image_01_024.jpg)
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们将选择设备进行root。我们的教程坚持选择OnePlus，因此让我们选择**ONEPLUSONE-BACON (A0001) - 64GB**选项，然后单击**下一步**：![如何做...](img/image_01_024.jpg)
- en: Now we will be prompted to install drivers, these are drivers for the laptop/PC
    to communicate with the mobile device over a USB connection. Click on **Install****Drivers...**
    to commence the installation process. Once the installation is done, click on
    **Test Drivers...** to make sure that the drivers are working correctly, as shown
    in the following screenshot:![How to do it...](img/image_01_025.jpg)
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们将提示安装驱动程序，这些是用于笔记本电脑/PC通过USB连接与移动设备通信的驱动程序。单击**安装**驱动程序...**开始安装过程。安装完成后，单击**测试驱动程序...**以确保驱动程序正常工作，如下截图所示：![如何做...](img/image_01_025.jpg)
- en: Once the drivers are installed correctly, proceed by clicking on **Next** and
    now we will come across the installer configuration. Here, it is recommended to
    proceed with **Install Official Kali Linux NetHunter**. In case you have a custom
    NetHunter, proceed with the second option but be careful with the compatibility
    issues:![How to do it...](img/image_01_026.jpg)
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦驱动程序正确安装，点击**下一步**，现在我们将进入安装程序配置。在这里，建议继续进行**安装官方Kali Linux NetHunter**。如果您有自定义的NetHunter，请选择第二个选项，但要注意兼容性问题：![如何做...](img/image_01_026.jpg)
- en: Clicking on **Next**, we will be coming on the **Download Files** option where
    the application will determine the available packages with us and the missing
    files can be obtained with the help of the **Download + Update All File Dependencies**
    option. In case you get stuck or any file is not getting downloaded, you can simply
    Google the filename and download it and put it in the folder where the application
    was installed:![How to do it...](img/image_01_027.jpg)
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**，我们将进入**下载文件**选项，应用程序将确定可用的软件包和缺少的文件可以通过**下载+更新所有文件依赖项**选项获取。如果卡住或任何文件无法下载，您可以简单地谷歌文件名并下载它并将其放入应用程序安装的文件夹中：![如何做...](img/image_01_027.jpg)
- en: Once all the dependencies are made available, make sure you do the following:![How
    to do it...](img/image_01_028.jpg)
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦所有依赖项都可用，请确保执行以下操作：![如何做...](img/image_01_028.jpg)
- en: After this has been done, we can proceed with unlocking the bootloader. Click
    on **Unlock Device Bootloader**. Make sure to back up all the important data from
    the device before you start from this point onwards:![How to do it...](img/image_01_029.jpg)
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，我们可以继续解锁启动加载程序。单击**解锁设备启动加载程序**。在从这一点开始之前，请务必备份设备的所有重要数据：![如何做...](img/image_01_029.jpg)
- en: The phone will go in the **Fastboot** mode and proceed with its unlocking. Once
    that is done, proceed to the next step of flashing the stock ROM. This is a new
    ROM that will be mounted on your device to keep the compatibility with Kali Linux
    NetHunter. Click on **Flash Stock...** as shown in the following screenshot:![How
    to do it...](img/image_01_030.jpg)
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 手机将进入**Fastboot**模式并进行解锁。完成后，继续下一步，刷入原始ROM。这是一个新的ROM，将安装在您的设备上，以保持与Kali Linux
    NetHunter的兼容性。如下截图所示，单击**刷入原始...**：![如何做...](img/image_01_030.jpg)
- en: Once the flash stock is done, proceed to the next step and click on **Flash
    Kali Linux + Root!**, as shown in the following screenshot:![How to do it...](img/image_01_031.jpg)
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成刷入原始后，继续下一步，单击**刷入Kali Linux + Root!**，如下截图所示：![如何做...](img/image_01_031.jpg)
- en: The preceding step will get the Kali Linux NetHunter in your device. Once successful,
    the device will go into the TWRP recovery mode.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 上述步骤将在您的设备中获取Kali Linux NetHunter。一旦成功，设备将进入TWRP恢复模式。
- en: In the Recovery mode, click on **Reboot** and it will ask that Super user is
    not installed Swipe to install once the swipe is done the Kali linux will boot.
    Now, click on **SuperSU** and see whether it is working:![How to do it...](img/image_01_032.jpg)
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在恢复模式中，点击**重新启动**，它会要求安装超级用户，滑动一次安装完成后，Kali Linux将启动。现在，点击**SuperSU**，看看它是否工作：![操作步骤...](img/image_01_032.jpg)
- en: Download **BusyBox** by Stephen (Stericson) and install, as shown in the following
    screenshot:![How to do it...](img/image_01_033.jpg)
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载Stephen（Stericson）的**BusyBox**并安装，如下面的屏幕截图所示：![操作步骤...](img/image_01_033.jpg)
- en: Click on the icon called **NetHunter**, as shown in the following screenshot:![How
    to do it...](img/image_01_034.jpg)
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击名为**NetHunter**的图标，如下面的屏幕截图所示：![操作步骤...](img/image_01_034.jpg)
- en: Once you get the application running, you will be asked to grant root permissions.
    Click on **Grant** and commence to the Kali Launcher and then the terminal, as
    shown in the following screenshot:![How to do it...](img/image_01_035.jpg)
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦应用程序运行，您将被要求授予root权限。点击**授予**，然后转到Kali启动器，然后转到终端，如下面的屏幕截图所示：![操作步骤...](img/image_01_035.jpg)
- en: Select the Kali terminal and launch **Metasploit**, as shown in the following
    screenshot:![How to do it...](img/image_01_036.jpg)
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择Kali终端并启动**Metasploit**，如下面的屏幕截图所示：![操作步骤...](img/image_01_036.jpg)
- en: Launch **msfconsole** on the device:![How to do it...](img/image_01_037.jpg)
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在设备上启动**msfconsole**：![操作步骤...](img/image_01_037.jpg)
- en: How it works...
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we have shown how you can install Kali Linux, which is called
    NetHunter. NetHunter is ARM which was ported to run on a non-intel processor,
    which is built on your trusted Kali Linux and tool sets. The Kali Linux NetHunter
    project is an open source Android penetration testing platform for ARM devices,
    created as a joint effort between the Kali community member **BinkyBear** and
    Offensive Security.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个教程中，我们展示了如何安装Kali Linux，也称为NetHunter。NetHunter是ARM，已被移植到非英特尔处理器上运行，构建在您信任的Kali
    Linux和工具集上。Kali Linux NetHunter项目是一个面向ARM设备的开源Android渗透测试平台，由Kali社区成员**BinkyBear**和Offensive
    Security共同努力创建。
- en: There's more...
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: We installed Kali NetHunter on our device and now we can perform our pen testing
    from OnePlus one, which is highly efficient in case of red team exercises, social
    engineering, or during physical security assessment.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在设备上安装了Kali NetHunter，现在我们可以从OnePlus One进行渗透测试，这在红队演习、社会工程或在进行物理安全评估时非常有效。
- en: More information for the same can be found at [http://www.nethunter.com](http://www.nethunter.com)
    .
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 有关更多信息，请访问[http://www.nethunter.com](http://www.nethunter.com)。
- en: Installing Kali Linux on a virtual machine
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在虚拟机上安装Kali Linux
- en: Installing Kali Linux on a hard disk is the first step. The process of installing
    Kali Linux on a physical hard disk or on Virtual Hard Disk is absolutely similar.
    So, feel free to use the same steps to install Kali Linux on your physical machine.
    Needless to say that by using this method only Kali Linux 2.0 will be installed
    on your hard disk as the primary operating system.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在硬盘上安装Kali Linux是第一步。在物理硬盘或虚拟硬盘上安装Kali Linux的过程是完全相似的。因此，可以放心地使用相同的步骤在物理机上安装Kali
    Linux。毋庸置疑，只有使用这种方法才能将Kali Linux 2.0安装在您的硬盘上作为主要操作系统。
- en: Getting ready
  id: totrans-138
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: Before installing Kali Linux, you will require Kali Linux Latest ISO Image,
    which can be downloaded from [https://www.kali.org/downloads/](https://www.kali.org/downloads/)
    .
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装Kali Linux之前，您将需要Kali Linux最新的ISO映像，可以从[https://www.kali.org/downloads/](https://www.kali.org/downloads/)下载。
- en: How to do it...
  id: totrans-140
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps for this recipe:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤进行此教程：
- en: Open VMware on your macOS and press *command* + *N*, once the same is done we
    will see something like the following screenshot:![How to do it...](img/image_01_038-1.jpg)
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的macOS上打开VMware，按*command* + *N*，一旦完成，我们将看到如下的屏幕截图：![操作步骤...](img/image_01_038-1.jpg)
- en: Select **Install from disc or image** and click on **Continue**:![How to do
    it...](img/image_01_039-1.jpg)
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**从光盘或映像安装**，然后点击**继续**：![操作步骤...](img/image_01_039-1.jpg)
- en: Drag and drop the Kali Linux 2.0 ISO, which you have just downloaded, as shown
    in the following screenshot:![How to do it...](img/image_01_040-1.jpg)
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 拖放刚刚下载的Kali Linux 2.0 ISO，如下面的屏幕截图所示：![操作步骤...](img/image_01_040-1.jpg)
- en: Select **Debian 5 64bit** and click on **Continue**, as shown in the following
    screenshot:![How to do it...](img/image_01_041-1.jpg)
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Debian 5 64位**，然后点击**继续**，如下面的屏幕截图所示：![操作步骤...](img/image_01_041-1.jpg)
- en: Click on **Customize Setting** and select the desired location to save your
    virtual machine:![How to do it...](img/image_01_042-1.jpg)
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**自定义设置**，选择要保存虚拟机的位置：![操作步骤...](img/image_01_042-1.jpg)
- en: After saving, VMware opens **Debian settings**. Open **Processors & Memory**
    and increase the RAM size to 4 GB (or based on the memory available in your laptop).
    Remember that Metasploit requires minimum 2GB of RAM to run as a prerequisite:![How
    to do it...](img/image_01_043-1.jpg)
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存后，VMware打开**Debian设置**。打开**处理器和内存**，将RAM大小增加到4GB（或根据笔记本电脑上可用的内存）。请记住，作为先决条件，Metasploit需要最少2GB的RAM来运行：![操作步骤...](img/image_01_043-1.jpg)
- en: Close the window and click on **Start** and then click inside the window. The
    cursor control will go to **Guest VM**. Scroll down and select **Graphical install**
    as shown in the following screenshot:![How to do it...](img/image_01_044-1.jpg)
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭窗口，点击**启动**，然后点击窗口内部。光标控制将转到**Guest VM**。向下滚动并选择**图形安装**，如下面的屏幕截图所示：![操作步骤...](img/image_01_044-1.jpg)
- en: Select your preferred language and click on **Continue** (we chose **English**):![How
    to do it...](img/image_01_045-1.jpg)
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您喜欢的语言，然后点击**继续**（我们选择了**英语**）：![操作步骤...](img/image_01_045-1.jpg)
- en: Select your country (we chose **United States**):![How to do it...](img/image_01_046-1.jpg)
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您的国家（我们选择了**美国**）：![操作步骤...](img/image_01_046-1.jpg)
- en: Select your keyboard configuration (we selected **American English**):![How
    to do it...](img/image_01_047-1.jpg)
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您的键盘配置（我们选择了**美式英语**）：![操作步骤...](img/image_01_047-1.jpg)
- en: Next, we need to configure the basic network services. Enter your preferred
    hostname (we named it `Intrusion-Exploitation`):![How to do it...](img/image_01_048-1.jpg)
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要配置基本的网络服务。输入您喜欢的主机名（我们将其命名为`Intrusion-Exploitation`）：![如何做...](img/image_01_048-1.jpg)
- en: Next, enter the domain name of your choice (we entered `kali.example.com`):![How
    to do it...](img/image_01_049-1.jpg)
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，输入您选择的域名（我们输入了`kali.example.com`）：![如何做...](img/image_01_049-1.jpg)
- en: The most important step is to enter your root password, and make sure you have
    a strong password, and that you don't forget it (use a combination of A-Z, a-z,
    0-9, and special characters):![How to do it...](img/image_01_050-1.jpg)
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最重要的一步是输入您的root密码，并确保您有一个强密码，并且不要忘记它（使用A-Z、a-z、0-9和特殊字符的组合）：![如何做...](img/image_01_050-1.jpg)
- en: In the next screen, you select your time zone (we chose **Eastern**):![How to
    do it...](img/image_01_051-1.jpg)
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个屏幕上，选择您的时区（我们选择了**东部**）：![如何做...](img/image_01_051-1.jpg)
- en: Next, you will be shown four options to choose from; if you have a preferred
    way of partitioning disk, you can select **Manual**. However, for easy partitioning,
    we will be using **Guided - Use Entire Disk**:![How to do it...](img/image_01_052-1.jpg)
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您将看到四个选项可供选择；如果您有首选的磁盘分区方式，可以选择**手动**。但是，为了简化分区，我们将使用**引导-使用整个磁盘**：![如何做...](img/image_01_052-1.jpg)
- en: On the screen, you will be prompted that the entire disk space will be formatted,
    click on **Continue**:![How to do it...](img/image_01_053-1.jpg)
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在屏幕上，您将收到提示，整个磁盘空间将被格式化，单击**继续**：![如何做...](img/image_01_053-1.jpg)
- en: Next, you will be shown three options. Since we are only going to use it for
    penetration testing and not as a server or main desktop operating system, it is
    safe to select **All files in one partition**:![How to do it...](img/image_01_054-1.jpg)
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您将看到三个选项。由于我们只打算将其用于渗透测试，而不是作为服务器或主要桌面操作系统，所以选择**一个分区中的所有文件**是安全的：![如何做...](img/image_01_054-1.jpg)
- en: You will be shown a summary of changes to be made on your disk. Select **Finish
    Partitioning and write changes to the disk** and click on **Continue**:![How to
    do it...](img/image_01_055-1.jpg)
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到对磁盘进行的更改摘要。选择**完成分区并将更改写入磁盘**，然后单击**继续**：![如何做...](img/image_01_055-1.jpg)
- en: Select **Yes** and click on **Continue**:![How to do it...](img/image_01_056-1.jpg)
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**是**，然后单击**继续**：![如何做...](img/image_01_056-1.jpg)
- en: Next, you will be asked to configure your package manager using a network mirror.
    It allows you to update your Kali tools collection as and when they are available,
    and, in our case, we selected **Yes**:![How to do it...](img/image_01_057-1.jpg)
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您将被要求使用网络镜像配置您的软件包管理器。它允许您在Kali工具集可用时更新您的Kali工具集，而在我们的情况下，我们选择了**是**：![如何做...](img/image_01_057-1.jpg)
- en: Next, you can enter if you have any proxy server in your network. If not, you
    can simply skip and click on **Continue**:![How to do it...](img/image_01_058-1.jpg)
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您可以输入您的网络中是否有代理服务器。如果没有，您可以简单地跳过并单击**继续**：![如何做...](img/image_01_058-1.jpg)
- en: Finally, you will be asked to install GRUB Bootloader to/Dev/SDA- Master Boot
    Record; select **Yes** and click on **Continue**:![How to do it...](img/image_01_059-1.jpg)
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，您将被要求将GRUB引导加载程序安装到/Dev/SDA-主引导记录；选择**是**，然后单击**继续**：![如何做...](img/image_01_059-1.jpg)
- en: Finally, you will be asked to manually enter the device or `/dev/sda`; select
    `/dev/sda` and click on **Continue**:![How to do it...](img/image_01_060-1.jpg)
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，您将被要求手动输入设备或`/dev/sda`; 选择`/dev/sda`并单击**继续**：![如何做...](img/image_01_060-1.jpg)
- en: If you see the preceding screen, it means that you have made it till the end
    and Kali installation is complete. Congratulations! Click on **Continue** and
    your system will be rebooted to bring you fresh installed Kali Linux.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您看到前面的屏幕，这意味着您已经完成了Kali的安装。恭喜！单击**继续**，您的系统将重新启动，带您进入全新安装的Kali Linux。
- en: How it works...
  id: totrans-166
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we inserted the Kali Linux ISO and started the graphical install.
    During the graphical install, we started configuring with our preferred language,
    keyboard language, country, and timezone. From step 5 onwards, we entered the
    hostname for our Kali Linux and in step 6, we entered the domain name for our
    Kali Linux.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个步骤中，我们插入了Kali Linux ISO并启动了图形安装。在图形安装过程中，我们开始配置我们喜欢的语言、键盘语言、国家和时区。从第5步开始，我们输入了我们的Kali
    Linux主机名，在第6步，我们输入了我们的Kali Linux域名。
- en: From steps 9 to 13, we configured the hard disk partition to use the entire
    disk for installation and created one partition for all folders since we will
    only be using it for penetration testing. Once the installation is finished, step
    14 onwards we configured Kali to use network mirrors for faster updates, configured
    any network proxy (if required) and finally installed GRUB bootloader.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 从第9步到第13步，我们配置了硬盘分区，将整个磁盘用于安装，并为所有文件夹创建了一个分区，因为我们只打算用它进行渗透测试。安装完成后，从第14步开始，我们配置了Kali以使用网络镜像进行更快的更新，配置了任何网络代理（如果需要），最后安装了GRUB引导加载程序。
- en: Customizing Kali Linux for faster package updates
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了更快地更新软件包，定制Kali Linux
- en: Kali contains more than 300 security tools and system binaries. After installing
    Kali Linux, first thing you would need to do is update the Kali Linux to get the
    latest collection of security tools and features. Since Kali is based on Debian
    Linux, you can use the `apt-get update` command to update the repositories for
    the binaries and tools.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: Kali包含了300多个安全工具和系统二进制文件。安装Kali Linux后，您需要做的第一件事就是更新Kali Linux，以获取最新的安全工具和功能集。由于Kali基于Debian
    Linux，您可以使用`apt-get update`命令来更新二进制文件和工具的存储库。
- en: 'However, at times while updating Kali Linux, you will notice that updates can
    be slow regardless of your Internet speed and bandwidth. In this recipe, we will
    show you how you can update your source file, which your package manager refers
    to, for faster package updates:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，有时在更新Kali Linux时，您会注意到无论您的互联网速度和带宽如何，更新都可能会很慢。在这个步骤中，我们将向您展示如何更新您的源文件，以便您的软件包管理器可以更快地更新软件包：
- en: Getting ready
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, you will need a connection to the Internet with a valid IP
    address.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，您需要连接到具有有效IP地址的互联网。
- en: How to do it...
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps for this recipe:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤来制作这个食谱：
- en: 'Open the terminal and use an editor to open the `sources.list` file:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开终端并使用编辑器打开`sources.list`文件：
- en: '[PRE7]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The default `sources.list` file looks like:'
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认的`sources.list`文件如下所示：
- en: '[PRE8]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'All you need to do is to change `http` to `repo` as shown in the following
    code:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 您只需要按照以下代码所示将`http`更改为`repo`：
- en: '[PRE9]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Make the following changes, save the file, and exit the editor by pressing the
    *Esc* key and then type `wq!` and press *Enter*.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进行以下更改，保存文件，并通过按*Esc*键然后输入`wq!`并按*Enter*退出编辑器。
- en: 'Now, update and upgrade your Kali using the following command; you will notice
    the difference in speed:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，使用以下命令更新和升级您的Kali；您将注意到速度上的差异：
- en: '[PRE10]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: How it works...
  id: totrans-185
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Kali Linux has multiple different mirrors around the world. Based on your IP
    address location, it automatically selects the mirror closest to your location.
    Due to various reasons, these mirrors may become slow over a period of time. You
    can find the list of mirrors closest to your location at [http://http.kali.org/README.mirrorlist](http://http.kali.org/README.mirrorlist)
    . The `apt-get` command takes the list of update servers from `/etc/apt/sources.list`.
    Changes made to the `sources.list` files ensures that our Kali connects to the
    correct servers and gets served with faster updates.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux在世界各地有多个不同的镜像。根据您的IP地址位置，它会自动选择距离您最近的镜像。由于各种原因，这些镜像可能会随着时间的推移变得缓慢。您可以在[http://http.kali.org/README.mirrorlist](http://http.kali.org/README.mirrorlist)找到距离您最近的镜像列表。`apt-get`命令从`/etc/apt/sources.list`获取更新服务器列表。对`sources.list`文件的更改确保我们的Kali连接到正确的服务器并获得更快的更新。
- en: Customizing Kali Linux for faster operations
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 定制Kali Linux以获得更快的操作
- en: You will be using your Kali Linux during audits and penetration testing. You
    would need your Kali Linux to be configured and customized for highest speed possible
    during those crucial testing processes. In this recipe, we will show you several
    tools that can used to optimize your Kali Linux experience.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在审核和渗透测试期间，您将使用Kali Linux。您需要配置和定制您的Kali Linux，以便在这些关键测试过程中获得最高速度。在这个食谱中，我们将向您展示几种工具，可以用来优化您的Kali
    Linux体验。
- en: Getting ready
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, you will need connection to the Internet.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，您需要连接到互联网。
- en: How to do it...
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps for this recipe:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤来制作这个食谱：
- en: 'Preload is a program written by Behdad Esfahbod, which runs as a daemon. This
    application closely observes the usage of frequently used applications and binaries
    and loads into memory when the system is idle. This results in faster start-up
    time because less data is fetched from the disk. You can read more about this
    application at [https://wiki.archlinux.org/index.php/Preload](https://wiki.archlinux.org/index.php/Preload)
    . To install the application, issue the following command on the terminal window:'
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Preload是由Behdad Esfahbod编写的一个作为守护进程运行的程序。该应用程序密切观察经常使用的应用程序和二进制文件的使用情况，并在系统空闲时加载到内存中。这样可以加快启动时间，因为从磁盘获取的数据更少。您可以在[https://wiki.archlinux.org/index.php/Preload](https://wiki.archlinux.org/index.php/Preload)了解更多关于这个应用程序的信息。要安装该应用程序，请在终端窗口上发出以下命令：
- en: '[PRE11]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: BleachBit quickly frees disk space and tirelessly guards your privacy. Frees
    cache, deletes cookies, clears Internet history, shreds temporary files, deletes
    logs, and discards junk that you didn't know existed. You can read more about
    this application at [http://bleachbit.sourceforge.net/](http://bleachbit.sourceforge.net/)
    .
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: BleachBit快速释放磁盘空间，并不知疲倦地保护您的隐私。释放缓存，删除cookie，清除互联网历史记录，销毁临时文件，删除日志，并丢弃您不知道存在的垃圾。您可以在[http://bleachbit.sourceforge.net/](http://bleachbit.sourceforge.net/)了解更多关于这个应用程序的信息。
- en: 'To install the application, issue the following command on the terminal window:'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要安装该应用程序，请在终端窗口上发出以下命令：
- en: '[PRE12]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: By default, Kali does not show all applications and scripts, which are there
    in the startup menu. Every application you installed ultimately slows down the
    booting process by starting up even if it is required or not. You can install
    Boot-Up manager and keep a close eye on what services and applications are allowed
    during the booting process. You can always disable the unnecessary services and
    applications to increase the booting speed of your Kali.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，Kali不显示启动菜单中的所有应用程序和脚本。您安装的每个应用程序最终都会通过启动，即使不需要也会减慢启动过程。您可以安装Boot-Up管理器，并密切关注在启动过程中允许哪些服务和应用程序。您可以随时禁用不必要的服务和应用程序，以增加Kali的启动速度。
- en: 'To install the application, issue the following command on the terminal window:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装该应用程序，请在终端窗口上发出以下命令：
- en: '[PRE13]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: How it works...
  id: totrans-201
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we have used the `apt-get` command to install the basic system
    utilities, which can help us manage our Kali Linux resources well during our pen
    testing by keeping our Kali Linux process and start up folders optimized for highest
    performance.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们使用了`apt-get`命令来安装基本系统实用程序，这些实用程序可以帮助我们在渗透测试期间有效地管理我们的Kali Linux资源，使我们的Kali
    Linux进程和启动文件夹优化以获得最佳性能。
- en: Configuring remote connectivity services - HTTP, TFTP, and SSH
  id: totrans-203
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置远程连接服务-HTTP、TFTP和SSH
- en: During penetration testing and auditing, we will be required to deliver payload
    on target machines from our Kali Linux. For that purpose, we will leverage basic
    network services such as HTTP, FTP, and SSH. Services such as HTTP and SSH are
    installed by default in Kali Linux but Kali does not enable any network services
    to minimize detection.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 在渗透测试和审核期间，我们将需要从我们的Kali Linux向目标机器交付有效载荷。为此，我们将利用基本的网络服务，如HTTP、FTP和SSH。HTTP和SSH等服务默认安装在Kali
    Linux中，但Kali不启用任何网络服务以最小化检测。
- en: 'In this recipe, we will show you how to configure and start running services
    securely:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们将向您展示如何配置和开始安全运行服务：
- en: Getting ready
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, you will need a connection to the Internet with a valid IP
    address.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，您需要连接到具有有效IP地址的互联网。
- en: How to do it...
  id: totrans-208
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps for this recipe:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 执行本教程的以下步骤：
- en: 'Let''s begin with starting an Apache webserver. To start the Apache service,
    use the following command:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们开始启动Apache web服务器。要启动Apache服务，请使用以下命令：
- en: '[PRE14]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'You can verify that the service is running by browsing to the localhost using
    a browser as shown in the following screenshot:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过浏览器浏览本地主机来验证服务是否正在运行，如下面的屏幕截图所示：
- en: '![How to do it...](img/image_01_061.jpg)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![操作步骤...](img/image_01_061.jpg)'
- en: 'To start the SSH service, SSH keys needs to be generated. Back in Backtrack
    r5, you used to generate SSH keys using the `sshd-generate` command, which is
    not available in Kali Linux. Using default SSH keys is a security risk and therefore
    a new SSH key should be generated. To generate SSH keys, you can either delete
    or backup your default keys generated by Kali Linux:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要启动SSH服务，需要生成SSH密钥。在Backtrack r5中，您曾经使用`sshd-generate`命令生成SSH密钥，但在Kali Linux中不可用。使用默认的SSH密钥存在安全风险，因此应生成新的SSH密钥。要生成SSH密钥，您可以删除或备份Kali
    Linux生成的默认密钥：
- en: '[PRE15]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'First, we need remove run levels for SSH by issuing the following command:'
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们需要通过以下命令删除SSH的运行级别：
- en: '[PRE16]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Now we need to load the default SSH run level by issuing the following command:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们需要通过以下命令加载默认的SSH运行级别：
- en: '[PRE17]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Regenerate the keys:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新生成密钥：
- en: '[PRE18]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: You can check whether the SSH key hashes are different now:![How to do it...](img/image_01_062.jpg)
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以检查SSH密钥散列是否已更改：![操作步骤...](img/image_01_062.jpg)
- en: 'Start the SSH service using the following command:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令启动SSH服务：
- en: '[PRE19]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'You can verify that the service is running using the `netstat` command:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用`netstat`命令验证服务是否正在运行：
- en: '[PRE20]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Start the FTP server using the following command:'
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令启动FTP服务器：
- en: '[PRE21]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'To verify that the service is running, use the following command:'
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要验证服务是否正在运行，请使用以下命令：
- en: '[PRE22]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'To stop any service, you can use the following command:'
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要停止任何服务，可以使用以下命令：
- en: '[PRE23]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Here, `<servicename>` is the name of service required to terminate:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`<servicename>`是要终止的服务的名称：
- en: '[PRE24]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: How it works...
  id: totrans-235
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: In this recipe, we have configured and started basic network services, which
    we will be using to deliver payloads to our victim machines depending on the scenario.
    We have started HTTP service, FTP service, and we have backed up default SSH keys
    and generated new SSH keys, and started the SSH service.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们已配置并启动了基本网络服务，这些服务将根据情况用于向受害机交付有效载荷。我们已启动了HTTP服务、FTP服务，并备份了默认的SSH密钥并生成了新的SSH密钥，并启动了SSH服务。
- en: Configuring Nessus and Metasploit
  id: totrans-237
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置Nessus和Metasploit
- en: In this recipe, we will show you how to install, configure, and start running
    Nessus and Metasploit.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们将向您展示如何安装、配置和启动Nessus和Metasploit。
- en: Getting ready
  id: totrans-239
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, we will be downloading Nessus home feed and register for a
    valid license.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本教程，我们将下载Nessus家庭版并注册有效许可证。
- en: How to do it...
  id: totrans-241
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作步骤...
- en: 'Perform the following steps for this recipe:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 执行本教程的以下步骤：
- en: Open Firefox and go to [http://www.tenable.com/products/nessus/select-your-operating-system](http://www.tenable.com/products/nessus/select-your-operating-system)
    and select the home version. On the next page, select the operating system as
    **Debian 6 and 7** (as Kali is based on Debian Jessie) as shown in the following
    screenshot:![How to do it...](img/image_01_063.jpg)
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开Firefox并转到[http://www.tenable.com/products/nessus/select-your-operating-system](http://www.tenable.com/products/nessus/select-your-operating-system)，然后选择家庭版。在下一页上，选择操作系统为**Debian
    6 and 7**（因为Kali基于Debian Jessie），如下面的屏幕截图所示：![操作步骤...](img/image_01_063.jpg)
- en: 'To install the Nessus, open the following command in the terminal and type:'
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要安装Nessus，请在终端中打开以下命令并输入：
- en: '[PRE25]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Now, your Nessus has been installed as shown in the following screenshot:![How
    to do it...](img/image_01_064.jpg)
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您的Nessus已安装，如下面的屏幕截图所示：![操作步骤...](img/image_01_064.jpg)
- en: 'Once the installation is complete, start the Nessus service using the following
    command:'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，使用以下命令启动Nessus服务：
- en: '[PRE26]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Open the link `https://kali:8834` as shown in the following screenshot:![How
    to do it...](img/image_01_065.jpg)
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开链接`https://kali:8834`，如下面的屏幕截图所示：![操作步骤...](img/image_01_065.jpg)
- en: By default, during installation, Nessus is configured for using self-signed
    certificates to encrypt the traffic between your browser and the Nessus server;
    therefore, you are seeing the page shown in the preceding screenshot. If you have
    downloaded the Nessus from a tenable website, you can consider it safe to click
    on **I understand the risk and accept the certificate** to continue and you will
    see the following page:![How to do it...](img/image_01_066.jpg)
  id: totrans-250
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，在安装期间，Nessus配置为使用自签名证书来加密浏览器和Nessus服务器之间的流量；因此，您看到了前面屏幕截图中显示的页面。如果您从可信任的网站下载了Nessus，可以安全地单击**我了解风险并接受证书**继续，然后您将看到以下页面：![操作步骤...](img/image_01_066.jpg)
- en: Click on **Continue**, and you will be shown the initial account setup page,
    as shown in the following screenshot:![How to do it...](img/image_01_067.jpg)
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**继续**，将显示初始帐户设置页面，如下面的屏幕截图所示：![操作步骤...](img/image_01_067.jpg)
- en: Enter the username and password combination you want to create and click on
    **Continue**. On the next page, you will be required to enter the activation code
    as shown in the following screenshot:![How to do it...](img/image_01_068.jpg)
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入要创建的用户名和密码组合，然后单击**继续**。在下一页上，您将需要输入激活代码，如下面的屏幕截图所示：![操作步骤...](img/image_01_068.jpg)
- en: To obtain the activation, go to [http://www.tenable.com/products/nessus-home](http://www.tenable.com/products/nessus-home)
    and fill the form on the right-hand side of the page to receive the activation
    code. You will receive your activation code on your e-mail account. Copy the activation
    and enter it on this screen and continue:![How to do it...](img/image_01_069.jpg)
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取激活码，请转到[http://www.tenable.com/products/nessus-home](http://www.tenable.com/products/nessus-home)，并在页面右侧填写表格以接收激活码。您将在电子邮件帐户中收到激活码。复制激活码并输入到此屏幕上并继续：![操作步骤...](img/image_01_069.jpg)
- en: Now, the Activation has been completed and Nessus will update the plugins and
    the tool will be ready for your use.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，激活已经完成，Nessus将更新插件，工具将准备好供您使用。
- en: 'We now have Nessus in place. So, let''s set up Metasploit. Metasploit is installed
    by default during OS installation. To invoke, you will need to start the following
    services:'
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们已经安装了Nessus。所以，让我们设置Metasploit。Metasploit在操作系统安装期间默认安装。要调用，您需要启动以下服务：
- en: '[PRE27]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Metasploit will be started as shown in the following screenshot:![How to do
    it...](img/image_01_070.jpg)
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Metasploit将如下所示启动：![操作步骤...](img/image_01_070.jpg)
- en: How it works...
  id: totrans-258
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: In this recipe, we have downloaded Nessus home feed and started the service.
    We completed the basic initial account setup and entered the account activation
    key to activate our home feed version of Nessus and finally updated the plugins.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们已经下载了Nessus家庭订阅并启动了服务。我们完成了基本的初始帐户设置，并输入了帐户激活密钥以激活我们的Nessus家庭订阅版本，并最终更新了插件。
- en: Later on, we turned on PostgreSQL and Metasploit services, and finally, using
    `msfconsole` we started an instance of Metasploit.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 后来，我们打开了PostgreSQL和Metasploit服务，最后，使用`msfconsole`我们启动了一个Metasploit实例。
- en: There's more...
  id: totrans-261
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Nessus is a vulnerability scanner and Metasploit is an exploitation framework
    from Rapid7\. However, most network environments require only vulnerability assessment
    and not in-depth exploitation. But, if in some cases it is needed, Metasploit
    is one of the best frameworks available. Similar to Nessus, Rapid7 has also launched
    their own vulnerability scanner called **Nexpose**. Nexpose can be configured
    to be integrated with Metasploit, which allows Metasploit to use NexPose for vulnerability
    scanning and select exploits based on the information gathered by Nexpose and
    thus it provides better experience as compared to using Nessus with Metasploit.
    For more information, visit [http://www.rapid7.in/products/nexpose/](http://www.rapid7.in/products/nexpose/)
    .
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: Nessus是一个漏洞扫描器，Metasploit是来自Rapid7的利用框架。然而，大多数网络环境只需要漏洞评估，而不需要深入的利用。但是，在某些情况下，如果需要，Metasploit是最好的框架之一。与Nessus类似，Rapid7还推出了他们自己的漏洞扫描器**Nexpose**。Nexpose可以配置为与Metasploit集成，这允许Metasploit使用NexPose进行漏洞扫描，并根据Nexpose收集的信息选择利用，因此与使用Nessus与Metasploit相比，它提供了更好的体验。有关更多信息，请访问[http://www.rapid7.in/products/nexpose/](http://www.rapid7.in/products/nexpose/)。
- en: Configuring third-party tools
  id: totrans-263
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置第三方工具
- en: In this recipe, we will install some basic third-party tools, which were there
    as part of Backtrack 5 or can be a good addition to the pen testing toolbox.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们将安装一些基本的第三方工具，这些工具作为Backtrack 5的一部分，或者可以作为渗透测试工具箱的良好补充。
- en: Getting ready
  id: totrans-265
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, you will need a connection to the Internet.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，您需要连接到互联网。
- en: How to do it...
  id: totrans-267
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps for this recipe:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 执行此食谱的以下步骤：
- en: Lazy Kali is a Bash script that is created to automate the Kali updates and
    install all other third-party tools that you might require to make Kali as your
    default operating system. You can read more about this script at [https://code.google.com/p/lazykali/](https://code.google.com/p/lazykali/)
    .
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Lazy Kali是一个Bash脚本，旨在自动化Kali更新并安装所有其他您可能需要使Kali成为默认操作系统的第三方工具。您可以在[https://code.google.com/p/lazykali/](https://code.google.com/p/lazykali/)了解更多关于此脚本的信息。
- en: 'To download and install this script, issue the following command on the terminal
    window:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 要下载并安装此脚本，请在终端窗口上发出以下命令：
- en: '[PRE28]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: When you run the `lazykali.sh` script, it shows you if the script is already
    installed, and if not, you can install it as shown in the following screenshot:![How
    to do it...](img/image_01_071.jpg)
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你运行`lazykali.sh`脚本时，它会显示脚本是否已经安装，如果没有，你可以按照下面的截图进行安装：![操作步骤...](img/image_01_071.jpg)
- en: After self-updating the script, continue and you will see the following screen:![How
    to do it...](img/image_01_072.jpg)
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自更新脚本后，继续，您将看到以下屏幕：![操作步骤...](img/image_01_072.jpg)
- en: 'Next, enter `6` to install extra tools:'
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，输入`6`来安装额外的工具：
- en: Then, choose `Select All`. It will then install all the tools that will be required
    in the further recipes.
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，选择“选择全部”。然后它将安装所有在后续食谱中所需的工具。
- en: How it works...
  id: totrans-276
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: In this recipe, we have downloaded the `lazykali.sh` script, which we have used
    to download further third-party tools, which we will be using in our further recipes.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们已经下载了`lazykali.sh`脚本，我们将用它来下载进一步的第三方工具，这些工具将在我们的后续食谱中使用。
- en: Installing Docker on Kali Linux
  id: totrans-278
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Kali Linux上安装Docker
- en: In this recipe, we will be to installing and setting-up Docker on Kali Linux.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们将在Kali Linux上安装和设置Docker。
- en: Getting ready
  id: totrans-280
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To step through this recipe, you will need a running Kali Linux in Oracle Virtualbox
    or VMware, and an Internet connection. No other prerequisites are required.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此食谱的步骤，您需要在Oracle Virtualbox或VMware中运行Kali Linux，并连接到互联网。不需要其他先决条件。
- en: How to do it...
  id: totrans-282
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'For this recipe, you need to perform the following steps:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，您需要执行以下步骤：
- en: At the time of writing this book, Kali Linux 2.0 Rolling is based on Debian
    Wheezy and therefore these steps will only work for Debian Wheezy based Kali Linux.
    In future, if Kali is updated, then kindly check the latest steps to install Docker
    from the Docker documentation.
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在撰写本书时，Kali Linux 2.0 Rolling基于Debian Wheezy，因此这些步骤只适用于基于Debian Wheezy的Kali
    Linux。将来，如果Kali有更新，那么请检查Docker文档中的最新安装步骤。
- en: In your terminal window open `/etc/apt/sources.list.d/backports.list` in your
    favorite editor. If the file doesn't exist, create it.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端窗口中打开`/etc/apt/sources.list.d/backports.list`文件，并在您喜欢的编辑器中打开。如果文件不存在，请创建它。
- en: 'Remove any existing entries and add an entry for backports on Debian wheezy:'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除任何现有条目，并在Debian wheezy上添加一个backports条目：
- en: '[PRE29]'
  id: totrans-287
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Update the package information and ensure that APT works with the HTTPS method,
    and that CA certificates are installed:'
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新软件包信息，并确保APT使用HTTPS方法工作，并安装CA证书：
- en: '[PRE30]'
  id: totrans-289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Add the GPG key:'
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加GPG密钥：
- en: '[PRE31]'
  id: totrans-291
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Open `/etc/apt/sources.list.d/docker.list` in your favorite editor. If the file
    doesn't exist, create it.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您喜欢的编辑器中打开`/etc/apt/sources.list.d/docker.list`。如果文件不存在，请创建它。
- en: 'Remove any existing entries and add an entry for backports on Debian wheezy:'
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除任何现有条目，并在Debian wheezy上添加后备条目：
- en: '[PRE32]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Update the package information and verify that APT is pulling from the right
    repository:'
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新软件包信息并验证APT是否从正确的存储库中拉取：
- en: '[PRE33]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Install Docker:'
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装Docker：
- en: '[PRE34]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Start the Docker daemon:'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动Docker守护程序：
- en: '[PRE35]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Verify that Docker is installed properly:'
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证Docker是否安装正确：
- en: '[PRE36]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Since, you're already logged in as `root` in your Kali Linux installation, you
    don't need to use `sudo`. But it is important to note that the `docker` daemon
    always runs as the `root` user and the `docker` daemon binds to a Unix socket
    instead of a TCP port. By default, that Unix socket is owned by the user `root`,
    and so, you will need to use the preceding commands with `sudo`, if you are not
    logged in as root.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 由于您已经以`root`用户登录到Kali Linux安装中，因此无需使用`sudo`。但重要的是要注意，`docker`守护程序始终以`root`用户身份运行，并且`docker`守护程序绑定到Unix套接字而不是TCP端口。默认情况下，该Unix套接字归`root`用户所有，因此，如果您未以root用户身份登录，则需要使用前面的命令与`sudo`一起使用。
- en: How it works...
  id: totrans-304
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: In this recipe, we have added the `docker` source list so that we can fetch
    the Docker updates every time we use the `apt-get update` command on our system.
    Then, update the `apt-get` sources and install the prerequisites required for
    installing Docker. We added the `GPG` key to ensure that whatever updates we are
    installing are valid official unchanged packages. After all this basic configuration,
    we ran a basic `apt-cache` to ensure APT is fetching the docker-engine from the
    right repository. Finally, we installed `docker-engine` using `apt-get`.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个教程中，我们添加了`docker`源列表，这样每次在系统上使用`apt-get update`命令时，我们就可以获取Docker的更新。然后，更新`apt-get`源并安装安装Docker所需的先决条件。我们添加了`GPG`密钥，以确保我们安装的任何更新都是有效的官方未更改的软件包。在完成所有这些基本配置之后，我们运行了基本的`apt-cache`来确保APT正在从正确的存储库中获取docker-engine。最后，我们使用`apt-get`安装了`docker-engine`。
