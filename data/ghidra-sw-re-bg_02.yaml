- en: '*Chapter 1*: Getting Started with Ghidra'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第一章*：开始使用 Ghidra'
- en: In this introductory chapter, we will provide an overview of Ghidra in some
    respects. Before starting, it would be convenient to know how to acquire and install
    the program. This is obviously something simple and trivial if you want to install
    a release version of the program. But I guess you probably want to know this program
    in depth. In which case, I can tell you in advance that it is possible to compile
    the program by yourself from the source code.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章节中，我们将从某些方面概述 Ghidra。开始之前，了解如何获取和安装程序会非常方便。如果你只是想安装程序的发布版本，这显然是一件简单且琐碎的事情。但我猜你可能想更深入地了解这个程序。在这种情况下，我可以提前告诉你，你可以通过源代码自行编译该程序。
- en: Since the source code of Ghidra is available and ready to be modified and extended,
    you will probably also be interested in knowing how it is structured, what kind
    of pieces of code exist, and so on. This is a great opportunity to discover the
    enormous possibilities that Ghidra offers us.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Ghidra 的源代码是公开的，并且可以修改和扩展，你可能也会对它的结构、包含的代码片段类型等感兴趣。这是一个发现 Ghidra 提供给我们的巨大可能性的绝佳机会。
- en: It is also interesting to review the main functionalities of Ghidra from the
    point of view of a reverse engineer. This will arouse your interest in this tool
    since it has its own peculiarities, and this is precisely the most interesting
    thing about Ghidra.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 从逆向工程师的角度回顾 Ghidra 的主要功能也是很有趣的。这将激发你对这个工具的兴趣，因为它有自己的独特性，而这正是 Ghidra 最有趣的地方。
- en: 'In this chapter, we''re going to cover the following main topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要主题：
- en: WikiLeaks Vault 7
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WikiLeaks Vault 7
- en: Ghidra versus IDA and many other competitors
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ghidra 与 IDA 以及其他许多竞争者的比较
- en: Ghidra overview
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ghidra 概述
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The GitHub repository containing all the necessary code for this chapter can
    be found at the following link:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 包含本章所需所有代码的 GitHub 仓库可以通过以下链接找到：
- en: '[https://github.com/PacktPublishing/Ghidra-Software-Reverse-Engineering-for-Beginners](https://github.com/PacktPublishing/Ghidra-Software-Reverse-Engineering-for-Beginners)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PacktPublishing/Ghidra-Software-Reverse-Engineering-for-Beginners](https://github.com/PacktPublishing/Ghidra-Software-Reverse-Engineering-for-Beginners)'
- en: 'Check out the following link to see the Code in Action video: [https://bit.ly/3qD1Atm](https://bit.ly/3qD1Atm)'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下链接，观看《代码实战》视频：[https://bit.ly/3qD1Atm](https://bit.ly/3qD1Atm)
- en: WikiLeaks Vault 7
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: WikiLeaks Vault 7
- en: On March 7, 2017, WikiLeaks started to leak **Vault 7**, which became the biggest
    leak of confidential documents on the US **Central Intelligence Agency** (**CIA**).
    This leak included secret cyber-weapons and spying techniques divided into 24
    parts, named Year Zero, Dark Matter, Marble, Grasshopper, HIVE, Weeping Angel,
    Scribbles, Archimedes, AfterMidnight and Assassin, Athena, Pandemic, Cherry Blossom,
    Brutal Kangaroo, Elsa, OutlawCountry, BothanSpy, Highrise, UCL/Raytheon, Imperial,
    Dumbo, CouchPotato, ExpressLane, Angelfire, and Protego.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 2017 年 3 月 7 日，WikiLeaks 开始泄露 **Vault 7**，成为美国 **中央情报局**（**CIA**）最大的一次机密文档泄漏。这次泄露包含了24部分的秘密网络武器和间谍技术，分别命名为
    Year Zero、Dark Matter、Marble、Grasshopper、HIVE、Weeping Angel、Scribbles、Archimedes、AfterMidnight、Assassin、Athena、Pandemic、Cherry
    Blossom、Brutal Kangaroo、Elsa、OutlawCountry、BothanSpy、Highrise、UCL/Raytheon、Imperial、Dumbo、CouchPotato、ExpressLane、Angelfire
    和 Protego。
- en: While Michael Vincent Hayden, the director of the CIA between 2006 and 2009
    and director of the NSA between 1999 and 2005, as the spokesperson, did not confirm
    or deny the authenticity of this enormous leak, some NSA intelligence officials
    anonymously did leak the material.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 2006 至 2009 年期间担任 CIA 署长、1999 至 2005 年担任 NSA 署长的迈克尔·文森特·海登（Michael Vincent
    Hayden）作为发言人没有确认或否认这一巨大泄密的真实性，但一些 NSA 的情报官员曾匿名泄露了这些材料。
- en: 'The existence of Ghidra was leaked in the first part of Vault 7: Year Zero.
    This first part consists of a huge leak of documents and files stolen from the
    CIA''s Center for Cyber Intelligence in Langley, Virginia. The leak''s content
    is about the CIA''s malware arsenal, zero-day weaponized exploits, and how Apple''s
    iPhone, Google''s Android, devices Microsoft''s Windows devices, and even Samsung
    TVs are turned into covert microphones.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Ghidra 的存在是在 Vault 7：Year Zero 的第一部分泄露出来的。这部分内容包括了从美国中央情报局（CIA）位于弗吉尼亚州兰利的网络情报中心窃取的大量文件和文档。泄露的内容涉及
    CIA 的恶意软件库、零日漏洞武器化利用，以及苹果 iPhone、谷歌 Android 设备、微软 Windows 设备，甚至三星电视如何被变成隐蔽的麦克风。
- en: Ghidra was referenced three times in this leak ([https://wikileaks.org/ciav7p1/cms/index.html](https://wikileaks.org/ciav7p1/cms/index.html)),
    showing things such as how to install it, a step-by-step tutorial (with screenshots)
    of how to perform a manual analysis of a 64-bit kernel cache by using Ghidra,
    and the latest Ghidra version available at the time, which was Ghidra 7.0.2.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Ghidra 在此次泄露中被提及三次 ([https://wikileaks.org/ciav7p1/cms/index.html](https://wikileaks.org/ciav7p1/cms/index.html))，展示了如何安装
    Ghidra、如何使用 Ghidra 进行 64 位内核缓存的手动分析的逐步教程（附截图），以及当时可用的最新版本 Ghidra 7.0.2。
- en: NSA release
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: NSA 发布
- en: As announced during RSA Conference 2019 in San Francisco, Rob Joyce, senior
    advisor for cybersecurity at NSA, explained the unique capabilities and features
    of Ghidra during a session called *Get your free NSA reverse engineering tool*,
    and Ghidra program binaries were also published.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 正如在 2019 年 RSA 大会期间宣布的，NSA 网络安全高级顾问 Rob Joyce 解释了 Ghidra 独特的能力和功能，在名为 *Get your
    free NSA reverse engineering tool* 的会议中，他还发布了 Ghidra 的程序二进制文件。
- en: 'During this session, some features were explained:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在这次会议中，解释了以下一些功能：
- en: Team collaboration on a single project feature
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 团队协作单一项目功能
- en: The capabilities to extend and scale Ghidra
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扩展和扩展 Ghidra 的能力
- en: The generic processor model, also known as `SLEIGH`
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通用处理器模型，也称为`SLEIGH`
- en: 'The two working modes: interactive and non-GUI'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两种工作模式：交互式和非图形用户界面模式
- en: The powerful analysis features of Ghidra
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ghidra 强大的分析功能
- en: 'Finally, on April 4, 2019, the NSA released the source code of Ghidra on GitHub
    ([https://github.com/NationalSecurityAgency/ghidra](https://github.com/NationalSecurityAgency/ghidra)),
    as well as on the Ghidra website, where you can download Ghidra release versions
    that are ready to use: [https://ghidra-sre.org](https://ghidra-sre.org). The first
    version of Ghidra that was available on this website was Ghidra 9.0\. Ghidra''s
    website is probably not available to visitors outside the US; if this is the case,
    you can access it by using a VPN or an online proxy such as HideMyAss ([https://www.hidemyass.com/](https://www.hidemyass.com/)).'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，在 2019 年 4 月 4 日，NSA 在 GitHub 上发布了 Ghidra 的源代码 ([https://github.com/NationalSecurityAgency/ghidra](https://github.com/NationalSecurityAgency/ghidra))，并在
    Ghidra 网站上发布了 Ghidra 的发布版本，你可以在这里下载可以使用的 Ghidra 版本：[https://ghidra-sre.org](https://ghidra-sre.org)。该网站上可用的第一个
    Ghidra 版本是 Ghidra 9.0。Ghidra 网站可能对美国以外的访问者不可用；如果是这种情况，你可以使用 VPN 或像 HideMyAss 这样的在线代理来访问
    ([https://www.hidemyass.com/](https://www.hidemyass.com/))。
- en: 'Unfortunately for the NSA, a few hours later, the first Ghidra vulnerability
    was published by Matthew Hickey, also known as `@hackerfantastic`, at 1:20 AM,
    March 6, 2019\. He said the following via Twitter:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，几小时后，`@hackerfantastic`（马修·希基）于 2019 年 3 月 6 日凌晨 1:20 发布了第一个 Ghidra 漏洞。他在
    Twitter 上说了以下内容：
- en: Ghidra opens up JDWP in debug mode listening on port 18001, you can use it to
    execute code remotely (Man facepalming). to fix change line 150 of support/launch.sh
    from * to 127.0.0.1 [https://github.com/hackerhouse-opensource/exploits/blob/master/jdwp-exploit.txt](https://github.com/hackerhouse-opensource/exploits/blob/master/jdwp-exploit.txt).
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: Ghidra 在调试模式下打开 JDWP，并监听端口 18001，你可以用它远程执行代码（人脸掌击）。要修复这个问题，需要将 support/launch.sh
    文件的第 150 行从 * 改为 127.0.0.1 [https://github.com/hackerhouse-opensource/exploits/blob/master/jdwp-exploit.txt](https://github.com/hackerhouse-opensource/exploits/blob/master/jdwp-exploit.txt)。
- en: Then, a lot of suspicions about the NSA and Ghidra arose. However, taking into
    account the cyber-espionage capabilities of the NSA, do you think the NSA needs
    to include a backdoor in its own software in order to hack its users?
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，关于 NSA 和 Ghidra 的许多疑问浮现出来。然而，考虑到 NSA 的网络间谍能力，你认为 NSA 需要在其软件中包括后门来黑客攻击自己的用户吗？
- en: Obviously, no. They don't need to do this because they already have cyber-weapons
    for that.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，不需要。他们不需要这样做，因为他们已经有了网络武器。
- en: You can feel comfortable when using Ghidra; probably, the NSA only wanted to
    do something honorable to improve its own image and, since Ghidra's existence
    was leaked by WikiLeaks, what better way to do that than to publish it at RSA
    Conference and release it as open source?
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Ghidra 时你会感到很舒适；可能，NSA 只是想做一些有荣誉感的事情来改善自己的形象，而且既然 Ghidra 的存在已经被 WikiLeaks
    泄露，那有什么比在 RSA 大会发布它并将其作为开源发布更好的方式呢？
- en: Ghidra versus IDA and many other competitors
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Ghidra 与 IDA 及其他许多竞争者的对比
- en: Even if you have already mastered a powerful reverse engineering framework,
    such as IDA, Binary Ninja, or Radare2, there are good reasons to start learning
    Ghidra.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你已经掌握了强大的逆向工程框架，如 IDA、Binary Ninja 或 Radare2，仍然有充分的理由开始学习 Ghidra。
- en: No single reverse engineering framework is the ultimate one. Each reverse engineering
    framework has its own strengths and weaknesses. Some of them are even incomparable
    to each other because they were conceived with different philosophies (for instance,
    GUI-based frameworks versus command line-based frameworks).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 没有单一的逆向工程框架是终极的。每个逆向工程框架都有其优点和缺点。有些框架甚至无法相互比较，因为它们是以不同的理念设计的（例如，基于 GUI 的框架与基于命令行的框架）。
- en: On the other hand, you will see how those products are competing with and learning
    from each other all the time. For instance, IDA Pro 7.3 incorporated the `undo`
    feature, which was previously made available by its competitor, Ghidra.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，你会看到这些产品一直在相互竞争并互相学习。例如，IDA Pro 7.3 引入了 `undo` 功能，而该功能之前是由其竞争对手 Ghidra
    提供的。
- en: 'In the following screenshot, you can see the epic and full-of-humor `@GHIDRA_RE`
    official Twitter account''s response to IDA Pro''s `undo` feature:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下截图中，你可以看到官方 Twitter 账号 `@GHIDRA_RE` 对 IDA Pro 的 `undo` 功能的幽默回应：
- en: '![Figure 1.1 – IDA Pro 7.3 added an undo feature to compete with Ghidra'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.1 – IDA Pro 7.3 添加了撤销功能，以与 Ghidra 竞争'
- en: '](img/B16207_01_01.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_01.jpg)'
- en: Figure 1.1 – IDA Pro 7.3 added an undo feature to compete with Ghidra
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – IDA Pro 7.3 添加了撤销功能，以与 Ghidra 竞争
- en: 'Differences between frameworks are susceptible to change due to the competition,
    but we can mention some current strengths of Ghidra:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 框架之间的差异会因竞争而有所变化，但我们可以提到 Ghidra 当前的一些优点：
- en: It is open source and free (including its decompiler).
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它是开源且免费的（包括其反编译器）。
- en: It supports a lot of architectures (which maybe the framework you are using
    does not support yet).
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它支持许多架构（这可能是你正在使用的框架尚未支持的）。
- en: It can load multiple binaries at the same time in a project. This feature allows
    you to easily apply operations over many related binaries (for example, an executable
    binary and its libraries).
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以在一个项目中同时加载多个二进制文件。这个功能使你可以轻松地在多个相关二进制文件（例如，一个可执行二进制文件及其库）上执行操作。
- en: It allows collaborative reverse engineering by design.
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它通过设计支持协作式逆向工程。
- en: It supports big firmware images (1 GB+) without problems.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它支持大容量固件镜像（1 GB+）且没有问题。
- en: It has awesome documentation that includes examples and courses.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它有很棒的文档，其中包括示例和课程。
- en: It allows version tracking of binaries, allowing you to match functions and
    data and their markup between different versions of the binary.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它允许对二进制文件进行版本跟踪，帮助你在不同版本的二进制文件之间匹配函数、数据及其标记。
- en: In conclusion, it is recommended to learn as many frameworks as possible to
    know and take advantage of each one. In this sense, Ghidra is a powerful framework
    that you must know.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，建议尽可能学习多种框架，以便了解并利用每个框架的优势。从这个意义上说，Ghidra 是一个你必须了解的强大框架。
- en: Ghidra overview
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Ghidra 概述
- en: In a similar way as happened at RSA Conference, we will provide a Ghidra overview
    in order to present the tool and its capabilities. You will soon realize how powerful
    Ghidra is and why this tool is not simply another open source reverse engineering
    framework.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于 RSA 大会的做法，我们将在此提供 Ghidra 概述，以展示该工具及其功能。你很快就会意识到 Ghidra 的强大，以及为什么这个工具不仅仅是另一个开源的逆向工程框架。
- en: At the time of writing this book, the latest available version of Ghidra is
    9.1.2, which can be downloaded from the official website mentioned in the previous
    section of this chapter.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本书时，Ghidra 的最新可用版本是 9.1.2，可以从本章前面部分提到的官方网站下载。
- en: Installing Ghidra
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装 Ghidra
- en: 'It is recommended to download the latest version of Ghidra ([https://ghidra-sre.org/](https://ghidra-sre.org/))
    by clicking on the red **Download Ghidra v9.1.2** button, but if you want to download
    older versions, then you need to click on **Releases**:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 建议通过点击红色的 **Download Ghidra v9.1.2** 按钮下载 Ghidra 的最新版本（[https://ghidra-sre.org/](https://ghidra-sre.org/)），但如果你想下载旧版本，需要点击
    **Releases**：
- en: '![Figure 1.2 – Downloading Ghidra from the official website'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.2 – 从官方网站下载 Ghidra'
- en: '](img/B16207_01_02.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_02.jpg)'
- en: Figure 1.2 – Downloading Ghidra from the official website
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – 从官方网站下载 Ghidra
- en: 'After downloading the Ghidra archive file (`ghidra_9.1.2_PUBLIC_20200212.zip`)
    and decompressing it, you will see the following file structure:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 下载 Ghidra 压缩文件（`ghidra_9.1.2_PUBLIC_20200212.zip`）并解压后，你将看到以下文件结构：
- en: '![Figure 1.3 – The Ghidra 9.1.2 structure after it is decompressed'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.3 – 解压后的 Ghidra 9.1.2 结构'
- en: '](img/B16207_01_03.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_03.jpg)'
- en: Figure 1.3 – The Ghidra 9.1.2 structure after it is decompressed
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.3 – 解压后的 Ghidra 9.1.2 结构
- en: 'The content can be described as follows (source: [https://ghidra-sre.org/InstallationGuide.html](https://ghidra-sre.org/InstallationGuide.html)):'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 内容可以描述如下（来源：[https://ghidra-sre.org/InstallationGuide.html](https://ghidra-sre.org/InstallationGuide.html)）：
- en: '`docs`: Ghidra documentation and some extremely useful resources, such as learning
    Ghidra courses for all levels, cheatsheets, and a step-by-step installation guide'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`docs`：Ghidra 文档和一些非常有用的资源，如适用于各级别的 Ghidra 学习课程、备忘单以及逐步安装指南'
- en: '`Extensions`: Optional Ghidra extensions allowing you to improve its functionality
    and integrate it with other tools'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Extensions`：可选的 Ghidra 扩展，允许您增强其功能并与其他工具集成'
- en: '`Ghidra`: The Ghidra program itself'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ghidra`：Ghidra 程序本身'
- en: '`GPL`: Standalone GPL support programs'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GPL`：独立的 GPL 支持程序'
- en: '`licenses`: Contains licenses used by Ghidra'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`licenses`：包含 Ghidra 使用的许可证'
- en: '`server`: Contains files related to Ghidra Server installation and administration'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`server`：包含与 Ghidra 服务器安装和管理相关的文件'
- en: '`support`: Allows you to run Ghidra in advanced modes and control how it launches,
    including launching it to be debugged'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`support`：允许您在高级模式下运行 Ghidra，并控制它的启动方式，包括将其启动以进行调试'
- en: '`ghidraRun`: The script used to launch Ghidra on Linux and iOS'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ghidraRun`：用于在 Linux 和 iOS 上启动 Ghidra 的脚本'
- en: '`ghidraRun.bat`: Batch script allowing you to launch Ghidra on Windows'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ghidraRun.bat`：用于在 Windows 上启动 Ghidra 的批处理脚本'
- en: '`LICENSE`: Ghidra license file'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LICENSE`：Ghidra 许可证文件'
- en: In addition to downloading a release version of Ghidra (which is precompiled),
    you can compile the program on your own, as will be explained in the next section.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 除了下载预编译的 Ghidra 发行版本外，您还可以根据下一节所述自行编译该程序。
- en: Compiling Ghidra on your own
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 自行编译 Ghidra
- en: 'If you want to compile Ghidra on your own, then you can download the source
    code from the following URL: [https://github.com/NationalSecurityAgency/ghidra](https://github.com/NationalSecurityAgency/ghidra).'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望自行编译 Ghidra，可以从以下 URL 下载源代码：[https://github.com/NationalSecurityAgency/ghidra](https://github.com/NationalSecurityAgency/ghidra)。
- en: 'You can then build it using Gradle by running the following command:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以使用 Gradle 运行以下命令来构建它：
- en: '[PRE0]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[PRE3]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'This will produce a compressed file containing the compiled version of Ghidra:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这将生成一个压缩文件，其中包含 Ghidra 的编译版本：
- en: '[PRE9]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Before starting Ghidra, make sure your computer meets the following requirements:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在启动 Ghidra 之前，请确保您的计算机符合以下要求：
- en: 4 GB RAM
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4 GB 内存
- en: 1 GB storage (for installing Ghidra binaries)
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 GB 存储空间（用于安装 Ghidra 二进制文件）
- en: Dual monitors strongly recommended
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 强烈建议使用双显示器
- en: 'Since Ghidra is written in Java, if it is executed before installing the Java
    11 64-bit runtime and development kit, some of the following error messages could
    be displayed:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Ghidra 是用 Java 编写的，如果在安装 Java 11 64 位运行时和开发工具包之前执行 Ghidra，可能会显示以下错误消息：
- en: 'When Java is not installed, you will see the following:'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当未安装 Java 时，您将看到以下内容：
- en: '[PRE10]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'When the **Java Development Kit** (**JDK**) is missing, you will see the following:'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当缺少 **Java 开发工具包**（**JDK**）时，您将看到以下内容：
- en: '![Figure 1.4 – Missing JDK error'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.4 – 缺少 JDK 错误'
- en: '](img/B16207_01_04.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_04.jpg)'
- en: Figure 1.4 – Missing JDK error
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – 缺少 JDK 错误
- en: 'Therefore, if you get any of those messages, please download the JDK from one
    of the following sources:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果收到以下消息中的任何一条，请从以下来源之一下载 JDK：
- en: '[https://adoptopenjdk.net/releases.html?variant=openjdk11&jvmVariant=hotspot](https://adoptopenjdk.net/releases.html?variant=openjdk11&jvmVariant=hotspot)'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://adoptopenjdk.net/releases.html?variant=openjdk11&jvmVariant=hotspot](https://adoptopenjdk.net/releases.html?variant=openjdk11&jvmVariant=hotspot)'
- en: '[https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html](https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html)'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html](https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html)'
- en: How to solve installation issues
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如何解决安装问题
- en: Ghidra's step-by-step installation guide, including known issues, can be found
    in Ghidra's documentation directory at `docs\InstallationGuide.html`.
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Ghidra 的逐步安装指南，包括已知问题，可以在 Ghidra 文档目录中的 `docs\InstallationGuide.html` 找到。
- en: 'It is also available online at the following link: [https://ghidra-sre.org/InstallationGuide.html](https://ghidra-sre.org/InstallationGuide.html).'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 也可以通过以下链接在线访问：[https://ghidra-sre.org/InstallationGuide.html](https://ghidra-sre.org/InstallationGuide.html)。
- en: 'Note that you can report new issues you find in Ghidra through the following
    link: [https://github.com/NationalSecurityAgency/ghidra/issues](https://github.com/NationalSecurityAgency/ghidra/issues).'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请注意，你可以通过以下链接报告在 Ghidra 中发现的新问题：[https://github.com/NationalSecurityAgency/ghidra/issues](https://github.com/NationalSecurityAgency/ghidra/issues)。
- en: After installing Ghidra, you will be able to launch it using `ghidraRun` on
    Linux and iOS and `ghidraRun.bat` on Windows.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 Ghidra 后，你可以通过在 Linux 和 iOS 上使用 `ghidraRun` 或在 Windows 上使用 `ghidraRun.bat`
    启动它。
- en: Overview of Ghidra's features
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Ghidra 功能概述
- en: In this section, we will look at an overview of some fundamental Ghidra features
    in order to understand the overall functionality of the program. It is also a
    good starting point to get familiar with it.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将概述一些 Ghidra 的基本功能，以便理解程序的整体功能。这也是一个很好的入门点，帮助你熟悉 Ghidra。
- en: Creating a new Ghidra project
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建一个新的 Ghidra 项目
- en: 'As you will notice, differently than other reverse engineering tools, Ghidra
    doesn''t work with files directly. Instead, Ghidra works with projects. Let''s
    create a new project by clicking on **File** | **New Project…**. You can also
    do this faster by pressing the *Ctrl* + *N* hotkey (the complete list of Ghidra
    hotkeys is available at [https://ghidra-sre.org/CheatSheet.html](https://ghidra-sre.org/CheatSheet.html)
    and also in Ghidra''s documentation directory):'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所注意到的，与其他逆向工程工具不同，Ghidra 不直接操作文件。而是，Ghidra 操作项目。让我们通过点击 **文件** | **新建项目…**
    来创建一个新项目。你也可以通过按 *Ctrl* + *N* 快捷键更快地完成此操作（完整的 Ghidra 快捷键列表可在 [https://ghidra-sre.org/CheatSheet.html](https://ghidra-sre.org/CheatSheet.html)
    上找到，也可以在 Ghidra 的文档目录中找到）：
- en: '![Figure 1.5 – Creating a new Ghidra project'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.5 – 创建一个新的 Ghidra 项目'
- en: '](img/B16207_01_05.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_05.jpg)'
- en: Figure 1.5 – Creating a new Ghidra project
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5 – 创建一个新的 Ghidra 项目
- en: 'Furthermore, projects can be non-shared or shared projects. Since we want to
    analyze a `hello world` program without collaboration with other reverse engineers,
    we will choose `hello world`) and where to store it:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，项目可以是非共享的或共享的项目。由于我们想分析一个不与其他逆向工程师合作的 `hello world` 程序，我们将选择 `hello world`)
    并选择存储位置：
- en: '![Figure 1.6 – Choosing a project name and directory'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.6 – 选择项目名称和目录'
- en: '](img/B16207_01_06.jpg)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_06.jpg)'
- en: Figure 1.6 – Choosing a project name and directory
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6 – 选择项目名称和目录
- en: 'The project is composed of a `hello world.gpr` file and a `hello world.rep`
    folder:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 该项目由 `hello world.gpr` 文件和 `hello world.rep` 文件夹组成：
- en: '![Figure 1.7 – Ghidra project structure'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.7 – Ghidra 项目结构'
- en: '](img/B16207_01_07.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_07.jpg)'
- en: Figure 1.7 – Ghidra project structure
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.7 – Ghidra 项目结构
- en: 'A Ghidra project (the `*.gpr` file) can only be opened by a single user. Therefore,
    if you try to open the same project twice at the same time, the concurrency lock
    implemented using the `hello world.lock` and `hello world.lock~` files will prevent
    you from doing so, as shown in the following screenshot:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: Ghidra 项目（`*.gpr` 文件）只能由单个用户打开。因此，如果你尝试同时打开同一个项目两次，使用 `hello world.lock` 和 `hello
    world.lock~` 文件实现的并发锁将阻止你这样做，如下截图所示：
- en: '![Figure 1.8 – Ghidra''s project locked'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.8 – Ghidra 项目已锁定'
- en: '](img/B16207_01_08.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_08.jpg)'
- en: Figure 1.8 – Ghidra's project locked
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.8 – Ghidra 项目已锁定
- en: In the next section, we will cover how to add binary files to our project.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将介绍如何向项目中添加二进制文件。
- en: Importing files to a Ghidra project
  id: totrans-125
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 导入文件到 Ghidra 项目
- en: 'We can start to add files to our `hello world` project. In order to analyze
    an extremely simple application with Ghidra, we will compile the following `hello
    world` program (`hello_world.c`) written in the C programming language:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以开始向我们的 `hello world` 项目中添加文件。为了使用 Ghidra 分析一个极其简单的应用程序，我们将编译以下 C 语言编写的 `hello
    world` 程序（`hello_world.c`）：
- en: '[PRE11]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[PRE12]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[PRE14]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'We use the following command to compile it:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用以下命令来编译它：
- en: '[PRE15]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '[PRE16]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Let''s analyze the resulting Microsoft Windows Portable Executable file: `hello_world.exe`.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们分析生成的 Microsoft Windows 可移植可执行文件：`hello_world.exe`。
- en: 'Let''s import our `hello world.exe` file to the project; to do that, we have
    to go to **File** | **Import file**. Alternatively, we can press the *I* key:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们将我们的 `hello world.exe` 文件导入项目中；为此，我们需要进入 **文件** | **导入文件**。或者，我们可以按 *I* 键：
- en: '![Figure 1.9 – Importing a file to the Ghidra project'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.9 – 导入文件到 Ghidra 项目'
- en: '](img/B16207_01_09.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_09.jpg)'
- en: Figure 1.9 – Importing a file to the Ghidra project
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.9 – 导入文件到 Ghidra 项目
- en: 'Ghidra automatically identified the `hello_world.exe` program as an x86 Portable
    Executable binary for 32-bit architectures. As it was successfully recognized,
    we can click **OK** to continue. After importing it, you will see a summary of
    the file:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: Ghidra自动识别了`hello_world.exe`程序为32位架构的x86可移植执行二进制文件。由于成功识别，我们可以点击**OK**继续。导入后，你将看到文件的总结：
- en: '![Figure 1.10 – Ghidra project file import result summary'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.10 – Ghidra项目文件导入结果总结'
- en: '](img/B16207_01_10.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_10.jpg)'
- en: Figure 1.10 – Ghidra project file import result summary
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.10 – Ghidra项目文件导入结果总结
- en: 'By double-clicking the `hello_world.exe` file or clicking on the green Ghidra
    icon of **Tool Chest**, the file will be opened and loaded by Ghidra:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 通过双击`hello_world.exe`文件或点击**Tool Chest**的绿色Ghidra图标，文件将被Ghidra打开并加载：
- en: '![Figure 1.11 – A Ghidra project containing a Portable Executable file'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.11 – 一个包含可移植执行文件的Ghidra项目'
- en: '](img/B16207_01_11.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_11.jpg)'
- en: Figure 1.11 – A Ghidra project containing a Portable Executable file
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.11 – 一个包含可移植执行文件的Ghidra项目
- en: After importing files into your project, you can start to reverse engineer them.
    This is a cool feature of Ghidra, allowing you to import more than one file into
    a single project, because you can apply some operation (for example, search) over
    multiple files (for example, an executable binary and its dependencies). In the
    next section, we will see how to analyze those files using Ghidra.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 将文件导入项目后，你可以开始逆向工程它们。这是Ghidra的一个酷功能，允许你将多个文件导入到一个项目中，因为你可以对多个文件（例如可执行二进制文件及其依赖项）执行一些操作（例如搜索）。在接下来的部分中，我们将看到如何使用Ghidra分析这些文件。
- en: Performing and configuring Ghidra analysis
  id: totrans-148
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 执行和配置Ghidra分析
- en: 'You will be asked whether to analyze the file, and you probably want to answer
    **Yes** to this because the analysis operation recognizes functions, parameters,
    strings, and more. Usually, you will want to let Ghidra get this information for
    you. A lot of analysis configuration options do exist. You can see a description
    of every option by clicking on it; the description is displayed in the upper-right
    **Description** section:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 系统会询问你是否分析该文件，你可能会想回答**是**，因为分析操作会识别函数、参数、字符串等。通常，你会希望让Ghidra为你获取这些信息。确实有很多分析配置选项。你可以通过点击每个选项查看它的描述；描述会显示在右上角的**Description**部分：
- en: '![Figure 1.12 – File analysis options'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.12 – 文件分析选项'
- en: '](img/B16207_01_12.jpg)'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_12.jpg)'
- en: Figure 1.12 – File analysis options
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.12 – 文件分析选项
- en: Let's click on **Analyze** to perform the analysis of the file. Then, you will
    see the Ghidra **CodeBrowser** window. Don't worry if you forget to analyze something;
    you can reanalyze the program later (go to the **Analysis** tab and then **Auto
    Analyze 'hello_world.exe'…**).
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们点击**Analyze**来执行文件分析。然后，你将看到Ghidra的**CodeBrowser**窗口。如果你忘记分析某个内容，不要担心；你可以稍后重新分析程序（进入**Analysis**标签，然后选择**Auto
    Analyze 'hello_world.exe'…**）。
- en: Exploring Ghidra CodeBrowser
  id: totrans-154
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 探索Ghidra CodeBrowser
- en: 'Ghidra CodeBrowser has, by default, a pretty well-chosen distribution of dock
    windows, as shown in the following screenshot:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Ghidra CodeBrowser具有一个非常合理的停靠窗口分布，如下截图所示：
- en: '![Figure 1.13 – Ghidra''s CodeBrowser window'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.13 – Ghidra的CodeBrowser窗口'
- en: '](img/B16207_01_13.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_13.jpg)'
- en: Figure 1.13 – Ghidra's CodeBrowser window
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.13 – Ghidra的CodeBrowser窗口
- en: 'Let''s see how CodeBrowser is distributed by default:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看CodeBrowser默认是如何分布的：
- en: As usual, by default in reverse engineering frameworks, in the center of the
    screen, Ghidra shows a disassembly view of the file.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与往常一样，在逆向工程框架中，默认情况下，Ghidra会在屏幕中央显示文件的反汇编视图。
- en: As the disassembly level is sometimes a too low-level perspective, Ghidra incorporates
    its own decompiler, which is located to the right of the disassembly window. The
    main function of the program was recognized by a Ghidra signature, and then parameters
    were automatically generated. Ghidra also allows you to manipulate decompiled
    code in a lot of aspects. Of course, a hexadecimal view of the file is also available
    in the corresponding tab. These three windows (disassembly, decompiler, and the
    hexadecimal window) are synchronized, offering different perspectives of the same
    thing.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于反汇编级别有时过于低级，Ghidra集成了自己的反编译器，位于反汇编窗口的右侧。程序的主函数通过Ghidra签名被识别，然后自动生成了参数。Ghidra还允许你在很多方面操作反编译后的代码。当然，文件的十六进制视图也可以在相应的标签中查看。这三个窗口（反汇编、反编译器和十六进制窗口）是同步的，提供了同一事物的不同视角。
- en: Ghidra also allows you to easily navigate in the program. For instance, to go
    to another program section, you can refer to the **Program Trees** window located
    in the upper-left margin of CodeBrowser.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Ghidra 还允许你轻松地在程序中导航。例如，要跳转到另一个程序部分，你可以参考位于 CodeBrowser 左上角的**程序树**窗口。
- en: If you prefer to navigate to a symbol (for example, a program function), then
    go just below that, to where the **Symbols Tree** pane is located.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你更喜欢导航到一个符号（例如，程序函数），那么就往下看，找到**符号树**窗格的位置。
- en: If you want to work with data types, then go just below that again, to **Data
    Type Manager**.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你想处理数据类型，那么再往下看，找到**数据类型管理器**。
- en: As Ghidra allows scripting reverse engineering tasks, script results are shown
    in the corresponding window at the bottom. Of course, the **Bookmarks** tab is
    available in the same position, allowing you to create pretty well-documented
    and organized bookmarks of any memory location for quick access.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于 Ghidra 支持脚本化逆向工程任务，脚本结果会显示在底部的相应窗口中。当然，**书签**标签也可以在相同位置使用，让你创建文档齐全且有条理的书签，以便快速访问任何内存位置。
- en: Ghidra has also a quick access bar at the top.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Ghidra 还在顶部提供了一个快速访问栏。
- en: At the bottom right, the first field indicates the current address.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右下角，第一个字段显示当前地址。
- en: Following the current address, the current function is shown.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 紧接着当前地址，当前函数会显示出来。
- en: In addition to the current address and the current function, the current disassembly
    line is shown to complete the contextual information.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除了当前地址和当前函数外，当前的反汇编行也会显示出来，以完成上下文信息。
- en: Finally, at the topmost part of CodeBrowser, the main bar is located.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，在 CodeBrowser 的最上方，主工具栏位于此处。
- en: Now that you know the default perspective of Ghidra, it's a good time to learn
    how to customize it. Let's address this in the following section.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经了解了 Ghidra 的默认视角，是时候学习如何自定义它了。我们将在接下来的部分讨论这一内容。
- en: Customizing Ghidra
  id: totrans-172
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 自定义 Ghidra
- en: 'This is the default perspective of Ghidra, but you can also modify it. For
    instance, you can add more windows to Ghidra by clicking on the **Window** menu
    and choosing one that piques your interest:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 这是 Ghidra 的默认视角，但你也可以修改它。例如，你可以通过点击**窗口**菜单并选择一个感兴趣的窗口，来向 Ghidra 添加更多窗口：
- en: '![Figure 1.14 – Some items in the Ghidra Window submenu'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.14 – Ghidra 窗口子菜单中的一些项目'
- en: '](img/B16207_01_14.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_14.jpg)'
- en: Figure 1.14 – Some items in the Ghidra Window submenu
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.14 – Ghidra 窗口子菜单中的一些项目
- en: 'Ghidra has a lot of awesome functionalities – for instance, the bar located
    on the upper-right bar of the disassembly window allows you to customize the disassembly
    view by moving fields, adding new fields, extending the size of a field in the
    disassembly listing, and more:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: Ghidra 拥有许多强大的功能——例如，位于反汇编窗口右上角的工具栏可以让你通过移动字段、添加新字段、扩展反汇编列表中字段的大小等方式自定义反汇编视图：
- en: '![Figure 1.15 – Disassembly listing configuration'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.15 – 反汇编列表配置'
- en: '](img/B16207_01_15.jpg)'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_15.jpg)'
- en: Figure 1.15 – Disassembly listing configuration
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – 反汇编列表配置
- en: 'It also allows you to enable a very interesting feature of Ghidra, which is
    its intermediate representation or intermediate language, called **PCode**. It
    allows you to develop assembly language-agnostic tools and to develop automated
    analysis tools in a more comfortable language:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 它还允许你启用 Ghidra 的一个非常有趣的功能，即其中间表示或中间语言，称为**PCode**。它使你能够开发与汇编语言无关的工具，并以更舒适的语言开发自动化分析工具：
- en: '![Figure 1.16 – Enabling the PCode field in the disassembly listing'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.16 – 启用反汇编列表中的 PCode 字段'
- en: '](img/B16207_01_16.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_16.jpg)'
- en: Figure 1.16 – Enabling the PCode field in the disassembly listing
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.16 – 启用反汇编列表中的 PCode 字段
- en: 'If it is enabled, then **PCode** will be shown in the listing. As you will
    soon realize, **PCode** is less human-readable, but it is sometimes better for
    scripting reverse engineering tasks:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 如果启用了，**PCode** 会在列表中显示。正如你很快会发现的那样，**PCode** 不太适合人类阅读，但有时它对于脚本化逆向工程任务来说更为高效：
- en: '![Figure 1.17 – Disassembly listing with PCode enabled'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.17 – 启用 PCode 的反汇编列表'
- en: '](img/B16207_01_17.jpg)'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_17.jpg)'
- en: Figure 1.17 – Disassembly listing with PCode enabled
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.17 – 启用 PCode 的反汇编列表
- en: Discovering more Ghidra functionalities
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发现更多 Ghidra 功能
- en: 'Some powerful features available in other reverse engineering frameworks are
    also included in Ghidra. For instance, as in other reverse engineering frameworks,
    you also have a graph view:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: Ghidra还包含了一些在其他逆向工程框架中也能找到的强大功能。例如，像其他逆向工程框架一样，你也可以使用图形视图：
- en: '![Figure 1.18 – Graph view of a hello world program''s main function'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.18 – 一个hello world程序的主函数的图形视图'
- en: '](img/B16207_01_18.jpg)'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16207_01_18.jpg)'
- en: Figure 1.18 – Graph view of a hello world program's main function
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.18 – 一个hello world程序的主函数的图形视图
- en: As you will notice, Ghidra has a lot of features and windows; we will not cover
    all of them in this chapter, nor modify and/or extend them all. In fact, we haven't
    mentioned all of them yet. Instead, we will learn about them through practice
    in the following chapters.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所注意到的，Ghidra有许多功能和窗口；我们不会在本章中覆盖所有内容，也不会修改和/或扩展所有功能。实际上，我们还没有提到所有内容。相反，我们将在接下来的章节中通过实践来学习它们。
- en: Summary
  id: totrans-195
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we addressed the exciting and quirky origins of Ghidra. Then,
    we covered how to download, install, and compile it on our own from the source
    code. You also learned how to solve issues and how to report new ones to the Ghidra
    open source project.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了Ghidra的激动人心和独特的起源。接着，我们讲解了如何从源代码下载、安装并自行编译它。你还学会了如何解决问题以及如何向Ghidra开源项目报告新问题。
- en: Finally, you learned the structure of Ghidra and its main functionalities (some
    of them have not been covered yet). Now, you are in a position to investigate
    and experiment a little bit with Ghidra on your own.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你了解了Ghidra的结构和主要功能（其中一些尚未涉及）。现在，你可以自行探索并稍微实验一下Ghidra了。
- en: This chapter helped you understand the bigger picture of Ghidra, which will
    be useful in the following chapters generally, which are more focused on specifics.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 本章帮助你理解了Ghidra的全貌，这对于接下来的章节将会有帮助，后续章节将更专注于具体细节。
- en: In the next chapter, we will cover how to automate reverse engineering tasks
    by using, modifying, and developing Ghidra plugins.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讲解如何通过使用、修改和开发Ghidra插件来自动化逆向工程任务。
- en: Questions
  id: totrans-200
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Is there one reverse engineering framework that is absolutely better than the
    others? What problems does Ghidra solve better than most frameworks? Cite some
    strengths and weaknesses.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 是否有一种逆向工程框架绝对比其他框架更好？Ghidra在解决哪些问题方面优于大多数框架？请列举一些优点和缺点。
- en: How can you configure the disassembly view to enable PCode?
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何配置反汇编视图以启用PCode？
- en: What is the difference between the disassembly view and the decompiler view?
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 反汇编视图和反编译视图有什么区别？
