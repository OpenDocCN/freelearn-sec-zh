- en: '*Chapter 3*: Setting Up the Environment'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第3章*：环境设置'
- en: In this chapter, we are covering the setup of the test environment that will
    be used in the core of the practical part, while also defining the main approach
    behind the practical section of this book. The main tools used will also be introduced;
    we'll describe their ability to perform our SQL injection tests, which will help
    us understand the subject matter even more.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍用于核心实践部分的测试环境的设置，同时定义本书实践部分背后的主要方法。将介绍的主要工具将帮助我们执行SQL注入测试，进一步帮助我们理解相关内容。
- en: After introducing the main methodology and tools, we will also show how to configure
    the lab settings that will be used. In order to best configure both the client,
    from which we will be conducting our test attacks, and the server side, made up
    of virtual targets we are conducting our tests against, this chapter serves as
    a step-by-step guide for configuration. Luckily, we have selected tools that are,
    for the most part, ready to use, and the setup is relatively simple.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在介绍了主要方法论和工具之后，我们还将展示如何配置将要使用的实验室设置。本章将作为一步步的配置指南，帮助我们最佳配置客户端（我们将用来进行测试攻击的机器）和服务器端（由虚拟目标组成，我们将对其进行测试）。幸运的是，我们选择的工具大多数已经可以直接使用，设置也相对简单。
- en: As the client part will be mostly the same both for web application attacks
    and emulated devices, the first step will be configuring this machine.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 由于客户端部分在Web应用攻击和模拟设备攻击中大致相同，第一步将是配置这台机器。
- en: 'In this chapter, the following topics will be covered:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: '**Understanding the practical approach and introducing the main tools**: An
    introductory description of our approach, which will guide us throughout the practical
    part of this book. Think of this as an introduction to the practical section,
    describing the lab we will be using and the overall setting.'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**理解实用方法并介绍主要工具**：本节将介绍我们的方法，并指导我们整个实践部分的内容。可以将其看作是实践部分的引言，描述我们将使用的实验室以及整体设置。'
- en: '**Overview of the Open Web Application Security (OWASP) Broken Web Application
    (BWA) project**: For our lab setup, we will be using a freely available **virtual
    machine** (**VM**), provided by OWASP, containing many vulnerable web applications.
    This allows us to test for vulnerabilities without attacking actual websites or
    entities belonging to third parties.'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开放式Web应用安全项目（OWASP）破损Web应用（BWA）项目概览**：对于我们的实验室设置，我们将使用由OWASP提供的免费**虚拟机**（**VM**），其中包含许多易受攻击的Web应用。这使我们能够在不攻击实际网站或第三方实体的情况下，测试漏洞。'
- en: '**The attacker – configuring your client machine**: Before setting our targets
    for our lab, in this section, we are providing our recommendation for the machine
    that we will be using as the main client for specialized attacks.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**攻击者 – 配置你的客户端机器**：在为实验室设置目标之前，本节将提供我们对用于专门攻击的主要客户端机器的建议。'
- en: '**The target – configuring your target web applications**: Our instructions
    for setting the target web server.'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**目标 – 配置你的目标网络应用**：我们为设置目标网络服务器提供的指导。'
- en: '**The target – configuring your target-emulated devices**: Our instructions
    for setting the targets for **Internet of Things** (**IoT**) testing.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**目标 – 配置你的目标模拟设备**：我们为**物联网**（**IoT**）测试配置目标设备提供的指导。'
- en: '**Operating the lab**: In this final section of this chapter, we will describe
    how this lab is intended to be operated, putting together the elements we have
    seen.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**操作实验室**：在本章的最后一节，我们将描述如何操作实验室，汇总我们已经看到的所有元素。'
- en: Technical requirements
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'Despite involving strictly practical matters, there are no particular prerequisites
    for this chapter. However, we recommend familiarizing yourself with the main tools
    we will be using. All of these are free to use, so don''t worry about costs. Here
    are the links to the tools:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管本章涉及的是严格的实践内容，但没有特别的前提要求。然而，我们建议熟悉我们将使用的主要工具。所有这些工具都是免费的，因此无需担心费用问题。以下是工具的链接：
- en: '[https://www.virtualbox.org/](https://www.virtualbox.org/)'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.virtualbox.org/](https://www.virtualbox.org/)'
- en: '[https://www.kali.org/docs/](https://www.kali.org/docs/)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.kali.org/docs/](https://www.kali.org/docs/)'
- en: '[https://owasp.org/www-project-broken-web-applications/](https://owasp.org/www-project-broken-web-applications/)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://owasp.org/www-project-broken-web-applications/](https://owasp.org/www-project-broken-web-applications/)'
- en: '[https://developer.android.com/studio](https://developer.android.com/studio)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://developer.android.com/studio](https://developer.android.com/studio)'
- en: '[https://www.eclipse.org/](https://www.eclipse.org/)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.eclipse.org/](https://www.eclipse.org/)'
- en: Understanding the practical approach and introducing the main tools
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解实践方法并介绍主要工具
- en: 'One of the most important aspects in understanding attack techniques and, in
    general, vulnerabilities and cyberattacks, is exploring firsthand what conducting
    an attack means, and also evaluating the behavior of an exploited target to figure
    out what the best defensive solutions might be. This is one of the main principles
    of ethical hacking: understanding the matter from the point of view of a potential
    attacker means having a more complete picture of what is happening, all in line
    with the strategic concepts of "knowing your enemy," which leads ultimately to
    a strategic advantage. This section is all about this: performing attack tests
    in a controlled and safe environment to study and experience in person what SQL
    injection is all about.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在理解攻击技术，尤其是漏洞和网络攻击时，最重要的方面之一是亲自探索进行攻击意味着什么，同时评估被攻击目标的行为，以找出可能的最佳防御解决方案。这是道德黑客的核心原则之一：从潜在攻击者的角度理解问题，意味着能更全面地了解发生了什么，这完全符合“了解你的敌人”的战略概念，从而最终获得战略优势。本节内容正是围绕这一点展开：在受控且安全的环境中进行攻击测试，亲身研究和体验SQL注入的本质。
- en: 'In order to achieve this level of expertise, a wide range of tools will be
    used. SQL injection is mostly a web-based vulnerability, and that means it could
    be exploited using a simple web browser, sending a specific input to interact
    with an application, as seen in the practical part of this book. Of course, performing
    these tests against real targets could be quite problematic, as it would require
    specific agreements and engagement rules for us not to cause harm to systems of
    companies or individuals. Performing attacks against a system without prior signed
    agreements is against the law, and we do not want or encourage anybody to commit
    crimes. For this reason, we will be introducing our first software that allows
    us to set up a controlled environment on our own computer, without attacking anyone
    else: virtualization software.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 为了达到这种专业水平，将使用一系列工具。SQL注入大多是基于Web的漏洞，这意味着可以通过简单的Web浏览器进行利用，发送特定输入与应用程序进行交互，正如本书中的实践部分所示。当然，针对真实目标进行这些测试可能会非常棘手，因为这需要特定的协议和参与规则，以确保我们不会对公司或个人的系统造成伤害。在没有事先签署协议的情况下进行攻击是违法的，我们不希望也不鼓励任何人犯罪。因此，我们将介绍我们的第一款软件，它允许我们在自己的计算机上设置一个受控环境，而不攻击他人：虚拟化软件。
- en: Virtualization software
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 虚拟化软件
- en: The first piece of our set of tools is made of virtualization software. Virtualization
    is the process of emulating hardware resources (that is, a computer system) totally
    through software. An emulated machine is called a VM and has, virtualized as software,
    the same components a computer would have, all by using the hardware resources
    of the host system through the emulation software.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们工具集中的第一项是虚拟化软件。虚拟化是通过软件完全仿真硬件资源（即计算机系统）的过程。仿真出来的机器称为虚拟机（VM），它通过仿真软件使用主机系统的硬件资源，虚拟化后具有与计算机相同的组件。
- en: 'There are many possible solutions available, but we recommend two main solutions,
    as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多可能的解决方案可供选择，但我们推荐以下两种主要解决方案：
- en: '**VMware Workstation**—VM emulation industry-standard software provided by
    VMware. The free version is partially limited in functionality and can only be
    run on a single VM at a time. This is illustrated in the following screenshot:'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**VMware Workstation**——由VMware提供的虚拟机仿真行业标准软件。免费版在功能上有部分限制，并且每次只能运行一个虚拟机。如下图所示：'
- en: '![Figure 3.1 – VMWare Workstation main web page'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.1 – VMWare Workstation 主网页'
- en: '](image/B15632_03_001.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_001.jpg)'
- en: Figure 3.1 – VMWare Workstation main web page
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.1 – VMWare Workstation 主网页
- en: '**Oracle VirtualBox** – VM emulation software by Oracle, freely available and
    easy to use for generic purposes (available at [www.virtualbox.org](http://www.virtualbox.org)).
    This is illustrated in the following screenshot:'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Oracle VirtualBox**——由Oracle提供的虚拟机仿真软件，免费且易于用于一般用途（可通过[www.virtualbox.org](http://www.virtualbox.org)获取）。如下图所示：'
- en: '![Figure 3.2 – Oracle VirtualBox main web page'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.2 – Oracle VirtualBox 主网页'
- en: '](image/B15632_03_002.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_002.jpg)'
- en: Figure 3.2 – Oracle VirtualBox main web page
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.2 – Oracle VirtualBox 主网页
- en: The full version of VMware is, of course, the most complete solution, but Oracle
    VirtualBox is also well known among users worldwide. In any case, our lab setup
    requires virtualization software, so either of these is fine. Be sure to check
    the configuration section and follow the suggested steps.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: VMware的完整版，当然是最完整的解决方案，但Oracle VirtualBox在全球用户中也很有名。无论如何，我们的实验室设置需要虚拟化软件，因此这两者中的任何一个都可以。请务必检查配置部分并按照建议的步骤进行操作。
- en: As for simulating mobile and IoT devices, the Android operating system can be
    easily emulated. We will later see how to set up the emulation correctly.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 至于模拟移动设备和物联网设备，Android操作系统可以很容易地进行仿真。稍后我们将看到如何正确设置仿真。
- en: After covering in general the foundation tool used to enable our lab setup,
    we now introduce one of the most important tools for ethical hacking, Kali Linux,
    which is a Linux distribution that we will use in our emulated environment for
    the client-side part.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在概述了用于启用我们实验室设置的基础工具之后，我们现在介绍Kali Linux，这是道德黑客最重要的工具之一。Kali Linux是一个Linux发行版，我们将在我们的仿真环境中用于客户端部分。
- en: Kali Linux
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Kali Linux
- en: 'Kali Linux is a Debian Linux distribution specifically for ethical hacking,
    penetration testing, and, in general, information security. Kali Linux is well
    known among information security experts because it offers a large selection of
    security tools that can be used to perform security testing and simulate cyberattacks.
    This array of tools is so popular and complete that it is even used by malicious
    attackers. We can''t stress this enough: as ethical hackers, tests are to be performed
    exclusively on targets for which explicit consent of the owner has been agreed
    upon. This includes, of course, possible targets that the attacker themselves
    owns and intends to use in order to perform tests. For this reason, the simplest
    configuration is based on the use of a VM running this specific version of the
    Linux operating system, so that it can be used in the same virtualized environment
    of the emulated targets, whether they may be web applications or other targets.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux是一个专门用于道德黑客、渗透测试和信息安全的Debian Linux发行版。Kali Linux在信息安全专家中非常有名，因为它提供了大量的安全工具，这些工具可以用来执行安全测试和模拟网络攻击。这些工具的阵列非常受欢迎且完整，甚至被恶意攻击者使用。我们必须强调一点：作为道德黑客，测试只能在得到明确同意的目标上进行。这当然包括攻击者自己拥有并打算用于执行测试的可能目标。因此，最简单的配置是基于使用运行该特定版本Linux操作系统的虚拟机，这样它可以在与仿真目标相同的虚拟化环境中使用，无论这些目标是网页应用还是其他类型的目标。
- en: 'Kali Linux has more than 600 tools for computer security, ranging from hacking
    to network monitoring tools, which are included to cover the widest possible range
    of use cases for security professionals. Included in the suite are also some important
    tools for web application security, some of which are also specific to discovering
    and exploiting the SQL injection vulnerability. We will now cover some of them,
    as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux提供了超过600种计算机安全工具，从黑客攻击到网络监控工具，涵盖了安全专业人士的广泛使用场景。套件中还包括一些针对网页应用安全的重要工具，其中一些工具专门用于发现和利用SQL注入漏洞。接下来我们将介绍其中的一些工具，具体如下：
- en: '**OWASP ZAP**: **ZAP** stands for **Zed Attack Proxy**, and the name explains
    what it does: this software is used as a proxy while using a web browser, so that
    the behavior of a web application can be studied performing **Dynamic Application
    Security Tests** (**DAST**). Traffic sent through a web browser can be sent through
    ZAP, allowing it to analyze the communications in terms of requests and response
    and, thus, depending on the interactions, discover possible vulnerabilities, including
    SQL injection. ZAP has also a built-in scanner that sends pre-formatted requests
    to target websites and, depending on the respective responses, can identify vulnerabilities
    in web applications. OWASP ZAP is provided by OWASP, which supports security professionals
    around the world, enabling the development of a security community and worldwide
    cooperation, while also providing a shared and effective methodology for web application
    security testing. OWASP ZAP is shown in the following screenshot:'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OWASP ZAP**：**ZAP** 代表 **Zed Attack Proxy**，该名称已解释了它的功能：这款软件用作代理，通过 Web 浏览器使用，从而可以研究
    Web 应用程序的行为，进行 **动态应用程序安全测试**（**DAST**）。通过 Web 浏览器发送的流量可以通过 ZAP 发送，允许它分析请求和响应的通信，从而根据互动情况发现可能的漏洞，包括
    SQL 注入。ZAP 还内置了一个扫描器，向目标网站发送预格式化的请求，并根据相应的响应，可以识别 Web 应用程序中的漏洞。OWASP ZAP 由 OWASP
    提供，OWASP 支持全球的安全专家，推动安全社区的发展和全球合作，同时也提供一个共享且有效的 Web 应用程序安全测试方法论。OWASP ZAP 如下图所示：'
- en: '![Figure 3.3 – OWASP ZAP – Zed Attack Proxy – web page'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.3 – OWASP ZAP – Zed Attack Proxy – 网页'
- en: '](image/B15632_03_003.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_003.jpg)'
- en: Figure 3.3 – OWASP ZAP – Zed Attack Proxy – web page
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.3 – OWASP ZAP – Zed Attack Proxy – 网页
- en: '**Burp Suite**: Burp Suite, by PortSwigger, is a set of web application security
    tools, similar to ZAP, but possibly richer in functionality. Some of its most
    useful modules are only available through its Pro version, however. Burp Suite
    is used in the same way as ZAP, like a proxy for web application-based attacks,
    and serves the same purpose. If you don''t have Burp Suite Pro already, we recommend
    using OWASP ZAP for the purpose of the tests included in this book. Burp Suite
    is shown in the following screenshot:'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Burp Suite**：由 PortSwigger 开发的 Burp Suite 是一套 Web 应用程序安全工具，类似于 ZAP，但可能功能更为丰富。然而，一些最有用的模块仅通过其
    Pro 版本提供。Burp Suite 的使用方式与 ZAP 相同，作为 Web 应用程序攻击的代理，服务于相同的目的。如果您尚未拥有 Burp Suite
    Pro，我们建议使用 OWASP ZAP 来进行本书中包含的测试。Burp Suite 如下图所示：'
- en: '![Figure 3.4 – Burp Suite''s main web page'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.4 – Burp Suite 的主网页'
- en: '](image/B15632_03_004.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_004.jpg)'
- en: Figure 3.4 – Burp Suite's main web page
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.4 – Burp Suite 的主网页
- en: '**sqlmap**: sqlmap is the most well-known software for automated SQL injection.
    It is a command-line utility that can be used to identify and exploit possible
    SQL injection vulnerabilities on a web application. Its detection engine is very
    powerful and has been refined through the years, making it one of the most relevant
    tools for web application security testing. sqlmap is shown in the following screenshot:'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**sqlmap**：sqlmap 是最著名的自动化 SQL 注入软件。它是一个命令行工具，可以用来识别和利用 Web 应用程序中的可能 SQL 注入漏洞。其检测引擎非常强大，经过多年优化，已成为
    Web 应用程序安全测试中最相关的工具之一。sqlmap 如下图所示：'
- en: '![Figure 3.5 – sqlmap''s web page'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.5 – sqlmap 的网页'
- en: '](image/B15632_03_005.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_005.jpg)'
- en: Figure 3.5 – sqlmap's web page
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.5 – sqlmap 的网页
- en: '**SQLninja**: SQLninja is another useful and powerful utility geared toward
    exploiting the SQL injection vulnerability against databases running Microsoft
    SQL Server, possibly taking over the backend altogether with more specific options
    that allow, ultimately, remote access to the database server. SQLninja is shown
    in the following screenshot:'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SQLninja**：SQLninja 是另一个有用且强大的工具，旨在利用针对运行 Microsoft SQL Server 数据库的 SQL 注入漏洞，最终可能通过更具体的选项完全接管后台，从而实现远程访问数据库服务器。SQLninja
    如下图所示：'
- en: '![Figure 3.6 – SQLninja''s web page'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.6 – SQLninja 的网页'
- en: '](image/B15632_03_006.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_006.jpg)'
- en: Figure 3.6 – SQLninja's web page
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.6 – SQLninja 的网页
- en: The last piece of our set of tools, which will be described in the next section,
    is the main enabler of our tests, as it serves as the server side of our emulated
    environment.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们工具集的最后一部分，将在下一节中描述，是我们测试的主要推动力，因为它充当我们模拟环境的服务器端。
- en: Overview of the OWASP BWA project
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OWASP BWA 项目概览
- en: OWASP keeps a plethora of sub-projects, fueled by the efforts of many people
    around the world, with the aim of improving the experience of security professionals
    around the globe and raising awareness of web application security issues. One
    of the problems that ethical hackers encounter is finding targets that are free
    to attack without consequence in order to put their knowledge to the test. In
    the past, some organizations, such as web application security software vendors,
    put specific web applications on the web to allow the testing of the capabilities
    of software, or just to educate the public on web application security in general.
    Some of these applications have been removed or have become progressively harder
    to find, probably because they were discontinued or were designed to test older
    versions of application security software. The **OWASP BWA** project was started
    to provide people with a collection of some of these web applications to be used
    as test targets during web application security tests. Those web applications
    are distributed through an Ubuntu Server VM that serves as a web server hosting
    the applications contained within.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP 维持着大量子项目，得到了世界各地许多人的共同努力，旨在提升全球安全专业人士的体验，并提高 Web 应用程序安全问题的意识。道德黑客遇到的一个问题是，如何找到无需承担后果即可进行攻击的目标，来测试他们的知识。过去，一些组织，如
    Web 应用程序安全软件供应商，会将特定的 Web 应用程序放到网上，允许测试软件的能力，或者只是为了普及 Web 应用程序安全知识。部分应用程序已经被移除，或者逐渐变得越来越难以找到，可能是因为它们已被停止使用，或者是为了测试旧版本的应用程序安全软件而设计的。**OWASP
    BWA** 项目旨在为人们提供一些这些 Web 应用程序的集合，以便在 Web 应用程序安全测试期间作为测试目标使用。这些 Web 应用程序通过 Ubuntu
    Server 虚拟机进行分发，该虚拟机作为 Web 服务器托管其中包含的应用程序。
- en: The project was discontinued in 2015, but the download of the VM is still available.
    The virtual environment provided is what we will be using as our target web applications.
    In the *The target–configuring your target web applications* section, we will
    see how to set up the machine.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 该项目于 2015 年停止更新，但仍可下载虚拟机镜像。提供的虚拟环境将作为我们目标 Web 应用程序的基础。在 *目标–配置你的目标 Web 应用程序*
    章节中，我们将看到如何设置机器。
- en: As this is are quite a large number of applications available (37, to be exact),
    we will be highlighting the ones that we think are the best fit for practicing
    SQL injection, both manual and automated.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 由于可用的应用程序数量相当庞大（准确来说有 37 个），我们将重点介绍那些我们认为最适合练习 SQL 注入的应用程序，包括手动和自动化的练习。
- en: 'To have an idea of what the vulnerable web application selection hub will be,
    we added as a screenshot the selection menu that will be seen while accessing
    the active VM from your web browser. You will be able to see it once the target
    machine configuration is complete, so be sure not to miss the corresponding section
    (*The target – configuring your target web applications*). Have a look at the
    following screenshot:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让大家了解受漏洞影响的 Web 应用程序选择中心是什么样的，我们添加了一个截图，展示访问活动虚拟机时会看到的选择菜单。完成目标机器配置后，你将能够看到它，所以请确保不要错过相应的章节（*目标–配置你的目标
    Web 应用程序*）。请查看以下截图：
- en: '![Figure 3.7 – The OWASP BWA application selection hub'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.7 – OWASP BWA 应用程序选择中心'
- en: '](image/B15632_03_007.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_007.jpg)'
- en: Figure 3.7 – The OWASP BWA application selection hub
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.7 – OWASP BWA 应用程序选择中心
- en: 'Here is a list of the main web applications we will go through in the practical
    section:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是我们在实践部分将要涵盖的主要 Web 应用程序列表：
- en: '**Mutillidae II**: A test web application for guided training provided by OWASP.
    We''ve already seen this application for error triggering in *Chapter 2*, *Manipulating
    SQL – Exploiting SQL Injection*. Mutillidae II is shown in the following screenshot:'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Mutillidae II**：由 OWASP 提供的引导式训练测试 Web 应用程序。我们已经在*第二章*，*操作 SQL – 利用 SQL 注入*中看到过这个应用程序触发错误的示例。Mutillidae
    II 在以下截图中展示：'
- en: '![Figure 3.8 – Mutillidae II home page'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.8 – Mutillidae II 首页'
- en: '](image/B15632_03_008.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_008.jpg)'
- en: Figure 3.8 – Mutillidae II home page
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.8 – Mutillidae II 首页
- en: '**Code Injection Rainbow**: Another test web application that provides guided
    challenges to practice with injection vulnerabilities (including SQL). This can
    be seen in the following screenshot:'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**代码注入彩虹**：另一个测试 Web 应用程序，提供引导式挑战以练习注入漏洞（包括 SQL 注入）。可以在下面的截图中看到：'
- en: '![Figure 3.9 – Code Injection Rainbow SQL injection page'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.9 – 代码注入彩虹 SQL 注入页面'
- en: '](image/B15632_03_009.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_009.jpg)'
- en: Figure 3.9 – Code Injection Rainbow SQL injection page
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.9 – 代码注入彩虹 SQL 注入页面
- en: '**Peruggia**: An application designed to be vulnerable on purpose, providing
    realistic use-case scenarios for web application security testing. This can be
    seen in the following screenshot:'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Peruggia**：一个故意设计为有漏洞的应用，提供了用于 Web 应用安全测试的现实用例场景。如下图所示：'
- en: '![Figure 3.10 – Peruggia home page'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.10 – Peruggia 首页'
- en: '](image/B15632_03_010.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_010.jpg)'
- en: Figure 3.10 – Peruggia home page
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.10 – Peruggia 首页
- en: '**Broken WordPress**: A sample blog made with WordPress 2.0.0, known for the
    presence of many vulnerabilities. This is the same WordPress blog we saw in [*Chapter
    2*](B15632_02_Final_JC_ePub.xhtml#_idTextAnchor031), *Manipulating SQL – Exploiting
    SQL Injection,* to show credential stealing. Broken WordPress is shown in the
    following screenshot:'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**破损的 WordPress**：一个使用 WordPress 2.0.0 创建的示例博客，以存在许多漏洞而著称。这是我们在[*第 2 章*](B15632_02_Final_JC_ePub.xhtml#_idTextAnchor031)中看到的同一个
    WordPress 博客，*SQL 注入攻击的利用——窃取凭证*，用来展示凭证盗取。破损的 WordPress 如下图所示：'
- en: '![Figure 3.11 – Broken WordPress home page'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.11 – 破损的 WordPress 首页'
- en: '](image/B15632_03_011.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_011.jpg)'
- en: Figure 3.11 – Broken WordPress home page
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.11 – 破损的 WordPress 首页
- en: '**OWASP Vicnum**: A simple, very basic web application that shows how not applying
    security measures can be very damaging. We''ve seen this in [*Chapter 2*](B15632_02_Final_JC_ePub.xhtml#_idTextAnchor031),
    *Manipulating SQL – Exploiting SQL Injection,* as well, but we will revisit it
    for the practical part. OWASP Vicnum is shown in the following screenshot:'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OWASP Vicnum**：一个非常简单、基础的 Web 应用，展示了不应用安全措施可能带来的严重后果。我们在[*第 2 章*](B15632_02_Final_JC_ePub.xhtml#_idTextAnchor031)中也看到了这一点，*SQL
    注入攻击的利用*，但是我们会在实践部分再次回顾它。OWASP Vicnum 如下图所示：'
- en: '![Figure 3.12 – Vicnum project''s main page'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.12 – Vicnum 项目的主页'
- en: '](image/B15632_03_012.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_012.jpg)'
- en: Figure 3.12 – Vicnum project's main page
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.12 – Vicnum 项目的主页
- en: Feel free to use the provided applications for testing, independently from the
    guide provided in this book. Practice makes perfect, and practicing in a controlled
    environment allows you to develop your skills at your own pace.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 随时可以使用提供的应用进行测试，独立于本书提供的指南。实践成就完美，在受控环境中练习可以让你按照自己的节奏提高技能。
- en: The approach and the tools provided represent the arsenal at our disposal. Now,
    it's time to start the setup of our test environment so that we can finally begin
    the practical part.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 提供的方法和工具代表了我们手中的武器库。现在，是时候开始设置我们的测试环境，以便我们可以最终开始实践部分。
- en: The attacker – configuring your client machine
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 攻击者 – 配置你的客户端机器
- en: In this section, we will show our recommendations in terms of configuration
    of the machine that will be used for conducting the offensive tests. Bear in mind
    that other options are possible (which will be described later), but our suggestions
    prioritize usability and cover a wide array of use cases.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将展示我们对用于执行攻击性测试的机器配置的建议。请记住，其他选项也是可能的（稍后将描述），但我们的建议优先考虑可用性，并涵盖广泛的使用场景。
- en: In this book, we will use a client machine running **Kali Linux**. Kali Linux
    is free to use and is available on the official Kali Linux website ([www.kali.org](http://www.kali.org))
    for download as a disk image that will be used on the first boot. Each image also
    includes the possibility to run the system in a *Live* environment, thus not requiring
    installation. Since we are using a VM lab to manage both the client and the server
    side, we will be using regular installation for the purpose of this guide.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将使用运行 **Kali Linux** 的客户端机器。Kali Linux 是免费的，可以在官方 Kali Linux 网站 ([www.kali.org](http://www.kali.org))
    下载作为启动镜像使用。每个镜像还包括在 *Live* 环境中运行系统的选项，因此不需要安装。由于我们使用虚拟机实验室来管理客户端和服务器端，我们将在本指南中使用常规安装。
- en: 'Among the possible download options, we recommend *Kali Linux 64-Bit* for the
    best compatibility with updated software; alternatively, *Kali Linux 32-Bit* can
    also be used if your host can''t handle 64-bit virtualized systems properly. *Kali
    Linux Light* could also be used, but most of the software tools would need to
    be installed one by one. For security purposes, ensure that the SHA-256 hash of
    the file you downloaded from the site is the same as the one shown in the following
    screenshot:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在可用的下载选项中，我们推荐 *Kali Linux 64 位*，以获得与更新软件的最佳兼容性；如果主机无法正确处理 64 位虚拟化系统，也可以使用 *Kali
    Linux 32 位*。*Kali Linux Light* 也可以使用，但大部分软件工具需要逐个安装。出于安全考虑，确保你从网站下载的文件的 SHA-256
    哈希值与以下截图中显示的相同：
- en: '![Figure 3.13 – Kali Linux download page'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.13 – Kali Linux 下载页面'
- en: '](image/B15632_03_013.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_013.jpg)'
- en: Figure 3.13 – Kali Linux download page
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.13 – Kali Linux 下载页面
- en: Once you have obtained the operating system image, it's time to set up your
    virtualized system.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你获得了操作系统镜像，就可以开始设置虚拟化系统了。
- en: 'Even if VMware is widely considered as an industry standard for IT professionals,
    Oracle VirtualBox can also be used for the purpose of setting up a lab for testing
    without usage limitation. Both software solutions are valid and can be used without
    noticeable differences. For usability reasons, our tests will be conducted using
    the freely available Oracle VirtualBox, which is shown in the following screenshot:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 即使 VMware 被广泛认为是 IT 专业人员的行业标准，Oracle VirtualBox 也可以用于设置测试实验室，且没有使用限制。这两款软件都是有效的，可以在没有明显差异的情况下使用。出于可用性考虑，我们将使用免费提供的
    Oracle VirtualBox 进行测试，以下截图展示了该软件：
- en: '![Figure 3.14 – Oracle VirtualBox download page'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.14 – Oracle VirtualBox 下载页面'
- en: '](image/B15632_03_014.jpg)'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_014.jpg)'
- en: Figure 3.14 – Oracle VirtualBox download page
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.14 – Oracle VirtualBox 下载页面
- en: Once both the disk image of your choice and the virtualization software have
    been obtained, proceed to creating a new VM running Kali Linux.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你获取了所选择的磁盘镜像和虚拟化软件，接下来可以创建一个运行 Kali Linux 的新虚拟机。
- en: Creating a new client VM
  id: totrans-99
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建一个新的客户端虚拟机
- en: 'Here, we are presenting a step-by-step guide to create a new VM using VirtualBox.
    There will be many steps in common with the configuration of both client and target
    virtual machines, so be sure to follow our step-by-step guide. Proceed as follows:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们提供了一个使用 VirtualBox 创建新虚拟机的分步指南。客户端和目标虚拟机的配置中会有许多共同的步骤，因此请确保按照我们的分步指南进行操作。按以下步骤进行：
- en: Click on the appropriate **Create New Virtual Machine** button and complete
    the settings in the wizard, depending on the version of Kali Linux you previously
    downloaded (64- or 32-bit) by selecting **Linux** as the operating system and
    **Other Linux (64-bit)** as the distribution (we have included a screenshot of
    the creation wizard here). The process is illustrated in the following screenshot:![Figure
    3.15 – Our Kali test machine setup – file path and system selection
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击适当的**创建新虚拟机**按钮，并根据你之前下载的 Kali Linux 版本（64 位或 32 位），在向导中完成设置，选择**Linux**作为操作系统，选择**Other
    Linux (64-bit)**作为发行版（我们在此附上了创建向导的截图）。该过程在以下截图中展示：![图 3.15 – 我们的 Kali 测试机器设置 –
    文件路径和系统选择
- en: '](image/B15632_03_015.jpg)'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_015.jpg)'
- en: Figure 3.15 – Our Kali test machine setup – file path and system selection
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.15 – 我们的 Kali 测试机器设置 – 文件路径和系统选择
- en: Once you have selected the version, you will be prompted to configure the technical
    settings of the machine. Depending on the performance of your host computer, select
    the appropriate allocated **random-access memory** (**RAM**) to your VM. 1,024
    megabytes is the minimum requirement we recommend (the operating system alone
    requires about 512 megabytes to function properly). The process is illustrated
    in the following screenshot:![Figure 3.16 – Our Kali test machine setup – memory
    settings
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在选择版本后，你将被提示配置机器的技术设置。根据你的主机计算机的性能，选择为虚拟机分配适当的**随机存取内存**（**RAM**）。我们推荐的最低要求是
    1,024 兆字节（操作系统本身需要大约 512 兆字节才能正常运行）。该过程在以下截图中展示：![图 3.16 – 我们的 Kali 测试机器设置 – 内存设置
- en: '](image/B15632_03_016.jpg)'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_016.jpg)'
- en: Figure 3.16 – Our Kali test machine setup – memory settings
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.16 – 我们的 Kali 测试机器设置 – 内存设置
- en: As for secondary memory, you will be prompted to select a virtual hard disk.
    We recommend a disk size of at 8 GB minimum, but as this will only be a testing
    VM, that should be enough anyway (Kali Linux takes up to 3 GB of disk space, just
    for the installation of the operating system). The process is illustrated in the
    following screenshot:![Figure 3.17 – Our Kali test machine setup – hard drive
    settings
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于次级存储，你将被提示选择一个虚拟硬盘。我们推荐至少 8 GB 的磁盘大小，但由于这只是一个测试虚拟机，因此 8 GB 应该足够了（Kali Linux
    安装操作系统本身就需要约 3 GB 的磁盘空间）。该过程在以下截图中展示：![图 3.17 – 我们的 Kali 测试机器设置 – 硬盘设置
- en: '](image/B15632_03_017.jpg)'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_017.jpg)'
- en: Figure 3.17 – Our Kali test machine setup – hard drive settings
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.17 – 我们的 Kali 测试机器设置 – 硬盘设置
- en: On the first startup, select the Kali Linux image you previously downloaded
    as boot-up media so as to start the installation of the operating system on the
    VM. Select the appropriate options in terms of language, access credentials, and
    desktop environment(s) of choice. Once the operating system installation process
    is complete, you will be free to use your virtual Kali Linux machine for testing.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在首次启动时，选择之前下载的 Kali Linux 镜像作为启动介质，开始在虚拟机上安装操作系统。根据语言、访问凭据和所选桌面环境选择适当的选项。操作系统安装完成后，你将可以自由使用虚拟的
    Kali Linux 机器进行测试。
- en: Finally, we recommend installing the additional software that we mentioned earlier,
    in the *Kali Linux* subsection of the *Understanding the practical approach and
    introducing the main tools* section.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们建议安装我们之前提到的附加软件，位于*Kali Linux*子章节的*理解实用方法并介绍主要工具*部分。
- en: 'First and foremost, ensure all your Kali application packages are updated and
    are the latest version available by running the following commands from the Terminal
    (ensure your Kali machine is connected to the internet first):'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，确保通过运行以下命令更新所有 Kali 应用程序包，并确保它们是最新版本（首先确保 Kali 机器已连接到互联网）：
- en: sudo apt-get update
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: sudo apt-get update
- en: sudo apt-get upgrade
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: sudo apt-get upgrade
- en: 'To install OWASP-ZAP, run the following command from your terminal:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装 OWASP-ZAP，请在终端中运行以下命令：
- en: sudo apt-get install zaproxy
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: sudo apt-get install zaproxy
- en: 'To install SQLninja, run the following command from your terminal:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装 SQLninja，请在终端中运行以下命令：
- en: sudo apt-get install sqlninja
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: sudo apt-get install sqlninja
- en: 'sqlmap should already be present on the default Kali distribution. However,
    run the following command too, just in case:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: sqlmap 应该已经包含在默认的 Kali 发行版中。然而，为了以防万一，请也运行以下命令：
- en: sudo apt-get install sqlmap
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: sudo apt-get install sqlmap
- en: Kali Linux offers many other security tools too, besides the ones we will be
    using in the practical section of this book. Feel free to explore them in a controlled
    and safe environment without damaging any third parties.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: Kali Linux 还提供许多其他安全工具，除了我们在本书实践部分中使用的那些工具。可以在受控和安全的环境中自由探索这些工具，而不会对任何第三方造成损害。
- en: Once the client VM setup is complete, we can proceed with the setup of our target
    VMs that will be used during our tests.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦客户端虚拟机设置完成，我们可以继续设置将在测试中使用的目标虚拟机。
- en: The target – configuring your target web applications
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 目标 – 配置你的目标 Web 应用程序
- en: In all of our tests, we will be using the Kali Linux installation we previously
    set up as the client side. In order to cover the cases previously described in
    this book (web application and IoT devices), we need multiple target configurations.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们所有的测试中，我们将使用之前设置的 Kali Linux 安装作为客户端。为了覆盖本书中之前描述的情况（Web 应用程序和 IoT 设备），我们需要多种目标配置。
- en: First, we will show how to set up the VM that will be used as a testing target
    for web application-based SQL injection attacks, by using the web applications
    included in the OWASP BWA VM. In this case, the setup is quite simple and linear.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将展示如何设置作为 Web 应用程序 SQL 注入攻击测试目标的虚拟机，使用 OWASP BWA 虚拟机中包含的 Web 应用程序。在这种情况下，设置非常简单直观。
- en: 'Download the latest version of the OWASP BWA VM from the official OWASP website
    by following the link to Sourceforge, as reported on the OWASP BWA main page:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 通过点击 OWASP BWA 主页面中报告的 Sourceforge 链接，下载 OWASP BWA 虚拟机的最新版本：
- en: '[https://sourceforge.net/projects/owaspbwa/files/](https://sourceforge.net/projects/owaspbwa/files/)'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://sourceforge.net/projects/owaspbwa/files/](https://sourceforge.net/projects/owaspbwa/files/)'
- en: 'Unfortunately, in these last months, the OWASP BWA main page has been migrated
    to another platform, so it is only accessible as a poorly formatted page, awaiting
    to be moved to the new platform. You can find it at this URL:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，最近几个月，OWASP BWA 的主页已经迁移到另一个平台，因此它只能作为一个格式不规范的页面访问，等待迁移到新平台。你可以通过以下网址找到它：
- en: '[https://owasp.org/www-project-broken-web-applications/migrated_content](https://owasp.org/www-project-broken-web-applications/migrated_content)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://owasp.org/www-project-broken-web-applications/migrated_content](https://owasp.org/www-project-broken-web-applications/migrated_content)'
- en: 'The OWASP BWA main page can be seen in the following screenshot:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图展示了 OWASP BWA 的主页：
- en: '![Figure 3.18 – OWASP BWA download page on Sourceforge.net'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.18 – Sourceforge.net 上的 OWASP BWA 下载页面'
- en: '](image/B15632_03_018.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_018.jpg)'
- en: Figure 3.18 – OWASP BWA download page on Sourceforge.net
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.18 – Sourceforge.net 上的 OWASP BWA 下载页面
- en: Select **Download Latest Version** from the Sourceforge page to start the download.
    This download may take some time due to the file size (1.8 GB), depending on your
    internet connection bandwidth.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 从Sourceforge页面选择**下载最新版本**以开始下载。由于文件大小（1.8 GB），这个下载可能需要一些时间，具体取决于你的互联网连接带宽。
- en: The downloaded file is a compressed folder, containing VM files and the hard
    drive image. Now, we will see how easy it is to configure the server VM, as it
    will be much easier than the client one.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 下载的文件是一个压缩文件夹，包含虚拟机文件和硬盘镜像。现在，我们将看到配置服务器虚拟机是多么简单，因为它比客户端虚拟机要容易得多。
- en: Creating the OWASP BWA VM
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建OWASP BWA虚拟机
- en: 'Proceed in a similar fashion to what we saw in the *Creating a new client VM*
    section, with the following steps:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 按照我们在*创建新客户端虚拟机*部分中看到的相似方式进行操作，以下是步骤：
- en: Create a new VM using your emulation software (Linux, 64-bit) and set 1,024
    MB of main memory. You can use *Figure 3.15* and *Figure 3.16* as a reference,
    since the options will be identical.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用你的仿真软件创建一个新的虚拟机（Linux，64位），并设置1,024 MB的内存。你可以参考*图3.15*和*图3.16*，因为选项将是相同的。
- en: Once you are prompted to select the virtual hard drive, choose an existing hard
    drive (in this case, the one provided in the **OWASP BWA** folder, **OWASP Broken
    Web Apps-cl1.vmdk**). The process is illustrated in the following screenshot:![Figure
    3.19 – Existing disk selection for the OWASP BWA VM
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦系统提示你选择虚拟硬盘，选择一个现有的硬盘（在本例中，选择**OWASP BWA**文件夹中的**OWASP Broken Web Apps-cl1.vmdk**）。以下截图展示了该过程：![图3.19
    – 选择现有磁盘以用于OWASP BWA虚拟机
- en: '](image/B15632_03_019.jpg)'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_019.jpg)'
- en: Figure 3.19 – Existing disk selection for the OWASP BWA VM
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.19 – 选择现有磁盘以用于OWASP BWA虚拟机
- en: Since the VM has a large number of security vulnerabilities, set it with a **Host
    Only** connection to make it visible only at a local IP address from your host
    machine. Go to the **Settings** panel from the VirtualBox menu and configure the
    VM network adapter from the **Network** tab. The process is illustrated in the
    following screenshots:![Figure 3.20 – a—The Settings option from VirtualBox main
    screen
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于虚拟机存在大量安全漏洞，因此将其设置为**仅主机**连接，使其仅在你的主机机器的本地IP地址上可见。进入VirtualBox菜单中的**设置**面板，并从**网络**选项卡配置虚拟机网络适配器。以下截图展示了该过程：![图3.20
    – a—VirtualBox主屏幕中的“设置”选项
- en: '](image/B15632_03_020.jpg)'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_020.jpg)'
- en: Figure 3.20 – a—The Settings option from VirtualBox main screen
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.20 – a—VirtualBox主屏幕中的“设置”选项
- en: 'The **Network** panel the **Settings** menu is shown as follows:'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**网络**面板在**设置**菜单中的显示如下：'
- en: '![Figure 3.21 – b—The Network panel in the Settings menu'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图3.21 – b—设置菜单中的网络面板'
- en: '](image/B15632_03_021.jpg)'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_021.jpg)'
- en: Figure 3.21 – b—The Network panel in the Settings menu
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.21 – b—设置菜单中的网络面板
- en: 'Once the VM is ready, you can access it at the IP shown on its screen. By accessing
    the IP address with your web browser, you can see the applications available,
    up and running, as in the selection hub shown in *Figure 3.7*. In the following
    screenshot, you can see what the server VM screen looks like after startup, showing
    the IP address to use to connect through HTTP to the web applications:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦虚拟机准备好，你可以通过屏幕上显示的IP地址进行访问。通过浏览器访问该IP地址，你可以看到可用的应用程序正在运行，正如*图3.7*所示的选择中心。在下图中，你可以看到服务器虚拟机启动后的屏幕，显示了用于通过HTTP连接Web应用程序的IP地址：
- en: '![Figure 3.22 – The main screen of the OWASP BWA, with the instructions to
    access the vulnerable web apps'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.22 – OWASP BWA的主屏幕，包含访问易受攻击的Web应用程序的说明'
- en: '](image/B15632_03_022.jpg)'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_022.jpg)'
- en: Figure 3.22 – The main screen of the OWASP BWA, with the instructions to access
    the vulnerable web apps
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.22 – OWASP BWA的主屏幕，包含访问易受攻击的Web应用程序的说明
- en: This concludes the setup of the web application environment. In the following
    section, we will deal with other emulated devices.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 这就完成了Web应用程序环境的设置。在接下来的部分，我们将处理其他仿真设备。
- en: The target – configuring your target-emulated devices
  id: totrans-154
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 目标 – 配置你的目标仿真设备
- en: We will now see how to set up mobile and IoT emulated devices.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们将演示如何设置移动设备和物联网仿真设备。
- en: 'In terms of functionality, these devices have a more restricted range of operations:
    usually, IoT devices have very limited computational power, and usually rely on
    simple web services, stripped out of any rich graphical setting.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在功能上，这些设备的操作范围更加有限：通常，物联网设备具有非常有限的计算能力，通常依赖于简单的Web服务，且没有任何丰富的图形设置。
- en: Some applications from the OWASP BWA virtual web server can actually mimic this
    behavior by providing web server **application programming interfaces** (**APIs**).
    We can say that we have already set up some of the environment for web service
    interaction.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 来自 OWASP BWA 虚拟 Web 服务器的某些应用程序实际上可以模拟这种行为，通过提供 Web 服务器的**应用程序编程接口**（**APIs**）。我们可以说，我们已经为
    Web 服务交互设置了一些环境。
- en: 'A side note: the OWASP IoT security testing framework and IoTGoat projects'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 附注：OWASP IoT 安全测试框架和 IoTGoat 项目
- en: 'An interesting approach to IoT Security Testing comes, once again, from OWASP:
    the IoT security testing framework was released this year, and provides a thorough
    methodology for assessing and testing vulnerabilities in IoT environments, in
    a similar fashion as in the web application and mobile application testing frameworks
    provided by OWASP.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 一个有趣的 IoT 安全测试方法再次来自 OWASP：IoT 安全测试框架今年发布，提供了一种彻底的方法论，用于评估和测试 IoT 环境中的漏洞，类似于
    OWASP 提供的 Web 应用程序和移动应用程序测试框架。
- en: 'In conjunction with this new framework, OWASP released yet another useful tool
    for testing purposes, while keeping everything legal and in a controlled setting:
    the OWASP IoTGoat VM. This project presents, in some ways, the IoT homologue to
    the OWASP BWA project, by providing a deliberately vulnerable emulation of a device,
    with many vulnerabilities in the OWASP Top 10 IoT vulnerabilities. We think it''s
    worth checking it out in any case, at the official GitHub page: [https://github.com/OWASP/IoTGoat](https://github.com/OWASP/IoTGoat).'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 与这个新框架相结合，OWASP 发布了另一个用于测试的实用工具，同时保持一切合法并在可控的环境中进行：OWASP IoTGoat 虚拟机。这个项目在某些方面呈现了
    IoT 对应于 OWASP BWA 项目的角色，通过提供一个故意存在漏洞的设备模拟，包含许多 OWASP IoT 漏洞前十中的漏洞。我们认为无论如何都值得查看它，访问官方
    GitHub 页面：[https://github.com/OWASP/IoTGoat](https://github.com/OWASP/IoTGoat)。
- en: After dealing with web services and web application, which also constitute the
    main means of interacting with the world of IoT, we will be setting up our way
    to simulate mobile devices. To do so, we need a way to emulate a mobile application
    environment, including the client.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理 Web 服务和 Web 应用程序后，这些也构成了与 IoT 世界交互的主要方式，我们将设置模拟移动设备的方式。为此，我们需要一种方式来模拟移动应用程序环境，包括客户端。
- en: 'First and foremost, we recommend the most famous editor for Android mobile
    applications, which is also free to use: Android Studio.'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们推荐最著名的 Android 移动应用程序编辑器，它也是免费的：Android Studio。
- en: '**Android Studio** is a complete developer environment for Android Mobile applications.
    It also provides a handy Android emulator, to test developed applications from
    the client perspective on the same computer you would use for programming. This
    is the main feature we will use for testing for SQL injection.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '**Android Studio** 是一个完整的 Android 移动应用程序开发环境。它还提供了一个方便的 Android 模拟器，可以在同一台用于编程的计算机上，从客户端的角度测试开发的应用程序。这是我们用于
    SQL 注入测试的主要功能。'
- en: 'Download Android Studio from the official website ([https://developer.android.com/studio](https://developer.android.com/studio))
    and proceed with the installation. Android Studio is shown in the following screenshot:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 从官方网站下载 Android Studio（[https://developer.android.com/studio](https://developer.android.com/studio)），并继续安装。以下截图展示了
    Android Studio：
- en: '![Figure 3.23 – Android Studio official download page'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.23 – Android Studio 官方下载页面'
- en: '](image/B15632_03_023.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_023.jpg)'
- en: Figure 3.23 – Android Studio official download page
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.23 – Android Studio 官方下载页面
- en: 'From here, you''ll have many options to choose from. Most of those are fine
    and can be selected as you like, but the most important feature we need from this
    is the Android emulator. Be sure to have it selected during installation. The
    process is illustrated in the following screenshot:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 从这里开始，您将有很多选项可以选择。大多数选项都可以选择，根据个人喜好即可，但我们需要的最重要功能是 Android 模拟器。安装时确保选择了此选项。以下截图展示了该过程：
- en: '![Figure 3.24 – Select Android virtual device as an option during the installation
    of Android Studio'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.24 – 在安装 Android Studio 时选择 Android 虚拟设备作为选项'
- en: '](image/B15632_03_024.jpg)'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_024.jpg)'
- en: Figure 3.24 – Select Android virtual device as an option during the installation
    of Android Studio
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.24 – 在安装 Android Studio 时选择 Android 虚拟设备作为选项
- en: Run Android Studio, to finalize installation at the first startup. Feel free
    to set your preferences, but you should be fine with the standard installation.
    Once everything is set, you will now have what you need to emulate a mobile application
    client. As you probably know, mobile applications usually consist of client applications
    for web services. For this reason, we need a way to deploy and emulate a web service.
    Many options would do, but we recommend one of the most popular Java environments
    for coders, which is Eclipse. This will be used to run simple Java code that we
    will be using for emulating web services we need for our mobile application to
    work.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 启动 Android Studio，完成首次启动时的安装。可以自由设置偏好设置，但标准安装应该足够。一切设置完成后，你就拥有了模拟移动应用客户端所需的工具。正如你可能知道的那样，移动应用通常由客户端应用程序与
    Web 服务组成。因此，我们需要一种部署并模拟 Web 服务的方法。虽然有很多选择，但我们推荐使用 Eclipse，它是最受开发者欢迎的 Java 环境之一。我们将使用
    Eclipse 来运行简单的 Java 代码，这些代码将用于模拟我们移动应用所需的 Web 服务。
- en: 'Before installing the Java environment, to make our web service work, we need
    to install two more items of software, as follows:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装 Java 环境之前，为了使 Web 服务能够正常工作，我们还需要安装另外两项软件，具体如下：
- en: '**Apache Tomcat** (available at [https://tomcat.apache.org/download-90.cgi](https://tomcat.apache.org/download-90.cgi))'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Apache Tomcat**（可在 [https://tomcat.apache.org/download-90.cgi](https://tomcat.apache.org/download-90.cgi)
    下载）'
- en: '**MySQL Community** (available at  [https://dev.mysql.com/downloads/installer/](https://dev.mysql.com/downloads/installer/)).
    In this case, select the custom installation to install only **MySQL Server**
    and **MySQL Workbench**, as illustrated in the following screenshot:'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MySQL Community**（可在 [https://dev.mysql.com/downloads/installer/](https://dev.mysql.com/downloads/installer/)
    下载）。在这种情况下，选择自定义安装，只安装 **MySQL Server** 和 **MySQL Workbench**，如下图所示：'
- en: '![Figure 3.25 – Custom installation for MySQL'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.25 – MySQL 自定义安装'
- en: '](image/B15632_03_025.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_025.jpg)'
- en: Figure 3.25 – Custom installation for MySQL
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.25 – MySQL 自定义安装
- en: 'After having installed both Tomcat and MySQL, go to the MySQL website, then
    go to the **Download** section and download the Java connector to work with Tomcat
    ([https://dev.mysql.com/downloads/connector/j/](https://dev.mysql.com/downloads/connector/j/)).
    Be sure to select **Platform Independent** as the operating system. The process
    is illustrated in the following screenshot:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装完 Tomcat 和 MySQL 后，访问 MySQL 网站，然后进入 **下载** 部分，下载用于与 Tomcat 配合使用的 Java 连接器
    ([https://dev.mysql.com/downloads/connector/j/](https://dev.mysql.com/downloads/connector/j/))。确保选择
    **平台无关** 作为操作系统。该过程如下面的截图所示：
- en: '![Figure 3.26 – Downloading the Java connector'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.26 – 下载 Java 连接器'
- en: '](image/B15632_03_026.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_026.jpg)'
- en: Figure 3.26 – Downloading the Java connector
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.26 – 下载 Java 连接器
- en: After the download, move the file in the lib folder of the Apache Tomcat installation
    folder (usually, **C:\Program Files\Apache Software Foundation\Tomcat 9.0\lib**).
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 下载后，将文件移动到 Apache Tomcat 安装文件夹中的 lib 文件夹（通常是 **C:\Program Files\Apache Software
    Foundation\Tomcat 9.0\lib**）。
- en: 'Finally, head to the official Eclipse download page ([https://www.eclipse.org/downloads/](https://www.eclipse.org/downloads/))
    and follow the instructions. This can be seen in the following screenshot:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，前往官方 Eclipse 下载页面 ([https://www.eclipse.org/downloads/](https://www.eclipse.org/downloads/))
    并按照说明进行操作。以下截图展示了该过程：
- en: '![Figure 3.27 – The official Eclipse download page'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.27 – 官方 Eclipse 下载页面'
- en: '](image/B15632_03_027.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_027.jpg)'
- en: Figure 3.27 – The official Eclipse download page
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.27 – 官方 Eclipse 下载页面
- en: In some cases, the installer might not find any **Java Virtual Machine** (**JVM**)
    installed on your computer. If that is the case, it should show a pop-up to ask
    you to browse for the missing file. Choose the option to browse for it from the
    pop-up and browse your computer, and point to a valid **javaw.exe** file. You
    should find it anyway in the **jre\bin** folder of your Android Studio installation
    folder.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，安装程序可能找不到你计算机上安装的 **Java 虚拟机** (**JVM**) 。如果是这种情况，它会弹出一个窗口，要求你浏览丢失的文件。选择从弹出窗口中浏览该文件的选项，并在计算机上浏览，指向有效的
    **javaw.exe** 文件。你应该能够在 Android Studio 安装文件夹中的 **jre\bin** 文件夹中找到该文件。
- en: 'For our purpose, during the installation, select the **Eclipse IDE for Enterprise
    Java Developer** option: this is particularly useful as it includes all we need
    for deploying web services. This is shown in the following screenshot:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装过程中，选择 **Eclipse IDE for Enterprise Java Developer** 选项，这对我们来说非常有用，因为它包含了部署
    Web 服务所需的所有工具。如下图所示：
- en: '![Figure 3.28 – Select the highlighted option during Eclipse installation'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.28 – Eclipse安装期间选择突出显示的选项'
- en: '](image/B15632_03_028.jpg)'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_028.jpg)'
- en: Figure 3.28 – Select the highlighted option during Eclipse installation
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.28 – Eclipse安装期间选择突出显示的选项
- en: At this point, installation should begin. Proceed with setting up your preferences
    in terms of path and accessibility.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，安装应该开始了。请继续根据路径和可访问性设置您的偏好。
- en: Operating the lab
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作实验室
- en: Now that the components of the lab are fully set up, we are ready to make it
    work.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 现在实验室的组件已经完全设置好，我们准备开始让它工作。
- en: Setting up the OWASP BWA lab
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置OWASP BWA实验室
- en: 'Here are the steps we suggest to set up the OWASP BWA part of the lab:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们建议的设置OWASP BWA实验室部分的步骤：
- en: First, run the OWASP BWA VM from VirtualBox. Once it has started, it should
    display the screen shown in *Figure 3.21*. By now, the full list of web applications
    can be accessed at the address shown on the screen on your computer.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，从VirtualBox运行OWASP BWA虚拟机。启动后，它应该显示出*图3.21*中所示的屏幕。现在，计算机上可以通过屏幕上显示的地址访问完整的Web应用程序列表。
- en: 'To use Kali Linux, run your Kali VM from VirtualBox. Keep in mind that as long
    as OWASP BWA is running with the current settings, it can also access the web
    applications available from BWA. This is illustrated in the following screenshot:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用Kali Linux，请从VirtualBox运行您的Kali虚拟机。请记住，只要OWASP BWA在当前设置下运行，它也可以访问BWA中可用的Web应用程序。以下截图展示了这一点：
- en: '![Figure 3.29 – The OWASP BWA selection hub as seen from the Kali VM'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.29 – 从Kali虚拟机看到的OWASP BWA选择中心'
- en: '](image/B15632_03_029.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '](image/B15632_03_029.jpg)'
- en: Figure 3.29 – The OWASP BWA selection hub as seen from the Kali VM
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.29 – 从Kali虚拟机看到的OWASP BWA选择中心
- en: This way, any emulated device on your computer can connect to the OWASP BWA
    server, thus making it possible to test a various range of attacks. Obviously,
    manual attacks can also be carried out from the comfort of your own computer without
    using any VM. We will use Kali Linux mainly for advanced or automated attacks.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 这样，您计算机上的任何模拟设备都可以连接到OWASP BWA服务器，从而使得可以测试各种攻击范围。显然，也可以在不使用任何虚拟机的情况下，从您自己的计算机舒适地执行手动攻击。我们将主要使用Kali
    Linux进行高级或自动化攻击。
- en: As for Android Studio and Eclipse, we will deal with these more thoroughly during
    the next chapter, as we will be using those in some specific use cases. Anyway,
    in order to make the Android emulator work, we need to set up a virtual device
    first.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 至于Android Studio和Eclipse，我们将在下一章中更详细地处理这些工具，因为我们将在某些特定用例中使用它们。无论如何，为了使Android模拟器正常工作，我们需要首先设置一个虚拟设备。
- en: Setting up an Android Virtual Device
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置Android虚拟设备
- en: 'Here we are setting up an **Android Virtual Device** (**AVD**) using Android
    Studio. Please follow our easy step-by-step guide given here:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们正在使用Android Studio设置一个**Android虚拟设备**（**AVD**）。请按照我们提供的简单逐步指南操作：
- en: Select the **AVD Manager** option from the main Android Studio screen. It should
    be at the upper right of the screen, as shown in the following screenshot:![Figure
    3.30 – AVD Manager in Android Studio
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从Android Studio的主屏幕选择**AVD管理器**选项。它应该位于屏幕的右上方，如下图所示：![图3.30 – Android Studio中的AVD管理器
- en: '](image/B15632_03_030.jpg)'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_030.jpg)'
- en: Figure 3.30 – AVD Manager in Android Studio
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.30 – Android Studio中的AVD管理器
- en: 'Once in the **AVD Manager**, select **Create Virtual Device…**. You will then
    select the emulated model (Google Pixel 2 is usually the default selection: you
    can go for it). The process is illustrated in the following screenshot:![Figure
    3.31 – AVD Manager''s main screen'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入**AVD管理器**后，选择**创建虚拟设备…**。然后选择模拟模型（通常默认选择的是Google Pixel 2：您可以选择它）。该过程在以下截图中展示：![图3.31
    – AVD管理器的主屏幕
- en: '](image/B15632_03_031.jpg)'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_031.jpg)'
- en: Figure 3.31 – AVD Manager's main screen
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.31 – AVD管理器的主屏幕
- en: Once selected, you will need to select a system image. Choose **Android 10**
    from the recommended system images. The selected image will then be downloaded.
    Depending on your internet connection, this may take quite some time. The process
    is illustrated in the following screenshot:![Figure 3.32 – System image selection
    for a new device
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦选择好，您需要选择一个系统映像。从推荐的系统映像中选择**Android 10**。然后，所选映像将被下载。根据您的互联网连接速度，这可能需要相当长的时间。该过程在以下截图中有所展示：![图3.32
    – 新设备的系统映像选择
- en: '](image/B15632_03_032.jpg)'
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](image/B15632_03_032.jpg)'
- en: Figure 3.32 – System image selection for a new device
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.32 - 新设备的系统映像选择
- en: After the download is complete, the **AVD Manager** main screen will list your
    newly configured emulated device.
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载完成后，**AVD管理器**的主屏幕将列出你新配置的模拟设备。
- en: The emulated device works exactly like a VM. It will replicate the functionality
    of an Android mobile device. This feature was devised specifically to test the
    runtime of developed Android applications. We will see some examples in the next
    chapter of this book.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟设备的工作方式与虚拟机完全相同。它将复制Android移动设备的功能。此功能专门用于测试开发的Android应用程序的运行时。我们将在本书的下一章看到一些示例。
- en: 'So, to sum it up: you can have all your targets running on your computer and
    perform all your tests without the need for physical machines or extra devices.
    However, in case you have constraints dictated by your machines such as limits
    for main memory, we recommend trying each of the scenarios separately in order
    not to overload your computer with too many virtualizations at once. However,
    systems settings for your VMs can be adjusted in accordance with your needs.'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 总结一下：你可以在计算机上运行所有目标并进行所有测试，而无需物理机器或额外的设备。然而，如果你的机器受到主内存等限制，我们建议分别尝试每个场景，以免一次性使计算机的虚拟化过多而过载。然而，你可以根据需求调整虚拟机的系统设置。
- en: Summary
  id: totrans-219
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we set up the lab environment we need for running our tests.
    Here's a brief checklist of what we set up so far, with a recap of the tools we
    will be using.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们设置了执行测试所需的实验室环境。以下是我们到目前为止设置的简要清单，并回顾了我们将使用的工具。
- en: Our main tool for performing tests in an ethical setup is using virtualization
    software, to test our attack techniques without damaging any third parties while
    using free tools and software.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在道德设置中执行测试的主要工具是使用虚拟化软件，借此在不损害任何第三方的情况下测试我们的攻击技术，同时使用免费工具和软件。
- en: Our main client for running web-based attacks, besides possibly our computer
    itself, will be a Kali Linux VM for advanced and automated attack techniques.
    To emulate a vulnerable target web server, we will be using the OWASP BWA VM,
    containing both traditional web applications vulnerable to SQL injection, and
    web service attack (**representational state transfer** (**REST**)) scenarios,
    on which other application models, such as IoT architectures, usually rely. Our
    mobile application scenarios will be run using Android Studio, using its built-in
    device emulator for the client, and a web service running on our computer itself.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 除了可能是我们自己的计算机外，我们执行基于Web的攻击的主要客户端将是Kali Linux虚拟机，用于高级和自动化攻击技术。为了模拟一个易受攻击的目标Web服务器，我们将使用OWASP
    BWA虚拟机，其中包含易受SQL注入攻击的传统Web应用程序，以及Web服务攻击（**表征状态转移**（**REST**））场景，其他应用程序模型，如物联网架构，通常依赖于这些场景。我们的移动应用程序场景将通过Android
    Studio运行，使用其内置的设备模拟器作为客户端，以及运行在我们计算机上的Web服务。
- en: All these different scenarios can be run separately on our computer, without
    overloading our resources too much. In any case, settings can be customized depending
    on your limits and needs.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些不同的场景可以单独在我们的计算机上运行，而不会过度占用我们的资源。无论如何，设置可以根据你的限制和需求进行自定义。
- en: The next chapter will be the core of the practical section, and will be centered
    on running, in a step-by-step approach, the attack techniques we saw in [*Chapter
    2*](B15632_02_Final_JC_ePub.xhtml#_idTextAnchor031), *Manipulating SQL – Exploiting
    SQL Injection* (and more). These will be performed against the same virtual environment
    we have seen in this chapter itself.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 下一章将是实际部分的核心，重点是按照逐步方法运行我们在[*第2章*](B15632_02_Final_JC_ePub.xhtml#_idTextAnchor031)中看到的攻击技术，*操纵SQL
    – 利用SQL注入*（以及更多）。这些操作将在我们本章所看到的相同虚拟环境中执行。
- en: We hope you'll have fun in the next chapter, as you will be getting hands-on
    experience with what we've seen so far.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 我们希望你在下一章中能玩得开心，因为你将亲自体验到我们迄今为止所看到的内容。
- en: Questions
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What is virtualization software? Why do we need it for our practical section?
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是虚拟化软件？为什么我们在实际部分中需要它？
- en: What is Kali Linux? Why do we use it in our lab setting?
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是Kali Linux？我们为什么在实验室环境中使用它？
- en: What is the OWASP BWA project? Why do we need it for testing?
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是OWASP BWA项目？为什么我们在测试中需要它？
- en: What kind of emulated devices are we dealing with?
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们正在处理什么样的模拟设备？
- en: Is it legal to test SQL injection against third-party, non-consenting entities?
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在未经第三方同意的情况下对SQL注入进行测试是否合法？
