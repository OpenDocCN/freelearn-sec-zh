- en: Chapter 2. Incident Response and Live Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第2章 事件响应与实时分析
- en: The stages of preparation to respond to an incident are a matter which much
    attention should be paid to. In some cases, the lack of necessary tools during
    the incident leads to the inability to perform the necessary actions at the right
    time.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 准备应对事件的各个阶段是一个需要特别关注的问题。在某些情况下，事件发生时缺乏必要的工具，导致无法在合适的时机采取必要的行动。
- en: Taking into account that the reaction time of an incident depends on the efficiency
    of the incident handling process, it becomes clear that in order to prepare the
    IR team, its technical support should be very careful.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到事件的反应时间取决于事件处理过程的效率，可以明确的是，为了准备IR团队，必须非常小心地进行技术支持。
- en: 'The whole set of requirements can be divided into several categories for the
    IR team:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 整个要求集可以分为几个类别来应用于IR团队：
- en: Skills
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技能
- en: Hardware
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 硬件
- en: Software
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件
- en: Let's consider the main issues that may arise during the preparation of the
    incident response team in more detail.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地考虑在准备事件响应团队过程中可能出现的主要问题。
- en: If we want to build a computer security incident response team, we need people
    with a certain set of skills and technical expertise to perform technical tasks
    and effectively communicate with other external contacts. Now, we will consider
    the skills of members of the team.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们想要建立一个计算机安全事件响应团队，我们需要具备一定技能和技术专长的人员，来执行技术任务并有效地与外部联系人沟通。现在，我们将考虑团队成员的技能。
- en: 'The set of skills that members of the team need to have can be divided into
    two groups:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 团队成员所需的技能可以分为两类：
- en: Personal skills
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 个人技能
- en: Technical skills
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术技能
- en: Personal skills
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 个人技能
- en: Personal skills are very important for a successful response team. This is because
    the interaction with team members who are technical experts but have poor social
    skills can lead to misunderstanding and misinterpretation of the results, the
    consequences of which may affect the team's reputation.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 个人技能对于一个成功的响应团队至关重要。这是因为与技术专家但社交能力较差的团队成员互动，可能导致误解和结果的误读，而这些后果可能影响团队的声誉。
- en: A list of key personal skills will be discussed in the following sections.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 一些关键的个人技能将在接下来的部分中讨论。
- en: Written communication
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 书面沟通
- en: For many IR teams, a large part of their communication occurs through written
    documents. These communications can take many forms, including e-mails concerning
    incidents documentation of event or incident reports, vulnerabilities, and other
    technical information notifications. Incident response team members must be able
    to write clearly and concisely, describe activities accurately, and provide information
    that is easy for their readers to understand.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 对于许多IR团队来说，沟通的一大部分是通过书面文件进行的。这些沟通可以采取多种形式，包括涉及事件的电子邮件、事件或事故报告的文档、漏洞以及其他技术信息通知。事件响应团队的成员必须能够清晰简洁地写作，准确描述活动，并提供易于读者理解的信息。
- en: Oral communication
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 口头沟通
- en: The ability to communicate effectively though spoken communication is also an
    important skill to ensure that the incident response team members say the right
    words to the right people.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 通过口头沟通有效传达信息的能力也是一项重要技能，确保事件响应团队成员能对正确的人说出合适的话语。
- en: Presentation skills
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 演讲技巧
- en: Not all technical experts have good presentation skills. They may not be comfortable
    in front of a large audience. Gaining confidence in presentation skills will take
    time and effort for the team's members to become more experienced and comfortable
    in such situations.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有技术专家都有良好的演讲技巧。他们可能不擅长在大规模观众面前发言。提升演讲技巧的信心将需要时间和努力，团队成员需要逐渐积累经验，在这种情况下感到更加自如。
- en: Diplomacy
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 外交手段
- en: The members of the incident response team interact with people who may have
    a variety of goals and needs. Skilled incident response team members will be able
    to anticipate potential points of contention, be able to respond appropriately,
    maintain good relationships, and avoid offending others. They also will understand
    that they are representing the IR team and their organization.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 事件响应团队的成员需要与目标和需求可能各异的人互动。熟练的事件响应团队成员能够预见潜在的争议点，作出恰当回应，保持良好的关系，避免冒犯他人。他们还会理解自己代表着IR团队及其组织。
- en: Diplomacy and tact are very important.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 外交和机智非常重要。
- en: The ability to follow policies and procedures
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 遵循政策和程序的能力
- en: Another important skill that members of the team need is the ability to follow
    and support the established policies and procedures of the organization or team.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 团队成员需要的另一个重要技能是能够遵循并支持组织或团队已建立的政策和程序。
- en: Team skills
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 团队合作技能
- en: IR staff must be able to work in the team environment as productive and cordial
    team players. They need to be aware of their responsibilities, contribute to the
    goals of the team, and work together to share information, workload, and experiences.
    They must be flexible and willing to adapt to change. They also need skills to
    interact with other parties.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: IR人员必须能够在团队环境中作为高效而友好的团队成员工作。他们需要意识到自己的责任，为团队目标作出贡献，并共同分享信息、工作量和经验。他们必须灵活，并愿意适应变化。他们还需要与其他方互动的技能。
- en: Integrity
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 诚信
- en: The nature of IR work means that team members often deal with information that
    is sensitive and, occasionally, they might have access to information that is
    newsworthy. The team's members must be trustworthy, discrete, and able to handle
    information in confidence according to the guidelines, any constituency agreements
    or regulations, and/or any organizational policies and procedures.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: IR工作的性质意味着团队成员经常处理敏感信息，偶尔他们还可能接触到具有新闻价值的信息。团队成员必须值得信赖、谨慎，并能够根据指南、任何利益相关方协议或规定和/或任何组织政策和程序保密处理信息。
- en: In their efforts to provide technical explanations or responses, the IR staff
    must be careful to provide appropriate and accurate information while avoiding
    the dissemination of any confidential information that could detrimentally affect
    another organization's reputation, result in the loss of the IR team's integrity,
    or affect other activities that involve other parties.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在提供技术解释或响应的过程中，IR人员必须小心提供适当且准确的信息，同时避免传播任何可能对其他组织声誉造成负面影响、导致IR团队诚信受损或影响涉及其他方的活动的机密信息。
- en: Knowing one's limits
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 了解自己的局限
- en: Another important ability that the IR team's members must have is the ability
    to be able to readily admit when they have reached the limit of their own knowledge
    or expertise in a given area. However difficult it is to admit a limitation, individuals
    must recognize their limitations and actively seek support from their team members,
    other experts, or their management.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: IR团队成员必须具备的另一个重要能力是能够在某一领域遇到自己知识或专业的局限时，迅速承认这一点。无论承认局限有多困难，个人都必须认识到自己的局限，并积极寻求团队成员、其他专家或管理层的支持。
- en: Coping with stress
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应对压力
- en: The IR team's members often could be in stressful situations. They need to be
    able to recognize when they are becoming stressed, be willing to make their fellow
    team members aware of the situation, and take (or seek help with) the necessary
    steps to control and maintain their composure. In particular, they need the ability
    to remain calm in tense situations—ranging from an excessive workload to an aggressive
    caller to an incident where human life or a critical infrastructure may be at
    risk. The team's reputation, and the individual's personal reputation, will be
    enhanced or will suffer depending on how such situations are handled.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: IR团队成员经常面临压力情况。他们需要能够识别自己何时感到压力，愿意让其他团队成员意识到这一情况，并采取（或寻求帮助）采取必要措施来控制和保持冷静。特别是，他们需要在紧张情况下保持冷静的能力——从超负荷的工作量到攻击性的来电，再到可能危及人类生命或关键基础设施的事件。团队的声誉和个人的声誉将取决于如何处理这些情况。
- en: Problem solving
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题解决
- en: IR team members are confronted with data every day, and sometimes, the volume
    of information is large. Without good problem-solving skills, staff members could
    become overwhelmed with the volumes of data that are related to incidents and
    other tasks that need to be handled. Problem-solving skills also include the ability
    for the IR team's members to "think outside the box" or look at issues from multiple
    perspectives to identify relevant information or data.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: IR团队成员每天都面临大量数据，有时信息量非常庞大。如果没有良好的问题解决技能，团队成员可能会被与事件和其他任务相关的大量数据所压倒。问题解决技能还包括IR团队成员“跳出框框思考”的能力，或从多个角度看问题以识别相关信息或数据。
- en: Time management
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 时间管理
- en: Along with problem-solving skills, it is also important for the IR team's members
    to be able to manage their time effectively. They will be confronted with a multitude
    of tasks ranging from analyzing, coordinating, and responding to incidents, to
    performing duties, such as prioritizing their workload, attending and/or preparing
    for meetings, completing time sheets, collecting statistics, conducting research,
    giving briefings and presentations, traveling to conferences, and possibly providing
    on-site technical support.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 除了解决问题的能力，IR 团队的成员还需要能够有效地管理时间。他们将面临许多任务，从分析、协调和响应事件，到执行诸如优先处理工作负载、参加和/或准备会议、填写时间表、收集统计数据、进行研究、提供简报和演示、参加会议以及可能提供现场技术支持等职责。
- en: Technical skills
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 技术技能
- en: Another important component of the skills needed for an IR team to be effective
    is the technical skills of their staff. These skills, which define the depth and
    breadth of understanding of the technologies that are used by the team, and the
    constituency it serves, are outlined in the following sections.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个有效 IR 团队所需的重要技能组件是其员工的技术技能。这些技能定义了团队所使用的技术以及其服务的群体的理解深度和广度，以下各节将进行说明。
- en: 'In turn, the technical skills, which the IR team members should have, can be
    divided into two groups: **security fundamentals** and **incident handling skills**.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 反过来，IR 团队成员应具备的技术技能可以分为两大类：**安全基础**和**事件处理技能**。
- en: Security fundamentals
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全基础
- en: Let's look at some of the security fundamentals in the following subsections.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们在以下小节中看看一些安全基础。
- en: Security principles
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安全原则
- en: 'The IR team''s members need to have a general understanding of the basic security
    principles, such as the following:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: IR 团队的成员需要对基本的安全原则有一般性了解，例如以下内容：
- en: Confidentiality
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保密性
- en: Availability
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可用性
- en: Authentication
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 身份认证
- en: Integrity
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完整性
- en: Access control
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问控制
- en: Privacy
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐私
- en: Nonrepudiation
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不可否认性
- en: Security vulnerabilities and weaknesses
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安全漏洞和弱点
- en: 'To understand how any specific attack is manifested in a given software or
    hardware technology, the IR team''s members need to be able to first understand
    the fundamental causes of vulnerabilities through which most attacks are exploited.
    They need to be able to recognize and categorize the most common types of vulnerabilities
    and associated attacks, such as those that might involve the following:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 要理解任何特定攻击如何在给定的软件或硬件技术中表现出来，IR 团队的成员需要首先能够理解漏洞的根本原因，通过这些漏洞大多数攻击得以利用。他们需要能够识别和分类最常见的漏洞类型及相关攻击，例如那些可能涉及以下内容的攻击：
- en: Physical security issues
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理安全问题
- en: Protocol design flaws (for example, man-in-the-middle attacks or spoofing)
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 协议设计缺陷（例如，中间人攻击或欺骗）
- en: Malicious code (for example, viruses, worms, or Trojan horses)
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 恶意代码（例如，病毒、蠕虫或特洛伊木马）
- en: Implementation flaws (for example, buffer overflow or timing windows/race conditions)
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现缺陷（例如，缓冲区溢出或时序窗口/竞争条件）
- en: Configuration weaknesses
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置弱点
- en: User errors or indifference
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户错误或漠不关心
- en: The Internet
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 互联网
- en: It is important that the IR team's members also understand the Internet. Without
    this fundamental background information, they will struggle or fail to understand
    other technical issues, such as the lack of security in underlying protocols and
    services that are used on the Internet or to anticipate the threats that might
    occur in the future.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是，IR 团队的成员还需要了解互联网。没有这一基本的背景信息，他们将难以或无法理解其他技术问题，例如互联网底层协议和服务缺乏安全性，或者无法预见未来可能出现的威胁。
- en: Risks
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 风险
- en: The IR team's members need to have a basic understanding of computer security
    risk analysis. They should understand the effects on their constituency of various
    types of risks (such as potentially widespread Internet attacks, national security
    issues as they relate to their team and constituency, physical threats, financial
    threats, loss of business, reputation, or customer confidence, and damage or loss
    of data).
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: IR 团队的成员需要具备计算机安全风险分析的基本知识。他们应当理解各种风险对其所服务群体的影响（例如，可能广泛传播的互联网攻击、与团队和服务对象相关的国家安全问题、物理威胁、财务威胁、业务损失、声誉或客户信任丧失，以及数据损坏或丢失）。
- en: Network protocols
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络协议
- en: Members of the IR team need to have a basic understanding of the common (or
    core) network protocols that are used by the team and the constituency that they
    serve. For each protocol, they should have a basic understanding of the protocol,
    its specifications, and how it is used. In addition to this, they should understand
    the common types of threats or attacks against the protocol, as well as strategies
    to mitigate or eliminate such attacks.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: IR团队成员需要对团队和所服务的用户所使用的常见（或核心）网络协议有基本的理解。对于每个协议，他们应当了解协议的基本概念、规范以及如何使用。此外，他们还需了解该协议常见的威胁或攻击类型，并能采取策略来减轻或消除这些攻击。
- en: For example, at a minimum, the staff should be familiar with protocols, such
    as IP, TCP, UDP, ICMP, ARP, and RARP. They should understand how these protocols
    work, what they are used for, the differences between them, some of the common
    weaknesses, and so on. In addition to this, the staff should have a similar understanding
    of protocols, such as TFTP, FTP, HTTP, HTTPS, SNMP, SMTP, and any other protocols.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，至少，工作人员应当熟悉一些常见的协议，如IP、TCP、UDP、ICMP、ARP和RARP。他们需要了解这些协议的工作原理、用途、它们之间的差异、一些常见的弱点等。除此之外，工作人员还应当对类似TFTP、FTP、HTTP、HTTPS、SNMP、SMTP等协议有类似的理解。
- en: The specialist skills include a more in-depth understanding of security concepts
    and principles in all the preceding areas in addition to expert knowledge in the
    mechanisms and technologies that lead to flaws in these protocols, the weaknesses
    that can be exploited (and why), the types of exploitation methods that would
    likely be used, and the strategies to mitigate or eliminate these potential problems.
    They should have expert understanding of additional protocols or Internet technologies
    (DNSSEC, IPv6, IPSEC, and other telecommunication standards that might be implemented
    or interface with their constituent's networks, such as ATM, BGP, broadband, voice
    over IP, wireless technology, other routing protocols, or new emerging technologies,
    and so on). They could then provide expert technical guidance to other members
    of the team or constituency.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 专业技能包括对前述所有领域的安全概念和原则的更深入理解，并且具备对导致这些协议漏洞的机制和技术的专业知识，了解可以被利用的弱点（以及为何会被利用），可能使用的攻击方法类型，以及减轻或消除这些潜在问题的策略。他们还应当对其他协议或互联网技术（如DNSSEC、IPv6、IPSEC以及其他可能与用户网络兼容或交互的电信标准，如ATM、BGP、宽带、IP语音、无线技术、其他路由协议、或新兴技术等）有专家级理解。这样，他们可以为团队或用户的其他成员提供专家技术指导。
- en: Network applications and services
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络应用与服务
- en: The IR team's staff need a basic understanding of the common network applications
    and services that the team and the constituency use (DNS, NFS, SSH, and so on).
    For each application or service they should understand the purpose of the application
    or service, how it works, its common usages, secure configurations, and the common
    types of threats or attacks against the application or service, as well as mitigation
    strategies.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: IR团队的成员需要对团队和所服务的用户常用的网络应用与服务（如DNS、NFS、SSH等）有基本的了解。对于每一个应用或服务，他们应当了解其目的、工作原理、常见用途、安全配置以及该应用或服务常见的威胁或攻击类型，此外，还需了解相应的缓解策略。
- en: Network security issues
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络安全问题
- en: The members of the IR team should have a basic understanding of the concepts
    of network security and be able to recognize vulnerable points in network configurations.
    They should understand the concepts and basic perimeter security of network firewalls
    (design, packet filtering, proxy systems, DMZ, bastion hosts, and so on), router
    security, the potential for information disclosure of data traveling across the
    network (for example, packet monitoring or "sniffers"), or threats that are related
    to accepting untrustworthy information.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: IR团队的成员应当具备网络安全概念的基本理解，并能够识别网络配置中的弱点。他们应了解网络防火墙的基本外围安全概念（如设计、数据包过滤、代理系统、DMZ、堡垒主机等），路由器安全性，数据在网络中传输时可能遭遇的信息泄露风险（例如，数据包监控或“嗅探器”），以及与接受不可信信息相关的威胁。
- en: Host or system security issues
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 主机或系统安全问题
- en: 'In addition to understanding security issues at a network level, the IR team''s
    members need to understand security issues at a host level for the various types
    of operating systems (UNIX, Windows, or any other operating systems that are used
    by the team or constituency). Before understanding the security aspects, the IR
    team''s member must first have the following:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 除了了解网络级别的安全问题外，IR团队的成员还需要了解各种操作系统（UNIX、Windows或团队或管辖范围使用的任何其他操作系统）在主机级别的安全问题。在了解安全方面之前，IR团队的成员必须首先具备以下内容：
- en: Experience using the operating system (user security issues)
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用操作系统的经验（用户安全问题）
- en: Some familiarity with managing and maintaining the operating system (as an administrator)
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对管理和维护操作系统（作为管理员）有一定的熟悉度
- en: 'Then, for each operating system, the IR team member needs to know how to perform
    the following:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，对于每个操作系统，IR团队成员需要知道如何执行以下操作：
- en: Configure (harden) the system securely
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全地配置（强化）系统
- en: Review configuration files for security weaknesses
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查配置文件中的安全弱点
- en: Identify common attack methods
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别常见攻击方法
- en: Determine whether a compromise attempt occurred
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定是否发生了入侵尝试
- en: Determine whether an attempted system compromise was successful
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定入侵尝试是否成功
- en: Review log files for anomalies
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查日志文件中的异常
- en: Analyze the results of attacks
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析攻击结果
- en: Manage system privileges
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理系统权限
- en: Secure network daemons
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全的网络守护进程
- en: Recover from a compromise
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从入侵中恢复
- en: Malicious code
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 恶意代码
- en: The IR team's members must understand the different types of malicious code
    attacks that occur and how these can affect their constituency (system compromises,
    denial of service, loss of data integrity, and so on). Malicious code can have
    different types of payloads that can cause a denial of service attack or web defacement,
    or the code can contain more "dynamic" payloads that can be configured to result
    in multifaceted attack vectors. Staff should understand not only how malicious
    code is propagated through some of the obvious methods (disks, e-mail, programs,
    and so on), but they should also understand how it can propagate through other
    means, such as PostScript, Word macros, MIME, peer-to-peer file sharing, or boot-sector
    viruses that affect operating systems running on PC and Macintosh platforms. The
    IR team's staff must be aware of how such attacks occur and are propagated, the
    risks and damage associated with such attacks, prevention and mitigation strategies,
    detection and removal processes, and recovery techniques.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: IR团队的成员必须了解发生的不同类型的恶意代码攻击及其如何影响他们的管辖范围（系统入侵、拒绝服务、数据完整性丧失等）。恶意代码可能具有不同类型的载荷，可能导致拒绝服务攻击或网页篡改，或者代码可能包含更多“动态”载荷，可以配置以产生多方面的攻击向量。工作人员不仅要理解恶意代码是如何通过一些显而易见的方法传播的（磁盘、电子邮件、程序等），还需要理解它如何通过其他方式传播，如PostScript、Word宏、MIME、对等文件共享或影响运行在PC和Mac平台上的操作系统的启动扇区病毒。IR团队的成员必须了解此类攻击如何发生及其传播方式，相关的风险和损害，预防和缓解策略，检测和移除过程，以及恢复技术。
- en: Specialist skills include expertise in performing analysis, black box testing,
    reverse engineering malicious code that is associated with such attacks, and in
    providing advice to the team on the best approaches for an effective response.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 专业技能包括执行分析、黑盒测试、逆向工程与此类攻击相关的恶意代码的专业知识，并为团队提供有关有效响应最佳方法的建议。
- en: Programming skills
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 编程技能
- en: 'Some team members need to have system and network programming experience. The
    team should ensure that a range of programming languages is covered on the operating
    systems that the team and the constituency use. For example, the team should have
    experience in the following:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 一些团队成员需要具备系统和网络编程经验。团队应确保在团队和管辖范围使用的操作系统中涵盖多种编程语言。例如，团队应具备以下经验：
- en: C
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C
- en: Python
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Python
- en: Awk
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Awk
- en: Java
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Java
- en: Shell (all variations)
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shell（所有变种）
- en: Other scripting tools
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其他脚本工具
- en: These scripts or programming tools can be used to assist in the analysis and
    handling of incident information (for example, writing different scripts to count
    and sort through various logs, search databases, look up information, extract
    information from logs or files, and collect and merge data).
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这些脚本或编程工具可用于帮助分析和处理事件信息（例如，编写不同的脚本来计数和排序各种日志、搜索数据库、查找信息、从日志或文件中提取信息，以及收集和合并数据）。
- en: Incident handling skills
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 事件处理技能
- en: Local team policies and protocols
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本地团队政策和协议
- en: Understanding and identifying intruder techniques
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解和识别入侵者的技术
- en: Communication with sites
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与站点的通信
- en: Incident analysis
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件分析
- en: Maintenance of incident records
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件记录的维护
- en: The hardware for IR and Jump Bag
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IR 和 Jump Bag 的硬件
- en: Certainly, a set of equipment that may be required during the processing of
    the incident should be prepared in advance, and this matter should be given much
    attention. This set is called the **Jump Bag**.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，可能在事件处理中需要的设备集应该提前准备，并且应给予充分重视。这个套件被称为 **Jump Bag**。
- en: The formation of such a kit is largely due to the budget the organization could
    afford. Nevertheless, there is a certain necessary minimum, which will allow the
    team to handle incidents in small quantities.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 这种套件的形成在很大程度上取决于组织能够承担的预算。然而，仍然有一个必要的最低配置，可以让团队处理小数量的事件。
- en: If the budget allows it, it is possible to buy a turnkey solution, which includes
    all the necessary equipment and the case for its transportation. As an instance
    of such a solution, FREDL + Ultra Kit could be recommended. **FREDL** is short
    for **Forensic Recovery of Evidence Device Laptop**. With Ultra Kit, this solution
    will cost about 5000 USD.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如果预算允许，可以购买一个完整的解决方案，其中包含所有必要的设备和用于运输的箱子。作为此类解决方案的示例，可以推荐 FREDL + Ultra Kit。**FREDL**
    是 **Forensic Recovery of Evidence Device Laptop** 的缩写。配合 Ultra Kit，这个解决方案大约需要
    5000 美元。
- en: 'Ultra Kit contains a set of write-blockers and a set of adapters and connecters
    to obtain images of hard drives with a different interface:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: Ultra Kit 包含一套写保护器和一套适配器与连接器，用于获取具有不同接口的硬盘镜像：
- en: '![The hardware for IR and Jump Bag](img/image_02_001.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![IR 和 Jump Bag 的硬件](img/image_02_001.jpg)'
- en: Note
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More details can be found on the manufacturer's website at [https://www.digitalintelligence.com/products/ultrakit/](https://www.digitalintelligence.com/products/ultrakit/).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 更多细节可以在制造商网站上找到，[https://www.digitalintelligence.com/products/ultrakit/](https://www.digitalintelligence.com/products/ultrakit/)。
- en: Certainly, if we ignore the main drawback of such a solution, this decision
    has a lot of advantages as compared to the cost. Besides this, you get a complete
    starter kit to handle the incident. Besides, Ultra Kit allows you to safely transport
    equipment without fear of damage.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，如果我们忽略这种解决方案的主要缺点，与成本相比，这个决策有很多优势。除此之外，你还可以获得一套完整的入门套件来处理事件。此外，Ultra Kit
    允许你安全地运输设备，而不必担心损坏。
- en: Note
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The FRED-L laptop is based on a modern hardware, and the specifications are
    constantly updated to meet modern requirements. Current specifications can be
    found on the manufacturer's website at [http://www.digitalintelligence.com/products/fredl/](http://www.digitalintelligence.com/products/fredl/).
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: FRED-L 笔记本基于现代硬件，规格不断更新，以满足现代要求。当前规格可以在制造商网站上找到，[http://www.digitalintelligence.com/products/fredl/](http://www.digitalintelligence.com/products/fredl/)。
- en: '![The hardware for IR and Jump Bag](img/image_02_002.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![IR 和 Jump Bag 的硬件](img/image_02_002.jpg)'
- en: However, if you want to replace the expensive solution, you could build a cheaper
    alternative that will save 20-30% of the budget. It is possible to buy the components
    included in the review of decisions separately.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果你想替代昂贵的解决方案，可以构建一个更便宜的替代品，这样可以节省 20-30% 的预算。你可以单独购买决策评审中包含的组件。
- en: 'As a workstation, you can choose a laptop with the following specifications:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 作为工作站，你可以选择一台具有以下规格的笔记本电脑：
- en: Intel Core i7-6700K Skylake Quad Core Processor, 4.0 GHz, 8MB Intel Smart Cache
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 英特尔 Core i7-6700K Skylake 四核处理器，4.0 GHz，8MB Intel Smart Cache
- en: 16 GB PC4-17000 DDR4 2133 Memory
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 16 GB PC4-17000 DDR4 2133 内存
- en: 256 GB Solid State Internal SATA Drive
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 256 GB 固态内部 SATA 驱动器
- en: Intel Z170 Express Chipset
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 英特尔 Z170 Express 芯片组
- en: NVIDIA GeForce GTX 970M with 6 GB GDDR5 VRAM
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NVIDIA GeForce GTX 970M，配备 6 GB GDDR5 显存
- en: This specification will provide a comfortable workstation to work on the road.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 该规格将提供一个舒适的工作站，用于在路上工作。
- en: Note
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: As a case study for the transport of the equipment, we recommend paying attention
    to Pelican ([http://www.pelican.com](http://www.pelican.com)) cases. In this case,
    the manufacturer can choose the equipment to meet your needs.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 作为设备运输的案例研究，我们建议关注 Pelican（[http://www.pelican.com](http://www.pelican.com)）箱子。在这种情况下，制造商可以选择符合你需求的设备。
- en: One of the typical tasks in handling of incidents is obtaining images from hard
    drives. For this task, you can use a duplicator or a bunch of write-blockers and
    computer.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 处理事件的典型任务之一是从硬盘获取镜像。对于这个任务，你可以使用复制器或一组写保护器和计算机。
- en: Duplicators are certainly a more convenient solution; their usage allows you
    to quickly get the disk image without using additional software. Their main drawback
    is the price. However, if you often have to extract the image of hard drives and
    you have a few thousand dollars, the purchase of the duplicator is a good investment.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 复制器无疑是一种更便捷的解决方案；使用它们可以快速获取磁盘镜像，而无需额外的软件。它们的主要缺点是价格较高。然而，如果你经常需要提取硬盘镜像，并且预算有几千美元，那么购买复制器是一个不错的投资。
- en: If the imaging of hard drives is a relatively rare problem and you have a limited
    budget, you can purchase a write blocker which will cost 300-500 USD. However,
    it is necessary to use a computer and software, which we will discuss in later
    chapters.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 如果硬盘镜像是相对少见的问题，而且预算有限，你可以购买一个写保护器，价格大约在300到500美元之间。然而，使用该工具时需要电脑和软件，后续章节会进行详细讨论。
- en: To pick up the necessary equipment, you can visit [http://www.insectraforensics.com](http://www.insectraforensics.com),
    where you can find equipment from different manufacturers.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 要购买所需的设备，你可以访问 [http://www.insectraforensics.com](http://www.insectraforensics.com)，那里有来自不同制造商的设备。
- en: Also, do not forget about the hard drives themselves. It is worth buying a few
    hard drives with large volumes for the possibility of good performance.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，也不要忘记硬盘本身。值得购买一些大容量的硬盘，以确保良好的性能。
- en: 'To summarize, responders need to include the following items in a basic set:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 总结一下，响应人员需要在基本工具包中包括以下物品：
- en: Several network cables (straight through or loopback)
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 几根网络电缆（直通电缆或环回电缆）
- en: A serial cable with a serial USB adapter
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一根带有串口 USB 适配器的串行电缆
- en: Network serial adapters
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络串口适配器
- en: Hard drives (various sizes)
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 硬盘（不同尺寸）
- en: Flash drives
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 闪存驱动器
- en: A Linux Live DVD
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一张 Linux Live DVD
- en: A portable drive duplicator with a write-blocker
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带写保护器的便携式驱动器复制器
- en: Various drive interface adapters
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 各种驱动器接口适配器
- en: A four port hub
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一台四端口集线器
- en: A digital camera
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数码相机
- en: Cable ties
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电缆扎带
- en: Cable snips
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电缆剪刀
- en: Assorted screws and hex drivers
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 各种螺丝和六角驱动工具
- en: Notebooks and pens
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 笔记本和笔
- en: Chain of Custody forms
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 监控链表格
- en: Incident handling procedure
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件处理程序
- en: Software
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 软件
- en: After talking about the hardware, we did not forget about the software that
    you should always have on hand. The variety of software that can be used in the
    processing of the incident allows you to select software-based preferences, skills,
    and budget. Some prefer command-line utilities, and some find that GUI is more
    convenient to use.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论硬件之后，我们没有忘记你应该始终随身携带的软件。可以用于事件处理的软件种类繁多，可以根据个人的偏好、技能和预算来选择。有些人喜欢使用命令行工具，而有些人则发现图形界面（GUI）更加方便使用。
- en: Sometimes, the use of certain tools is dictated by the circumstances under which
    it's needed to work.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，某些工具的使用是由工作所需的具体情况决定的。
- en: Some utilities will be discussed in further sections and later chapters. However,
    we strongly recommend that you prepare these in advance and thoroughly test the
    entire set of required software.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 一些工具将在后续章节中讨论。然而，我们强烈建议你提前准备并彻底测试所有需要的软件。
- en: Live versus mortem
  id: totrans-154
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活体与死亡（Live versus mortem）
- en: The initial reaction to an incident is a very important step in the process
    of computer incident management. The correct method of carrying out and performing
    this step depends on the success of the investigation.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 对事件的初步反应是计算机事件管理过程中非常重要的一步。正确执行此步骤的方法直接影响调查的成功与否。
- en: Moreover, a correct and timely response is needed to reduce the damage caused
    by the incident.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，及时且正确的响应对于减少事件造成的损害至关重要。
- en: The traditional approach to the analysis of the disks is not always practical,
    and in some cases, it is simply not possible.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 传统的磁盘分析方法并不总是实用的，在某些情况下，根本无法使用。
- en: In today's world, the development of computer technology has led to many companies
    having a distribution network in many cities, countries, and continents. Wish
    this physical disconnection of the computer from the network, following the traditional
    investigation of each computer is not possible.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在今天的世界里，计算机技术的发展使得许多公司在多个城市、国家和大陆建立了分销网络。由于计算机与网络的物理隔离，传统的对每台计算机进行调查的方法已不再可行。
- en: In such cases, the incident responder should be able to carry out a prior assessment
    remotely and as soon as possible, view a list of running processes, open network
    connections, open files, and get a list of registered users in the system. Then,
    if necessary, carry out a full investigation.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，事件响应者应能够远程进行先期评估，并尽快查看正在运行的进程列表、开放的网络连接、打开的文件，以及获取系统中注册的用户列表。然后，如有必要，进行全面调查。
- en: In this chapter, we will look at some approaches that the responder may apply
    in a given situation. However, even in these cases when we have physical access
    to the machine, live response is the only way of incident response.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨应答者在特定情况下可能采用的一些方法。然而，即使在我们可以物理访问机器的情况下，实时响应仍然是唯一的事件响应方式。
- en: For example, cases where we are dealing with large disk arrays. In this case,
    there are several problems at once. The first problem is that the space to store
    large amounts of data is also difficult to identify. In addition to this, the
    time that may be required to analyze large amounts of data is unreasonably high.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，当我们处理大容量磁盘阵列时。在这种情况下，一次性会遇到几个问题。第一个问题是，存储大量数据的空间也很难识别。除了这个问题外，分析大量数据所需的时间也过于高估。
- en: Typically, such large volumes of data have a highly loaded server serving hundreds
    of thousands of users, so their trip, or even a reboot, is not acceptable for
    business.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，这类大量数据由一个高负载服务器提供服务，支持数十万用户，因此它们的访问，甚至重启，都是不可接受的商业行为。
- en: Another scenario that requires the Live Forensics approach is when an encrypted
    filesystem is used. In cases where the analyst doesn't have the key to decrypt
    the disc, Live Forensics is a good alternative to obtain data from a system where
    encryption of the filesystem is used.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种需要采用实时取证方法的情境是使用加密文件系统的情况。在没有解密密钥的情况下，实时取证是一种有效的替代方法，可以从使用加密文件系统的系统中获取数据。
- en: This is not an exhaustive list of cases when the Live Analysis could be applicable.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不是实时分析可能适用的所有情况的详尽列表。
- en: It is worth noting one very important point. During the Live Analysis, it is
    not possible to avoid changes in the system.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是一个非常重要的点：在实时分析过程中，无法避免系统的变化。
- en: Connecting external USB devices or network connectivity, user log on, or launching
    an executable file will be modified in the system in a variety of log files, registry
    keys, and so on. Therefore, you need to understand what changes were caused by
    the actions of responders and document them.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 连接外部USB设备或网络连接、用户登录或启动可执行文件等操作会在系统的各种日志文件、注册表项等中进行修改。因此，您需要了解应答者的操作所造成的变化，并记录下来。
- en: Volatile data
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 易失性数据
- en: Under the principle of "order of Volatility", you must first collect information
    that is classified as Volatile Data (the list of network connections, the list
    of running processes, log on sessions, and so on), which will be irretrievably
    lost in case the computer is powered off.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 根据“易失性顺序”原则，您必须首先收集被归类为易失性数据的信息（如网络连接列表、正在运行的进程列表、登录会话等），这些信息在计算机关机时会不可恢复地丢失。
- en: Then, you can start to collect nonvolatile data, which can also be obtained
    with the traditional approach in the analysis of the disk image. The main difference
    in this case is that a Live Forensics set of data is easier to obtain with a working
    machine.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以开始收集非易失性数据，这些数据也可以通过传统的磁盘映像分析方法获得。此时的主要区别是，使用正常工作的机器时，获取实时取证数据更为简便。
- en: The process of obtaining a memory dump and a disk image as well as their analysis
    is described in detail in other chapters. This chapter will focus on the collection
    of Volatile data.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 获取内存转储和磁盘映像以及对其进行分析的过程将在其他章节中详细描述。本章将重点讨论易失性数据的收集。
- en: 'Typically, this category includes the following data:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，这个类别包括以下数据：
- en: System uptime and the current time
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统运行时间和当前时间
- en: Network parameters (NetBIOS name cache, active connections, the routing table,
    and so on).
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络参数（NetBIOS名称缓存、活动连接、路由表等）
- en: NIC configuration settings
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络接口卡（NIC）配置设置
- en: Logged on users and active sessions
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 登录用户和活动会话
- en: Loaded drivers
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加载的驱动程序
- en: Running services
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正在运行的服务
- en: Running processes and their related parameters (loaded DLLs, open handles, and
    ownership)
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正在运行的进程及其相关参数（加载的DLL、打开的句柄和所有权）
- en: Autostart modules
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自启动模块
- en: Shared drives and files opened remotely
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共享驱动器和远程打开的文件
- en: 'Recording the time and date of the data collection allows you to define a time
    interval in which the investigator will perform an analysis of the system:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 记录数据收集的时间和日期可以帮助定义一个时间间隔，调查人员将在该时间段内对系统进行分析：
- en: '[PRE0]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The last command allows you to show how long the machine worked since the last
    reboot.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一条命令可以显示自上次重启以来机器的运行时间。
- en: Using the `%COMPUTERNAME%` environment variable, we can set up separate directories
    for each machine in case we need to repeat the process of collecting information
    on different computers in a network.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `%COMPUTERNAME%` 环境变量，我们可以为每台计算机设置单独的目录，以防需要重复在网络中不同计算机上收集信息的过程。
- en: 'In some cases, signs of compromise are clearly visible in the analysis of network
    activity. The next set of commands allows you to get this information:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，通过分析网络活动，可以清楚地看到妥协的迹象。下一组命令允许您获取这些信息：
- en: '[PRE1]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The first command uses `nbtstat.exe` to obtain information from the cache of
    NetBIOS. You display the NetBIOS names in their corresponding IP address. The
    second and third commands use `netstat.exe` to record all of the active compounds,
    listening ports, and routing tables.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 第一条命令使用 `nbtstat.exe` 从 NetBIOS 缓存中获取信息。您可以显示与相应 IP 地址关联的 NetBIOS 名称。第二条和第三条命令使用
    `netstat.exe` 记录所有活动连接、监听端口和路由表。
- en: For information about network settings, the `ipconfig.exe` network interfaces
    command is used.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 获取网络设置信息时，使用 `ipconfig.exe` 网络接口命令。
- en: The last block command starts the Microsoft `promqry` utility, which allows
    you to define the network interfaces on the local machine, which operates in promiscuous
    mode. This mode is required for network sniffers, so the detection of the regime
    indicates that the computer can run software that listens to network traffic.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一条命令启动了 Microsoft `promqry` 工具，它允许您定义本地计算机上处于混杂模式的网络接口。此模式是网络嗅探工具所需的，因此检测到此模式表明计算机可能运行监听网络流量的软件。
- en: 'To enumerate all the logged on users on the computer, you can use the Sysinternals
    tools:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 要列出计算机上所有登录的用户，可以使用 Sysinternals 工具：
- en: '[PRE2]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The `PsLoggedOn.exe` command lists both types of users, those who are logged
    on to the computer locally, and those who logged on remotely over the network.
    Using the `-x` switch, you can get the time at which each user logged on.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '`PsLoggedOn.exe` 命令列出了两类用户：一类是本地登录到计算机的用户，另一类是通过网络远程登录的用户。使用 `-x` 参数，您可以获得每个用户登录的时间。'
- en: With the `-p` key, `logonsessions` will display all of the processes that were
    started by the user during the session.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `-p` 键，`logonsessions` 将显示该用户在会话期间启动的所有进程。
- en: It should be noted that `logonsessions` must be run with administrator privileges.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 应注意，`logonsessions` 必须以管理员权限运行。
- en: 'To get a list of all drivers that are loaded into the system, you can use the
    WDK `drivers.exe` utility:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取加载到系统中的所有驱动程序列表，可以使用 WDK `drivers.exe` 工具：
- en: '[PRE3]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The next set of commands to obtain a list of running processes and related
    information is as follows:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 获取运行中的进程及其相关信息的下一组命令如下：
- en: '[PRE4]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The `tasklist.exe` utility that is made with the `/ svc` key enumerates the
    list of running processes and services in their context. While the previous command
    displays a list of running services, PsService receives information on services
    using the information in the registry and SCM database.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `/svc` 参数的 `tasklist.exe` 工具枚举运行中的进程和服务及其上下文。尽管前一条命令显示了正在运行的服务列表，但 PsService
    通过注册表和 SCM 数据库中的信息获取服务信息。
- en: Services are a traditional way through which attackers can access a previously
    compromised system. Services can be configured to run automatically without user
    intervention, and they can be launched as part of another process, such as `svchost.exe`.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 服务是攻击者访问之前已被妥协系统的传统方式。服务可以配置为在没有用户干预的情况下自动运行，并且可以作为另一个进程的一部分启动，如 `svchost.exe`。
- en: In addition to this, remote access can be provided through completely legitimate
    services, such as telnet or ftp. To associate users with their running processes,
    use the `tasklist / v` command key.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，远程访问可以通过完全合法的服务提供，如 telnet 或 ftp。要将用户与其运行的进程关联，可以使用 `tasklist / v` 命令。
- en: To enumerate a list of DLLs loaded in each process and the full path to the
    DLL, you can use `listsdlls.exe` from SysInternals.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 要列出每个进程中加载的 DLL 及其完整路径，可以使用 SysInternals 的 `listsdlls.exe`。
- en: Another `handle.exe` utility can be used to list all the handles, which are
    open processes. This handles registry keys, files, ports, mutexes, and so on.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个 `handle.exe` 工具可以用来列出所有已打开的句柄，这些句柄是打开的进程。它处理注册表键、文件、端口、互斥体等。
- en: Other utilities require run with administrator privileges. These tools can help
    identify malicious DLLs that were injected into the processes, as well as files,
    which have not been accessed by these processes.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 其他工具需要以管理员权限运行。这些工具可以帮助识别被注入到进程中的恶意 DLL，以及这些进程未访问的文件。
- en: 'The next group of commands allows you to get a list of programs that are configured
    to start automatically:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 下一组命令允许你获取配置为自动启动的程序列表：
- en: '[PRE5]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The first command starts the SysInternals utility, autoruns, and displays a
    list of executables that run at system startup and when users log on. This utility
    allows you to detect malware that uses the popular and well-known methods for
    persistent installation into the system.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个命令启动 SysInternals 工具，autoruns，并显示在系统启动和用户登录时运行的可执行文件列表。这个工具可以帮助你检测使用流行且著名的持久安装方法将恶意软件安装到系统中的情况。
- en: Two other commands (`at` and `schtasks`) display a list of commands that run
    in the schedule. To start the `at` command also requires administrator privileges.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 另外两个命令（`at` 和 `schtasks`）会显示计划中运行的命令列表。启动 `at` 命令也需要管理员权限。
- en: To install backdoors mechanisms, services are often used, but services are constantly
    working in the system and, thus, can be easily detected during live response.
    Thus, create a backdoor that runs on a schedule to avoid detection. For example,
    an attacker could create a task that will run the malware just outside working
    hours.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装后门机制，通常使用服务，但服务始终在系统中运行，因此可以在实时响应期间轻松被检测到。因此，创建一个按计划运行的后门以避免被发现。例如，攻击者可以创建一个任务，在工作时间外运行恶意软件。
- en: 'To get a list of network share drives and disk files that are deleted, you
    can use the following two commands:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取已删除的网络共享驱动器和磁盘文件列表，可以使用以下两个命令：
- en: '[PRE6]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Nonvolatile data
  id: totrans-212
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 非易失性数据。
- en: After Volatile data has been collected, you can continue to collect Nonvolatile
    Data. This data can be obtained at the stage of analyzing the disk, but as we
    mentioned earlier, analysis of the disk is not possible in some cases.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在收集了易失性数据之后，可以继续收集非易失性数据。这些数据可以在分析磁盘阶段获取，但正如我们之前提到的，在某些情况下，无法对磁盘进行分析。
- en: 'This data includes the following:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据包括以下内容：
- en: The list of installed software and updates
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已安装的软件和更新列表。
- en: User info
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户信息。
- en: Metadata about a filesystem's timestamps
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件系统时间戳的元数据。
- en: Registry data
  id: totrans-218
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 注册表数据。
- en: However, upon receipt of this data with the live running of the system, there
    are difficulties that are associated with the fact that many of these files cannot
    be copied in the usual way, as they are locked by the operating system. To do
    this, use one of the utilities. One such utility is the `RawCopy.exe` utility,
    which is authored by *Joakim Schicht*.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在接收到这些数据并在系统实时运行时，会遇到困难，因为许多文件无法以通常的方式复制，因为它们被操作系统锁定。为此，使用其中的一种工具。一个这样的工具是由*Joakim
    Schicht* 编写的 `RawCopy.exe` 工具。
- en: This is a console application that copies files off NTFS volumes using the low-level
    disk reading method.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个控制台应用程序，它通过低级磁盘读取方法从 NTFS 卷中复制文件。
- en: 'The application has two mandatory parameters, target file and output path:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 该应用程序有两个必需的参数，目标文件和输出路径：
- en: '`-param1`: This is the full path to the target file to extract; it also supports
    `IndexNumber` instead of file path'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-param1`：这是要提取的目标文件的完整路径；它也支持使用 `IndexNumber` 替代文件路径。'
- en: '`-param2`: This is a valid path to output directory'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-param2`：这是有效的输出目录路径。'
- en: This tool will let you copy files that are usually not accessible because the
    system has locked them. For instance, the registry hives such as `SYSTEM` and
    `SAM`, files inside `SYSTEM VOLUME INFORMATION`, or any file on the volume.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具可以让你复制通常无法访问的文件，因为系统已将它们锁定。例如，注册表配置单元，如 `SYSTEM` 和 `SAM`，位于 `SYSTEM VOLUME
    INFORMATION` 中的文件，或者卷上的任何文件。
- en: This supports the input file specified either with the full file path or by
    its `$MFT` record number (index number).
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 这支持通过完整文件路径或其 `$MFT` 记录号（索引号）指定输入文件。
- en: 'Here''s an example of copying the `SYSTEM` hive off a running system:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 这是从正在运行的系统中复制 `SYSTEM` 配置单元的示例：
- en: '[PRE7]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Here''s an example of extracting the `$MFT` by specifying its index number:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 这是通过指定索引号提取 `$MFT` 的示例：
- en: '[PRE8]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Here''s an example of extracting the `MFT` reference number `30224` and all
    attributes, including `$DATA`, and dumping it into `C:\tmp`:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 这是提取 `MFT` 引用编号 `30224` 及所有属性（包括 `$DATA`）并将其转储到 `C:\tmp` 的示例：
- en: '[PRE9]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: To download RawCopy, go to [https://github.com/jschicht/RawCopy](https://github.com/jschicht/RawCopy).
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 要下载 RawCopy，请访问 [https://github.com/jschicht/RawCopy](https://github.com/jschicht/RawCopy)。
- en: Knowing what software is installed and what its updates are helps further the
    investigation because this shows possible ways to compromise a system through
    a vulnerability in the software. One of the first actions that the attacker makes
    is to attack during a system scan to detect active services and exploit the vulnerabilities
    in them.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 了解安装了哪些软件以及这些软件的更新信息有助于进一步调查，因为这显示了可能通过软件漏洞破坏系统的方式。攻击者进行的第一步通常是在系统扫描过程中进行攻击，以检测活动服务并利用其中的漏洞。
- en: Thus, services that were not patched can be utilized for remote system penetration.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，未打补丁的服务可以被用来进行远程系统渗透。
- en: 'One way to install a set of software and updates is to use the `systeminfo`
    utility:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 安装一组软件和更新的方式之一是使用 `systeminfo` 工具：
- en: '[PRE10]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Moreover, skilled attackers can themselves perform the same actions and install
    necessary updates in order to hide the traces of penetration into the system.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，熟练的攻击者还可以自行执行相同的操作并安装必要的更新，以隐藏渗透系统的痕迹。
- en: 'After identifying the vulnerable services and their successful exploits, the
    attacker creates an account for themselves in order to subsequently use legal
    ways to enter the system. Therefore, the analysis of data about users of the system
    reveals the following traces of the compromise:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在识别出易受攻击的服务及其成功被利用后，攻击者会创建一个账户以便随后以合法方式进入系统。因此，对系统用户数据的分析揭示了以下被妥协的痕迹：
- en: The `Recent` folder contents, including LNK files and jump lists
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Recent` 文件夹内容，包括 LNK 文件和跳转列表'
- en: LNK files in the `Office Recent` folder
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Office Recent` 文件夹中的 LNK 文件'
- en: The `Network Recent` folder contents
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Network Recent` 文件夹内容'
- en: The entire `temp` folder
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整个 `temp` 文件夹
- en: The entire `Temporary Internet Files` folder
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整个 `Temporary Internet Files` 文件夹
- en: The `PrivacyIE` folder
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PrivacyIE` 文件夹'
- en: The `Cookies` folder
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Cookies` 文件夹'
- en: The `Java Cache` folder contents
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Java Cache` 文件夹内容'
- en: 'Now, let''s consider the preceding cases as follows:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们考虑前述情况，如下所示：
- en: 'Collecting the `Recent` folder is done as follows:'
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集 `Recent` 文件夹的操作如下所示：
- en: '[PRE11]'
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Here `%RECENT%` depends on the version of Windows.
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里 `%RECENT%` 取决于 Windows 版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 5.x（Windows 2000、Windows XP 和 Windows 2003），如下所示：
- en: '[PRE12]'
  id: totrans-252
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'For Windows 6.x (Windows Vista and newer):'
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 6.x（Windows Vista 及更高版本）：
- en: '[PRE13]'
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Collecting the `Office Recent` folder is done as follows:'
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集 `Office Recent` 文件夹的操作如下所示：
- en: '[PRE14]'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Here `%RECENT_OFFICE%` depends on the version of Windows.
  id: totrans-257
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里 `%RECENT_OFFICE%` 取决于 Windows 版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 5.x（Windows 2000、Windows XP 和 Windows 2003），如下所示：
- en: '[PRE15]'
  id: totrans-259
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'For Windows 6.x (Windows Vista and newer), this is as follows:'
  id: totrans-260
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 6.x（Windows Vista 及更高版本），如下所示：
- en: '[PRE16]'
  id: totrans-261
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Collecting the `Network Shares Recent` folder is done as follows:'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集 `Network Shares Recent` 文件夹的操作如下所示：
- en: '[PRE17]'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Here `%NetShares%` depends on the version of Windows.
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里 `%NetShares%` 取决于 Windows 版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 5.x（Windows 2000、Windows XP 和 Windows 2003），如下所示：
- en: '[PRE18]'
  id: totrans-266
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'For Windows 6.x (Windows Vista and newer), this is as follows:'
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 6.x（Windows Vista 及更高版本），如下所示：
- en: '[PRE19]'
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Collecting the `Temporary` folder is done as follows:'
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集 `Temporary` 文件夹的操作如下所示：
- en: '[PRE20]'
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Here `%TEMP%` depends on the version of Windows.
  id: totrans-271
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里 `%TEMP%` 取决于 Windows 版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-272
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 5.x（Windows 2000、Windows XP 和 Windows 2003），如下所示：
- en: '[PRE21]'
  id: totrans-273
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'For Windows 6.x (Windows Vista and newer), this is as follows:'
  id: totrans-274
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 6.x（Windows Vista 及更高版本），如下所示：
- en: '[PRE22]'
  id: totrans-275
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Collecting the `Temporary Internet Files` folder is done as follows:'
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集 `Temporary Internet Files` 文件夹的操作如下所示：
- en: '[PRE23]'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Here `%TEMP_INTERNET_FILE%` depends on the version of Windows.
  id: totrans-278
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里 `%TEMP_INTERNET_FILE%` 取决于 Windows 版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-279
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 5.x（Windows 2000、Windows XP 和 Windows 2003），如下所示：
- en: '[PRE24]'
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'For Windows 6.x (Windows Vista and newer), this is as follows:'
  id: totrans-281
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 6.x（Windows Vista 及更高版本），如下所示：
- en: '[PRE25]'
  id: totrans-282
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Collecting the `PrivacIE` folder is done as follows:'
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集 `PrivacIE` 文件夹的操作如下所示：
- en: '[PRE26]'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Here `%PRIVACYIE%` depends on the version of Windows.
  id: totrans-285
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里 `%PRIVACYIE%` 取决于 Windows 版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-286
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Windows 5.x（Windows 2000、Windows XP 和 Windows 2003），如下所示：
- en: '[PRE27]'
  id: totrans-287
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'For Windows 6.x (Windows Vista and newer), this is as follows:'
  id: totrans-288
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于Windows 6.x（包括Windows Vista及更高版本），具体如下：
- en: '[PRE28]'
  id: totrans-289
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Collecting the `Cookies` folder is done as follows:'
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集`Cookies`文件夹的方法如下：
- en: '[PRE29]'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Here `%COOKIES%` depends on the version of Windows.
  id: totrans-292
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里的`%COOKIES%`取决于Windows的版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-293
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于Windows 5.x（包括Windows 2000、Windows XP和Windows 2003），具体如下：
- en: '[PRE30]'
  id: totrans-294
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'For Windows 6.x (Windows Vista and newer), this is as follows:'
  id: totrans-295
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于Windows 6.x（包括Windows Vista及更高版本），具体如下：
- en: '[PRE31]'
  id: totrans-296
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Collecting the `Java Cache` folder is done as follows:'
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集`Java Cache`文件夹的方法如下：
- en: '[PRE32]'
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Here `%JAVACACHE%` depends on the version of Windows.
  id: totrans-299
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里的`%JAVACACHE%`取决于Windows的版本。
- en: 'For Windows 5.x (Windows 2000, Windows XP, and Windows 2003), this is as follows:'
  id: totrans-300
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于Windows 5.x（包括Windows 2000、Windows XP和Windows 2003），具体如下：
- en: '[PRE33]'
  id: totrans-301
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'For Windows 6.x (Windows Vista and newer), this is as follows:'
  id: totrans-302
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于Windows 6.x（包括Windows Vista及更高版本），具体如下：
- en: '[PRE34]'
  id: totrans-303
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Remote live response
  id: totrans-304
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 远程现场响应
- en: However, as mentioned earlier, it is often necessary to carry out the collection
    of information remotely. On Windows systems, this is often done using the SysInternals
    PsExec utility. PsExec lets you execute commands on remote computers and does
    not require the installation of the system.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如前所述，通常需要远程进行信息收集。在Windows系统上，通常使用SysInternals PsExec实用程序来执行此操作。PsExec允许您在远程计算机上执行命令，而无需安装系统。
- en: How the program works is a `psexec.exe` resource executable is another PsExecs
    executable. This file runs the Windows service on a particular target machine.
    Before executing the command, PsExec unpacks this hidden resource in the administrative
    sphere of the remote computer at `Admin$` (`C:\Windows`) file `Admin$\system32\psexecsvc.exe`.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 程序的工作原理是`psexec.exe`是另一个PsExec的资源可执行文件。此文件在特定目标机器上运行Windows服务。在执行命令之前，PsExec会在远程计算机的管理员权限域中解压此隐藏资源到`Admin$`（`C:\Windows`）文件`Admin$\system32\psexecsvc.exe`。
- en: After copying this, PsExec installs and runs the service using the API functions
    of the Windows management services. Then, after starting psexesvc, a data connection
    (input commands and getting results) between psexesvc and psexec is established.
    Upon completion of the work, psexec stops the service and removes it from the
    target computer.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 复制后，PsExec使用Windows管理服务的API函数安装并运行服务。然后，在启动psexesvc后，psexesvc与psexec之间建立数据连接（输入命令和获取结果）。工作完成后，psexec停止服务并从目标计算机中移除。
- en: If the remote collection of information is necessary, a working machine running
    UNIX OS can use the Winexe utility.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要远程信息收集，则运行UNIX操作系统的工作机器可以使用Winexe实用程序。
- en: 'Winexe is a GNU/Linux-based application that allows users to execute commands
    remotely on WindowsNT/2000/XP/2003/Vista/7/8 systems. It installs a service on
    the remote system, executes the command, and uninstalls the service. Winexe allows
    execution of most of the Windows shell commands:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: Winexe是一个基于GNU/Linux的应用程序，允许用户在WindowsNT/2000/XP/2003/Vista/7/8系统上远程执行命令。它在远程系统上安装一个服务，执行命令，然后卸载该服务。Winexe允许执行大部分Windows
    shell命令：
- en: '[PRE35]'
  id: totrans-310
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'To launch a Windows shell from inside your Linux system, use the following
    command:'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Linux系统内启动Windows shell，请使用以下命令：
- en: '[PRE36]'
  id: totrans-312
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Summary
  id: totrans-313
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we discussed what we should have in the Jump Bag to handle
    a computer incident, and what kind of skills the members of the IR team require.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了应急包中应该包含的内容以处理计算机事件，以及IR团队成员需要的技能。
- en: Also, we took a look at live response and collected Volatile and Nonvolatile
    information from a live system. We also discussed different tools to collect information.
    We also discussed when we should to use a live response approach as an alternative
    to traditional forensics.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还审视了现场响应并从现场系统收集了易失性和非易失性信息。我们还讨论了收集信息的不同工具。我们还讨论了何时应该使用现场响应方法作为传统取证的替代方法。
- en: In the following chapter, we will consider the issues related to Volatile data
    collection.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将考虑与易失性数据收集相关的问题。
